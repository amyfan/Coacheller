a861ec0e30a140cf3d9470a501d988a1bb40247a
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
index 8237e7f..2cbb355 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
@@ -6,0 +7 @@ public class Constants {
+  public static final int RATING_MAXIMUM = 5;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java
index 35cd6b1..057df97 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java
@@ -11,0 +12 @@ import com.lollapaloozer.LollapaloozerApplication;
+import com.lollapaloozer.data.SocialNetworkPost;
@@ -249,2 +250,2 @@ public class AuthModel {
-  public String postToFacebookWall(String message) {
-    return _authProviderFacebook.postToWall(message);
+  public String postToFacebookWall(SocialNetworkPost _queuedFacebookPost) {
+    return _authProviderFacebook.postToWall(_queuedFacebookPost);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
index 2c1f7e7..5b3a395 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -20,0 +21 @@ import com.lollapaloozer.auth.verify.FacebookVerifier;
+import com.lollapaloozer.data.SocialNetworkPost;
@@ -116 +117 @@ public class FacebookAuthProvider implements AuthProvider {
-  public String postToWall(String message) {
+  public String postToWall(SocialNetworkPost post) {
@@ -117,0 +119,5 @@ public class FacebookAuthProvider implements AuthProvider {
+    String message = "I saw the set by " + post.artistName + " and rated it " + post.rating
+        + " (out of " + Constants.RATING_MAXIMUM + ").";
+    if (post.note != null && !post.note.equals("")) {
+      message += "\r\nAlso: " + post.note;
+    }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/FacebookPost.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/FacebookPost.java
deleted file mode 100644
index a14534a..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/FacebookPost.java
+++ /dev/null
@@ -1,5 +0,0 @@
-package com.lollapaloozer.data;
-
-public class FacebookPost {
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/SocialNetworkPost.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/SocialNetworkPost.java
new file mode 100644
index 0000000..2e29e0a
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/SocialNetworkPost.java
@@ -0,0 +1,9 @@
+package com.lollapaloozer.data;
+
+public class SocialNetworkPost {
+
+  public String rating;
+  public String note;
+  public String artistName;
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/TwitterPost.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/TwitterPost.java
deleted file mode 100644
index 3964104..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/TwitterPost.java
+++ /dev/null
@@ -1,5 +0,0 @@
-package com.lollapaloozer.data;
-
-public class TwitterPost {
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index f02fca9..beabde0 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -43 +42,0 @@ import com.lollapaloozer.data.CustomSetListAdapter;
-import com.lollapaloozer.data.FacebookPost;
@@ -47 +46 @@ import com.lollapaloozer.data.LoginData;
-import com.lollapaloozer.data.TwitterPost;
+import com.lollapaloozer.data.SocialNetworkPost;
@@ -86 +84,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
@@ -121,0 +120 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    System.out.println(this + " onCreate");
@@ -204,0 +204 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    System.out.println(this + " onResume");
@@ -207 +206,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
@@ -222,0 +222,18 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  @Override
+  protected void onPause() {
+    super.onPause();
+    System.out.println(this + " onPause");
+  }
+
+  @Override
+  protected void onStop() {
+    super.onStop();
+    System.out.println(this + " onStop");
+  }
+
+  @Override
+  protected void onDestroy() {
+    super.onDestroy();
+    System.out.println(this + " onDestroy");
+  }
+
@@ -607 +624,6 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      clickDialogSubmitRatingButtonFacebook();
+      try {
+        clickDialogSubmitRatingFacebook();
+      } catch (JSONException e) {
+        System.out.println("JSONException gathering data for Facebook post");
+        e.printStackTrace();
+      }
@@ -611 +633,6 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      clickDialogSubmitRatingButtonTwitter();
+      try {
+        clickDialogSubmitRatingTwitter();
+      } catch (JSONException e) {
+        System.out.println("JSONException gathering data for Twitter post");
+        e.printStackTrace();
+      }
@@ -669,3 +696,7 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private void clickDialogSubmitRatingButtonTwitter() {
-    System.out.println("Clicked post on Twitter");
-    _app.getAuthModel().ensurePermission(AuthModel.PERMISSION_TWITTER_TWEET);
+  private void clickDialogSubmitRatingButtonOK() {
+    // incomplete
+    if (!_rateDialogVerify()) {
+      return;
+    }
+
+    _rateDialogSubmitRating();
@@ -675 +706,7 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  public synchronized void doTwitterPost() {
+  private void clickDialogSubmitRatingTwitter() throws JSONException {
+    System.out.println("Clicked post on Twitter");
+    if (!_rateDialogVerify()) {
+      return;
+    }
+    _rateDialogSubmitRating();
+    _app.getAuthModel().ensurePermission(AuthModel.PERMISSION_TWITTER_TWEET);
@@ -677 +714,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  }
+    // TODO this is in the code 3 times and counting
+    RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
+    String submittedRating = _ratingSelectedIdToValue.get(scoreGroup.getCheckedRadioButtonId())
+        .toString();
@@ -679,2 +719,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private FacebookPost _queuedFacebookPost;
-  private TwitterPost _queuedTwitterPost;
+    EditText noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
+    String submittedNote = noteWidget.getText().toString();
@@ -682 +722,6 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private void clickDialogSubmitRatingButtonFacebook() {
+    String artistName = _lastItemSelected.getString("artist");
+
+    _rateDialog.dismiss();
+  }
+
+  private void clickDialogSubmitRatingFacebook() throws JSONException {
@@ -683,0 +729,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    if (!_rateDialogVerify()) {
+      return;
+    }
+    _rateDialogSubmitRating();
@@ -686 +735 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    FacebookPost post = new FacebookPost();
+    SocialNetworkPost post = new SocialNetworkPost();
@@ -688,0 +738,13 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    // TODO this is in the code 3 times and counting
+    RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
+    String submittedRating = _ratingSelectedIdToValue.get(scoreGroup.getCheckedRadioButtonId())
+        .toString();
+
+    EditText noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
+    String submittedNote = noteWidget.getText().toString();
+    String artistName = _lastItemSelected.getString("artist");
+
+    post.rating = submittedRating;
+    post.note = submittedNote;
+    post.artistName = artistName;
+
@@ -695,12 +756,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
-    }
-    _rateDialog.dismiss();
-  }
-
-  public synchronized void doFacebookPost() {
-    if (_queuedFacebookPost == null) {
-      return;
-    }
-
-    if (!_app.getAuthModel().havePermission(AuthModel.PERMISSION_FACEBOOK_POSTWALL)) {
-      System.out.println("Warning: trying to post without facebook permissions");
@@ -709,5 +759 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    // use _queuedFacebookPost
-    _app.getAuthModel().postToFacebookWall("Test Message!");
-
-    // If successful
-    _queuedFacebookPost = null;
+    _rateDialog.dismiss();
@@ -716,2 +762 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private void clickDialogSubmitRatingButtonOK() {
-    // incomplete
+  private boolean _rateDialogVerify() {
@@ -720 +764,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
@@ -723,0 +768,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+      return false;
+    }
+    return true;
+  }
@@ -725 +773,5 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    } else { // Selections are valid
+  private void _rateDialogSubmitRating() {
+    // TODO this is in the code 3 times and counting
+    RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
+    String submittedRating = _ratingSelectedIdToValue.get(scoreGroup.getCheckedRadioButtonId())
+        .toString();
@@ -727 +779,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      // _ratingSelectedScore = _ratingSelectedIdToValue.get(scoreSelectedId);
+    EditText noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
+    String submittedNote = noteWidget.getText().toString();
@@ -729,2 +782,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      // LollapaloozerHelper.debug(this, "Score[" + _ratingSelectedScore +
-      // "] ScoreId[" + scoreSelectedId + "]");
+    // Selections are valid
+    // _ratingSelectedScore = _ratingSelectedIdToValue.get(scoreSelectedId);
+    // LollapaloozerHelper.debug(this, "Score[" + _ratingSelectedScore +
+    // "] ScoreId[" + scoreSelectedId + "]");
@@ -732 +787,11 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      // scoreGroup.clearCheck();
+    try {
+      if (_lastRatings == null) {
+        JSONObject newObj = new JSONObject();
+        newObj.put(QUERY_RATINGS__SET_ID, _lastItemSelected.get(QUERY_SETS__SET_ID));
+        newObj.put(QUERY_RATINGS__WEEK, "1"); // TODO leave in
+        // hard-coded for
+        // now
+        // newObj.put(QUERY_RATINGS__RATING, submittedRating);
+        // newObj.put(QUERY_RATINGS__NOTES, notes);
+        _lastRatings = newObj;
+      }
@@ -734,2 +799,8 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      String submittedRating = _ratingSelectedIdToValue.get(scoreGroup.getCheckedRadioButtonId())
-          .toString();
+      _lastRatings.put(QUERY_RATINGS__RATING, submittedRating);
+      _lastRatings.put(QUERY_RATINGS__NOTES, submittedNote);
+      launchSubmitRatingThread();
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+  }
@@ -737,2 +808 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      EditText noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
-      String submittedNote = noteWidget.getText().toString();
+  private SocialNetworkPost _queuedTwitterPost;
@@ -740,11 +810 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      try {
-        if (_lastRatings == null) {
-          JSONObject newObj = new JSONObject();
-          newObj.put(QUERY_RATINGS__SET_ID, _lastItemSelected.get(QUERY_SETS__SET_ID));
-          newObj.put(QUERY_RATINGS__WEEK, "1"); // TODO leave in
-          // hard-coded for
-          // now
-          // newObj.put(QUERY_RATINGS__RATING, submittedRating);
-          // newObj.put(QUERY_RATINGS__NOTES, notes);
-          _lastRatings = newObj;
-        }
+  public synchronized void doTwitterPost() {
@@ -752,8 +812 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        _lastRatings.put(QUERY_RATINGS__RATING, submittedRating);
-        _lastRatings.put(QUERY_RATINGS__NOTES, submittedNote);
-        launchSubmitRatingThread();
-        _rateDialog.dismiss();
-      } catch (JSONException e) {
-        // TODO Auto-generated catch block
-        e.printStackTrace();
-      }
+  }
@@ -760,0 +814,9 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  private SocialNetworkPost _queuedFacebookPost;
+
+  public synchronized void doFacebookPost() {
+    if (_queuedFacebookPost == null) {
+      return;
+    }
+
+    if (!_app.getAuthModel().havePermission(AuthModel.PERMISSION_FACEBOOK_POSTWALL)) {
+      System.out.println("Warning: trying to post without facebook permissions");
@@ -761,0 +824,6 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+
+    // use _queuedFacebookPost
+    _app.getAuthModel().postToFacebookWall(_queuedFacebookPost);
+
+    // If successful
+    _queuedFacebookPost = null;
@@ -844,0 +913 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+      System.out.println(this + " Assigning " + obj + " to _lastItemSelected");
@@ -859,0 +929,9 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+      System.out.println(this.toString() + "About to launch Dialog!  _lastItemSelected was "
+          + _lastItemSelected);
+      if (_lastItemSelected == null) {
+        System.out.println(this.toString()
+            + " NULL MEMBER!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!");
+      } else {
+        System.out.println(this.toString()
+            + " OK!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!");
+      }
@@ -965,0 +1044 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+        System.out.println(this.toString() + "_lastItemSelected was " + _lastItemSelected);
@@ -967 +1046,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-          System.out.println(this.toString() + "_lastItemSelected was " + _lastItemSelected);
+          System.out.println(this.toString()
+              + " NULL MEMBER!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!");
@@ -968,0 +1049,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+          System.out.println(this.toString()
+              + " OK!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!");
@@ -1022,18 +1103,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  @Override
-  protected void onDestroy() {
-    super.onDestroy();
-    System.out.println("LollapaloozerActivity.onDestroy");
-  }
-
-  @Override
-  protected void onPause() {
-    super.onPause();
-    System.out.println("LollapaloozerActivity.onPause");
-  }
-
-  @Override
-  protected void onStop() {
-    super.onStop();
-    System.out.println("LollapaloozerActivity.onStop");
-  }
-
abf8c1d4b7ce94ccdb311b42f2097ad3535f8631
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
index b8d9b94..8237e7f 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
@@ -32,2 +32,4 @@ public class Constants {
-  public static final int INTENT_REQ_CHOOSE_LOGIN_TYPE = 2;
-  public static final int INTENT_REQ_TWITTER_LOGIN = 1;
+  // Derived from "FBOOK"
+  public static final int INTENT_FACEBOOK_LOGIN = 32665;
+  public static final int INTENT_CHOOSE_LOGIN_TYPE = 2;
+  public static final int INTENT_TWITTER_LOGIN = 1;
@@ -42,4 +44,4 @@ public class Constants {
-  public static final int LOGIN_TYPE_GOOGLE = 1;
-  public static final int LOGIN_TYPE_FACEBOOK = 2;
-  public static final int LOGIN_TYPE_TWITTER = 3;
-  public static final int LOGIN_TYPE_FACEBOOK_BROWSER = 4;
+  public static final String LOGIN_TYPE_GOOGLE = "LOGIN_TYPE_GOOGLE";
+  public static final String LOGIN_TYPE_FACEBOOK = "LOGIN_TYPE_FACEBOOK";
+  public static final String LOGIN_TYPE_TWITTER = "LOGIN_TYPE_TWITTER";
+  public static final String LOGIN_TYPE_FACEBOOK_BROWSER = "LOGIN_TYPE_FACEBOOK_BROWSER";
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java
index 3ed2e01..379ae36 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java
@@ -2,0 +3,2 @@ package com.lollapaloozer;
+import android.app.Activity;
+import android.app.AlertDialog;
@@ -3,0 +6,2 @@ import android.app.Application;
+import android.content.DialogInterface;
+import android.os.Bundle;
@@ -12,0 +17 @@ public class LollapaloozerApplication extends Application {
+  private Activity _lastActivity;
@@ -22 +27,6 @@ public class LollapaloozerApplication extends Application {
-      System.out.println("Warning: Duplicate ChooseLoginActivity registered with Application");
+      if (_activityChooseLogin == act) {
+        System.out.println("Identical ChooseLoginActivity was registered with Application");
+      } else {
+        System.out
+            .println("Warning: Different ChooseLoginActivity was registered with Application");
+      }
@@ -37 +47,6 @@ public class LollapaloozerApplication extends Application {
-      System.out.println("Warning: Duplicate LollapaloozerActivity registered with Application");
+      if (_activityLollapaloozer == act) {
+        System.out.println("Identical LollapaloozerActivity was registered with Application");
+      } else {
+        System.out
+            .println("Warning: Different LollapaloozerActivity was registered with Application");
+      }
@@ -60,0 +76,43 @@ public class LollapaloozerApplication extends Application {
+  public void setLastActivity(Activity act) {
+    _lastActivity = act;
+  }
+
+  public Activity getLastActivity() {
+    return _lastActivity;
+
+  }
+
+  public void showErrorDialog(String title, String problem, String details) {
+    String errorString = problem + "\r\n\r\nDetails:\r\n" + details;
+    System.out.println(errorString);
+
+    AlertDialog.Builder builder = new AlertDialog.Builder(getLastActivity());
+    builder.setTitle(title);
+    builder.setMessage(errorString).setCancelable(true)
+        .setPositiveButton("OK", new DialogInterface.OnClickListener() {
+          public void onClick(DialogInterface dialog, int id) {
+          }
+        }
+
+        )
+    // todo .setIcon(R.)
+
+    // .setNegativeButton("No", new DialogInterface.OnClickListener() {
+    // public void onClick(DialogInterface dialog, int id) {
+    // }
+    // })
+    ;
+    AlertDialog alert = builder.create();
+    alert.show();
+  }
+
+  public String bundleValues(Bundle inputBundle) {
+    StringBuilder returnString = new StringBuilder();
+    int count = 0;
+    for (String s : inputBundle.keySet()) {
+      returnString.append(s + ": " + inputBundle.get(s));
+      count++;
+    }
+    return "[" + count + "]: " + returnString.toString();
+  }
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java
index c8f4bbd..35cd6b1 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java
@@ -11,0 +12,2 @@ import com.lollapaloozer.LollapaloozerApplication;
+import com.lollapaloozer.ui.ChooseLoginActivity;
+import com.lollapaloozer.ui.LollapaloozerActivity;
@@ -23,0 +26 @@ public class AuthModel {
+  private String _primaryLoginType;
@@ -41,4 +44,5 @@ public class AuthModel {
-  public boolean isLoggedIn() {
-    int numLogins = 0;
-    if (_authProviderGoogle.isLoggedIn()) {
-      numLogins++;
+  public boolean isLoggedInPrimary() {
+    if (_primaryLoginType != null) {
+      return true;
+    } else {
+      return false;
@@ -45,0 +50 @@ public class AuthModel {
+  }
@@ -47,2 +52,3 @@ public class AuthModel {
-    if (_authProviderFacebook.isLoggedIn()) {
-      numLogins++;
+  public void loginSuccess(String loginType) {
+    if (_primaryLoginType == null) {
+      _primaryLoginType = loginType;
@@ -51,2 +57,5 @@ public class AuthModel {
-    if (_authProviderFacebookWeb.isLoggedIn()) {
-      numLogins++;
+    if (loginType.equals(Constants.LOGIN_TYPE_FACEBOOK)) {
+      _addPermission(PERMISSION_FACEBOOK_POSTWALL);
+      if (_app.getLastActivity() instanceof LollapaloozerActivity) {
+        _app.getLollapaloozerActivity().doFacebookPost();
+      }
@@ -55,2 +64,5 @@ public class AuthModel {
-    if (_authProviderTwitter.isLoggedIn()) {
-      numLogins++;
+    if (loginType.equals(Constants.LOGIN_TYPE_TWITTER)) {
+      _addPermission(PERMISSION_TWITTER_TWEET);
+      if (_app.getLastActivity() instanceof LollapaloozerActivity) {
+        _app.getLollapaloozerActivity().doTwitterPost();
+      }
@@ -59,10 +71,34 @@ public class AuthModel {
-    if (numLogins > 1) {
-      System.out.println("WARNING: Multiple concurrent login types detected");
-    }
-
-    if (numLogins > 0) {
-      return true;
-    } else {
-      return false;
-    }
-  }
+    if (_app.getLastActivity() instanceof ChooseLoginActivity) {
+      _app.getChooseLoginActivity().modelChanged();
+    }
+
+  }
+
+  // public boolean isLoggedIn() {
+  // int numLogins = 0;
+  // if (_authProviderGoogle.isLoggedIn()) {
+  // numLogins++;
+  // }
+  //
+  // if (_authProviderFacebook.isLoggedIn()) {
+  // numLogins++;
+  // }
+  //
+  // if (_authProviderFacebookWeb.isLoggedIn()) {
+  // numLogins++;
+  // }
+  //
+  // if (_authProviderTwitter.isLoggedIn()) {
+  // numLogins++;
+  // }
+  //
+  // if (numLogins > 1) {
+  // System.out.println("WARNING: Multiple concurrent login types detected");
+  // }
+  //
+  // if (numLogins > 0) {
+  // return true;
+  // } else {
+  // return false;
+  // }
+  // }
@@ -76,4 +112,2 @@ public class AuthModel {
-      System.out.println("Placeholder to obtain Facebook permission");
-      if (true) {
-        _addPermission(permission);
-      }
+      _authProviderFacebook.login();
+
@@ -81,4 +115,2 @@ public class AuthModel {
-      System.out.println("Placeholder to obtain Twitter permission");
-      if (true) {
-        _addPermission(permission);
-      }
+      _authProviderTwitter.login();
+
@@ -98 +130 @@ public class AuthModel {
-  public boolean ensurePermission(String permission) {
+  public void ensurePermission(String permission) {
@@ -102,2 +133,0 @@ public class AuthModel {
-
-    return havePermission(permission);
@@ -107 +137 @@ public class AuthModel {
-    if (_authProviderGoogle.isLoggedIn()) {
+    if (Constants.LOGIN_TYPE_GOOGLE.equals(_primaryLoginType)) {
@@ -111 +141 @@ public class AuthModel {
-    if (_authProviderFacebook.isLoggedIn()) {
+    if (Constants.LOGIN_TYPE_FACEBOOK.equals(_primaryLoginType)) {
@@ -115 +145 @@ public class AuthModel {
-    if (_authProviderFacebookWeb.isLoggedIn()) {
+    if (Constants.LOGIN_TYPE_FACEBOOK_BROWSER.equals(_primaryLoginType)) {
@@ -119 +149 @@ public class AuthModel {
-    if (_authProviderTwitter.isLoggedIn()) {
+    if (Constants.LOGIN_TYPE_TWITTER.equals(_primaryLoginType)) {
@@ -126,20 +156,24 @@ public class AuthModel {
-  public int getCurrentAuthProviderType() {
-    if (_authProviderGoogle.isLoggedIn()) {
-      return Constants.LOGIN_TYPE_GOOGLE;
-    }
-
-    if (_authProviderFacebook.isLoggedIn()) {
-      return Constants.LOGIN_TYPE_FACEBOOK;
-    }
-
-    if (_authProviderFacebookWeb.isLoggedIn()) {
-      return Constants.LOGIN_TYPE_FACEBOOK_BROWSER;
-    }
-
-    if (_authProviderTwitter.isLoggedIn()) {
-      return Constants.LOGIN_TYPE_TWITTER;
-    }
-
-    return 0;
-
-  }
+  public String getCurrentAuthProviderType() {
+    return _primaryLoginType;
+  }
+
+  // public int getCurrentAuthProviderType() {
+  // if (_authProviderGoogle.isLoggedIn()) {
+  // return Constants.LOGIN_TYPE_GOOGLE;
+  // }
+  //
+  // if (_authProviderFacebook.isLoggedIn()) {
+  // return Constants.LOGIN_TYPE_FACEBOOK;
+  // }
+  //
+  // if (_authProviderFacebookWeb.isLoggedIn()) {
+  // return Constants.LOGIN_TYPE_FACEBOOK_BROWSER;
+  // }
+  //
+  // if (_authProviderTwitter.isLoggedIn()) {
+  // return Constants.LOGIN_TYPE_TWITTER;
+  // }
+  //
+  // return 0;
+  //
+  // }
@@ -171,0 +206,2 @@ public class AuthModel {
+
+    _primaryLoginType = null;
@@ -175 +211,19 @@ public class AuthModel {
-  public void loginToGoogle() {
+  public void primaryLogin(String loginType) {
+    if (Constants.LOGIN_TYPE_GOOGLE.equals(loginType)) {
+      loginToGoogle();
+
+    } else if (Constants.LOGIN_TYPE_FACEBOOK.equals(loginType)) {
+      loginToFacebook();
+
+    } else if (Constants.LOGIN_TYPE_FACEBOOK_BROWSER.equals(loginType)) {
+      loginToFacebookBrowser();
+
+    } else if (Constants.LOGIN_TYPE_TWITTER.equals(loginType)) {
+      loginToTwitter();
+
+    } else {
+      throw new RuntimeException("Invalid login type, unexpected code path");
+    }
+  }
+
+  void loginToGoogle() {
@@ -179 +233 @@ public class AuthModel {
-  public void loginToFacebook() {
+  void loginToFacebook() {
@@ -183 +237 @@ public class AuthModel {
-  public void loginToFacebookBrowser() {
+  void loginToFacebookBrowser() {
@@ -187 +241 @@ public class AuthModel {
-  public void loginToTwitter() {
+  void loginToTwitter() {
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
index bd0634e..2c1f7e7 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -20,0 +21 @@ import com.lollapaloozer.auth.verify.FacebookVerifier;
+import com.ratethisfest.shared.Constants;
@@ -24,0 +26 @@ public class FacebookAuthProvider implements AuthProvider {
+  private final String LOGIN_TYPE = Constants.LOGIN_TYPE_FACEBOOK;
@@ -41,2 +43 @@ public class FacebookAuthProvider implements AuthProvider {
-    _model.getApp().getChooseLoginActivity()
-        .showErrorDialog("Facebook Login Error", problem, details);
+    _model.getApp().showErrorDialog("Facebook Login Error", problem, details);
@@ -48,2 +49,3 @@ public class FacebookAuthProvider implements AuthProvider {
-    _facebook.authorize(_model.getApp().getChooseLoginActivity(), new String[] { "email",
-        "publish_stream" }, new AuthListener());
+    System.out.println("Starting Facebook Login");
+    _facebook.authorize(_model.getApp().getLastActivity(),
+        new String[] { "email", "publish_stream" }, new AuthListener());
@@ -134,0 +137 @@ public class FacebookAuthProvider implements AuthProvider {
+  // Called after onActivityResult calls the appropriate method
@@ -138,5 +141,9 @@ public class FacebookAuthProvider implements AuthProvider {
-      System.out.println("Facebook authorization completed, token: " + _facebook.getAccessToken()
-          + " valid until " + _facebook.getAccessExpires());
-      _AsyncRunner.request("me", new IDRequestListener()); // get user info
-                                                           // from facebook
-      _model.getApp().getChooseLoginActivity().modelChanged();
+      // Auth is completed, now we can actually request user data
+      System.out.println("Facebook Authorization Complete, bundle: "
+          + _model.getApp().bundleValues(values));
+
+      int hours = ((int) (_facebook.getAccessExpires() - System.currentTimeMillis()) / 1000) / 60 / 60;
+      System.out.println("Token valid for " + hours + " hours: " + _facebook.getAccessToken());
+
+      // get user info from facebook
+      _AsyncRunner.request("me", new IDRequestListener());
@@ -176,0 +184 @@ public class FacebookAuthProvider implements AuthProvider {
+        System.out.println("Facebook async request has returned");
@@ -188 +196,3 @@ public class FacebookAuthProvider implements AuthProvider {
-        _model.getApp().getChooseLoginActivity().modelChanged();
+
+        _model.loginSuccess(LOGIN_TYPE);
+        // _model.getApp().getChooseLoginActivity().modelChanged();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
index 05e3938..031a3da 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
@@ -20,0 +21 @@ public class FacebookWebAuthProvider implements AuthProvider {
+  private final String LOGIN_TYPE = Constants.LOGIN_TYPE_FACEBOOK_BROWSER;
@@ -67 +68 @@ public class FacebookWebAuthProvider implements AuthProvider {
-        .startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
+        .startActivityForResult(twitterAuthIntent, Constants.INTENT_TWITTER_LOGIN);
@@ -125 +126,2 @@ public class FacebookWebAuthProvider implements AuthProvider {
-      _model.getApp().getChooseLoginActivity().modelChanged();
+      _model.loginSuccess(LOGIN_TYPE);
+      // _model.getApp().getChooseLoginActivity().modelChanged();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index b3630e5..f959322 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -16,0 +17 @@ import com.lollapaloozer.auth.verify.GoogleAuthVerifier;
+import com.ratethisfest.shared.Constants;
@@ -19,0 +21 @@ public class GoogleAuthProvider implements AuthProvider {
+  private final String LOGIN_TYPE = Constants.LOGIN_TYPE_GOOGLE;
@@ -64 +66 @@ public class GoogleAuthProvider implements AuthProvider {
-      System.out.println("Done with AccountManager call.  Auth proceeds asynchronously");
+      System.out.println("Done with first AccountManager call.  Auth proceeds asynchronously");
@@ -111,2 +113 @@ public class GoogleAuthProvider implements AuthProvider {
-    _model.getApp().getChooseLoginActivity()
-        .showErrorDialog("Google Login Error", problem, details);
+    _model.getApp().showErrorDialog("Google Login Error", problem, details);
@@ -158 +159,2 @@ public class GoogleAuthProvider implements AuthProvider {
-        _model.getApp().getChooseLoginActivity().modelChanged();
+        _model.loginSuccess(LOGIN_TYPE);
+        // _model.getApp().getChooseLoginActivity().modelChanged();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index fd6cc99..21fba07 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -20,0 +21 @@ public class TwitterAuthProvider implements AuthProvider {
+  private final String LOGIN_TYPE = Constants.LOGIN_TYPE_TWITTER;
@@ -67 +68 @@ public class TwitterAuthProvider implements AuthProvider {
-        .startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
+        .startActivityForResult(twitterAuthIntent, Constants.INTENT_TWITTER_LOGIN);
@@ -124 +125,2 @@ public class TwitterAuthProvider implements AuthProvider {
-      _model.getApp().getChooseLoginActivity().modelChanged();
+      _model.loginSuccess(LOGIN_TYPE);
+      // _model.getApp().getChooseLoginActivity().modelChanged();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/FacebookPost.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/FacebookPost.java
new file mode 100644
index 0000000..a14534a
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/FacebookPost.java
@@ -0,0 +1,5 @@
+package com.lollapaloozer.data;
+
+public class FacebookPost {
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java
index d2efde6..8a76444 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java
@@ -10 +10 @@ public class LoginData implements Serializable {
-  public int loginType;
+  public String loginType;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/TwitterPost.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/TwitterPost.java
new file mode 100644
index 0000000..3964104
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/TwitterPost.java
@@ -0,0 +1,5 @@
+package com.lollapaloozer.data;
+
+public class TwitterPost {
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
index 5e123b3..9b73de7 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
@@ -4,2 +3,0 @@ import android.app.Activity;
-import android.app.AlertDialog;
-import android.content.DialogInterface;
@@ -91,0 +90,4 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
+
+    LollapaloozerApplication app = (LollapaloozerApplication) getApplication();
+    app.setLastActivity(this);
+
@@ -110 +112 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    if (_app.getAuthModel().isLoggedIn()) {
+    if (_app.getAuthModel().isLoggedInPrimary()) {
@@ -136 +138 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      if (_app.getAuthModel().isLoggedIn()) {
+      if (_app.getAuthModel().isLoggedInPrimary()) {
@@ -161 +163 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      if (_app.getAuthModel().isLoggedIn()) {
+      if (_app.getAuthModel().isLoggedInPrimary()) {
@@ -178,2 +180,5 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    System.out.println("ChooseLoginActivity.onActivityResult(requestCode=[" + requestCode
-        + "], resultCode=[" + resultCode + "] with data: " + data);
+    String infoMessage = "ChooseLoginActivity.onActivityResult(requestCode=[" + requestCode
+        + "], resultCode=[" + resultCode + "] with data: " + data;
+    System.out.println(infoMessage);
+
+    System.out.println();
@@ -182 +187 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    case Constants.INTENT_REQ_TWITTER_LOGIN:
+    case Constants.INTENT_TWITTER_LOGIN:
@@ -187 +191,0 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    default:
@@ -188,0 +193 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
+    case Constants.INTENT_FACEBOOK_LOGIN: {
@@ -193,0 +199,6 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
+    default:
+      _app.showErrorDialog("Unexpected Response",
+          "An unexpected response was received from another window", infoMessage);
+
+      break;
+    }
@@ -205,25 +215,0 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    // _updateUI();
-  }
-
-  public void showErrorDialog(String title, String problem, String details) {
-    String errorString = problem + "\r\n\r\nDetails:\r\n" + details;
-    System.out.println(errorString);
-
-    AlertDialog.Builder builder = new AlertDialog.Builder(this);
-    builder.setTitle(title);
-    builder.setMessage(errorString).setCancelable(true)
-        .setPositiveButton("OK", new DialogInterface.OnClickListener() {
-          public void onClick(DialogInterface dialog, int id) {
-          }
-        }
-
-        )
-    // todo .setIcon(R.)
-
-    // .setNegativeButton("No", new DialogInterface.OnClickListener() {
-    // public void onClick(DialogInterface dialog, int id) {
-    // }
-    // })
-    ;
-    AlertDialog alert = builder.create();
-    alert.show();
@@ -238 +224 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      _app.getAuthModel().loginToGoogle(); // UI Update done on callback
+      _app.getAuthModel().primaryLogin(Constants.LOGIN_TYPE_GOOGLE);
@@ -240,2 +225,0 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_twitter))) {
-      _app.getAuthModel().loginToTwitter();
@@ -242,0 +227,2 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_twitter))) {
+      _app.getAuthModel().primaryLogin(Constants.LOGIN_TYPE_TWITTER);
@@ -245,2 +231 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      _app.getAuthModel().loginToFacebook();
-
+      _app.getAuthModel().primaryLogin(Constants.LOGIN_TYPE_FACEBOOK);
@@ -251 +236 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      _app.getAuthModel().loginToFacebookBrowser();
+      _app.getAuthModel().primaryLogin(Constants.LOGIN_TYPE_FACEBOOK_BROWSER);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index b4c251f..f02fca9 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -42,0 +43 @@ import com.lollapaloozer.data.CustomSetListAdapter;
+import com.lollapaloozer.data.FacebookPost;
@@ -45,0 +47 @@ import com.lollapaloozer.data.LoginData;
+import com.lollapaloozer.data.TwitterPost;
@@ -65 +66,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  // Local Storage
@@ -70 +70,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  // Database
@@ -114,0 +115 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  private LollapaloozerApplication _app;
@@ -122,0 +124,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    _app = (LollapaloozerApplication) getApplication();
+    _app.registerLollapaloozerActivity(LollapaloozerActivity.this);
@@ -203,2 +206 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    LollapaloozerApplication app = (LollapaloozerApplication) getApplication();
-    app.registerLollapaloozerActivity(LollapaloozerActivity.this);
+    _app.setLastActivity(this);
@@ -276 +278 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    startActivityForResult(lollapaloozerAuthIntent, Constants.INTENT_REQ_CHOOSE_LOGIN_TYPE);
+    startActivityForResult(lollapaloozerAuthIntent, Constants.INTENT_CHOOSE_LOGIN_TYPE);
@@ -501,2 +503,8 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    System.out.println("LollapaloozerActivity.onActivityResult req=" + requestCode + " result="
-        + resultCode);
+    String infoMessage = "LollapaloozerActivity.onActivityResult req=" + requestCode
+        + " resultCode=" + resultCode + " data: " + data;
+    System.out.println(infoMessage);
+
+    if (data != null) {
+      System.out.println("Intent Data: " + data.getDataString());
+      System.out.println("Intent Extras: " + _app.bundleValues(data.getExtras()));
+    }
@@ -505,12 +513,31 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      Bundle results = data.getExtras();
-      _loginData = new LoginData();
-      _loginData.timeLoginIssued = System.currentTimeMillis();
-      _loginData.loginType = results.getInt(Constants.INTENT_EXTRA_LOGIN_TYPE);
-      _loginData.accountIdentifier = results.getString(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER);
-      _loginData.accountToken = results.getString(Constants.INTENT_EXTRA_LOGIN_TOKEN);
-
-      if (_loginData.loginType == Constants.LOGIN_TYPE_GOOGLE
-          || _loginData.loginType == Constants.LOGIN_TYPE_FACEBOOK) {
-        _loginData.emailAddress = _loginData.accountIdentifier;
-      } else {
-        _loginData.emailAddress = null;
+      switch (requestCode) {
+
+      case Constants.INTENT_CHOOSE_LOGIN_TYPE:
+        Bundle results = data.getExtras();
+        _loginData = new LoginData();
+        _loginData.timeLoginIssued = System.currentTimeMillis();
+        _loginData.loginType = results.getString(Constants.INTENT_EXTRA_LOGIN_TYPE);
+        _loginData.accountIdentifier = results.getString(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER);
+        _loginData.accountToken = results.getString(Constants.INTENT_EXTRA_LOGIN_TOKEN);
+
+        if (_loginData.loginType == Constants.LOGIN_TYPE_GOOGLE
+            || _loginData.loginType == Constants.LOGIN_TYPE_FACEBOOK) {
+          _loginData.emailAddress = _loginData.accountIdentifier;
+        } else {
+          _loginData.emailAddress = null;
+        }
+
+        System.out.println("Saving login data timeIssued=" + _loginData.timeLoginIssued
+            + " loginType=" + _loginData.loginType + " accountIdentifier="
+            + _loginData.accountIdentifier + " accountToken=" + _loginData.accountToken
+            + " emailAddress=" + _loginData.emailAddress);
+
+        _storageManager.putObject(LoginData.DATA_LOGIN_INFO, _loginData);
+        _storageManager.save();
+        break;
+
+      case Constants.INTENT_FACEBOOK_LOGIN: {
+        // Assuming it is Facebook
+        System.out.println("onActivityResult called by Facebook API");
+        _app.getAuthModel().getFacebookObject().authorizeCallback(requestCode, resultCode, data);
+        break;
@@ -519,4 +546,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      System.out.println("Saving login data timeIssued=" + _loginData.timeLoginIssued
-          + " loginType=" + _loginData.loginType + " accountIdentifier="
-          + _loginData.accountIdentifier + " accountToken=" + _loginData.accountToken
-          + " emailAddress=" + _loginData.emailAddress);
+      default:
+        _app.showErrorDialog("Unexpected Response",
+            "An unexpected response was received from another window", infoMessage);
@@ -524,2 +550,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      _storageManager.putObject(LoginData.DATA_LOGIN_INFO, _loginData);
-      _storageManager.save();
+        break;
+      }
@@ -526,0 +553 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+
@@ -555,4 +582 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      _storageManager.putString(DATA_FIRST_USE, false + "");
-      _storageManager.save();
-      _firstUseDialog.dismiss();
-      _showClickToRate(); // display 'tap set to rate it' toast
+      clickDialogFirstUseButtonOK();
@@ -563,40 +587 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      EditText emailField = (EditText) _getEmailDialog.findViewById(R.id.textField_enterEmail);
-      String email = emailField.getText().toString();
-
-      LollapaloozerHelper.debug(this, "User provided email address: " + email);
-
-      // if
-      // (!android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
-      if (!FieldVerifier.isValidEmail(email)) {
-        Toast invalidEmail = Toast.makeText(this, "Please enter your real email address.", 25);
-        invalidEmail.show();
-
-      } else { // Email is valid. Save email and email ratings
-
-        _loginData.emailAddress = email;
-        _storageManager.save();
-        _getEmailDialog.dismiss();
-        try {
-
-          System.out.println("Requesting ratings email.");
-
-          List<NameValuePair> parameterList = new ArrayList<NameValuePair>();
-
-          parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL, email));
-          parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_TYPE,
-              _loginData.loginType + ""));
-          parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_ID,
-              _loginData.accountIdentifier));
-          parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_TOKEN,
-              _loginData.accountToken));
-          if (_loginData.emailAddress != null) {
-            parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL,
-                _loginData.emailAddress));
-          }
-          String result = LollapaloozerServiceUtils.emailMyRatings(parameterList, this);
-
-        } catch (Exception e) {
-          // TODO Auto-generated catch block
-          e.printStackTrace();
-        }
-      }
+      clickDialogConfirmEmailButtonOK();
@@ -607 +591,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
@@ -619,3 +603,6 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      // incomplete
-      RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
-      int scoreSelectedId = scoreGroup.getCheckedRadioButtonId();
+      clickDialogSubmitRatingButtonOK();
+    } // End rating dialog submitted
+
+    if (viewClicked.getId() == R.id.button_go_fb) {
+      clickDialogSubmitRatingButtonFacebook();
+    }
@@ -623,3 +610,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      if (scoreSelectedId == -1) {
-        Toast selectEverything = Toast.makeText(this, "Please select a rating for this Set", 25);
-        selectEverything.show();
+    if (viewClicked.getId() == R.id.button_go_tweet) {
+      clickDialogSubmitRatingButtonTwitter();
+    }
@@ -627 +614,5 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      } else { // Selections are valid
+    if (viewClicked.getId() == R.id.button_network_error_ok) {
+      System.out.println("Clicked dismiss network error dialog");
+      _networkErrorDialog.dismiss();
+    }
+  }
@@ -629 +620,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        // _ratingSelectedScore = _ratingSelectedIdToValue.get(scoreSelectedId);
+  private void clickDialogConfirmEmailButtonOK() {
+    EditText emailField = (EditText) _getEmailDialog.findViewById(R.id.textField_enterEmail);
+    String email = emailField.getText().toString();
@@ -631,2 +624 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        // LollapaloozerHelper.debug(this, "Score[" + _ratingSelectedScore +
-        // "] ScoreId[" + scoreSelectedId + "]");
+    LollapaloozerHelper.debug(this, "User provided email address: " + email);
@@ -634 +626,5 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        // scoreGroup.clearCheck();
+    // if
+    // (!android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
+    if (!FieldVerifier.isValidEmail(email)) {
+      Toast invalidEmail = Toast.makeText(this, "Please enter your real email address.", 25);
+      invalidEmail.show();
@@ -636,2 +632,5 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        String submittedRating = _ratingSelectedIdToValue.get(scoreGroup.getCheckedRadioButtonId())
-            .toString();
+    } else { // Email is valid. Save email and email ratings
+      _loginData.emailAddress = email;
+      _storageManager.save();
+      _getEmailDialog.dismiss();
+      try {
@@ -639,2 +638 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        EditText noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
-        String submittedNote = noteWidget.getText().toString();
+        System.out.println("Requesting ratings email.");
@@ -642,11 +640 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        try {
-          if (_lastRatings == null) {
-            JSONObject newObj = new JSONObject();
-            newObj.put(QUERY_RATINGS__SET_ID, _lastItemSelected.get(QUERY_SETS__SET_ID));
-            newObj.put(QUERY_RATINGS__WEEK, "1"); // TODO leave in
-            // hard-coded for
-            // now
-            // newObj.put(QUERY_RATINGS__RATING, submittedRating);
-            // newObj.put(QUERY_RATINGS__NOTES, notes);
-            _lastRatings = newObj;
-          }
+        List<NameValuePair> parameterList = new ArrayList<NameValuePair>();
@@ -654,7 +642,10 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-          _lastRatings.put(QUERY_RATINGS__RATING, submittedRating);
-          _lastRatings.put(QUERY_RATINGS__NOTES, submittedNote);
-          launchSubmitRatingThread();
-          _rateDialog.dismiss();
-        } catch (JSONException e) {
-          // TODO Auto-generated catch block
-          e.printStackTrace();
+        parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL, email));
+        parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_TYPE,
+            _loginData.loginType + ""));
+        parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_ID,
+            _loginData.accountIdentifier));
+        parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_TOKEN,
+            _loginData.accountToken));
+        if (_loginData.emailAddress != null) {
+          parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL,
+              _loginData.emailAddress));
@@ -661,0 +653 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+        String result = LollapaloozerServiceUtils.emailMyRatings(parameterList, this);
@@ -662,0 +655,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+      } catch (Exception e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
@@ -664 +659,36 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    } // End rating dialog submitted
+    }
+  }
+
+  private void clickDialogFirstUseButtonOK() {
+    _storageManager.putString(DATA_FIRST_USE, false + "");
+    _storageManager.save();
+    _firstUseDialog.dismiss();
+    _showClickToRate(); // display 'tap set to rate it' toast
+  }
+
+  private void clickDialogSubmitRatingButtonTwitter() {
+    System.out.println("Clicked post on Twitter");
+    _app.getAuthModel().ensurePermission(AuthModel.PERMISSION_TWITTER_TWEET);
+    _rateDialog.dismiss();
+  }
+
+  public synchronized void doTwitterPost() {
+
+  }
+
+  private FacebookPost _queuedFacebookPost;
+  private TwitterPost _queuedTwitterPost;
+
+  private void clickDialogSubmitRatingButtonFacebook() {
+    System.out.println("Clicked post on FB");
+    _app.getAuthModel().ensurePermission(AuthModel.PERMISSION_FACEBOOK_POSTWALL);
+
+    FacebookPost post = new FacebookPost();
+    // Build data from dialog here
+
+    _queuedFacebookPost = post;
+    if (_app.getAuthModel().havePermission(AuthModel.PERMISSION_FACEBOOK_POSTWALL)) {
+      System.out.println("FB Auth available now, posting immediately");
+      doFacebookPost();
+    } else {
+      System.out.println("FB Auth not ready, posting later");
@@ -666,5 +695,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    if (viewClicked.getId() == R.id.button_go_fb) {
-      System.out.println("Clicked post on FB");
-      LollapaloozerApplication app = (LollapaloozerApplication) getApplication();
-      app.getAuthModel().ensurePermission(AuthModel.PERMISSION_FACEBOOK_POSTWALL);
-      app.getAuthModel().postToFacebookWall("Test Message!");
@@ -671,0 +697,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    _rateDialog.dismiss();
+  }
@@ -673,4 +700,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    if (viewClicked.getId() == R.id.button_go_tweet) {
-      System.out.println("Clicked post on Twitter");
-      LollapaloozerApplication app = (LollapaloozerApplication) getApplication();
-      app.getAuthModel().ensurePermission(AuthModel.PERMISSION_TWITTER_TWEET);
+  public synchronized void doFacebookPost() {
+    if (_queuedFacebookPost == null) {
+      return;
@@ -679,3 +705,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    if (viewClicked.getId() == R.id.button_network_error_ok) {
-      System.out.println("Clicked dismiss network error dialog");
-      _networkErrorDialog.dismiss();
+    if (!_app.getAuthModel().havePermission(AuthModel.PERMISSION_FACEBOOK_POSTWALL)) {
+      System.out.println("Warning: trying to post without facebook permissions");
@@ -683,0 +709,53 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    // use _queuedFacebookPost
+    _app.getAuthModel().postToFacebookWall("Test Message!");
+
+    // If successful
+    _queuedFacebookPost = null;
+  }
+
+  private void clickDialogSubmitRatingButtonOK() {
+    // incomplete
+    RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
+    int scoreSelectedId = scoreGroup.getCheckedRadioButtonId();
+
+    if (scoreSelectedId == -1) {
+      Toast selectEverything = Toast.makeText(this, "Please select a rating for this Set", 25);
+      selectEverything.show();
+
+    } else { // Selections are valid
+
+      // _ratingSelectedScore = _ratingSelectedIdToValue.get(scoreSelectedId);
+
+      // LollapaloozerHelper.debug(this, "Score[" + _ratingSelectedScore +
+      // "] ScoreId[" + scoreSelectedId + "]");
+
+      // scoreGroup.clearCheck();
+
+      String submittedRating = _ratingSelectedIdToValue.get(scoreGroup.getCheckedRadioButtonId())
+          .toString();
+
+      EditText noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
+      String submittedNote = noteWidget.getText().toString();
+
+      try {
+        if (_lastRatings == null) {
+          JSONObject newObj = new JSONObject();
+          newObj.put(QUERY_RATINGS__SET_ID, _lastItemSelected.get(QUERY_SETS__SET_ID));
+          newObj.put(QUERY_RATINGS__WEEK, "1"); // TODO leave in
+          // hard-coded for
+          // now
+          // newObj.put(QUERY_RATINGS__RATING, submittedRating);
+          // newObj.put(QUERY_RATINGS__NOTES, notes);
+          _lastRatings = newObj;
+        }
+
+        _lastRatings.put(QUERY_RATINGS__RATING, submittedRating);
+        _lastRatings.put(QUERY_RATINGS__NOTES, submittedNote);
+        launchSubmitRatingThread();
+        _rateDialog.dismiss();
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
+      }
+
+    }
@@ -764 +842 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
+    System.out.println(this.toString() + "onItemClick position:" + position + " id:" + id);
@@ -880 +957,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        subtitleText.setText(_lastItemSelected.getString("artist"));
@@ -881,0 +959,12 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+        // Bug finding. Debugger doesn't always find it. Race condition?
+        // Strange bug. reproduce by clicking something ASAP when app loads and
+        // clicking FB post
+        if (subtitleText == null) {
+          System.out.println("Subtitletext was " + subtitleText);
+        }
+
+        if (_lastItemSelected == null) {
+          System.out.println(this.toString() + "_lastItemSelected was " + _lastItemSelected);
+        } else {
+          subtitleText.setText(_lastItemSelected.getString("artist"));
+        }
@@ -932,0 +1022,18 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  @Override
+  protected void onDestroy() {
+    super.onDestroy();
+    System.out.println("LollapaloozerActivity.onDestroy");
+  }
+
+  @Override
+  protected void onPause() {
+    super.onPause();
+    System.out.println("LollapaloozerActivity.onPause");
+  }
+
+  @Override
+  protected void onStop() {
+    super.onStop();
+    System.out.println("LollapaloozerActivity.onStop");
+  }
+
4b89f0c2c01d1861d70f3432825bab30747292f6
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
index 4e9c06e..b8d9b94 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
@@ -47,3 +46,0 @@ public class Constants {
-  public static final int PERMISSION_FACEBOOK_POSTWALL = 1;
-  public static final int PERMISSION_TWITTER_TWEET = 2;
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java
index 4094ff0..3ed2e01 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java
@@ -5 +5 @@ import android.app.Application;
-import com.lollapaloozer.auth.client.AuthDemoModel;
+import com.lollapaloozer.auth.client.AuthModel;
@@ -10 +10 @@ public class LollapaloozerApplication extends Application {
-  private AuthDemoModel _authModel;
+  private AuthModel _authModel;
@@ -17 +17 @@ public class LollapaloozerApplication extends Application {
-    _authModel = new AuthDemoModel(this);
+    _authModel = new AuthModel(this);
@@ -50 +50 @@ public class LollapaloozerApplication extends Application {
-  public AuthDemoModel getAuthModel() {
+  public AuthModel getAuthModel() {
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerStorageManager.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerStorageManager.java
index 462c9ad..5f4ad02 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerStorageManager.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerStorageManager.java
@@ -80 +80 @@ public class LollapaloozerStorageManager {
-      // TODO Auto-generated catch block
+      System.out.println("FileNotFoundException deserializing stored data");
@@ -83 +83 @@ public class LollapaloozerStorageManager {
-      // TODO Auto-generated catch block
+      System.out.println("StreamCorruptedException deserializing stored data");
@@ -86 +86 @@ public class LollapaloozerStorageManager {
-      // TODO Auto-generated catch block
+      System.out.println("IOException deserializing stored data");
@@ -89 +89 @@ public class LollapaloozerStorageManager {
-      // TODO Auto-generated catch block
+      System.out.println("ClassNotFoundException deserializing stored data");
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
deleted file mode 100644
index 70208d8..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
+++ /dev/null
@@ -1,201 +0,0 @@
-package com.lollapaloozer.auth.client;
-
-import java.util.ArrayList;
-
-import android.accounts.Account;
-import android.accounts.AccountManager;
-import android.accounts.AuthenticatorDescription;
-import android.content.Context;
-import android.content.Intent;
-
-import com.facebook.android.Facebook;
-import com.lollapaloozer.LollapaloozerApplication;
-import com.ratethisfest.shared.Constants;
-
-public class AuthDemoModel {
-
-  private LollapaloozerApplication _app;
-  private GoogleAuthProvider _authProviderGoogle;
-  private FacebookAuthProvider _authProviderFacebook;
-  private TwitterAuthProvider _authProviderTwitter;
-  private FacebookWebAuthProvider _authProviderFacebookWeb;
-  // private ChooseLoginActivity _activity;
-
-  private String _verifiedAccountName = null;
-  private ArrayList<Integer> _permissions = new ArrayList<Integer>();
-
-  public AuthDemoModel(LollapaloozerApplication app) {
-    _app = app;
-    _authProviderGoogle = new GoogleAuthProvider(AuthDemoModel.this);
-    _authProviderFacebook = new FacebookAuthProvider(AuthDemoModel.this);
-    _authProviderFacebookWeb = new FacebookWebAuthProvider(AuthDemoModel.this);
-    _authProviderTwitter = new TwitterAuthProvider(AuthDemoModel.this);
-  }
-
-  public LollapaloozerApplication getApp() {
-    return _app;
-  }
-
-  public boolean isLoggedIn() {
-    int numLogins = 0;
-    if (_authProviderGoogle.isLoggedIn()) {
-      numLogins++;
-    }
-
-    if (_authProviderFacebook.isLoggedIn()) {
-      numLogins++;
-    }
-
-    if (_authProviderFacebookWeb.isLoggedIn()) {
-      numLogins++;
-    }
-
-    if (_authProviderTwitter.isLoggedIn()) {
-      numLogins++;
-    }
-
-    if (numLogins > 1) {
-      System.out.println("WARNING: Multiple concurrent login types detected");
-    }
-
-    if (numLogins > 0) {
-      return true;
-    } else {
-      return false;
-    }
-  }
-
-  public boolean havePermission(int permission) {
-    return _permissions.contains(permission);
-  }
-
-  public void getPermission(int permission) {
-    switch (permission) {
-    case Constants.PERMISSION_FACEBOOK_POSTWALL:
-      System.out.println("Placeholder to obtain Facebook permission");
-      if (true) {
-        _addPermission(permission);
-      }
-      break;
-
-    case Constants.PERMISSION_TWITTER_TWEET:
-      System.out.println("Placeholder to obtain Twitter permission");
-      if (true) {
-        _addPermission(permission);
-      }
-      break;
-
-    default:
-      throw new RuntimeException("Invalid permission, unexpected code path");
-    }
-  }
-
-  private void _addPermission(int permission) {
-    if (!havePermission(permission)) {
-      _permissions.add(permission);
-    }
-  }
-
-  public boolean ensurePermission(int permission) {
-    if (!havePermission(permission)) {
-      getPermission(permission);
-    }
-
-    return havePermission(permission);
-  }
-
-  public AuthProvider getCurrentAuthProvider() {
-    if (_authProviderGoogle.isLoggedIn()) {
-      return _authProviderGoogle;
-    }
-
-    if (_authProviderFacebook.isLoggedIn()) {
-      return _authProviderFacebook;
-    }
-
-    if (_authProviderFacebookWeb.isLoggedIn()) {
-      return _authProviderFacebookWeb;
-    }
-
-    if (_authProviderTwitter.isLoggedIn()) {
-      return _authProviderTwitter;
-    }
-
-    return null;
-  }
-
-  public int getCurrentAuthProviderType() {
-    if (_authProviderGoogle.isLoggedIn()) {
-      return Constants.LOGIN_TYPE_GOOGLE;
-    }
-
-    if (_authProviderFacebook.isLoggedIn()) {
-      return Constants.LOGIN_TYPE_FACEBOOK;
-    }
-
-    if (_authProviderFacebookWeb.isLoggedIn()) {
-      return Constants.LOGIN_TYPE_FACEBOOK_BROWSER;
-    }
-
-    if (_authProviderTwitter.isLoggedIn()) {
-      return Constants.LOGIN_TYPE_TWITTER;
-    }
-
-    return 0;
-
-  }
-
-  public void checkAccounts() {
-    AccountManager aMgr = AccountManager.get(getApp().getChooseLoginActivity());
-
-    System.out.println("Warning: The following requires permission GET_ACCOUNTS");
-    for (Account a : aMgr.getAccounts()) {
-      System.out.println(a.name + " " + a.type + " " + a.toString());
-    }
-
-    System.out.println("Installed Authenticators: ");
-    for (AuthenticatorDescription d : aMgr.getAuthenticatorTypes()) {
-      System.out.print(d.type);
-      System.out.print("/ ");
-    }
-    System.out.println();
-  }
-
-  public Facebook getFacebookObject() {
-    return _authProviderFacebook.getFacebookObject();
-  }
-
-  public void invalidateTokens() {
-    _authProviderGoogle.logout();
-    _authProviderFacebook.logout();
-    _authProviderFacebookWeb.logout();
-    _authProviderTwitter.logout();
-    _permissions.clear();
-  }
-
-  public void loginToGoogle() {
-    _authProviderGoogle.login();
-  }
-
-  public void loginToFacebook() {
-    _authProviderFacebook.login();
-  }
-
-  public void loginToFacebookBrowser() {
-    _authProviderFacebookWeb.login();
-  }
-
-  public void loginToTwitter() {
-    _authProviderTwitter.login();
-  }
-
-  public void twitterAuthCallback(int requestCode, int resultCode, Intent data) {
-    _authProviderTwitter.requestTokenCallback(requestCode, resultCode, data);
-  }
-
-  public Context getAuthActivity() {
-    // TODO Auto-generated method stub
-    return null;
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java
new file mode 100644
index 0000000..c8f4bbd
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthModel.java
@@ -0,0 +1,199 @@
+package com.lollapaloozer.auth.client;
+
+import java.util.ArrayList;
+
+import android.accounts.Account;
+import android.accounts.AccountManager;
+import android.accounts.AuthenticatorDescription;
+import android.content.Intent;
+
+import com.facebook.android.Facebook;
+import com.lollapaloozer.LollapaloozerApplication;
+import com.ratethisfest.shared.Constants;
+
+public class AuthModel {
+
+  public static final String PERMISSION_FACEBOOK_POSTWALL = "PERMISSION_FACEBOOK_POSTWALL";
+  public static final String PERMISSION_TWITTER_TWEET = "PERMISSION_TWITTER_TWEET";
+
+  private LollapaloozerApplication _app;
+  private GoogleAuthProvider _authProviderGoogle;
+  private FacebookAuthProvider _authProviderFacebook;
+  private TwitterAuthProvider _authProviderTwitter;
+  private FacebookWebAuthProvider _authProviderFacebookWeb;
+  // private ChooseLoginActivity _activity;
+
+  private String _verifiedAccountName = null;
+  private ArrayList<String> _permissions = new ArrayList<String>();
+
+  public AuthModel(LollapaloozerApplication app) {
+    _app = app;
+    _authProviderGoogle = new GoogleAuthProvider(AuthModel.this);
+    _authProviderFacebook = new FacebookAuthProvider(AuthModel.this);
+    _authProviderFacebookWeb = new FacebookWebAuthProvider(AuthModel.this);
+    _authProviderTwitter = new TwitterAuthProvider(AuthModel.this);
+  }
+
+  public LollapaloozerApplication getApp() {
+    return _app;
+  }
+
+  public boolean isLoggedIn() {
+    int numLogins = 0;
+    if (_authProviderGoogle.isLoggedIn()) {
+      numLogins++;
+    }
+
+    if (_authProviderFacebook.isLoggedIn()) {
+      numLogins++;
+    }
+
+    if (_authProviderFacebookWeb.isLoggedIn()) {
+      numLogins++;
+    }
+
+    if (_authProviderTwitter.isLoggedIn()) {
+      numLogins++;
+    }
+
+    if (numLogins > 1) {
+      System.out.println("WARNING: Multiple concurrent login types detected");
+    }
+
+    if (numLogins > 0) {
+      return true;
+    } else {
+      return false;
+    }
+  }
+
+  public boolean havePermission(String permission) {
+    return _permissions.contains(permission);
+  }
+
+  public void getPermission(String permission) {
+    if (permission.equals(PERMISSION_FACEBOOK_POSTWALL)) {
+      System.out.println("Placeholder to obtain Facebook permission");
+      if (true) {
+        _addPermission(permission);
+      }
+    } else if (permission.equals(PERMISSION_TWITTER_TWEET)) {
+      System.out.println("Placeholder to obtain Twitter permission");
+      if (true) {
+        _addPermission(permission);
+      }
+    } else {
+
+      throw new RuntimeException("Invalid permission, unexpected code path");
+    }
+  }
+
+  private void _addPermission(String permission) {
+    if (!havePermission(permission)) {
+      _permissions.add(permission);
+    }
+  }
+
+  // Return whether permission was successfully obtained
+  public boolean ensurePermission(String permission) {
+    if (!havePermission(permission)) {
+      getPermission(permission);
+    }
+
+    return havePermission(permission);
+  }
+
+  public AuthProvider getCurrentAuthProvider() {
+    if (_authProviderGoogle.isLoggedIn()) {
+      return _authProviderGoogle;
+    }
+
+    if (_authProviderFacebook.isLoggedIn()) {
+      return _authProviderFacebook;
+    }
+
+    if (_authProviderFacebookWeb.isLoggedIn()) {
+      return _authProviderFacebookWeb;
+    }
+
+    if (_authProviderTwitter.isLoggedIn()) {
+      return _authProviderTwitter;
+    }
+
+    return null;
+  }
+
+  public int getCurrentAuthProviderType() {
+    if (_authProviderGoogle.isLoggedIn()) {
+      return Constants.LOGIN_TYPE_GOOGLE;
+    }
+
+    if (_authProviderFacebook.isLoggedIn()) {
+      return Constants.LOGIN_TYPE_FACEBOOK;
+    }
+
+    if (_authProviderFacebookWeb.isLoggedIn()) {
+      return Constants.LOGIN_TYPE_FACEBOOK_BROWSER;
+    }
+
+    if (_authProviderTwitter.isLoggedIn()) {
+      return Constants.LOGIN_TYPE_TWITTER;
+    }
+
+    return 0;
+
+  }
+
+  public void checkAccounts() {
+    AccountManager aMgr = AccountManager.get(getApp().getChooseLoginActivity());
+
+    System.out.println("Warning: The following requires permission GET_ACCOUNTS");
+    for (Account a : aMgr.getAccounts()) {
+      System.out.println(a.name + " " + a.type + " " + a.toString());
+    }
+
+    System.out.println("Installed Authenticators: ");
+    for (AuthenticatorDescription d : aMgr.getAuthenticatorTypes()) {
+      System.out.print(d.type);
+      System.out.print("/ ");
+    }
+    System.out.println();
+  }
+
+  public Facebook getFacebookObject() {
+    return _authProviderFacebook.getFacebookObject();
+  }
+
+  public void invalidateTokens() {
+    _authProviderGoogle.logout();
+    _authProviderFacebook.logout();
+    _authProviderFacebookWeb.logout();
+    _authProviderTwitter.logout();
+    _permissions.clear();
+  }
+
+  public void loginToGoogle() {
+    _authProviderGoogle.login();
+  }
+
+  public void loginToFacebook() {
+    _authProviderFacebook.login();
+  }
+
+  public void loginToFacebookBrowser() {
+    _authProviderFacebookWeb.login();
+  }
+
+  public void loginToTwitter() {
+    _authProviderTwitter.login();
+  }
+
+  public void twitterAuthCallback(int requestCode, int resultCode, Intent data) {
+    _authProviderTwitter.requestTokenCallback(requestCode, resultCode, data);
+  }
+
+  public String postToFacebookWall(String message) {
+    return _authProviderFacebook.postToWall(message);
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
index 39c2911..bd0634e 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -25 +25 @@ public class FacebookAuthProvider implements AuthProvider {
-  private AuthDemoModel _model;
+  private AuthModel _model;
@@ -27 +27 @@ public class FacebookAuthProvider implements AuthProvider {
-  private AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(_facebook);
+  private AsyncFacebookRunner _AsyncRunner = new AsyncFacebookRunner(_facebook);
@@ -33 +32,0 @@ public class FacebookAuthProvider implements AuthProvider {
-
@@ -36 +35 @@ public class FacebookAuthProvider implements AuthProvider {
-  public FacebookAuthProvider(AuthDemoModel model) {
+  public FacebookAuthProvider(AuthModel model) {
@@ -41,12 +40,3 @@ public class FacebookAuthProvider implements AuthProvider {
-  private void setLastInfoResponse(JSONObject json) {
-    _userInfo = json;
-  }
-
-  @Override
-  public boolean isLoggedIn() {
-    if (_userInfo == null) {
-      return false;
-    }
-
-    FacebookVerifier verifier = new FacebookVerifier();
-    return verifier.verify(getAuthToken(), getVerifiedAccountIdentifier());
+  private void _showError(String problem, String details) {
+    _model.getApp().getChooseLoginActivity()
+        .showErrorDialog("Facebook Login Error", problem, details);
@@ -58,11 +48,2 @@ public class FacebookAuthProvider implements AuthProvider {
-    _facebook.authorize(_model.getApp().getChooseLoginActivity(), new String[] { "email" },
-        new AuthListener());
-  }
-
-  public Facebook getFacebookObject() {
-    return _facebook;
-  }
-
-  private void _showError(String problem, String details) {
-    _model.getApp().getChooseLoginActivity()
-        .showErrorDialog("Facebook Login Error", problem, details);
+    _facebook.authorize(_model.getApp().getChooseLoginActivity(), new String[] { "email",
+        "publish_stream" }, new AuthListener());
@@ -82,0 +64,14 @@ public class FacebookAuthProvider implements AuthProvider {
+  public boolean isLoggedIn() {
+    if (_userInfo == null) {
+      return false;
+    }
+
+    FacebookVerifier verifier = new FacebookVerifier();
+    return verifier.verify(getAuthToken(), getVerifiedAccountIdentifier());
+  }
+
+  public Facebook getFacebookObject() {
+    return _facebook;
+  }
+
+  @Override
@@ -118,0 +114,21 @@ public class FacebookAuthProvider implements AuthProvider {
+  public String postToWall(String message) {
+    Bundle parameters = new Bundle();
+    parameters.putString("message", message);
+    parameters.putString("description", "topic share");
+    try {
+      _facebook.request("me");
+      String response = _facebook.request("me/feed", parameters, "POST");
+      Log.d("Tests", "got response: " + response);
+      if (response == null || response.equals("") || response.equals("false")) {
+        return "Blank response from Facebook.";
+      } else {
+        return "Message posted to your facebook wall! " + response;
+      }
+
+    } catch (Exception e) {
+
+      e.printStackTrace();
+      return "Failed to post to wall!";
+    }
+  }
+
@@ -124 +140 @@ public class FacebookAuthProvider implements AuthProvider {
-      mAsyncRunner.request("me", new IDRequestListener()); // get user info
+      _AsyncRunner.request("me", new IDRequestListener()); // get user info
@@ -171 +187 @@ public class FacebookAuthProvider implements AuthProvider {
-        setLastInfoResponse(json);
+        _userInfo = json;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
index 4a27837..05e3938 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
@@ -21 +21 @@ public class FacebookWebAuthProvider implements AuthProvider {
-  private AuthDemoModel _model;
+  private AuthModel _model;
@@ -35 +35 @@ public class FacebookWebAuthProvider implements AuthProvider {
-  public FacebookWebAuthProvider(AuthDemoModel model) {
+  public FacebookWebAuthProvider(AuthModel model) {
@@ -63 +63 @@ public class FacebookWebAuthProvider implements AuthProvider {
-    Intent twitterAuthIntent = new Intent(_model.getAuthActivity(),
+    Intent twitterAuthIntent = new Intent(_model.getApp().getChooseLoginActivity(),
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index fdbdeb7..b3630e5 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -24 +24 @@ public class GoogleAuthProvider implements AuthProvider {
-  private AuthDemoModel _model;
+  private AuthModel _model;
@@ -35 +35 @@ public class GoogleAuthProvider implements AuthProvider {
-  public GoogleAuthProvider(AuthDemoModel model) {
+  public GoogleAuthProvider(AuthModel model) {
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index 6448de1..fd6cc99 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -20 +20 @@ public class TwitterAuthProvider implements AuthProvider {
-  private AuthDemoModel _model;
+  private AuthModel _model;
@@ -35 +35 @@ public class TwitterAuthProvider implements AuthProvider {
-  public TwitterAuthProvider(AuthDemoModel model) {
+  public TwitterAuthProvider(AuthModel model) {
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java
index 0c05913..d2efde6 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java
@@ -6,0 +7 @@ public class LoginData implements Serializable {
+  public static final String DATA_LOGIN_INFO = "DATA_LOGIN_INFO";
@@ -11 +11,0 @@ public class LoginData implements Serializable {
-  public String accountToken;
@@ -12,0 +13 @@ public class LoginData implements Serializable {
+  public String accountToken;
@@ -23,0 +25,9 @@ public class LoginData implements Serializable {
+
+  public void printDebug() {
+    System.out.println("Login Type: " + loginType);
+    System.out.println("Account Identifier: " + accountIdentifier);
+    System.out.println("Email Address (May be unverified): " + emailAddress);
+    int hoursAgo = ((int) (System.currentTimeMillis() - timeLoginIssued)) / 1000 / 60 / 60;
+    System.out.println("Time Issued: " + hoursAgo + " hours ago at " + timeLoginIssued);
+    System.out.println("Token Data: " + accountToken);
+  }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
index b167418..5e123b3 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
@@ -26 +26 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-  private LollapaloozerApplication _app = (LollapaloozerApplication) getApplication();
+  private LollapaloozerApplication _app;
@@ -48,0 +49,4 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
+
+    // CANNOT do this in constructor / member list
+    _app = (LollapaloozerApplication) getApplication();
+    _app.registerChooseLoginActivity(ChooseLoginActivity.this);
@@ -88,4 +91,0 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-
-    LollapaloozerApplication app = (LollapaloozerApplication) getApplication();
-    app.registerChooseLoginActivity(ChooseLoginActivity.this);
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 7f3872d..b4c251f 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -40,0 +41 @@ import com.lollapaloozer.R;
+import com.lollapaloozer.auth.client.AuthModel;
@@ -68 +68,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private static final String DATA_LOGIN_INFO = "DATA_LOGIN_INFO";
@@ -123,0 +124,8 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    _storageManager = new LollapaloozerStorageManager(this);
+    _storageManager.load();
+    _obtainLoginDataFromStorage();
+
+    if (_loginData != null) {
+      _loginData.printDebug();
+    }
+
@@ -136,5 +143,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    _storageManager = new LollapaloozerStorageManager(this);
-    _storageManager.load();
-
-    // initJAHM(); //Only initialized once
-
@@ -162 +165 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
+    // TODO consider changing this to AsyncTask
@@ -247 +250 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    _loginData = (LoginData) _storageManager.getObject(DATA_LOGIN_INFO);
+    _loginData = (LoginData) _storageManager.getObject(LoginData.DATA_LOGIN_INFO);
@@ -273,3 +275,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    // no extras needed here
-    // lollapaloozerAuthIntent.putExtra(Constants.INTENT_EXTRA_AUTH_URL,
-    // "String");
@@ -277 +276,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
@@ -369,2 +367,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
-    LollapaloozerHelper.debug(this, "rebuildJAHM()");
@@ -376,2 +373 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        // update app
-        // in future)
+        // update app in future)
@@ -381 +376,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        params.add(new BasicNameValuePair(HttpConstants.PARAM_YEAR, "2012"));
@@ -407,5 +401,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        // TODO this may not be correct. JAHM should only be initialized
-        // once.
-        // _myRatings_JAHM = new JSONArrayHashMap(myRatings,
-        // QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
-
@@ -425,7 +414,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      // TODO This may not be correct. initJAHM() may have already been
-      // called
-      // on startup and
-      // TODO the reference to the JAHM may have been passed to the
-      // adapter
-      // already
-      // initJAHM(); //Commented in hope of addressing crash issue
@@ -541 +524 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      _storageManager.putObject(DATA_LOGIN_INFO, _loginData);
+      _storageManager.putObject(LoginData.DATA_LOGIN_INFO, _loginData);
@@ -686 +669,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
+      app.getAuthModel().ensurePermission(AuthModel.PERMISSION_FACEBOOK_POSTWALL);
+      app.getAuthModel().postToFacebookWall("Test Message!");
@@ -692 +676 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
+      app.getAuthModel().ensurePermission(AuthModel.PERMISSION_TWITTER_TWEET);
@@ -703,2 +687 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  // (a/each
-  // type of)? dialog
+  // (a/each type of)? dialog
@@ -863 +846 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      LollapaloozerHelper.debug(this, "Menu button 'delete email' pressed");
+      LollapaloozerHelper.debug(this, "Menu button 'Forget Account Info' pressed");
@@ -865 +848 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      _storageManager.putObject(DATA_LOGIN_INFO, _loginData);
+      _storageManager.putObject(LoginData.DATA_LOGIN_INFO, _loginData);
c825266c50b5a17e739822d835a37862b05a0046
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
index c7f9c8b..4e9c06e 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
@@ -18 +17,0 @@ public class Constants {
-
@@ -22,14 +20,0 @@ public class Constants {
-  // public static final String REQUEST_URL_TWITTER =
-  // "https://api.twitter.com/oauth/request_token";
-  // public static final String AUTHORIZE_URL_TWITTER =
-  // "https://api.twitter.com/oauth/authorize";
-  // public static final String ACCESS_URL_TWITTER =
-  // "https://api.twitter.com/oauth/access_token";
-
-  // public static final String REQUEST_URL_FACEBOOK =
-  // "http://www.facebook.com/dialog/oauth/";
-  // public static final String AUTHORIZE_URL_TWITTER =
-  // "https://api.twitter.com/oauth/authorize";
-  // public static final String ACCESS_URL_TWITTER =
-  // "https://api.twitter.com/oauth/access_token";
-
@@ -61,0 +47,17 @@ public class Constants {
+  public static final int PERMISSION_FACEBOOK_POSTWALL = 1;
+  public static final int PERMISSION_TWITTER_TWEET = 2;
+
+  // public static final String REQUEST_URL_TWITTER =
+  // "https://api.twitter.com/oauth/request_token";
+  // public static final String AUTHORIZE_URL_TWITTER =
+  // "https://api.twitter.com/oauth/authorize";
+  // public static final String ACCESS_URL_TWITTER =
+  // "https://api.twitter.com/oauth/access_token";
+
+  // public static final String REQUEST_URL_FACEBOOK =
+  // "http://www.facebook.com/dialog/oauth/";
+  // public static final String AUTHORIZE_URL_TWITTER =
+  // "https://api.twitter.com/oauth/authorize";
+  // public static final String ACCESS_URL_TWITTER =
+  // "https://api.twitter.com/oauth/access_token";
+
diff --git a/Lollapaloozer-Android/AndroidManifest.xml b/Lollapaloozer-Android/AndroidManifest.xml
index d9114e5..9d1baab 100644
--- a/Lollapaloozer-Android/AndroidManifest.xml
+++ b/Lollapaloozer-Android/AndroidManifest.xml
@@ -17 +17 @@
-        android:label="@string/app_name" >
+        android:label="@string/app_name" android:name="LollapaloozerApplication">
diff --git a/Lollapaloozer-Android/res/layout/dialog_rate_set.xml b/Lollapaloozer-Android/res/layout/dialog_rate_set.xml
index fd83244..afd3632 100644
--- a/Lollapaloozer-Android/res/layout/dialog_rate_set.xml
+++ b/Lollapaloozer-Android/res/layout/dialog_rate_set.xml
@@ -11,2 +11 @@
-        android:layout_height="wrap_content" >
-
+        android:layout_height="wrap_content" >
@@ -136 +135 @@
-
+
@@ -142 +141 @@
-
+
@@ -144,2 +143,2 @@
-            android:id="@+id/button_rate_okgo"
-            android:layout_width="0dp"
+            android:id="@+id/button_go_rate"
+            android:layout_width="wrap_content"
@@ -149 +148 @@
-
+
@@ -151,2 +150,2 @@
-            android:id="@+id/button_rate_cancel"
-            android:layout_width="wrap_content"
+            android:id="@+id/button_go_fb"
+            android:layout_width="0dp"
@@ -154,2 +153,10 @@
-            android:layout_gravity="right"
-            android:text="Go Back" />
+            android:layout_weight="1"
+            android:text="FB" />
+
+        <Button
+            android:id="@+id/button_go_tweet"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:layout_weight="1"
+            android:text="Tweet" />
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java
new file mode 100644
index 0000000..4094ff0
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java
@@ -0,0 +1,61 @@
+package com.lollapaloozer;
+
+import android.app.Application;
+
+import com.lollapaloozer.auth.client.AuthDemoModel;
+import com.lollapaloozer.ui.ChooseLoginActivity;
+import com.lollapaloozer.ui.LollapaloozerActivity;
+
+public class LollapaloozerApplication extends Application {
+  private AuthDemoModel _authModel;
+  private ChooseLoginActivity _activityChooseLogin = null;
+  private LollapaloozerActivity _activityLollapaloozer = null;
+
+  public LollapaloozerApplication() {
+    System.out.println("Application Object Instantiated");
+
+    _authModel = new AuthDemoModel(this);
+  }
+
+  public void registerChooseLoginActivity(ChooseLoginActivity act) {
+    if (_activityChooseLogin != null) {
+      System.out.println("Warning: Duplicate ChooseLoginActivity registered with Application");
+    }
+    _activityChooseLogin = act;
+  }
+
+  public ChooseLoginActivity getChooseLoginActivity() {
+    return _activityChooseLogin;
+  }
+
+  public void unregisterChooseLoginActivity() {
+    _activityChooseLogin = null;
+  }
+
+  public void registerLollapaloozerActivity(LollapaloozerActivity act) {
+    if (_activityLollapaloozer != null) {
+      System.out.println("Warning: Duplicate LollapaloozerActivity registered with Application");
+    }
+    _activityLollapaloozer = act;
+  }
+
+  public LollapaloozerActivity getLollapaloozerActivity() {
+    return _activityLollapaloozer;
+  }
+
+  public void unregisterLollapaloozerActivity() {
+    _activityLollapaloozer = null;
+  }
+
+  public AuthDemoModel getAuthModel() {
+    return _authModel;
+  }
+
+  private void _checkNull(Object obj) {
+    if (obj == null) {
+      System.out.println("Application object was destroyed, state has been lost");
+      System.exit(0);
+    }
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
index 25be3e8..70208d8 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
@@ -2,0 +3,2 @@ package com.lollapaloozer.auth.client;
+import java.util.ArrayList;
+
@@ -5,0 +8 @@ import android.accounts.AuthenticatorDescription;
+import android.content.Context;
@@ -9 +12 @@ import com.facebook.android.Facebook;
-import com.lollapaloozer.ui.ChooseLoginActivity;
+import com.lollapaloozer.LollapaloozerApplication;
@@ -13,0 +17 @@ public class AuthDemoModel {
+  private LollapaloozerApplication _app;
@@ -18,2 +22 @@ public class AuthDemoModel {
-
-  private ChooseLoginActivity _activity;
+  // private ChooseLoginActivity _activity;
@@ -21,0 +25,9 @@ public class AuthDemoModel {
+  private ArrayList<Integer> _permissions = new ArrayList<Integer>();
+
+  public AuthDemoModel(LollapaloozerApplication app) {
+    _app = app;
+    _authProviderGoogle = new GoogleAuthProvider(AuthDemoModel.this);
+    _authProviderFacebook = new FacebookAuthProvider(AuthDemoModel.this);
+    _authProviderFacebookWeb = new FacebookWebAuthProvider(AuthDemoModel.this);
+    _authProviderTwitter = new TwitterAuthProvider(AuthDemoModel.this);
+  }
@@ -23,7 +35,2 @@ public class AuthDemoModel {
-  public AuthDemoModel(ChooseLoginActivity activity) {
-    _activity = activity;
-    _authProviderGoogle = new GoogleAuthProvider(_activity);
-    _authProviderFacebook = new FacebookAuthProvider(_activity);
-    _authProviderFacebookWeb = new FacebookWebAuthProvider(_activity);
-
-    _authProviderTwitter = new TwitterAuthProvider(_activity);
+  public LollapaloozerApplication getApp() {
+    return _app;
@@ -60,0 +68,39 @@ public class AuthDemoModel {
+  public boolean havePermission(int permission) {
+    return _permissions.contains(permission);
+  }
+
+  public void getPermission(int permission) {
+    switch (permission) {
+    case Constants.PERMISSION_FACEBOOK_POSTWALL:
+      System.out.println("Placeholder to obtain Facebook permission");
+      if (true) {
+        _addPermission(permission);
+      }
+      break;
+
+    case Constants.PERMISSION_TWITTER_TWEET:
+      System.out.println("Placeholder to obtain Twitter permission");
+      if (true) {
+        _addPermission(permission);
+      }
+      break;
+
+    default:
+      throw new RuntimeException("Invalid permission, unexpected code path");
+    }
+  }
+
+  private void _addPermission(int permission) {
+    if (!havePermission(permission)) {
+      _permissions.add(permission);
+    }
+  }
+
+  public boolean ensurePermission(int permission) {
+    if (!havePermission(permission)) {
+      getPermission(permission);
+    }
+
+    return havePermission(permission);
+  }
+
@@ -103 +149 @@ public class AuthDemoModel {
-    AccountManager aMgr = AccountManager.get(_activity);
+    AccountManager aMgr = AccountManager.get(getApp().getChooseLoginActivity());
@@ -126,0 +173 @@ public class AuthDemoModel {
+    _permissions.clear();
@@ -148,0 +196,5 @@ public class AuthDemoModel {
+  public Context getAuthActivity() {
+    // TODO Auto-generated method stub
+    return null;
+  }
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
index 75bbe84..39c2911 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -21 +20,0 @@ import com.lollapaloozer.auth.verify.FacebookVerifier;
-import com.lollapaloozer.ui.ChooseLoginActivity;
@@ -25 +24,2 @@ public class FacebookAuthProvider implements AuthProvider {
-  private ChooseLoginActivity _activity;
+  // private ChooseLoginActivity _activity;
+  private AuthDemoModel _model;
@@ -30,0 +31 @@ public class FacebookAuthProvider implements AuthProvider {
+  // Default constructor disallowed
@@ -32 +33 @@ public class FacebookAuthProvider implements AuthProvider {
-    // Default constructor disallowed
+
@@ -35,2 +36,3 @@ public class FacebookAuthProvider implements AuthProvider {
-  public FacebookAuthProvider(ChooseLoginActivity activity) {
-    _activity = activity;
+  public FacebookAuthProvider(AuthDemoModel model) {
+    // _activity = activity;
+    _model = model;
@@ -56 +58,2 @@ public class FacebookAuthProvider implements AuthProvider {
-    _facebook.authorize(_activity, new String[] { "email" }, new AuthListener());
+    _facebook.authorize(_model.getApp().getChooseLoginActivity(), new String[] { "email" },
+        new AuthListener());
@@ -64 +67,2 @@ public class FacebookAuthProvider implements AuthProvider {
-    _activity.showErrorDialog("Facebook Login Error", problem, details);
+    _model.getApp().getChooseLoginActivity()
+        .showErrorDialog("Facebook Login Error", problem, details);
@@ -70 +74 @@ public class FacebookAuthProvider implements AuthProvider {
-      _facebook.logout(_activity);
+      _facebook.logout(_model.getApp().getChooseLoginActivity());
@@ -112 +116 @@ public class FacebookAuthProvider implements AuthProvider {
-    _facebook.extendAccessTokenIfNeeded(_activity, null);
+    _facebook.extendAccessTokenIfNeeded(_model.getApp().getChooseLoginActivity(), null);
@@ -122 +126 @@ public class FacebookAuthProvider implements AuthProvider {
-      _activity.modelChanged();
+      _model.getApp().getChooseLoginActivity().modelChanged();
@@ -168 +172 @@ public class FacebookAuthProvider implements AuthProvider {
-        _activity.modelChanged();
+        _model.getApp().getChooseLoginActivity().modelChanged();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
index 9898f4b..4a27837 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
@@ -14 +13,0 @@ import com.lollapaloozer.auth.verify.TwitterVerifier;
-import com.lollapaloozer.ui.ChooseLoginActivity;
@@ -21,2 +20,2 @@ public class FacebookWebAuthProvider implements AuthProvider {
-  private ChooseLoginActivity _activity;
-
+  // private ChooseLoginActivity _activity;
+  private AuthDemoModel _model;
@@ -26,0 +26 @@ public class FacebookWebAuthProvider implements AuthProvider {
+  // Default constructor disallowed
@@ -28 +27,0 @@ public class FacebookWebAuthProvider implements AuthProvider {
-    // Default constructor disallowed
@@ -36,2 +35,4 @@ public class FacebookWebAuthProvider implements AuthProvider {
-  public FacebookWebAuthProvider(ChooseLoginActivity activity) {
-    _activity = activity;
+  public FacebookWebAuthProvider(AuthDemoModel model) {
+    // _activity = activity;
+    _model = model;
+
@@ -62 +63,2 @@ public class FacebookWebAuthProvider implements AuthProvider {
-    Intent twitterAuthIntent = new Intent(_activity, TwitterAuthWebpageActivity.class);
+    Intent twitterAuthIntent = new Intent(_model.getAuthActivity(),
+        TwitterAuthWebpageActivity.class);
@@ -64 +66,2 @@ public class FacebookWebAuthProvider implements AuthProvider {
-    _activity.startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
+    _model.getApp().getChooseLoginActivity()
+        .startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
@@ -122 +125 @@ public class FacebookWebAuthProvider implements AuthProvider {
-      _activity.modelChanged();
+      _model.getApp().getChooseLoginActivity().modelChanged();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index 0cde65d..fdbdeb7 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -17 +16,0 @@ import com.lollapaloozer.auth.verify.GoogleAuthVerifier;
-import com.lollapaloozer.ui.ChooseLoginActivity;
@@ -24 +23,2 @@ public class GoogleAuthProvider implements AuthProvider {
-  private ChooseLoginActivity _activity;
+  // private ChooseLoginActivity _activity;
+  private AuthDemoModel _model;
@@ -30,0 +31 @@ public class GoogleAuthProvider implements AuthProvider {
+  // Default constructor disallowed
@@ -32 +32,0 @@ public class GoogleAuthProvider implements AuthProvider {
-    // Default constructor disallowed
@@ -35,2 +35,3 @@ public class GoogleAuthProvider implements AuthProvider {
-  public GoogleAuthProvider(ChooseLoginActivity activity) {
-    _activity = activity;
+  public GoogleAuthProvider(AuthDemoModel model) {
+    // _activity = activity;
+    _model = model;
@@ -58,4 +59,5 @@ public class GoogleAuthProvider implements AuthProvider {
-      AccountManagerFuture<Bundle> bundleFuture = AccountManager.get(_activity)
-          .getAuthTokenByFeatures(ACCOUNT_TYPE_REQUESTED,
-              "oauth2:https://www.googleapis.com/auth/userinfo.email", null, _activity, null, null,
-              new GoogleAuthAccountManagerCallback(), null);
+      AccountManagerFuture<Bundle> bundleFuture = AccountManager.get(
+          _model.getApp().getChooseLoginActivity()).getAuthTokenByFeatures(ACCOUNT_TYPE_REQUESTED,
+          "oauth2:https://www.googleapis.com/auth/userinfo.email", null,
+          _model.getApp().getChooseLoginActivity(), null, null,
+          new GoogleAuthAccountManagerCallback(), null);
@@ -65,3 +67,3 @@ public class GoogleAuthProvider implements AuthProvider {
-      AccountManager.get(_activity).getAuthToken(accountObj,
-          "oauth2:https://www.googleapis.com/auth/userinfo.email", null, _activity,
-          new GoogleAuthAccountManagerCallback(), null);
+      AccountManager.get(_model.getApp().getChooseLoginActivity()).getAuthToken(accountObj,
+          "oauth2:https://www.googleapis.com/auth/userinfo.email", null,
+          _model.getApp().getChooseLoginActivity(), new GoogleAuthAccountManagerCallback(), null);
@@ -76 +78 @@ public class GoogleAuthProvider implements AuthProvider {
-      AccountManager aMgr = AccountManager.get(_activity);
+      AccountManager aMgr = AccountManager.get(_model.getApp().getChooseLoginActivity());
@@ -109 +111,2 @@ public class GoogleAuthProvider implements AuthProvider {
-    _activity.showErrorDialog("Google Login Error", problem, details);
+    _model.getApp().getChooseLoginActivity()
+        .showErrorDialog("Google Login Error", problem, details);
@@ -155 +158 @@ public class GoogleAuthProvider implements AuthProvider {
-        _activity.modelChanged();
+        _model.getApp().getChooseLoginActivity().modelChanged();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index 75f7a6f..6448de1 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -14 +13,0 @@ import com.lollapaloozer.auth.verify.TwitterVerifier;
-import com.lollapaloozer.ui.ChooseLoginActivity;
@@ -20 +19,2 @@ public class TwitterAuthProvider implements AuthProvider {
-  private ChooseLoginActivity _activity;
+  // private ChooseLoginActivity _activity;
+  private AuthDemoModel _model;
@@ -25,0 +26 @@ public class TwitterAuthProvider implements AuthProvider {
+  // Default constructor disallowed
@@ -27 +27,0 @@ public class TwitterAuthProvider implements AuthProvider {
-    // Default constructor disallowed
@@ -35,2 +35,3 @@ public class TwitterAuthProvider implements AuthProvider {
-  public TwitterAuthProvider(ChooseLoginActivity activity) {
-    _activity = activity;
+  public TwitterAuthProvider(AuthDemoModel model) {
+    // _activity = activity;
+    _model = model;
@@ -62 +63,2 @@ public class TwitterAuthProvider implements AuthProvider {
-    Intent twitterAuthIntent = new Intent(_activity, TwitterAuthWebpageActivity.class);
+    Intent twitterAuthIntent = new Intent(_model.getApp().getChooseLoginActivity(),
+        TwitterAuthWebpageActivity.class);
@@ -64 +66,2 @@ public class TwitterAuthProvider implements AuthProvider {
-    _activity.startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
+    _model.getApp().getChooseLoginActivity()
+        .startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
@@ -121 +124 @@ public class TwitterAuthProvider implements AuthProvider {
-      _activity.modelChanged();
+      _model.getApp().getChooseLoginActivity().modelChanged();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
index a21e043..b167418 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
@@ -15,0 +16 @@ import android.widget.TextView;
+import com.lollapaloozer.LollapaloozerApplication;
@@ -17 +17,0 @@ import com.lollapaloozer.R;
-import com.lollapaloozer.auth.client.AuthDemoModel;
@@ -25,0 +26 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
+  private LollapaloozerApplication _app = (LollapaloozerApplication) getApplication();
@@ -35 +35,0 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-  private AuthDemoModel _model;
@@ -44 +43,0 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-  /** Called when the activity is first created. */
@@ -49,0 +49 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
+    _app.getAuthModel().checkAccounts();
@@ -81,2 +80,0 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    _model = new AuthDemoModel(this);
-    _model.checkAccounts();
@@ -91 +89,4 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    AuthProvider currentProvider = _model.getCurrentAuthProvider();
+    LollapaloozerApplication app = (LollapaloozerApplication) getApplication();
+    app.registerChooseLoginActivity(ChooseLoginActivity.this);
+
+    AuthProvider currentProvider = _app.getAuthModel().getCurrentAuthProvider();
@@ -98 +99 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      _model.invalidateTokens();
+      _app.getAuthModel().invalidateTokens();
@@ -109 +110 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    if (_model.isLoggedIn()) {
+    if (_app.getAuthModel().isLoggedIn()) {
@@ -111 +112,2 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TYPE, _model.getCurrentAuthProviderType());
+      returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TYPE, _app.getAuthModel()
+          .getCurrentAuthProviderType());
@@ -113 +115 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      returnIntent.putExtra(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER, _model
+      returnIntent.putExtra(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER, _app.getAuthModel()
@@ -116,2 +118,2 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TOKEN, _model.getCurrentAuthProvider()
-          .getAuthToken());
+      returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TOKEN, _app.getAuthModel()
+          .getCurrentAuthProvider().getAuthToken());
@@ -134,2 +136,2 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      if (_model.isLoggedIn()) {
-        AuthProvider currentProvider = _model.getCurrentAuthProvider();
+      if (_app.getAuthModel().isLoggedIn()) {
+        AuthProvider currentProvider = _app.getAuthModel().getCurrentAuthProvider();
@@ -159 +161 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      if (_model.isLoggedIn()) {
+      if (_app.getAuthModel().isLoggedIn()) {
@@ -182 +184 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-        _model.twitterAuthCallback(requestCode, resultCode, data);
+        _app.getAuthModel().twitterAuthCallback(requestCode, resultCode, data);
@@ -189 +191 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      _model.getFacebookObject().authorizeCallback(requestCode, resultCode, data);
+      _app.getAuthModel().getFacebookObject().authorizeCallback(requestCode, resultCode, data);
@@ -216 +218,3 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-        })
+        }
+
+        )
@@ -234 +238 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      _model.loginToGoogle(); // UI Update done on callback
+      _app.getAuthModel().loginToGoogle(); // UI Update done on callback
@@ -237 +241 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      _model.loginToTwitter();
+      _app.getAuthModel().loginToTwitter();
@@ -241 +245 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      _model.loginToFacebook();
+      _app.getAuthModel().loginToFacebook();
@@ -247 +251 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      _model.loginToFacebookBrowser();
+      _app.getAuthModel().loginToFacebookBrowser();
@@ -252 +256 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-      _model.invalidateTokens();
+      _app.getAuthModel().invalidateTokens();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 375475c..7f3872d 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -36,0 +37 @@ import android.widget.Toast;
+import com.lollapaloozer.LollapaloozerApplication;
@@ -198,0 +200,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    LollapaloozerApplication app = (LollapaloozerApplication) getApplication();
+    app.registerLollapaloozerActivity(LollapaloozerActivity.this);
+
@@ -631 +635 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    if (viewClicked.getId() == R.id.button_rate_okgo) { // Selections
+    if (viewClicked.getId() == R.id.button_go_rate) { // Selections
@@ -679,2 +683,10 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    if (viewClicked.getId() == R.id.button_rate_cancel) {
-      _rateDialog.dismiss();
+    if (viewClicked.getId() == R.id.button_go_fb) {
+      System.out.println("Clicked post on FB");
+      LollapaloozerApplication app = (LollapaloozerApplication) getApplication();
+
+    }
+
+    if (viewClicked.getId() == R.id.button_go_tweet) {
+      System.out.println("Clicked post on Twitter");
+      LollapaloozerApplication app = (LollapaloozerApplication) getApplication();
+
@@ -683,0 +696 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+      System.out.println("Clicked dismiss network error dialog");
@@ -732,2 +745,8 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      Button buttonOK = (Button) _rateDialog.findViewById(R.id.button_rate_okgo);
-      buttonOK.setOnClickListener(this);
+      Button buttonRate = (Button) _rateDialog.findViewById(R.id.button_go_rate);
+      buttonRate.setOnClickListener(this);
+
+      Button buttonFB = (Button) _rateDialog.findViewById(R.id.button_go_fb);
+      buttonFB.setOnClickListener(this);
+
+      Button buttonTweet = (Button) _rateDialog.findViewById(R.id.button_go_tweet);
+      buttonTweet.setOnClickListener(this);
@@ -735,2 +753,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      Button buttonCancel = (Button) _rateDialog.findViewById(R.id.button_rate_cancel);
-      buttonCancel.setOnClickListener(this);
3276651f43feb7ec94718ce7f21e90c2bfbbf65e
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
index 3b0e090..a21e043 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
@@ -106,0 +107 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
+    int result;
@@ -108 +109,3 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TYPE, _model.getCurrentAuthProviderType());
+    if (_model.isLoggedIn()) {
+      result = RESULT_OK;
+      returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TYPE, _model.getCurrentAuthProviderType());
@@ -110,2 +113,2 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    returnIntent.putExtra(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER, _model
-        .getCurrentAuthProvider().getVerifiedAccountIdentifier());
+      returnIntent.putExtra(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER, _model
+          .getCurrentAuthProvider().getVerifiedAccountIdentifier());
@@ -113,2 +116,2 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TOKEN, _model.getCurrentAuthProvider()
-        .getAuthToken());
+      returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TOKEN, _model.getCurrentAuthProvider()
+          .getAuthToken());
@@ -116,3 +118,0 @@ public class ChooseLoginActivity extends Activity implements OnClickListener {
-    int result;
-    if (_model.isLoggedIn()) {
-      result = RESULT_OK;
26f75a616c80cb35a8d7b426abf4c42cad7d49ad
diff --git a/Lollapaloozer-Android/AndroidManifest.xml b/Lollapaloozer-Android/AndroidManifest.xml
index a7445ab..d9114e5 100644
--- a/Lollapaloozer-Android/AndroidManifest.xml
+++ b/Lollapaloozer-Android/AndroidManifest.xml
@@ -28,2 +28,2 @@
-        <activity android:name=".ui.ActivitySetsSearch" android:launchMode="standard"></activity>
-        <activity android:name=".ui.AuthChooseAccountActivity" android:launchMode="standard"></activity>
+        <activity android:name=".ui.SetsSearchActivity" android:launchMode="standard"></activity>
+        <activity android:name=".ui.ChooseLoginActivity" android:launchMode="standard"></activity>
diff --git a/Lollapaloozer-Android/res/layout/auth_choose.xml b/Lollapaloozer-Android/res/layout/auth_choose.xml
deleted file mode 100644
index 92aad10..0000000
--- a/Lollapaloozer-Android/res/layout/auth_choose.xml
+++ /dev/null
@@ -1,141 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:id="@+id/RelativeLayout1"
-    android:layout_width="fill_parent"
-    android:layout_height="fill_parent"
-    android:background="#335066"
-    android:orientation="vertical" >
-
-    <RelativeLayout
-        android:id="@+id/layout_text_banner"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content">
-
-        <TextView
-            android:id="@+id/text_banner_line1"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="Signing in lets you:"
-            android:textStyle="bold"
-            android:textAppearance="?android:attr/textAppearanceMedium" />
-
-        <TextView
-            android:id="@+id/text_banner_line2"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_below="@+id/text_banner_line1"
-            android:text="*Rate sets, save comments, and email your ratings"
-            android:textAppearance="?android:attr/textAppearanceMedium" />
-
-        <TextView
-            android:id="@+id/text_banner_line3"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:textAppearance="?android:attr/textAppearanceMedium" android:layout_below="@+id/text_banner_line2"
-            android:text="*Use reminder alerts- Don't miss your favorite sets (coming soon)"/>
-
-        <TextView
-            android:id="@+id/text_banner_line4"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="*Share with your friends using Facebook or Twitter (coming soon)"
-            android:textAppearance="?android:attr/textAppearanceMedium" android:layout_below="@+id/text_banner_line3"/>
-
-    </RelativeLayout>
-
-    <RelativeLayout
-        android:id="@+id/layout_signin_buttons"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:layout_below="@+id/layout_text_banner"
-        android:layout_centerHorizontal="true"
-        android:orientation="vertical" >
-
-        <Button
-            android:id="@+id/btn_login_google"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_centerHorizontal="false"
-            android:text="Log in with Google" />
-
-        <Button
-            android:id="@+id/btn_login_facebook"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_below="@+id/btn_login_google"
-            android:text="Log in with Facebook" />
-
-        <Button
-            android:id="@+id/btn_invalidate_tokens"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_below="@+id/btn_login_facebook"
-            android:text="Invalidate Tokens" />
-
-        <Button
-            android:id="@+id/btn_dismiss_activity"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_alignTop="@+id/btn_invalidate_tokens"
-            android:layout_centerHorizontal="true"
-            android:layout_toRightOf="@+id/btn_invalidate_tokens"
-            android:text="Go back to Lollapaloozer!" />
-
-        <Button
-            android:id="@+id/btn_login_twitter"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_alignParentRight="true"
-            android:layout_toRightOf="@+id/btn_login_google"
-            android:text="Log in with Twitter" />
-
-        <Button
-            android:id="@+id/btn_login_facebook_browser"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_alignParentRight="true"
-            android:layout_alignTop="@+id/btn_login_facebook"
-            android:layout_toRightOf="@+id/btn_login_facebook"
-            android:text="Facebook (Browser)" />
-
-    </RelativeLayout>
-
-    <LinearLayout
-        android:id="@+id/layout_status"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:layout_alignParentLeft="true"
-        android:layout_below="@+id/layout_signin_buttons"
-        android:orientation="vertical" >
-
-        <TextView
-            android:id="@+id/text_login_status"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_alignParentLeft="true"
-            android:layout_below="@+id/btn_invalidate_tokens"
-            android:text="Login Status: " />
-
-        <TextView
-            android:id="@+id/text_account_name"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_alignParentLeft="true"
-            android:layout_below="@+id/text_login_status"
-            android:text="TextView" />
-
-        <TextView
-            android:id="@+id/text_token_id"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_alignParentLeft="true"
-            android:layout_below="@+id/text_account_name"
-            android:text="TextView" />
-
-        <TextView
-            android:id="@+id/text_intentionally_blank"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content" />
-    </LinearLayout>
-
-</RelativeLayout>
\ No newline at end of file
diff --git a/Lollapaloozer-Android/res/layout/auth_choose_login.xml b/Lollapaloozer-Android/res/layout/auth_choose_login.xml
new file mode 100644
index 0000000..7c48902
--- /dev/null
+++ b/Lollapaloozer-Android/res/layout/auth_choose_login.xml
@@ -0,0 +1,141 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/RelativeLayout1"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:background="#335066"
+    android:orientation="vertical" >
+
+    <RelativeLayout
+        android:id="@+id/layout_text_banner"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content">
+
+        <TextView
+            android:id="@+id/text_banner_line1"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="Signing in lets you:"
+            android:textStyle="bold"
+            android:textAppearance="?android:attr/textAppearanceMedium" />
+
+        <TextView
+            android:id="@+id/text_banner_line2"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_below="@+id/text_banner_line1"
+            android:text="*Rate sets, save comments, and email your ratings"
+            android:textAppearance="?android:attr/textAppearanceMedium" />
+
+        <TextView
+            android:id="@+id/text_banner_line3"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textAppearance="?android:attr/textAppearanceMedium" android:layout_below="@+id/text_banner_line2"
+            android:text="*Use reminder alerts- Don't miss your favorite sets (coming soon)"/>
+
+        <TextView
+            android:id="@+id/text_banner_line4"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="*Share with your friends using Facebook or Twitter (coming soon)"
+            android:textAppearance="?android:attr/textAppearanceMedium" android:layout_below="@+id/text_banner_line3"/>
+
+    </RelativeLayout>
+
+    <RelativeLayout
+        android:id="@+id/layout_signin_buttons"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_below="@+id/layout_text_banner"
+        android:layout_centerHorizontal="true"
+        android:orientation="vertical" >
+
+        <Button
+            android:id="@+id/btn_login_google"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_centerHorizontal="false"
+            android:text="Log in with Google" />
+
+        <Button
+            android:id="@+id/btn_login_facebook"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_below="@+id/btn_login_google"
+            android:text="Log in with Facebook" />
+
+        <Button
+            android:id="@+id/btn_invalidate_tokens"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_below="@+id/btn_login_facebook"
+            android:text="Invalidate Tokens" />
+
+        <Button
+            android:id="@+id/btn_dismiss_activity"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignTop="@+id/btn_invalidate_tokens"
+            android:layout_centerHorizontal="true"
+            android:layout_toRightOf="@+id/btn_invalidate_tokens"
+            android:text="Go back to Lollapaloozer!" />
+
+        <Button
+            android:id="@+id/btn_login_twitter"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentRight="true"
+            android:layout_toRightOf="@+id/btn_login_google"
+            android:text="Log in with Twitter" />
+
+        <Button
+            android:id="@+id/btn_login_facebook_browser"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentRight="true"
+            android:layout_alignTop="@+id/btn_login_facebook"
+            android:layout_toRightOf="@+id/btn_login_facebook"
+            android:text="Facebook (Browser)" />
+
+    </RelativeLayout>
+
+    <LinearLayout
+        android:id="@+id/layout_status"
+        android:layout_width="fill_parent"
+        android:layout_height="fill_parent"
+        android:layout_alignParentLeft="true"
+        android:layout_below="@+id/layout_signin_buttons"
+        android:orientation="vertical" >
+
+        <TextView
+            android:id="@+id/text_login_status"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentLeft="true"
+            android:layout_below="@+id/btn_invalidate_tokens"
+            android:text="Login Status: " />
+
+        <TextView
+            android:id="@+id/text_account_name"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentLeft="true"
+            android:layout_below="@+id/text_login_status"
+            android:text="TextView" />
+
+        <TextView
+            android:id="@+id/text_token_id"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentLeft="true"
+            android:layout_below="@+id/text_account_name"
+            android:text="TextView" />
+
+        <TextView
+            android:id="@+id/text_intentionally_blank"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content" />
+    </LinearLayout>
+
+</RelativeLayout>
\ No newline at end of file
diff --git a/Lollapaloozer-Android/res/layout/dialog_rate_set.xml b/Lollapaloozer-Android/res/layout/dialog_rate_set.xml
index 39ad125..fd83244 100644
--- a/Lollapaloozer-Android/res/layout/dialog_rate_set.xml
+++ b/Lollapaloozer-Android/res/layout/dialog_rate_set.xml
@@ -7 +7,24 @@
-
+
+    <RelativeLayout
+        android:id="@+id/rate_set_titlebar_layout"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content" >
+
+        <TextView
+            android:id="@+id/title_rate_set"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentLeft="true"
+            android:layout_alignParentTop="true"
+            android:text="Rate This Set!"
+            android:textAppearance="?android:attr/textAppearanceLarge" />
+
+        <ImageView
+            android:id="@+id/imageView_custom_dialog_close"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentRight="true"
+            android:layout_alignParentTop="true"
+            android:src="@android:drawable/ic_delete" />
+    </RelativeLayout>
+
@@ -12 +35 @@
-
+
@@ -19 +41,0 @@
-
@@ -22 +43,0 @@
-
@@ -27 +48 @@
-
+
@@ -33,2 +54,3 @@
-            android:textStyle="bold"
-            android:textAppearance="?android:attr/textAppearanceMedium" />
+            android:textAppearance="?android:attr/textAppearanceMedium"
+            android:textStyle="bold" />
+    </LinearLayout>
@@ -36,2 +57,0 @@
-    </LinearLayout>
-
@@ -44 +64 @@
-
+
@@ -50,2 +70,2 @@
-            android:text="1" />
-
+            android:text="1" />
+
@@ -55 +74,0 @@
-
@@ -57 +76 @@
-
+
@@ -62 +81 @@
-            android:text="2" />
+            android:text="2" />
@@ -68 +87 @@
-
+
@@ -73 +92 @@
-            android:text="3" />
+            android:text="3" />
@@ -79 +98 @@
-
+
@@ -84 +103 @@
-            android:text="4" />
+            android:text="4" />
@@ -90 +109 @@
-
+
@@ -95 +114 @@
-            android:text="5" />
+            android:text="5" />
@@ -100,0 +120 @@
+    </RadioGroup>
@@ -102,2 +121,0 @@
-    </RadioGroup>
-
@@ -105 +122,0 @@
-        android:layout_marginTop="5dp"
@@ -108,0 +126 @@
+        android:layout_marginTop="5dp"
@@ -112 +130,3 @@
-        android:singleLine="false" android:maxLines="4" android:scrollbars="vertical">
+        android:maxLines="4"
+        android:scrollbars="vertical"
+        android:singleLine="false" >
@@ -115 +134,0 @@
-
@@ -117 +136 @@
-
+
@@ -119 +137,0 @@
-        android:layout_marginTop="10dp"
@@ -121,0 +140 @@
+        android:layout_marginTop="10dp"
@@ -123 +142 @@
-
+
@@ -130 +149 @@
-
+
@@ -137 +155,0 @@
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
index cb1eda1..25be3e8 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
@@ -9 +9 @@ import com.facebook.android.Facebook;
-import com.lollapaloozer.ui.AuthChooseAccountActivity;
+import com.lollapaloozer.ui.ChooseLoginActivity;
@@ -19 +19 @@ public class AuthDemoModel {
-  private AuthChooseAccountActivity _activity;
+  private ChooseLoginActivity _activity;
@@ -23 +23 @@ public class AuthDemoModel {
-  public AuthDemoModel(AuthChooseAccountActivity activity) {
+  public AuthDemoModel(ChooseLoginActivity activity) {
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
index 9ef98b1..75bbe84 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -21 +21 @@ import com.lollapaloozer.auth.verify.FacebookVerifier;
-import com.lollapaloozer.ui.AuthChooseAccountActivity;
+import com.lollapaloozer.ui.ChooseLoginActivity;
@@ -25 +25 @@ public class FacebookAuthProvider implements AuthProvider {
-  private AuthChooseAccountActivity _activity;
+  private ChooseLoginActivity _activity;
@@ -35 +35 @@ public class FacebookAuthProvider implements AuthProvider {
-  public FacebookAuthProvider(AuthChooseAccountActivity activity) {
+  public FacebookAuthProvider(ChooseLoginActivity activity) {
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
index 45a324d..9898f4b 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
@@ -14 +14 @@ import com.lollapaloozer.auth.verify.TwitterVerifier;
-import com.lollapaloozer.ui.AuthChooseAccountActivity;
+import com.lollapaloozer.ui.ChooseLoginActivity;
@@ -21 +21 @@ public class FacebookWebAuthProvider implements AuthProvider {
-  private AuthChooseAccountActivity _activity;
+  private ChooseLoginActivity _activity;
@@ -36 +36 @@ public class FacebookWebAuthProvider implements AuthProvider {
-  public FacebookWebAuthProvider(AuthChooseAccountActivity activity) {
+  public FacebookWebAuthProvider(ChooseLoginActivity activity) {
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index ce41e22..0cde65d 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -17 +17 @@ import com.lollapaloozer.auth.verify.GoogleAuthVerifier;
-import com.lollapaloozer.ui.AuthChooseAccountActivity;
+import com.lollapaloozer.ui.ChooseLoginActivity;
@@ -24 +24 @@ public class GoogleAuthProvider implements AuthProvider {
-  private AuthChooseAccountActivity _activity;
+  private ChooseLoginActivity _activity;
@@ -35 +35 @@ public class GoogleAuthProvider implements AuthProvider {
-  public GoogleAuthProvider(AuthChooseAccountActivity activity) {
+  public GoogleAuthProvider(ChooseLoginActivity activity) {
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index ad937ef..75f7a6f 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -14 +14 @@ import com.lollapaloozer.auth.verify.TwitterVerifier;
-import com.lollapaloozer.ui.AuthChooseAccountActivity;
+import com.lollapaloozer.ui.ChooseLoginActivity;
@@ -20 +20 @@ public class TwitterAuthProvider implements AuthProvider {
-  private AuthChooseAccountActivity _activity;
+  private ChooseLoginActivity _activity;
@@ -35 +35 @@ public class TwitterAuthProvider implements AuthProvider {
-  public TwitterAuthProvider(AuthChooseAccountActivity activity) {
+  public TwitterAuthProvider(ChooseLoginActivity activity) {
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
deleted file mode 100644
index 8191505..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
+++ /dev/null
@@ -1,103 +0,0 @@
-package com.lollapaloozer.ui;
-
-import java.util.Calendar;
-
-import android.app.Activity;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.View;
-import android.view.View.OnClickListener;
-import android.widget.AdapterView;
-import android.widget.Button;
-import android.widget.Spinner;
-import android.widget.Toast;
-
-import com.lollapaloozer.R;
-import com.lollapaloozer.util.LollapaloozerHelper;
-
-public class ActivitySetsSearch extends Activity implements OnClickListener {
-
-  private String _daySelected;
-
-  /** Called when the activity is first created. */
-  @Override
-  public void onCreate(Bundle savedInstanceState) {
-    super.onCreate(savedInstanceState);
-
-    LollapaloozerHelper.debug(this, "Search Sets Activity Launched");
-    this.initializeApp();
-  }
-
-  public void initializeApp() {
-    setContentView(R.layout.sets_search);
-
-    // Setup day spinner
-    Spinner daySpinner = (Spinner) this.findViewById(R.id.search_spinner_day);
-    LollapaloozerHelper.populateSpinnerWithArray(daySpinner, R.array.names_day);
-    daySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
-
-      @Override
-      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
-        LollapaloozerHelper.debug(parent.getContext(), "Day Selected: " + parent.getSelectedItem());
-        _daySelected = parent.getSelectedItem().toString();
-
-      }
-
-      @Override
-      public void onNothingSelected(AdapterView<?> parent) {
-        LollapaloozerHelper.debug(parent.getContext(), "No Day Selected - Unexpected condition");
-      }
-    });
-
-    Calendar cal = Calendar.getInstance();
-    int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);
-    if (dayOfWeek == Calendar.FRIDAY) {
-      daySpinner.setSelection(0);
-    } else if (dayOfWeek == Calendar.SATURDAY) {
-      daySpinner.setSelection(1);
-    } else if (dayOfWeek == Calendar.SUNDAY) {
-      daySpinner.setSelection(2);
-    } else {
-      // Select Friday
-      daySpinner.setSelection(0);
-    }
-
-    // Register "this" as the onClick listener for search button
-    Button searchButton = (Button) this.findViewById(R.id.sets_search_button_search);
-    searchButton.setOnClickListener(this);
-  }
-
-  /**
-   * Fires when the Search ("Go!") button is pressed, this object is the OnClick
-   * listener.
-   * 
-   * @param v
-   */
-
-  public void onClick(View v) {
-    if (v.getId() == R.id.sets_search_button_search) {
-      LollapaloozerHelper.debug(this, "Search button pressed");
-
-      try {
-        Intent intent = new Intent();
-        Bundle bun = new Bundle();
-
-        bun.putString("DAY", _daySelected);
-
-        intent.setClass(this, LollapaloozerActivity.class);
-
-        intent.putExtras(bun);
-        startActivity(intent);
-        finish();
-      } catch (Exception e) {
-        e.printStackTrace();
-        Toast exceptionText = Toast.makeText(this, "Exception Launching Activity", 5);
-        exceptionText.show();
-      }
-    } else {
-      LollapaloozerHelper.debug(this, "An unknown button was pressed - Unexpected");
-    }
-
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
deleted file mode 100644
index edb1ebb..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
+++ /dev/null
@@ -1,236 +0,0 @@
-package com.lollapaloozer.ui;
-
-import android.app.Activity;
-import android.app.AlertDialog;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.View;
-import android.view.View.OnClickListener;
-import android.widget.Button;
-import android.widget.TextView;
-
-import com.lollapaloozer.R;
-import com.lollapaloozer.auth.client.AuthDemoModel;
-import com.lollapaloozer.auth.client.AuthProvider;
-import com.ratethisfest.shared.Constants;
-
-public class AuthChooseAccountActivity extends Activity implements OnClickListener {
-
-  private boolean _DEBUG = true;
-
-  // Framework
-  private TextView _loginStatusText;
-  private TextView _accountNameText;
-  private TextView _tokenIdText;
-
-  private Button _buttonLoginFacebookWeb;
-  private Button _buttonInvalidateTokens;
-  private Button _buttonDismissActivity;
-
-  // App
-  private AuthDemoModel _model;
-  private boolean _firstStart = true;
-
-  /** Called when the activity is first created. */
-  @Override
-  public void onCreate(Bundle savedInstanceState) {
-    super.onCreate(savedInstanceState);
-    setContentView(R.layout.auth_choose);
-    System.out.println("OnCreate starting");
-
-    // Framework
-    _loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
-    _accountNameText = (TextView) this.findViewById(R.id.text_account_name);
-    _tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
-
-    findViewById(R.id.btn_login_twitter).setOnClickListener(this);
-    findViewById(R.id.btn_login_google).setOnClickListener(this);
-
-    // Need references to these buttons so they can disappear
-    findViewById(R.id.btn_login_facebook).setOnClickListener(this);
-
-    _buttonLoginFacebookWeb = (Button) findViewById(R.id.btn_login_facebook_browser);
-    _buttonLoginFacebookWeb.setOnClickListener(this);
-
-    _buttonInvalidateTokens = (Button) findViewById(R.id.btn_invalidate_tokens);
-    _buttonInvalidateTokens.setOnClickListener(this);
-    _buttonDismissActivity = (Button) findViewById(R.id.btn_dismiss_activity);
-    _buttonDismissActivity.setOnClickListener(this);
-
-    // App
-    _model = new AuthDemoModel(this);
-    _model.checkAccounts();
-    System.out.println("OnCreate complete");
-  }
-
-  @Override
-  protected void onResume() {
-    super.onResume();
-
-    AuthProvider currentProvider = _model.getCurrentAuthProvider();
-    if (currentProvider != null) {
-      currentProvider.extendAccess();
-    }
-
-    _updateUI();
-
-    if (_firstStart) {
-      System.out.println("AuthChooseAccountActivity First Launch, invalidating all logins");
-      _model.invalidateTokens();
-      _updateUI();
-      _firstStart = false;
-    }
-
-  }
-
-  @Override
-  public void onClick(View arg0) {
-    String buttonClickedName = this.getResources().getResourceEntryName(arg0.getId());
-    System.out.println("Button Click: " + buttonClickedName);
-
-    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_google))) {
-      _model.loginToGoogle(); // UI Update done on callback
-    }
-    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_twitter))) {
-      _model.loginToTwitter();
-
-    }
-    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_facebook))) {
-      _model.loginToFacebook();
-
-    }
-
-    if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-        R.id.btn_login_facebook_browser))) {
-      _model.loginToFacebookBrowser();
-    }
-
-    if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-        R.id.btn_invalidate_tokens))) {
-      _model.invalidateTokens();
-      _updateUI();
-    }
-
-    if (buttonClickedName.equals(this.getResources()
-        .getResourceEntryName(R.id.btn_dismiss_activity))) {
-      _returnToMainActivity();
-    }
-  }
-
-  private void _returnToMainActivity() {
-    Intent returnIntent = getIntent();
-
-    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TYPE, _model.getCurrentAuthProviderType());
-
-    returnIntent.putExtra(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER, _model
-        .getCurrentAuthProvider().getVerifiedAccountIdentifier());
-
-    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TOKEN, _model.getCurrentAuthProvider()
-        .getAuthToken());
-
-    int result;
-    if (_model.isLoggedIn()) {
-      result = RESULT_OK;
-    } else {
-      result = RESULT_CANCELED;
-    }
-
-    setResult(result, returnIntent);
-    finish();
-  }
-
-  private void _updateUI() {
-    if (_DEBUG) {
-
-      if (_model.isLoggedIn()) {
-        AuthProvider currentProvider = _model.getCurrentAuthProvider();
-        _setLoginStatus(currentProvider.getAccountType());
-        _accountNameText.setText("Account: " + currentProvider.getLocalAccountName() + "\r\n"
-            + currentProvider.getAccountType() + " confirms you are the owner of "
-            + currentProvider.getVerifiedAccountIdentifier());
-        _tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
-      } else {
-        _setLoginStatus("Not Logged In");
-        _accountNameText.setText("");
-        _tokenIdText.setText("");
-      }
-
-      if (this.findViewById(R.layout.auth_choose) != null) {
-        this.findViewById(R.layout.auth_choose).invalidate();
-      }
-    } else {
-      _loginStatusText.setVisibility(View.GONE);
-      _accountNameText.setVisibility(View.GONE);
-      _tokenIdText.setVisibility(View.GONE);
-      _buttonInvalidateTokens.setVisibility(View.GONE);
-      _buttonDismissActivity.setVisibility(View.GONE);
-      if (_model.isLoggedIn()) {
-        _returnToMainActivity();
-      }
-
-    }
-
-  }
-
-  private void _setLoginStatus(String status) {
-    _loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
-  }
-
-  // Default is For Facebook
-  @Override
-  public void onActivityResult(int requestCode, int resultCode, Intent data) {
-    super.onActivityResult(requestCode, resultCode, data);
-
-    System.out.println("AuthChooseAccountActivity.onActivityResult(requestCode=[" + requestCode
-        + "], resultCode=[" + resultCode + "] with data: " + data);
-
-    switch (requestCode) {
-    case Constants.INTENT_REQ_TWITTER_LOGIN:
-      if (resultCode == Activity.RESULT_OK) {
-        _model.twitterAuthCallback(requestCode, resultCode, data);
-        break;
-      }
-    default:
-
-      System.out.println("onACtivityResult called with unknown values: " + requestCode + ","
-          + resultCode);
-      _model.getFacebookObject().authorizeCallback(requestCode, resultCode, data);
-      break;
-    }
-  }
-
-  public void modelChanged() {
-    // Run method in main UI thread
-    View v = findViewById(android.R.id.content);
-    v.post(new Runnable() {
-      public void run() {
-        _updateUI();
-      }
-    });
-
-    // _updateUI();
-  }
-
-  public void showErrorDialog(String title, String problem, String details) {
-    String errorString = problem + "\r\n\r\nDetails:\r\n" + details;
-    System.out.println(errorString);
-
-    AlertDialog.Builder builder = new AlertDialog.Builder(this);
-    builder.setTitle(title);
-    builder.setMessage(errorString).setCancelable(true)
-        .setPositiveButton("OK", new DialogInterface.OnClickListener() {
-          public void onClick(DialogInterface dialog, int id) {
-          }
-        })
-    // todo .setIcon(R.)
-
-    // .setNegativeButton("No", new DialogInterface.OnClickListener() {
-    // public void onClick(DialogInterface dialog, int id) {
-    // }
-    // })
-    ;
-    AlertDialog alert = builder.create();
-    alert.show();
-  }
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
new file mode 100644
index 0000000..3b0e090
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ChooseLoginActivity.java
@@ -0,0 +1,296 @@
+package com.lollapaloozer.ui;
+
+import android.app.Activity;
+import android.app.AlertDialog;
+import android.content.DialogInterface;
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.GestureDetector;
+import android.view.GestureDetector.SimpleOnGestureListener;
+import android.view.MotionEvent;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.widget.Button;
+import android.widget.TextView;
+
+import com.lollapaloozer.R;
+import com.lollapaloozer.auth.client.AuthDemoModel;
+import com.lollapaloozer.auth.client.AuthProvider;
+import com.ratethisfest.shared.Constants;
+
+public class ChooseLoginActivity extends Activity implements OnClickListener {
+
+  private boolean _debugMode = false;
+
+  // Framework
+  private TextView _loginStatusText;
+  private TextView _accountNameText;
+  private TextView _tokenIdText;
+
+  private Button _buttonLoginFacebookWeb;
+  private Button _buttonInvalidateTokens;
+  private Button _buttonDismissActivity;
+
+  // App
+  private AuthDemoModel _model;
+  private boolean _firstStart = true;
+
+  private static final int SWIPE_MIN_DISTANCE = 120;
+  private static final int SWIPE_MAX_OFF_PATH = 250;
+  private static final int SWIPE_THRESHOLD_VELOCITY = 200;
+  private GestureDetector _gestureDetector;
+  private View.OnTouchListener _gestureListener;
+
+  /** Called when the activity is first created. */
+  @Override
+  public void onCreate(Bundle savedInstanceState) {
+    super.onCreate(savedInstanceState);
+    setContentView(R.layout.auth_choose_login);
+    System.out.println("OnCreate starting");
+
+    // Framework
+    _loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
+    _accountNameText = (TextView) this.findViewById(R.id.text_account_name);
+    _tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
+
+    findViewById(R.id.btn_login_twitter).setOnClickListener(this);
+    findViewById(R.id.btn_login_google).setOnClickListener(this);
+
+    // Need references to these buttons so they can disappear
+    findViewById(R.id.btn_login_facebook).setOnClickListener(this);
+
+    _buttonLoginFacebookWeb = (Button) findViewById(R.id.btn_login_facebook_browser);
+    _buttonLoginFacebookWeb.setOnClickListener(this);
+
+    _buttonInvalidateTokens = (Button) findViewById(R.id.btn_invalidate_tokens);
+    _buttonInvalidateTokens.setOnClickListener(this);
+    _buttonDismissActivity = (Button) findViewById(R.id.btn_dismiss_activity);
+    _buttonDismissActivity.setOnClickListener(this);
+
+    _gestureDetector = new GestureDetector(new MyGestureDetector());
+    _gestureListener = new View.OnTouchListener() {
+      public boolean onTouch(View v, MotionEvent event) {
+        return _gestureDetector.onTouchEvent(event);
+      }
+    };
+
+    findViewById(android.R.id.content).setOnClickListener(ChooseLoginActivity.this);
+    findViewById(android.R.id.content).setOnTouchListener(_gestureListener);
+
+    // App
+    _model = new AuthDemoModel(this);
+    _model.checkAccounts();
+    System.out.println("OnCreate complete");
+
+  }
+
+  @Override
+  protected void onResume() {
+    super.onResume();
+
+    AuthProvider currentProvider = _model.getCurrentAuthProvider();
+    if (currentProvider != null) {
+      currentProvider.extendAccess();
+    }
+
+    if (_firstStart) {
+      System.out.println("ChooseLoginActivity First Launch, invalidating all logins");
+      _model.invalidateTokens();
+      _firstStart = false;
+    }
+
+    _updateUI();
+  }
+
+  private void _returnToMainActivity() {
+    Intent returnIntent = getIntent();
+
+    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TYPE, _model.getCurrentAuthProviderType());
+
+    returnIntent.putExtra(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER, _model
+        .getCurrentAuthProvider().getVerifiedAccountIdentifier());
+
+    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TOKEN, _model.getCurrentAuthProvider()
+        .getAuthToken());
+
+    int result;
+    if (_model.isLoggedIn()) {
+      result = RESULT_OK;
+    } else {
+      result = RESULT_CANCELED;
+    }
+
+    setResult(result, returnIntent);
+    finish();
+  }
+
+  private void _updateUI() {
+    if (_debugMode) {
+      _accountNameText.setVisibility(View.VISIBLE);
+      _tokenIdText.setVisibility(View.VISIBLE);
+      _buttonInvalidateTokens.setVisibility(View.VISIBLE);
+      _buttonDismissActivity.setVisibility(View.VISIBLE);
+
+      if (_model.isLoggedIn()) {
+        AuthProvider currentProvider = _model.getCurrentAuthProvider();
+        _setLoginStatus(currentProvider.getAccountType());
+        _accountNameText.setText("Account: " + currentProvider.getLocalAccountName() + "\r\n"
+            + currentProvider.getAccountType() + " confirms you are the owner of "
+            + currentProvider.getVerifiedAccountIdentifier());
+        _tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
+      } else {
+        _setLoginStatus("Not Logged In");
+        _accountNameText.setText("-");
+        _tokenIdText.setText("-");
+      }
+
+      if (this.findViewById(R.layout.auth_choose_login) != null) {
+        this.findViewById(R.layout.auth_choose_login).invalidate();
+      }
+
+    } else {
+      _loginStatusText.setText("");
+      // _loginStatusText.setVisibility(View.GONE);
+
+      _accountNameText.setVisibility(View.GONE);
+      _tokenIdText.setVisibility(View.GONE);
+      _buttonInvalidateTokens.setVisibility(View.GONE);
+      _buttonDismissActivity.setVisibility(View.GONE);
+      if (_model.isLoggedIn()) {
+        _returnToMainActivity();
+      }
+
+    }
+
+  }
+
+  private void _setLoginStatus(String status) {
+    _loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
+  }
+
+  // Default is For Facebook
+  @Override
+  public void onActivityResult(int requestCode, int resultCode, Intent data) {
+    super.onActivityResult(requestCode, resultCode, data);
+
+    System.out.println("ChooseLoginActivity.onActivityResult(requestCode=[" + requestCode
+        + "], resultCode=[" + resultCode + "] with data: " + data);
+
+    switch (requestCode) {
+    case Constants.INTENT_REQ_TWITTER_LOGIN:
+      if (resultCode == Activity.RESULT_OK) {
+        _model.twitterAuthCallback(requestCode, resultCode, data);
+        break;
+      }
+    default:
+
+      System.out.println("onACtivityResult called with unknown values: " + requestCode + ","
+          + resultCode);
+      _model.getFacebookObject().authorizeCallback(requestCode, resultCode, data);
+      break;
+    }
+  }
+
+  public void modelChanged() {
+    // Run method in main UI thread
+    View v = findViewById(android.R.id.content);
+    v.post(new Runnable() {
+      public void run() {
+        _updateUI();
+      }
+    });
+
+    // _updateUI();
+  }
+
+  public void showErrorDialog(String title, String problem, String details) {
+    String errorString = problem + "\r\n\r\nDetails:\r\n" + details;
+    System.out.println(errorString);
+
+    AlertDialog.Builder builder = new AlertDialog.Builder(this);
+    builder.setTitle(title);
+    builder.setMessage(errorString).setCancelable(true)
+        .setPositiveButton("OK", new DialogInterface.OnClickListener() {
+          public void onClick(DialogInterface dialog, int id) {
+          }
+        })
+    // todo .setIcon(R.)
+
+    // .setNegativeButton("No", new DialogInterface.OnClickListener() {
+    // public void onClick(DialogInterface dialog, int id) {
+    // }
+    // })
+    ;
+    AlertDialog alert = builder.create();
+    alert.show();
+  }
+
+  @Override
+  public void onClick(View arg0) {
+    String buttonClickedName = this.getResources().getResourceEntryName(arg0.getId());
+    System.out.println("Button Click: " + buttonClickedName);
+
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_google))) {
+      _model.loginToGoogle(); // UI Update done on callback
+    }
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_twitter))) {
+      _model.loginToTwitter();
+
+    }
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_facebook))) {
+      _model.loginToFacebook();
+
+    }
+
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+        R.id.btn_login_facebook_browser))) {
+      _model.loginToFacebookBrowser();
+    }
+
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+        R.id.btn_invalidate_tokens))) {
+      _model.invalidateTokens();
+      _updateUI();
+    }
+
+    if (buttonClickedName.equals(this.getResources()
+        .getResourceEntryName(R.id.btn_dismiss_activity))) {
+      _returnToMainActivity();
+    }
+  }
+
+  class MyGestureDetector extends SimpleOnGestureListener {
+    @Override
+    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
+      try {
+        if (_debugMode == true) {
+          return true;
+        }
+
+        if (Math.abs(e1.getY() - e2.getY()) > SWIPE_MAX_OFF_PATH) {
+          return false;
+        }
+
+        if (e1.getX() - e2.getX() > SWIPE_MIN_DISTANCE
+            && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {// Left Swipe
+          _loginStatusText.setText(_loginStatusText.getText() + "L");
+        } else if (e2.getX() - e1.getX() > SWIPE_MIN_DISTANCE
+            && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {// Right Swipe
+          _loginStatusText.setText(_loginStatusText.getText() + "R");
+        }
+
+      } catch (Exception e) {
+        // nothing
+      }
+
+      if (_loginStatusText.getText().equals("LRLR")) {
+        _debugMode = true;
+        _updateUI();
+      }
+
+      return true;
+    }
+
+  }
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index fa46aff..375475c 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -22,0 +23 @@ import android.view.View;
+import android.view.Window;
@@ -27,0 +29 @@ import android.widget.EditText;
+import android.widget.ImageView;
@@ -168 +170 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-          redrawUI();
+          _redrawUI();
@@ -193 +195,20 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  protected void redrawUI() {
+  /** Called by Android Framework when activity (re)gains foreground status */
+  public void onResume() {
+    super.onResume();
+
+    String firstUse = _storageManager.getString("DATA_FIRST_USE");
+    // TODO: We'll reenable this if we have something significant to say in the
+    // beginning
+    // if (firstUse == null || firstUse.equals("true")) {
+    // showDialog(DIALOG_FIRST_USE);
+    // } else {
+    _showClickToRate();
+    // }
+
+    if ((System.currentTimeMillis() - _lastRefresh) / 1000 > REFRESH_INTERVAL__SECONDS) {
+      refreshData(); // TODO multi-thread this
+    }
+
+  }
+
+  private void _redrawUI() {
@@ -196 +216,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
@@ -217,19 +236,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  /** Called by Android Framework when activity (re)gains foreground status */
-  public void onResume() {
-    super.onResume();
-
-    String firstUse = _storageManager.getString("DATA_FIRST_USE");
-    // TODO: We'll reenable this if we have something significant to say in the
-    // beginning
-    // if (firstUse == null || firstUse.equals("true")) {
-    // showDialog(DIALOG_FIRST_USE);
-    // } else {
-    _showClickToRate();
-    // }
-
-    if ((System.currentTimeMillis() - _lastRefresh) / 1000 > REFRESH_INTERVAL__SECONDS) {
-      refreshData(); // TODO multi-thread this
-    }
-
-  }
-
@@ -251,0 +253,23 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  private boolean _isLoggedIn() {
+    if (_loginData == null) {
+      return false;
+    } else {
+      return true;
+    }
+  }
+
+  private void _beginSigninProcess() {
+    Toast featureRequiresSignin = Toast.makeText(this, Constants.MSG_SIGNIN_REQUIRED, 25);
+    featureRequiresSignin.show();
+
+    // This shows the 'enter email' dialog, no longer needed
+    // showDialog(DIALOG_GETEMAIL);
+
+    Intent lollapaloozerAuthIntent = new Intent(this, ChooseLoginActivity.class);
+    // no extras needed here
+    // lollapaloozerAuthIntent.putExtra(Constants.INTENT_EXTRA_AUTH_URL,
+    // "String");
+    startActivityForResult(lollapaloozerAuthIntent, Constants.INTENT_REQ_CHOOSE_LOGIN_TYPE);
+
+  }
+
@@ -310,0 +335,29 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  private void setView_reSort() throws JSONException {
+    if (_sortMode == SORT_TIME) {
+      _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
+    } else if (_sortMode == SORT_ARTIST) {
+      _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
+    } else {
+      LollapaloozerHelper.debug(this, "Unexpected sort mode: " + _sortMode);
+      (new Exception()).printStackTrace();
+    }
+  }
+
+  /**
+   * TODO: potentially make year a searchable field here
+   */
+  private void processExtraData() {
+    Intent intent = getIntent();
+    Bundle bundle = intent.getExtras();
+
+    if (bundle == null) {
+      return;
+    }
+
+    String day = intent.getExtras().getString("DAY");
+
+    LollapaloozerHelper.debug(this, "Searching day[" + day + "]");
+    _dayToExamine = day;
+    refreshData();
+  }
+
@@ -458 +510,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  // An item was selected from the list of sets
@@ -460,6 +512,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  public void onItemSelected(AdapterView<?> parent, View arg1, int arg2, long arg3) {
-
-    // TODO Auto-generated method stub
-    LollapaloozerHelper.debug(this, "Search Type Spinner: Selected -> " + parent.getSelectedItem()
-        + "(" + arg2 + ")");
-    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+  protected void onActivityResult(int requestCode, int resultCode, Intent data) {
+    super.onActivityResult(requestCode, resultCode, data);
+    System.out.println("LollapaloozerActivity.onActivityResult req=" + requestCode + " result="
+        + resultCode);
@@ -467,3 +517,7 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    try {
-      if (parent.getSelectedItem().toString().toLowerCase().equals("time")) {
-        _sortMode = SORT_TIME;
+    if (resultCode == Activity.RESULT_OK) { // Login success
+      Bundle results = data.getExtras();
+      _loginData = new LoginData();
+      _loginData.timeLoginIssued = System.currentTimeMillis();
+      _loginData.loginType = results.getInt(Constants.INTENT_EXTRA_LOGIN_TYPE);
+      _loginData.accountIdentifier = results.getString(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER);
+      _loginData.accountToken = results.getString(Constants.INTENT_EXTRA_LOGIN_TOKEN);
@@ -471,2 +525,5 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      } else if (parent.getSelectedItem().toString().toLowerCase().equals("artist")) {
-        _sortMode = SORT_ARTIST;
+      if (_loginData.loginType == Constants.LOGIN_TYPE_GOOGLE
+          || _loginData.loginType == Constants.LOGIN_TYPE_FACEBOOK) {
+        _loginData.emailAddress = _loginData.accountIdentifier;
+      } else {
+        _loginData.emailAddress = null;
@@ -475,5 +532,7 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      setView_reSort();
-      viewSetsList.invalidateViews();
-    } catch (JSONException e) {
-      LollapaloozerHelper.debug(this, "JSONException re-sorting data");
-      e.printStackTrace();
+      System.out.println("Saving login data timeIssued=" + _loginData.timeLoginIssued
+          + " loginType=" + _loginData.loginType + " accountIdentifier="
+          + _loginData.accountIdentifier + " accountToken=" + _loginData.accountToken
+          + " emailAddress=" + _loginData.emailAddress);
+
+      _storageManager.putObject(DATA_LOGIN_INFO, _loginData);
+      _storageManager.save();
@@ -483,9 +542,6 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private void setView_reSort() throws JSONException {
-    if (_sortMode == SORT_TIME) {
-      _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
-    } else if (_sortMode == SORT_ARTIST) {
-      _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
-    } else {
-      LollapaloozerHelper.debug(this, "Unexpected sort mode: " + _sortMode);
-      (new Exception()).printStackTrace();
-    }
+  @Override
+  public void onBackPressed() {
+    System.out.println("Back button pressed");
+    // Exit if back button is pressed from this activity.
+    super.onBackPressed();
+    // getApplication().
@@ -495,4 +551,9 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  public void onNothingSelected(AdapterView<?> arg0) {
-    LollapaloozerHelper.debug(this, "Search Type Spinner: Nothing Selected");
-    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
-    spinnerSortType.setSelection(0);
+  public void onCheckedChanged(RadioGroup clickedGroup, int checkedId) {
+    // This is only useful when we want to act based on a user changing
+    // radio selection i.e. week1/week2.
+    RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
+
+    // Formerly used to select week, now always true
+    // if (clickedGroup == _rateDialog.findViewById(R.id.radio_pick_score))
+    // {
+
@@ -565 +626 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      intent.setClass(this, ActivitySetsSearch.class);
+      intent.setClass(this, SetsSearchActivity.class);
@@ -619,3 +679,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      // Dialog dialog = (Dialog) viewClicked.getParent();
-      RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
-      // scoreGroup.clearCheck();
@@ -630,0 +689,72 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  // Dialog handling, called once the first time this activity displays
+  // (a/each
+  // type of)? dialog
+  @Override
+  protected Dialog onCreateDialog(int id) {
+    if (id == DIALOG_FIRST_USE) {
+      _firstUseDialog = new Dialog(this);
+      _firstUseDialog.setContentView(R.layout.first_use_dialog);
+      _firstUseDialog.setTitle(Constants.DIALOG_TITLE_FIRST_USE);
+
+      Button buttonOK = (Button) _firstUseDialog.findViewById(R.id.button_firstuse_ok);
+      buttonOK.setOnClickListener(this);
+      return _firstUseDialog;
+    }
+
+    if (id == DIALOG_GETEMAIL) {
+      _getEmailDialog = new Dialog(this);
+      _getEmailDialog.setContentView(R.layout.get_email_address);
+      _getEmailDialog.setTitle(Constants.DIALOG_TITLE_GET_EMAIL);
+
+      Button buttonOK = (Button) _getEmailDialog.findViewById(R.id.button_provideEmail);
+      buttonOK.setOnClickListener(this);
+
+      Button buttonCancel = (Button) _getEmailDialog.findViewById(R.id.button_declineEmail);
+      buttonCancel.setOnClickListener(this);
+
+      return _getEmailDialog;
+    }
+
+    if (id == DIALOG_RATE) {
+      _rateDialog = new Dialog(this);
+      _rateDialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
+      _rateDialog.setContentView(R.layout.dialog_rate_set);
+
+      // Setup 'X' close widget
+      ImageView close_dialog = (ImageView) _rateDialog
+          .findViewById(R.id.imageView_custom_dialog_close);
+      close_dialog.setOnClickListener(new View.OnClickListener() {
+        public void onClick(View v) {
+          _rateDialog.dismiss();
+        }
+      });
+
+      Button buttonOK = (Button) _rateDialog.findViewById(R.id.button_rate_okgo);
+      buttonOK.setOnClickListener(this);
+
+      Button buttonCancel = (Button) _rateDialog.findViewById(R.id.button_rate_cancel);
+      buttonCancel.setOnClickListener(this);
+      return _rateDialog;
+    }
+
+    if (id == DIALOG_NETWORK_ERROR) {
+      _networkErrorDialog = new Dialog(this);
+      _networkErrorDialog.setContentView(R.layout.dialog_network_error);
+      _networkErrorDialog.setTitle("Network Error");
+
+      Button buttonOK = (Button) _networkErrorDialog.findViewById(R.id.button_network_error_ok);
+      buttonOK.setOnClickListener(this);
+      return _networkErrorDialog;
+
+    }
+
+    return super.onCreateDialog(id);
+  }
+
+  @Override
+  public boolean onCreateOptionsMenu(Menu menu) {
+    MenuInflater inflater = getMenuInflater();
+    inflater.inflate(R.menu.menu_global_options, menu);
+    return true;
+  }
+
@@ -656,7 +786,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private boolean _isLoggedIn() {
-    if (_loginData == null) {
-      return false;
-    } else {
-      return true;
-    }
-  }
+  @Override
+  public void onItemSelected(AdapterView<?> parent, View arg1, int arg2, long arg3) {
@@ -664,3 +789,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private void _beginSigninProcess() {
-    Toast featureRequiresSignin = Toast.makeText(this, Constants.MSG_SIGNIN_REQUIRED, 25);
-    featureRequiresSignin.show();
+    // TODO Auto-generated method stub
+    LollapaloozerHelper.debug(this, "Search Type Spinner: Selected -> " + parent.getSelectedItem()
+        + "(" + arg2 + ")");
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
@@ -668,2 +794,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    // This shows the 'enter email' dialog, no longer needed
-    // showDialog(DIALOG_GETEMAIL);
+    try {
+      if (parent.getSelectedItem().toString().toLowerCase().equals("time")) {
+        _sortMode = SORT_TIME;
@@ -671,5 +798,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    Intent lollapaloozerAuthIntent = new Intent(this, AuthChooseAccountActivity.class);
-    // no extras needed here
-    // lollapaloozerAuthIntent.putExtra(Constants.INTENT_EXTRA_AUTH_URL,
-    // "String");
-    startActivityForResult(lollapaloozerAuthIntent, Constants.INTENT_REQ_CHOOSE_LOGIN_TYPE);
+      } else if (parent.getSelectedItem().toString().toLowerCase().equals("artist")) {
+        _sortMode = SORT_ARTIST;
+      }
@@ -676,0 +802,6 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+      setView_reSort();
+      viewSetsList.invalidateViews();
+    } catch (JSONException e) {
+      LollapaloozerHelper.debug(this, "JSONException re-sorting data");
+      e.printStackTrace();
+    }
@@ -680,4 +811,5 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-    super.onActivityResult(requestCode, resultCode, data);
-    System.out.println("LollapaloozerActivity.onActivityResult req=" + requestCode + " result="
-        + resultCode);
+  public void onNothingSelected(AdapterView<?> arg0) {
+    LollapaloozerHelper.debug(this, "Search Type Spinner: Nothing Selected");
+    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
+    spinnerSortType.setSelection(0);
+  }
@@ -685,7 +817,6 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    if (resultCode == Activity.RESULT_OK) { // Login success
-      Bundle results = data.getExtras();
-      _loginData = new LoginData();
-      _loginData.timeLoginIssued = System.currentTimeMillis();
-      _loginData.loginType = results.getInt(Constants.INTENT_EXTRA_LOGIN_TYPE);
-      _loginData.accountIdentifier = results.getString(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER);
-      _loginData.accountToken = results.getString(Constants.INTENT_EXTRA_LOGIN_TOKEN);
+  protected void onNewIntent(Intent intent) {
+    super.onNewIntent(intent);
+    setIntent(intent);// must store the new intent unless getIntent() will
+    // return the old one
+    processExtraData();
+  }
@@ -693,3 +824,8 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      if (_loginData.loginType == Constants.LOGIN_TYPE_GOOGLE
-          || _loginData.loginType == Constants.LOGIN_TYPE_FACEBOOK) {
-        _loginData.emailAddress = _loginData.accountIdentifier;
+  @Override
+  public boolean onOptionsItemSelected(MenuItem item) {
+    switch (item.getItemId()) {
+    case R.id.menu_item_email_me:
+      LollapaloozerHelper.debug(this, "Menu button 'email me' pressed");
+
+      if (!_isLoggedIn()) {
+        Toast.makeText(this, "Try rating at least one set first", 15).show();
@@ -697,2 +833 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        _loginData.emailAddress = null;
-      }
+        try {
@@ -700,4 +835,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      System.out.println("Saving login data timeIssued=" + _loginData.timeLoginIssued
-          + " loginType=" + _loginData.loginType + " accountIdentifier="
-          + _loginData.accountIdentifier + " accountToken=" + _loginData.accountToken
-          + " emailAddress=" + _loginData.emailAddress);
+          // Toast.makeText(this, "This feature coming soon!", 15).show();
+          showDialog(DIALOG_GETEMAIL);
@@ -704,0 +838,10 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+        } catch (Exception e) {
+          LollapaloozerHelper.debug(this, "Error requesting ratings email");
+          e.printStackTrace();
+        }
+      }
+      return true;
+
+    case R.id.menu_item_delete_email:
+      LollapaloozerHelper.debug(this, "Menu button 'delete email' pressed");
+      _loginData = null;
@@ -705,0 +849 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+
@@ -706,0 +851,5 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+      refreshData();
+      return true;
+
+    default:
+      return super.onOptionsItemSelected(item);
@@ -729,2 +877,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
-      // _rateDialog.setTitle("Rate this Set!");
@@ -786,143 +932,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  // Dialog handling, called once the first time this activity displays
-  // (a/each
-  // type of)? dialog
-  @Override
-  protected Dialog onCreateDialog(int id) {
-    if (id == DIALOG_FIRST_USE) {
-      _firstUseDialog = new Dialog(this);
-      _firstUseDialog.setContentView(R.layout.first_use_dialog);
-      _firstUseDialog.setTitle(Constants.DIALOG_TITLE_FIRST_USE);
-
-      Button buttonOK = (Button) _firstUseDialog.findViewById(R.id.button_firstuse_ok);
-      buttonOK.setOnClickListener(this);
-      return _firstUseDialog;
-    }
-
-    if (id == DIALOG_GETEMAIL) {
-      _getEmailDialog = new Dialog(this);
-      _getEmailDialog.setContentView(R.layout.get_email_address);
-      _getEmailDialog.setTitle(Constants.DIALOG_TITLE_GET_EMAIL);
-
-      Button buttonOK = (Button) _getEmailDialog.findViewById(R.id.button_provideEmail);
-      buttonOK.setOnClickListener(this);
-
-      Button buttonCancel = (Button) _getEmailDialog.findViewById(R.id.button_declineEmail);
-      buttonCancel.setOnClickListener(this);
-
-      return _getEmailDialog;
-    }
-
-    if (id == DIALOG_RATE) {
-      _rateDialog = new Dialog(this);
-      _rateDialog.setContentView(R.layout.dialog_rate_set);
-      _rateDialog.setTitle("Rate This Set!");
-
-      Button buttonOK = (Button) _rateDialog.findViewById(R.id.button_rate_okgo);
-      buttonOK.setOnClickListener(this);
-
-      Button buttonCancel = (Button) _rateDialog.findViewById(R.id.button_rate_cancel);
-      buttonCancel.setOnClickListener(this);
-      return _rateDialog;
-    }
-
-    if (id == DIALOG_NETWORK_ERROR) {
-      _networkErrorDialog = new Dialog(this);
-      _networkErrorDialog.setContentView(R.layout.dialog_network_error);
-      _networkErrorDialog.setTitle("Network Error");
-
-      Button buttonOK = (Button) _networkErrorDialog.findViewById(R.id.button_network_error_ok);
-      buttonOK.setOnClickListener(this);
-      return _networkErrorDialog;
-
-    }
-
-    return super.onCreateDialog(id);
-  }
-
-  protected void onNewIntent(Intent intent) {
-    super.onNewIntent(intent);
-    setIntent(intent);// must store the new intent unless getIntent() will
-    // return the old one
-    processExtraData();
-  }
-
-  /**
-   * TODO: potentially make year a searchable field here
-   */
-  private void processExtraData() {
-    Intent intent = getIntent();
-    Bundle bundle = intent.getExtras();
-
-    if (bundle == null) {
-      return;
-    }
-
-    String day = intent.getExtras().getString("DAY");
-
-    LollapaloozerHelper.debug(this, "Searching day[" + day + "]");
-    _dayToExamine = day;
-    refreshData();
-  }
-
-  @Override
-  public boolean onCreateOptionsMenu(Menu menu) {
-    MenuInflater inflater = getMenuInflater();
-    inflater.inflate(R.menu.menu_global_options, menu);
-    return true;
-  }
-
-  @Override
-  public boolean onOptionsItemSelected(MenuItem item) {
-    switch (item.getItemId()) {
-    case R.id.menu_item_email_me:
-      LollapaloozerHelper.debug(this, "Menu button 'email me' pressed");
-
-      if (!_isLoggedIn()) {
-        Toast.makeText(this, "Try rating at least one set first", 15).show();
-      } else {
-        try {
-
-          // Toast.makeText(this, "This feature coming soon!", 15).show();
-          showDialog(DIALOG_GETEMAIL);
-
-        } catch (Exception e) {
-          LollapaloozerHelper.debug(this, "Error requesting ratings email");
-          e.printStackTrace();
-        }
-      }
-      return true;
-
-    case R.id.menu_item_delete_email:
-      LollapaloozerHelper.debug(this, "Menu button 'delete email' pressed");
-      _loginData = null;
-      _storageManager.putObject(DATA_LOGIN_INFO, _loginData);
-
-      _storageManager.save();
-      refreshData();
-      return true;
-
-    default:
-      return super.onOptionsItemSelected(item);
-    }
-  }
-
-  @Override
-  public void onCheckedChanged(RadioGroup clickedGroup, int checkedId) {
-    // This is only useful when we want to act based on a user changing
-    // radio selection i.e. week1/week2.
-    RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
-
-    // Formerly used to select week, now always true
-    // if (clickedGroup == _rateDialog.findViewById(R.id.radio_pick_score))
-    // {
-
-  }
-
-  @Override
-  public void onBackPressed() {
-    System.out.println("Back button pressed");
-    // Exit if back button is pressed from this activity.
-    super.onBackPressed();
-    // getApplication().
-  }
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/SetsSearchActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/SetsSearchActivity.java
new file mode 100644
index 0000000..d14f9c4
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/SetsSearchActivity.java
@@ -0,0 +1,103 @@
+package com.lollapaloozer.ui;
+
+import java.util.Calendar;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.widget.AdapterView;
+import android.widget.Button;
+import android.widget.Spinner;
+import android.widget.Toast;
+
+import com.lollapaloozer.R;
+import com.lollapaloozer.util.LollapaloozerHelper;
+
+public class SetsSearchActivity extends Activity implements OnClickListener {
+
+  private String _daySelected;
+
+  /** Called when the activity is first created. */
+  @Override
+  public void onCreate(Bundle savedInstanceState) {
+    super.onCreate(savedInstanceState);
+
+    LollapaloozerHelper.debug(this, "Search Sets Activity Launched");
+    this.initializeApp();
+  }
+
+  public void initializeApp() {
+    setContentView(R.layout.sets_search);
+
+    // Setup day spinner
+    Spinner daySpinner = (Spinner) this.findViewById(R.id.search_spinner_day);
+    LollapaloozerHelper.populateSpinnerWithArray(daySpinner, R.array.names_day);
+    daySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+
+      @Override
+      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
+        LollapaloozerHelper.debug(parent.getContext(), "Day Selected: " + parent.getSelectedItem());
+        _daySelected = parent.getSelectedItem().toString();
+
+      }
+
+      @Override
+      public void onNothingSelected(AdapterView<?> parent) {
+        LollapaloozerHelper.debug(parent.getContext(), "No Day Selected - Unexpected condition");
+      }
+    });
+
+    Calendar cal = Calendar.getInstance();
+    int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);
+    if (dayOfWeek == Calendar.FRIDAY) {
+      daySpinner.setSelection(0);
+    } else if (dayOfWeek == Calendar.SATURDAY) {
+      daySpinner.setSelection(1);
+    } else if (dayOfWeek == Calendar.SUNDAY) {
+      daySpinner.setSelection(2);
+    } else {
+      // Select Friday
+      daySpinner.setSelection(0);
+    }
+
+    // Register "this" as the onClick listener for search button
+    Button searchButton = (Button) this.findViewById(R.id.sets_search_button_search);
+    searchButton.setOnClickListener(this);
+  }
+
+  /**
+   * Fires when the Search ("Go!") button is pressed, this object is the OnClick
+   * listener.
+   * 
+   * @param v
+   */
+
+  public void onClick(View v) {
+    if (v.getId() == R.id.sets_search_button_search) {
+      LollapaloozerHelper.debug(this, "Search button pressed");
+
+      try {
+        Intent intent = new Intent();
+        Bundle bun = new Bundle();
+
+        bun.putString("DAY", _daySelected);
+
+        intent.setClass(this, LollapaloozerActivity.class);
+
+        intent.putExtras(bun);
+        startActivity(intent);
+        finish();
+      } catch (Exception e) {
+        e.printStackTrace();
+        Toast exceptionText = Toast.makeText(this, "Exception Launching Activity", 5);
+        exceptionText.show();
+      }
+    } else {
+      LollapaloozerHelper.debug(this, "An unknown button was pressed - Unexpected");
+    }
+
+  }
+
+}
cda29c44d68590342db3b9cd53bb7bd92c401198
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
index be3b38e..9ef98b1 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -51,2 +50,0 @@ public class FacebookAuthProvider implements AuthProvider {
-
-    // return _facebook.isSessionValid();
@@ -57,28 +55,2 @@ public class FacebookAuthProvider implements AuthProvider {
-
-    _facebook.authorize(_activity, new String[] { "email" }, new DialogListener() {
-      @Override
-      public void onComplete(Bundle values) {
-        System.out.println("Facebook authorization completed, token: " + _facebook.getAccessToken()
-            + " valid until " + _facebook.getAccessExpires());
-        mAsyncRunner.request("me", new IDRequestListener()); // get user info
-                                                             // from facebook
-        _activity.modelChanged();
-        // TODO should lock UI here
-      }
-
-      @Override
-      public void onFacebookError(FacebookError error) {
-        System.out.println("Facebook platform error during authorization");
-      }
-
-      @Override
-      public void onError(DialogError e) {
-        System.out.println("Error with facebook authorization dialog");
-      }
-
-      @Override
-      public void onCancel() {
-        System.out.println("Facebook authorization dialog cancelled by user");
-      }
-    });
-
+    // Proceeds Asynchronously
+    _facebook.authorize(_activity, new String[] { "email" }, new AuthListener());
@@ -90,0 +63,4 @@ public class FacebookAuthProvider implements AuthProvider {
+  private void _showError(String problem, String details) {
+    _activity.showErrorDialog("Facebook Login Error", problem, details);
+  }
+
@@ -138,0 +115,35 @@ public class FacebookAuthProvider implements AuthProvider {
+  private final class AuthListener implements DialogListener {
+    @Override
+    public void onComplete(Bundle values) {
+      System.out.println("Facebook authorization completed, token: " + _facebook.getAccessToken()
+          + " valid until " + _facebook.getAccessExpires());
+      mAsyncRunner.request("me", new IDRequestListener()); // get user info
+                                                           // from facebook
+      _activity.modelChanged();
+      // TODO should lock UI here
+    }
+
+    @Override
+    public void onFacebookError(FacebookError error) {
+      System.out.println("Facebook platform error during authorization");
+      _showError("Facebook Authorization Platform Error",
+          error.getErrorType() + ": " + error.getMessage());
+      // error.getStackTrace()
+    }
+
+    @Override
+    public void onError(DialogError e) {
+      System.out.println("Error with facebook authorization dialog");
+      _showError("Facebook Authorization Dialog Error", "DialogError: " + e.getMessage());
+      // e.getStackTrace();
+    }
+
+    @Override
+    public void onCancel() {
+      System.out.println("Facebook authorization dialog cancelled by user");
+      _showError(
+          "User Cancelled Authorization",
+          "You should only be seeing this message if you declined to authorize this application for your Facebook account.");
+    }
+  }
+
@@ -159,2 +170,2 @@ public class FacebookAuthProvider implements AuthProvider {
-      } catch (JSONException e) {
-        Log.d(TAG, "JSONException: " + e.getMessage());
+      } catch (JSONException ex) {
+        _showError("Facebook Response Error", "JSONException reading response: " + ex.getMessage());
@@ -162 +173,2 @@ public class FacebookAuthProvider implements AuthProvider {
-        Log.d(TAG, "FacebookError: " + e.getMessage());
+        _showError("Facebook Response Platform Error", e.getErrorType() + ": " + e.getMessage()
+            + " " + state.toString());
@@ -169 +181 @@ public class FacebookAuthProvider implements AuthProvider {
-      Log.d(TAG, "IOException: " + e.getMessage());
+      _showError("Facebook Request Error", "IOException while verifying account: " + e.getMessage());
@@ -174 +186,2 @@ public class FacebookAuthProvider implements AuthProvider {
-      Log.d(TAG, "FileNotFoundException: " + e.getMessage());
+      _showError("Facebook Request Error",
+          "FileNotFoundException while verifying account: " + e.getMessage());
@@ -179 +192,2 @@ public class FacebookAuthProvider implements AuthProvider {
-      Log.d(TAG, "MalformedURLException: " + e.getMessage());
+      _showError("Facebook Request Error",
+          "MalformedURLException while verifying account: " + e.getMessage());
@@ -184 +198,2 @@ public class FacebookAuthProvider implements AuthProvider {
-      Log.d(TAG, "FacebookError: " + e.getMessage());
+      _showError("Facebook Request Platform Error", e.getErrorType() + ": " + e.getMessage() + " "
+          + state.toString());
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index d36abcf..ce41e22 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -104,0 +105,2 @@ public class GoogleAuthProvider implements AuthProvider {
+    System.out.println("Google auth token is automatically extended?");
+  }
@@ -106,2 +108,2 @@ public class GoogleAuthProvider implements AuthProvider {
-    System.out
-        .println("Activity resumed.  Not sure if google auth token is automatically extended.");
+  private void _errorDialog(String problem, String details) {
+    _activity.showErrorDialog("Google Login Error", problem, details);
@@ -118 +120,3 @@ public class GoogleAuthProvider implements AuthProvider {
-        System.out.println("User appears to have denied auth request");
+        _errorDialog(
+            "You should only see this message if you refused to authorize this app for your Google account.",
+            "OperationCanceledException" + e.getMessage());
@@ -120,0 +125 @@ public class GoogleAuthProvider implements AuthProvider {
+        _errorDialog("AuthenticatorException", e.getMessage());
@@ -122,0 +128 @@ public class GoogleAuthProvider implements AuthProvider {
+        _errorDialog("IOException", e.getMessage());
@@ -131,2 +137,3 @@ public class GoogleAuthProvider implements AuthProvider {
-        throw new RuntimeException("Unexpected Code Path");
-        // TODO return to account selection or something...
+        _errorDialog("Unexpected response from Google",
+            "Response contains Intent key.  Unexpected code path.");
+        return;
@@ -158,0 +166,4 @@ public class GoogleAuthProvider implements AuthProvider {
+        } else {
+          // No More Retries
+          _errorDialog("Login failed after multiple attempts.", "Could not get access token after "
+              + TOKEN_RETRIES + " attempts.");
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
index 1781637..edb1ebb 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
@@ -3,0 +4,2 @@ import android.app.Activity;
+import android.app.AlertDialog;
+import android.content.DialogInterface;
@@ -192,0 +195 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+
@@ -211,0 +215,21 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+  public void showErrorDialog(String title, String problem, String details) {
+    String errorString = problem + "\r\n\r\nDetails:\r\n" + details;
+    System.out.println(errorString);
+
+    AlertDialog.Builder builder = new AlertDialog.Builder(this);
+    builder.setTitle(title);
+    builder.setMessage(errorString).setCancelable(true)
+        .setPositiveButton("OK", new DialogInterface.OnClickListener() {
+          public void onClick(DialogInterface dialog, int id) {
+          }
+        })
+    // todo .setIcon(R.)
+
+    // .setNegativeButton("No", new DialogInterface.OnClickListener() {
+    // public void onClick(DialogInterface dialog, int id) {
+    // }
+    // })
+    ;
+    AlertDialog alert = builder.create();
+    alert.show();
+  }
52e89cd77553fe8eeae5779350b5d09f75ea339f
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/FacebookAuthProviderOAuth.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/FacebookAuthProviderOAuth.java
new file mode 100644
index 0000000..3a223f2
--- /dev/null
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/FacebookAuthProviderOAuth.java
@@ -0,0 +1,63 @@
+package com.lollapaloozer.auth;
+
+import org.scribe.builder.ServiceBuilder;
+import org.scribe.builder.api.TwitterApi;
+import org.scribe.model.OAuthRequest;
+import org.scribe.model.Response;
+import org.scribe.model.Token;
+import org.scribe.model.Verb;
+import org.scribe.model.Verifier;
+import org.scribe.oauth.OAuthService;
+
+public class FacebookAuthProviderOAuth {
+
+  private OAuthService _service;
+  private Token _requestToken;
+  private Token _accessToken;
+  private String _consumerKey;
+  private String _consumerSecret;
+  private String _callbackUrl;
+
+  public FacebookAuthProviderOAuth(String consumerKey, String consumerSecret, String callbackUrl) {
+    _consumerKey = consumerKey;
+    _consumerSecret = consumerSecret;
+    _callbackUrl = callbackUrl;
+
+    _service = _getService();
+  }
+
+  private OAuthService _getService() {
+    return new ServiceBuilder().provider(TwitterApi.class).apiKey(_consumerKey)
+        .apiSecret(_consumerSecret).callback(_callbackUrl).build();
+  }
+
+  public String getRequestTokenUrl() {
+    _requestToken = _service.getRequestToken();
+
+    String authUrl = _service.getAuthorizationUrl(_requestToken);
+    System.out.println("Twitter OAuth request token URL:" + authUrl);
+    return authUrl;
+  }
+
+  public void requestTokenResult(String token, String tokenVerify) {
+    Verifier verifier = new Verifier(tokenVerify);
+    _accessToken = _service.getAccessToken(_requestToken, verifier);
+  }
+
+  public Response accessResource(Verb httpVerb, String resourceUrl) {
+    OAuthRequest request = new OAuthRequest(httpVerb, resourceUrl);
+
+    _service.signRequest(_accessToken, request); // the access // token from
+    // // step 4 Response
+    // response =
+    return request.send();
+  }
+
+  public String getAccessToken() {
+    return _accessToken.getToken() + "|" + _accessToken.getSecret();
+  }
+
+  public void setAccessTokenObject(String token, String secret) {
+    _accessToken = new Token(token, secret);
+  }
+}
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
index 59d6e8b..6cbe637 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
@@ -26 +26 @@ public class TwitterAuthProviderOAuth {
-    _service = getService();
+    _service = _getService();
@@ -29 +29,4 @@ public class TwitterAuthProviderOAuth {
-  public String getRequestTokenUrl() {
+  private OAuthService _getService() {
+    return new ServiceBuilder().provider(TwitterApi.class).apiKey(_consumerKey)
+        .apiSecret(_consumerSecret).callback(_callbackUrl).build();
+  }
@@ -30,0 +34 @@ public class TwitterAuthProviderOAuth {
+  public String getRequestTokenUrl() {
@@ -38,5 +41,0 @@ public class TwitterAuthProviderOAuth {
-  public OAuthService getService() {
-    return new ServiceBuilder().provider(TwitterApi.class).apiKey(_consumerKey)
-        .apiSecret(_consumerSecret).callback(_callbackUrl).build();
-  }
-
@@ -45,10 +44 @@ public class TwitterAuthProviderOAuth {
-    _accessToken = _service.getAccessToken(_requestToken, verifier); // the
-    // requestToken
-    // you
-    // had
-    // from
-    // step
-    // 2
-    // OAuthRequest
-    // request
-
+    _accessToken = _service.getAccessToken(_requestToken, verifier);
@@ -58 +47,0 @@ public class TwitterAuthProviderOAuth {
-
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
index eb16d57..c7f9c8b 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
@@ -22,3 +22,13 @@ public class Constants {
-  public static final String REQUEST_URL = "https://api.twitter.com/oauth/request_token";
-  public static final String ACCESS_URL = "https://api.twitter.com/oauth/access_token";
-  public static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize";
+  // public static final String REQUEST_URL_TWITTER =
+  // "https://api.twitter.com/oauth/request_token";
+  // public static final String AUTHORIZE_URL_TWITTER =
+  // "https://api.twitter.com/oauth/authorize";
+  // public static final String ACCESS_URL_TWITTER =
+  // "https://api.twitter.com/oauth/access_token";
+
+  // public static final String REQUEST_URL_FACEBOOK =
+  // "http://www.facebook.com/dialog/oauth/";
+  // public static final String AUTHORIZE_URL_TWITTER =
+  // "https://api.twitter.com/oauth/authorize";
+  // public static final String ACCESS_URL_TWITTER =
+  // "https://api.twitter.com/oauth/access_token";
@@ -30,4 +39,0 @@ public class Constants {
-  // public static final String OAUTH_CALLBACK_SCHEME = "http";
-  // public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME +
-  // "://msnbc.com"; //todo update this
-
@@ -44 +50 @@ public class Constants {
-  public static final String INTENT_EXTRA_TWITTER_AUTHURL = "intent.extra.twitter.auth";
+  public static final String INTENT_EXTRA_AUTH_URL = "intent.extra.twitter.auth";
@@ -53,0 +60 @@ public class Constants {
+  public static final int LOGIN_TYPE_FACEBOOK_BROWSER = 4;
diff --git a/Lollapaloozer-Android/res/layout/auth_choose.xml b/Lollapaloozer-Android/res/layout/auth_choose.xml
index 448007d..92aad10 100644
--- a/Lollapaloozer-Android/res/layout/auth_choose.xml
+++ b/Lollapaloozer-Android/res/layout/auth_choose.xml
@@ -45 +45 @@
-
+
@@ -49,0 +50 @@
+        android:layout_below="@+id/layout_text_banner"
@@ -51,2 +52,2 @@
-        android:orientation="vertical" android:layout_below="@+id/layout_text_banner">
-
+        android:orientation="vertical" >
+
@@ -57 +58 @@
-            android:layout_centerHorizontal="true"
+            android:layout_centerHorizontal="false"
@@ -59,9 +60 @@
-
-        <Button
-            android:id="@+id/btn_login_twitter"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_below="@+id/btn_login_facebook"
-            android:layout_centerHorizontal="true"
-            android:text="Log in with Twitter" />
-
+
@@ -73,3 +66,2 @@
-            android:layout_centerHorizontal="true"
-            android:text="Log in with Facebook" />
-
+            android:text="Log in with Facebook" />
+
@@ -80,4 +72,3 @@
-            android:layout_alignParentLeft="true"
-            android:layout_below="@+id/btn_login_twitter"
-            android:text="Invalidate Tokens" />
-
+            android:layout_below="@+id/btn_login_facebook"
+            android:text="Invalidate Tokens" />
+
@@ -88 +79,2 @@
-            android:layout_below="@+id/btn_login_twitter"
+            android:layout_alignTop="@+id/btn_invalidate_tokens"
+            android:layout_centerHorizontal="true"
@@ -90,0 +83,17 @@
+
+        <Button
+            android:id="@+id/btn_login_twitter"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentRight="true"
+            android:layout_toRightOf="@+id/btn_login_google"
+            android:text="Log in with Twitter" />
+
+        <Button
+            android:id="@+id/btn_login_facebook_browser"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentRight="true"
+            android:layout_alignTop="@+id/btn_login_facebook"
+            android:layout_toRightOf="@+id/btn_login_facebook"
+            android:text="Facebook (Browser)" />
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
index 4b55a80..cb1eda1 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
@@ -15,0 +16,3 @@ public class AuthDemoModel {
+  private TwitterAuthProvider _authProviderTwitter;
+  private FacebookWebAuthProvider _authProviderFacebookWeb;
+
@@ -19 +21,0 @@ public class AuthDemoModel {
-  private TwitterAuthProvider _authProviderTwitter;
@@ -24,0 +27,2 @@ public class AuthDemoModel {
+    _authProviderFacebookWeb = new FacebookWebAuthProvider(_activity);
+
@@ -37,0 +42,4 @@ public class AuthDemoModel {
+    if (_authProviderFacebookWeb.isLoggedIn()) {
+      numLogins++;
+    }
+
@@ -61,0 +70,4 @@ public class AuthDemoModel {
+    if (_authProviderFacebookWeb.isLoggedIn()) {
+      return _authProviderFacebookWeb;
+    }
+
@@ -77,0 +90,4 @@ public class AuthDemoModel {
+    if (_authProviderFacebookWeb.isLoggedIn()) {
+      return Constants.LOGIN_TYPE_FACEBOOK_BROWSER;
+    }
+
@@ -108,0 +125 @@ public class AuthDemoModel {
+    _authProviderFacebookWeb.logout();
@@ -119,0 +137,4 @@ public class AuthDemoModel {
+  public void loginToFacebookBrowser() {
+    _authProviderFacebookWeb.login();
+  }
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
new file mode 100644
index 0000000..45a324d
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookWebAuthProvider.java
@@ -0,0 +1,128 @@
+package com.lollapaloozer.auth.client;
+
+import java.util.ArrayList;
+import java.util.HashMap;
+
+import org.scribe.model.Response;
+import org.scribe.model.Verb;
+
+import android.app.Activity;
+import android.content.Intent;
+
+import com.lollapaloozer.auth.TwitterAuthProviderOAuth;
+import com.lollapaloozer.auth.verify.TwitterVerifier;
+import com.lollapaloozer.ui.AuthChooseAccountActivity;
+import com.lollapaloozer.ui.TwitterAuthWebpageActivity;
+import com.ratethisfest.shared.Constants;
+import com.ratethisfest.shared.Helper;
+
+public class FacebookWebAuthProvider implements AuthProvider {
+
+  private AuthChooseAccountActivity _activity;
+
+  private TwitterAuthProviderOAuth _oAuthProvider;
+  private HashMap<String, String> _twitterAccountProperties = new HashMap<String, String>();
+  private ArrayList<String> _twitterAccountPropertyNames;
+
+  private FacebookWebAuthProvider() {
+    // Default constructor disallowed
+  }
+
+  // private String _key;
+  // private String _secret;
+  // Consumer key yit4Mu71Mj93eNILUo3uCw
+  // Consumer secret rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI
+
+  public FacebookWebAuthProvider(AuthChooseAccountActivity activity) {
+    _activity = activity;
+    _oAuthProvider = new TwitterAuthProviderOAuth(Constants.CONSUMER_KEY,
+        Constants.CONSUMER_SECRET, Constants.OAUTH_CALLBACK_URL);
+    _twitterAccountPropertyNames = new ArrayList<String>();
+    _twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_ID);
+    _twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_NAME);
+    _twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE);
+  }
+
+  @Override
+  public boolean isLoggedIn() {
+
+    if (_twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE) == null) {
+      return false;
+    }
+
+    TwitterVerifier verifier = new TwitterVerifier();
+    return verifier.verify(_oAuthProvider.getAccessToken(),
+        _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE));
+
+  }
+
+  @Override
+  public void login() {
+    String authReqTokenUrl = _oAuthProvider.getRequestTokenUrl();
+    Intent twitterAuthIntent = new Intent(_activity, TwitterAuthWebpageActivity.class);
+    twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_AUTH_URL, authReqTokenUrl);
+    _activity.startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
+  }
+
+  @Override
+  public void logout() {
+    _twitterAccountProperties.clear();
+  }
+
+  @Override
+  public String getAccountType() {
+    return "twitter (custom implementation)";
+  }
+
+  @Override
+  public String getLocalAccountName() {
+    return _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE) + "("
+        + _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_NAME) + ")";
+  }
+
+  @Override
+  public String getVerifiedAccountIdentifier() {
+    // Not available through twitter
+    return _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_ID);
+  }
+
+  @Override
+  public String getAuthToken() {
+    return _oAuthProvider.getAccessToken();
+  }
+
+  @Override
+  public void extendAccess() {
+    // TODO Auto-generated method stub
+
+  }
+
+  public void requestTokenCallback(int requestCode, int resultCode, Intent data) {
+    if (resultCode == Activity.RESULT_OK) {
+      String token = data.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_TOKEN);
+      String verifier = data.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_VERIFIER);
+      _oAuthProvider.requestTokenResult(token, verifier);
+    }
+
+    Response response = _oAuthProvider.accessResource(Verb.GET,
+        "http://api.twitter.com/1/account/verify_credentials.xml");
+    String responseBody = response.getBody();
+    // System.out.println(response.getBody());
+
+    _twitterAccountProperties.clear();
+
+    for (String s : _twitterAccountPropertyNames) {
+      _twitterAccountProperties.put(s, Helper.readXmlProperty(s, responseBody));
+    }
+
+    // If data is meaningful, set logged in flag;
+    if (getLocalAccountName() != null && getVerifiedAccountIdentifier() != null) {
+
+      System.out.println("Twitter Authentication Successful");
+      _activity.modelChanged();
+    } else {
+      System.out.println("Twitter Authentication was not successful");
+    }
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index 9c5ea39..ad937ef 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -38,0 +39 @@ public class TwitterAuthProvider implements AuthProvider {
+
@@ -45,50 +45,0 @@ public class TwitterAuthProvider implements AuthProvider {
-  // //This does work, although it launches the device browser directly
-  // @Override
-  // public void login() {
-  // try {
-  // CommonsHttpOAuthConsumer consumer = new CommonsHttpOAuthConsumer(_key,
-  // _secret);
-  // DefaultOAuthProvider provider = new
-  // DefaultOAuthProvider("https://twitter.com/oauth/request_token",
-  // "https://twitter.com/oauth/access_token",
-  // "https://twitter.com/oauth/authorize");
-  // String authUrl = provider.retrieveRequestToken(consumer,
-  // "http://callback_url"); //todo fix this
-  // Toast.makeText(_activity, "Please authorize this app!",
-  // Toast.LENGTH_LONG).show();
-  // //setConsumerProvider();
-  // _activity.startActivity(new Intent(Intent.ACTION_VIEW,
-  // Uri.parse(authUrl)));
-  // } catch (Exception e) {
-  // Toast.makeText(_activity, e.getMessage(), Toast.LENGTH_LONG).show();
-  // }
-  // }
-
-  // //Copied from library example page, this could not be made to work
-  // @Override
-  // public void login() {
-  // TwitterFactory factory = new TwitterFactory();
-  // Twitter twitter = factory.getInstance();
-  //
-  // RequestToken requestToken;
-  // try {
-  // twitter.setOAuthConsumer("_key", "_secret");
-  // requestToken = twitter.getOAuthRequestToken(); //throws TwitterException
-  // System.out.println("Open the following URL and grant access to your account:");
-  // System.out.println(requestToken.getAuthorizationURL());
-  //
-  //
-  // //twitter.setOAuthAccessToken(accessToken);
-  //
-  //
-  //
-  // } catch (TwitterException e) {
-  // // TODO Auto-generated catch block
-  // int statusCode = e.getStatusCode();
-  // String exceptionCode = e.getExceptionCode();
-  // String exceptionMessage = e.getMessage();
-  // e.printStackTrace();
-  // }
-  //
-  // }
-
@@ -112 +63 @@ public class TwitterAuthProvider implements AuthProvider {
-    twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_TWITTER_AUTHURL, authReqTokenUrl);
+    twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_AUTH_URL, authReqTokenUrl);
@@ -162 +112,0 @@ public class TwitterAuthProvider implements AuthProvider {
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
index 1d02b40..1781637 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
@@ -23,0 +24,2 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+
+  private Button _buttonLoginFacebookWeb;
@@ -43,3 +45,9 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
-    this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
-    this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
-    this.findViewById(R.id.btn_login_google).setOnClickListener(this);
+    findViewById(R.id.btn_login_twitter).setOnClickListener(this);
+    findViewById(R.id.btn_login_google).setOnClickListener(this);
+
+    // Need references to these buttons so they can disappear
+    findViewById(R.id.btn_login_facebook).setOnClickListener(this);
+
+    _buttonLoginFacebookWeb = (Button) findViewById(R.id.btn_login_facebook_browser);
+    _buttonLoginFacebookWeb.setOnClickListener(this);
+
@@ -48 +55,0 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
-
@@ -93,0 +101,6 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+        R.id.btn_login_facebook_browser))) {
+      _model.loginToFacebookBrowser();
+    }
+
@@ -165 +178 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
-  // For Facebook
+  // Default is For Facebook
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index fc8a997..fa46aff 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -673 +673 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    // lollapaloozerAuthIntent.putExtra(Constants.INTENT_EXTRA_TWITTER_AUTHURL,
+    // lollapaloozerAuthIntent.putExtra(Constants.INTENT_EXTRA_AUTH_URL,
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/TwitterAuthWebpageActivity.java
index f2ceb67..588c231 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/TwitterAuthWebpageActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/TwitterAuthWebpageActivity.java
@@ -23,3 +23 @@ public class TwitterAuthWebpageActivity extends Activity {
-    Intent callingIntent = getIntent();
-    String authUrl = callingIntent.getStringExtra(Constants.INTENT_EXTRA_TWITTER_AUTHURL);
-
+    // Setup 'X' close widget
@@ -27 +24,0 @@ public class TwitterAuthWebpageActivity extends Activity {
-
@@ -36 +32,0 @@ public class TwitterAuthWebpageActivity extends Activity {
-    // webview = new WebView(this);
@@ -41,7 +36,0 @@ public class TwitterAuthWebpageActivity extends Activity {
-
-    // System.out.println("webview requesting focus ("+
-    // webview.hasFocus()+")");
-    // webview.requestFocusFromTouch();
-    // System.out.println("webview requested focus ("+
-    // webview.hasFocus()+")");
-
@@ -50 +38,0 @@ public class TwitterAuthWebpageActivity extends Activity {
-      private boolean shown = false;
@@ -56,9 +44 @@ public class TwitterAuthWebpageActivity extends Activity {
-        // if (!shown) {
-        System.out.println("onPageFinished showing dialog: " + url);
-        // _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
-        // LayoutParams.FILL_PARENT); //todo try commenting this
-
-        // _alertDialog.show();
-        // shown = true;
-        // _activity.setContentView(layout);
-        // }
+        System.out.println("onPageFinished: " + url);
@@ -80,2 +59,0 @@ public class TwitterAuthWebpageActivity extends Activity {
-          // webview.setVisibility(View.GONE);
-          // webview.destroy();
@@ -85,2 +63,2 @@ public class TwitterAuthWebpageActivity extends Activity {
-          resultIntent
-              .putExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_VERIFIER, _requestTokenVerifierString);
+          resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_VERIFIER,
+              _requestTokenVerifierString);
@@ -94,2 +72,3 @@ public class TwitterAuthWebpageActivity extends Activity {
-    // webview.requestFocus(View.FOCUS_DOWN);
-    // _alertDialog.show();
+
+    Intent callingIntent = getIntent();
+    String authUrl = callingIntent.getStringExtra(Constants.INTENT_EXTRA_AUTH_URL);
@@ -101 +79,0 @@ public class TwitterAuthWebpageActivity extends Activity {
-    // TODO Auto-generated method stub
a85b7271418fb804dd2da88f040d39d60a537715
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
deleted file mode 100644
index 997940e..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
+++ /dev/null
@@ -1,127 +0,0 @@
-package com.lollapaloozer.auth.client;
-
-import android.app.Activity;
-import android.app.AlertDialog;
-import android.content.Intent;
-
-import com.lollapaloozer.ui.TwitterAuthWebpageActivity;
-import com.ratethisfest.shared.Constants;
-
-public class TwitterAuthDialogPresenter {
-
-  private Activity _activity;
-  private AlertDialog _alertDialog;
-  private String _requestTokenString;
-  private String _requestTokenVerifierString;
-
-  public TwitterAuthDialogPresenter(Activity activity) {
-    _activity = activity;
-  }
-
-  public void showDialog(String authUrl) {
-    Intent twitterAuthIntent = new Intent(_activity, TwitterAuthWebpageActivity.class);
-    twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_TWITTER_AUTHURL, authUrl);
-    _activity.startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
-  }
-
-  // Dialog implementation has been abandoned due to bugs in Android framework
-  // This class contributes nothing useful now.
-
-  // AlertDialog.Builder builder;
-  // builder = new AlertDialog.Builder(_activity);
-  // LayoutInflater inflater = (LayoutInflater)
-  // _activity.getSystemService(_activity.LAYOUT_INFLATER_SERVICE);
-  // final View layout = inflater.inflate(R.layout.twitter_auth_dialog,
-  // (ViewGroup) _activity.findViewById(R.id.layout_root));
-  // builder.setView(layout);
-
-  // _alertDialog = builder.create();
-
-  // ImageView close_dialog = (ImageView)
-  // layout.findViewById(R.id.imageView_custom_dialog_close);
-
-  // close_dialog.setOnClickListener(new View.OnClickListener() {
-  // public void onClick(View v) {
-  // _alertDialog.dismiss();
-  // }
-  // });
-
-  /*
-   * final WebView webview = (WebView) layout.findViewById(R.id.webView1); //
-   * webview = new WebView(this);
-   * webview.getSettings().setJavaScriptEnabled(true);
-   * webview.setVerticalScrollBarEnabled(false);
-   * webview.setHorizontalScrollBarEnabled(false);
-   * webview.setVisibility(View.VISIBLE);
-   * 
-   * System.out.println("webview requesting focus ("+ webview.hasFocus()+")");
-   * webview.requestFocusFromTouch();
-   * System.out.println("webview requested focus ("+ webview.hasFocus()+")");
-   * 
-   * webview.setOnTouchListener(new View.OnTouchListener() {
-   * 
-   * @Override public boolean onTouch(View v, MotionEvent event) { switch
-   * (event.getAction()) { case MotionEvent.ACTION_DOWN:
-   * System.out.println("MotionEvent Action Down"+ webview.hasFocus()); case
-   * MotionEvent.ACTION_UP: System.out.println("MotionEvent Action Up"+
-   * webview.hasFocus()); if (!v.hasFocus()) {
-   * //webview.requestFocus(View.FOCUS_DOWN); v.requestFocusFromTouch(); }
-   * 
-   * if (v instanceof EditText) { System.out.println("EditText touched"); }
-   * break; } return false; } });
-   */
-  // webview.requestFocus(View.FOCUS_DOWN);
-  // webview.requestFocusFromTouch();
-  /*
-   * webview.setWebViewClient(new WebViewClient() {
-   * 
-   * private boolean shown = false;
-   * 
-   * @Override public void onPageFinished(WebView view, String url) { if
-   * (!shown) { System.out.println("onPageFinished showing dialog: " + url); //
-   * _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
-   * LayoutParams.FILL_PARENT); //todo try commenting this
-   * 
-   * //layout.requestFocus(View.FOCUS_DOWN);
-   * 
-   * 
-   * //_alertDialog.show(); shown = true; _activity.setContentView(layout); } }
-   * 
-   * @Override public void onPageStarted(WebView view, String url, Bitmap
-   * favicon) { System.out.println("onPageStarted : " + url); Uri uri =
-   * Uri.parse(url);
-   * 
-   * if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
-   * System.out.println("Special callback URL was detected");
-   * _requestTokenString = uri
-   * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
-   * _requestTokenVerifierString = uri
-   * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
-   * 
-   * System.out.println("OAuth token: " + _requestTokenString);
-   * System.out.println("OAuth verifier: " + _requestTokenVerifierString); //
-   * webview.setVisibility(View.GONE); // webview.destroy();
-   * _alertDialog.dismiss(); // maybe use OnCancelListener?
-   * 
-   * // todo MOVE OAUTH CODE
-   * 
-   * Verifier verifier = new Verifier(_requestTokenVerifierString); Token
-   * accessToken = _service.getAccessToken(_requestToken, verifier); // the
-   * requestToken you had from step 2 OAuthRequest request = new
-   * OAuthRequest(Verb.GET,
-   * "http://api.twitter.com/1/account/verify_credentials.xml" );
-   * _service.signRequest(accessToken, request); // the access // token from //
-   * step 4 Response response = request.send();
-   * 
-   * System.out.println(response.getBody());
-   * 
-   * } }
-   * 
-   * });
-   */
-  // webview.requestFocus(View.FOCUS_DOWN);
-  // _alertDialog.show();
-
-  // webview.loadUrl(authUrl);
-
-}
\ No newline at end of file
f8bd5b110aba90f98709def85b97c9b9b166dbeb
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ue/UserExperienceManager.java b/Lollapaloozer-Android/src/com/lollapaloozer/ue/UserExperienceManager.java
new file mode 100644
index 0000000..f110017
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ue/UserExperienceManager.java
@@ -0,0 +1,15 @@
+package com.lollapaloozer.ue;
+
+public class UserExperienceManager {
+
+  // request w/ options
+  // - timeout
+  // - blocking or async handler
+  // --enable / disable timer
+  // - failure retry?
+
+  // API return vs UE return
+  // success/failure (final)
+  // Late Response
+
+}
b6b6f3f2349cf4c517b3b16323e9aba3b647d344
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java
index 9e73972..cac008b 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java
@@ -6,0 +7 @@ public interface AuthVerifier {
+  public void simulateFailure(int failures);
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
index f0d16ea..70ba968 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
@@ -19,0 +20,2 @@ public class FacebookVerifier implements AuthVerifier {
+  private int _failuresToSimulate;
+
@@ -21,0 +24 @@ public class FacebookVerifier implements AuthVerifier {
+    System.out.println("Verifying Facebook token: " + authToken + " identifier: " + identifier);
@@ -41,0 +45 @@ public class FacebookVerifier implements AuthVerifier {
+        System.out.println("Verification passed");
@@ -58,0 +63 @@ public class FacebookVerifier implements AuthVerifier {
+    System.out.println("Verification failed");
@@ -61,0 +67,6 @@ public class FacebookVerifier implements AuthVerifier {
+  @Override
+  public void simulateFailure(int failures) {
+    _failuresToSimulate = failures;
+    throw new RuntimeException("Not Implemented for facebook");
+  }
+
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
index f2bf7ca..23bae2c 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
@@ -10,0 +11 @@ public class GoogleAuthVerifier implements AuthVerifier {
+  private static int _failuresToSimulate;
@@ -14,2 +15,2 @@ public class GoogleAuthVerifier implements AuthVerifier {
-    // url = new URL("https://www.googleapis.com/oauth2/v2/userinfo");
-
+    System.out.println("Verifying Google token: " + authToken + " identifier: " + identifier);
+    System.out.println(_failuresToSimulate);
@@ -22,2 +22,0 @@ public class GoogleAuthVerifier implements AuthVerifier {
-      // conn.setRequestProperty("User-Agent","Mozilla/5.0 ( compatible ) ");
-      // conn.setRequestProperty("Accept","[star]/[star]");
@@ -32,2 +31,10 @@ public class GoogleAuthVerifier implements AuthVerifier {
-          return true;
-        }
+          if (_failuresToSimulate > 0) {
+            _failuresToSimulate--;
+            System.out.println("Simulated login failure, " + _failuresToSimulate + " remaining");
+
+          } else {
+            System.out.println("Verification passed");
+            return true;
+          }
+        } // End actual success, possible simulated failure
+
@@ -34,0 +42 @@ public class GoogleAuthVerifier implements AuthVerifier {
+        // Actual failure
@@ -36 +43,0 @@ public class GoogleAuthVerifier implements AuthVerifier {
-        // TODO probably need to expire token
@@ -46,0 +54 @@ public class GoogleAuthVerifier implements AuthVerifier {
+    System.out.println("Verification failed");
@@ -49,0 +58,6 @@ public class GoogleAuthVerifier implements AuthVerifier {
+  @Override
+  public void simulateFailure(int failures) {
+    _failuresToSimulate = failures;
+    System.out.println(_failuresToSimulate);
+  }
+
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
index 4750ca4..1062cb3 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
@@ -16,0 +17 @@ public class TwitterVerifier implements AuthVerifier {
+  private int _failuresToSimulate;
@@ -22,0 +24,2 @@ public class TwitterVerifier implements AuthVerifier {
+    System.out.println("Verifying twitter token: " + authToken + " identifier: " + identifier);
+
@@ -43,2 +45,0 @@ public class TwitterVerifier implements AuthVerifier {
-    } else {
-      System.out.println("Twitter Verification was not successful using verifier");
@@ -45,0 +47,2 @@ public class TwitterVerifier implements AuthVerifier {
+
+    System.out.println("Twitter Verification was not successful using verifier");
@@ -48,0 +52,6 @@ public class TwitterVerifier implements AuthVerifier {
+  @Override
+  public void simulateFailure(int failures) {
+    _failuresToSimulate = failures;
+    throw new RuntimeException("Not Implemented for twitter");
+  }
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java
deleted file mode 100644
index 59dd88d..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java
+++ /dev/null
@@ -1,65 +0,0 @@
-package com.lollapaloozer;
-
-import android.content.Context;
-import android.os.Handler;
-
-//This class was a bad idea
-
-public class LollapaloozerUIWorker extends Thread {
-
-  private Handler _handler;
-  private Runnable _runnable;
-  private Context _context;
-
-  public LollapaloozerUIWorker(Handler handler, Runnable runnable, Context context) {
-    _runnable = runnable;
-    _handler = handler;
-    _context = context;
-
-  }
-  /*
-   * public void run() { LollapaloozerHelper.debug(this, "rebuildJAHM()"); if
-   * (_obtained_email != null) { // Get my ratings
-   * 
-   * JSONArray myRatings = null; try { myRatings =
-   * ServiceUtils.getRatings(_obtained_email, _dayToQuery, this);
-   * _storageManager.putJSONArray(DATA_RATINGS, myRatings); } catch (Exception
-   * e1) { _networkErrors = true; LollapaloozerHelper.debug(this,
-   * "Exception getting Ratings data, loading from storage if available"); try {
-   * myRatings = _storageManager.getJSONArray(DATA_RATINGS); } catch
-   * (JSONException e) { e.printStackTrace(); LollapaloozerHelper.debug(this,
-   * "JSONException loading ratings from storage"); } }
-   * 
-   * try { // TODO this may not be correct. JAHM should only be initialized
-   * once. // _myRatings_JAHM = new JSONArrayHashMap(myRatings, //
-   * QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
-   * 
-   * if (myRatings == null) { LollapaloozerHelper.debug(this,
-   * "Had to initialize ratings data JSONArray"); myRatings = new JSONArray(); }
-   * 
-   * _myRatings_JAHM.setData(myRatings);
-   * 
-   * } catch (JSONException e) { // TODO Auto-generated catch block // Could not
-   * get my ratings :( e.printStackTrace(); } } else { // TODO This may not be
-   * correct. initJAHM() may have already been called // on startup and // TODO
-   * the reference to the JAHM may have been passed to the adapter // already //
-   * initJAHM(); //Commented in hope of addressing crash issue }
-   * 
-   * _setListAdapter.updateJAHM(_myRatings_JAHM);
-   * 
-   * JSONArray setData = null; try { // TODO: pass proper values (year can
-   * remain hard-coded for now) setData = ServiceUtils.getSets("2012",
-   * _dayToExamine, this); _storageManager.putJSONArray(DATA_SETS, setData); }
-   * catch (Exception e) { _networkErrors = true;
-   * LollapaloozerHelper.debug(this,
-   * "Exception getting Set data, loading from storage if available"); setData =
-   * _storageManager.getJSONArray(DATA_SETS); }
-   * 
-   * if (setData == null) { LollapaloozerHelper.debug(this,
-   * "Had to initialize set data JSONArray"); setData = new JSONArray(); }
-   * _setListAdapter.setData(setData);
-   * 
-   * _handler.post(_runnable); }
-   */
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
index 7ba80a0..be3b38e 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -18 +17,0 @@ import com.facebook.android.Facebook.DialogListener;
-
@@ -32,0 +32 @@ public class FacebookAuthProvider implements AuthProvider {
+    // Default constructor disallowed
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index 5ca5014..d36abcf 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -31,0 +32 @@ public class GoogleAuthProvider implements AuthProvider {
+    // Default constructor disallowed
@@ -35,0 +37,2 @@ public class GoogleAuthProvider implements AuthProvider {
+    GoogleAuthVerifier googleVerifier = new GoogleAuthVerifier();
+    // googleVerifier.simulateFailure(1); // DEBUG ONLY.
@@ -141,0 +145 @@ public class GoogleAuthProvider implements AuthProvider {
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index 4e041c7..9c5ea39 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -14,0 +15 @@ import com.lollapaloozer.ui.AuthChooseAccountActivity;
+import com.lollapaloozer.ui.TwitterAuthWebpageActivity;
@@ -24,0 +26,4 @@ public class TwitterAuthProvider implements AuthProvider {
+  private TwitterAuthProvider() {
+    // Default constructor disallowed
+  }
+
@@ -106,3 +111,3 @@ public class TwitterAuthProvider implements AuthProvider {
-    TwitterAuthDialogPresenter twitterAuthDialog = new TwitterAuthDialogPresenter(_activity);
-    twitterAuthDialog.showDialog(authReqTokenUrl);
-
+    Intent twitterAuthIntent = new Intent(_activity, TwitterAuthWebpageActivity.class);
+    twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_TWITTER_AUTHURL, authReqTokenUrl);
+    _activity.startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
index 58ac668..1d02b40 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
@@ -175,2 +175,4 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
-      _model.twitterAuthCallback(requestCode, resultCode, data);
-      break;
+      if (resultCode == Activity.RESULT_OK) {
+        _model.twitterAuthCallback(requestCode, resultCode, data);
+        break;
+      }
b2b40d879e93cc2d5466f295bb3a85a8bace5cee
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java
index 8a0a319..568ad1a 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java
@@ -10,0 +11 @@ import java.util.ArrayList;
+import java.util.Iterator;
@@ -41,0 +43 @@ public class OAuthHTTP {
+      System.out.println("IOException code path");
@@ -45,0 +48 @@ public class OAuthHTTP {
+      System.out.println("Exception code path");
@@ -52,26 +54,0 @@ public class OAuthHTTP {
-  public boolean executeDebug() throws IOException {
-    try {
-      _urlConnection = (HttpURLConnection) _url.openConnection();
-      System.out.println(_urlConnection.getURL());
-
-      for (NameValue nv : _reqProperties) {
-        _urlConnection.setRequestProperty(nv._name, nv._value);
-      }
-
-      _urlConnection.connect();
-      // Better way to do this?
-
-      _readStream(_urlConnection.getInputStream(), true);
-      return true; // success
-    } catch (IOException e) {
-      // TODO Auto-generated catch block
-      _readStream(_urlConnection.getErrorStream(), true);
-      e.printStackTrace();
-      return false; // request completed without success
-    } catch (Exception e) {
-      _readStream(_urlConnection.getErrorStream(), true);
-      e.printStackTrace();
-      return false; // request completed without success
-    }
-  }
-
@@ -91 +68 @@ public class OAuthHTTP {
-    StringBuilder builder = _readStream(inputStream, true);
+    StringBuilder builder = _readStream(inputStream, false);
@@ -95,0 +73,2 @@ public class OAuthHTTP {
+
+    System.out.println("JSON Parsed:");
@@ -99 +78,10 @@ public class OAuthHTTP {
-    return new JSONObject(tokener);
+
+    JSONObject returnObject = new JSONObject(tokener);
+    Iterator<String> it = returnObject.keys();
+
+    while (it.hasNext()) {
+      String fieldName = it.next();
+      System.out.println(fieldName + ": " + returnObject.getString(fieldName));
+    }
+
+    return returnObject;
@@ -107,0 +96 @@ public class OAuthHTTP {
+    int linesRead = 0;
@@ -110,0 +100 @@ public class OAuthHTTP {
+
@@ -113,0 +104 @@ public class OAuthHTTP {
+      linesRead++;
@@ -115,0 +107 @@ public class OAuthHTTP {
+    System.out.println(linesRead + " lines read");
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index e4e3665..5ca5014 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -6,0 +7 @@ import org.json.JSONObject;
+import android.accounts.Account;
@@ -20,0 +22 @@ public class GoogleAuthProvider implements AuthProvider {
+  private final int TOKEN_RETRIES = 2;
@@ -26,0 +29 @@ public class GoogleAuthProvider implements AuthProvider {
+  private int _tokenRetries;
@@ -41,0 +45 @@ public class GoogleAuthProvider implements AuthProvider {
+    _tokenRetries = TOKEN_RETRIES;
@@ -44,45 +48,19 @@ public class GoogleAuthProvider implements AuthProvider {
-    AccountManagerFuture<Bundle> bundleFuture = AccountManager.get(_activity)
-        .getAuthTokenByFeatures(ACCOUNT_TYPE_REQUESTED,
-        // "Manage your tasks"
-        // "https://www.googleapis.com/auth/userinfo.email"
-        // "https://www.googleapis.com/auth/userinfo.profile"
-            "oauth2:https://www.googleapis.com/auth/userinfo.email"
-            // "View your email address"
-            // "Steal all of your stuff"
-            , null, _activity, null, null, new AccountManagerCallback<Bundle>() {
-
-              public void run(AccountManagerFuture<Bundle> future) {
-                System.out.println("AccountManagerCallback executing");
-                try {
-                  _currentGoogleLoginTokenBundle = future.getResult();
-                  System.out.println("Received token bundle from AccountManagerCallback");
-                } catch (OperationCanceledException e) {
-                  Log.e("e", e.getMessage(), e);
-                  System.out.println("User appears to have denied auth request");
-                } catch (AuthenticatorException e) {
-                  Log.e("e", e.getMessage(), e);
-                } catch (IOException e) {
-                  Log.e("e", e.getMessage(), e);
-                }
-
-                for (String s : _currentGoogleLoginTokenBundle.keySet()) {
-                  System.out.println("Found key/value: " + s + "="
-                      + _currentGoogleLoginTokenBundle.getString(s));
-                }
-
-                if (_currentGoogleLoginTokenBundle.containsKey(AccountManager.KEY_INTENT)) {
-                  throw new RuntimeException("Unexpected Code Path");
-                  // TODO return to account selection or something...
-                }
-
-                GoogleAuthVerifier googleVerifier = new GoogleAuthVerifier();
-                _confirmedAuthorizedGoogle = googleVerifier.verify(
-                    _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_AUTHTOKEN),
-                    getLocalAccountName());
-                if (_confirmedAuthorizedGoogle) {
-                  _verifiedAccountName = getLocalAccountName();
-                }
-                _activity.modelChanged();
-              }
-            }, null);
-    System.out.println("Done with AccountManager call");
+    _getToken(null);
+
+  }
+
+  private void _getToken(String accountName) {
+    if (accountName == null) {
+
+      AccountManagerFuture<Bundle> bundleFuture = AccountManager.get(_activity)
+          .getAuthTokenByFeatures(ACCOUNT_TYPE_REQUESTED,
+              "oauth2:https://www.googleapis.com/auth/userinfo.email", null, _activity, null, null,
+              new GoogleAuthAccountManagerCallback(), null);
+      System.out.println("Done with AccountManager call.  Auth proceeds asynchronously");
+    } else {
+      Account accountObj = new Account(accountName, ACCOUNT_TYPE_REQUESTED);
+      AccountManager.get(_activity).getAuthToken(accountObj,
+          "oauth2:https://www.googleapis.com/auth/userinfo.email", null, _activity,
+          new GoogleAuthAccountManagerCallback(), null);
+      System.out.println("Done with AccountManager retry.  Auth proceeds asynchronously");
+    }
@@ -92,0 +71 @@ public class GoogleAuthProvider implements AuthProvider {
+    System.out.println("GoogleAuthProvider.logout()");
@@ -99 +77,0 @@ public class GoogleAuthProvider implements AuthProvider {
-    _currentGoogleLoginTokenBundle = null;
@@ -100,0 +79 @@ public class GoogleAuthProvider implements AuthProvider {
+    _currentGoogleLoginTokenBundle = null;
@@ -127,0 +107,53 @@ public class GoogleAuthProvider implements AuthProvider {
+  private final class GoogleAuthAccountManagerCallback implements AccountManagerCallback<Bundle> {
+    public void run(AccountManagerFuture<Bundle> future) {
+      System.out.println("AccountManagerCallback executing");
+      try {
+        _currentGoogleLoginTokenBundle = future.getResult();
+        System.out.println("Received token bundle from AccountManagerCallback");
+      } catch (OperationCanceledException e) {
+        Log.e("e", e.getMessage(), e);
+        System.out.println("User appears to have denied auth request");
+      } catch (AuthenticatorException e) {
+        Log.e("e", e.getMessage(), e);
+      } catch (IOException e) {
+        Log.e("e", e.getMessage(), e);
+      }
+
+      for (String s : _currentGoogleLoginTokenBundle.keySet()) {
+        System.out.println("Received key/value: " + s + "="
+            + _currentGoogleLoginTokenBundle.getString(s));
+      }
+
+      if (_currentGoogleLoginTokenBundle.containsKey(AccountManager.KEY_INTENT)) {
+        throw new RuntimeException("Unexpected Code Path");
+        // TODO return to account selection or something...
+      }
+
+      GoogleAuthVerifier googleVerifier = new GoogleAuthVerifier();
+      String currentToken = _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_AUTHTOKEN);
+      String accountName = _currentGoogleLoginTokenBundle
+          .getString(AccountManager.KEY_ACCOUNT_NAME);
+
+      _confirmedAuthorizedGoogle = googleVerifier.verify(currentToken, getLocalAccountName());
+      // _confirmedAuthorizedGoogle = googleVerifier.verify("FAKE TOKEN",
+      // getLocalAccountName());
+
+      if (_confirmedAuthorizedGoogle) {
+        // MUST BE CALLED HERE AS A CONSEQUENCE OF MULTI-THREADING
+        _verifiedAccountName = getLocalAccountName();
+        _activity.modelChanged();
+
+      } else {
+
+        String errorString = _currentGoogleLoginTokenBundle.getString("error");
+        System.out.println("Error received: " + errorString);
+        System.out.println("Retrying " + _tokenRetries + " more times");
+        if (_tokenRetries > 0) {
+          _tokenRetries--;
+          logout();
+          _getToken(accountName);
+        }
+      }
+    }
+  }
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
index a193649..58ac668 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
@@ -69,0 +70 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+      System.out.println("AuthChooseAccountActivity First Launch, invalidating all logins");
62b4fd29e9a344e47b48e93108933e4a10b7dd8e
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java b/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
index 9920e94..326f548 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
@@ -41 +40,0 @@ public class LollaEmailSender {
-        result = "Ratings successfully sent to " + email;
@@ -43,0 +43 @@ public class LollaEmailSender {
+        result = "Ratings successfully sent to " + email;
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
index 11e0705..5213eb6 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
@@ -100 +100 @@ public class LollapaloozerServlet extends HttpServlet {
-      out.println("Calling emailRatings(authType="+ authType +" authId="+ authId +" authToken="+ authToken +" email="+ email +")");
+      out.println("Calling emailRatings(authType="+ authType +" authId="+ authId +" email="+ email +" authToken="+ authToken +")");
@@ -103 +103 @@ public class LollapaloozerServlet extends HttpServlet {
-        out.println("Result: +result");
+        out.println("Result: "+ result);
248d12fd0df9052b262e2f721a7ed85e7fac0683
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java b/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
index af46241..9920e94 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
@@ -45,3 +45,9 @@ public class LollaEmailSender {
-    //} catch (AddressException ae) {
-    //} catch (MessagingException me) {
-    //} catch (UnsupportedEncodingException uee) {
+    } catch (AddressException ae) {
+      result = ae.getClass().getCanonicalName();
+      result += ": " + ae.getMessage();
+    } catch (MessagingException me) {
+      result = me.getClass().getCanonicalName();
+      result += ": " + me.getMessage();
+    } catch (UnsupportedEncodingException uee) {
+      result = uee.getClass().getCanonicalName();
+      result += ": " + uee.getMessage();
@@ -49,2 +55,2 @@ public class LollaEmailSender {
-      result = e.getClass().getName();
-      result += ": "+ e.getMessage();
+      result = e.getClass().getCanonicalName();
+      result += ": " + e.getMessage();
d3ce5ac209b1492e422e8a679de59b7d79bb0672
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java b/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
index 68eb718..af46241 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
@@ -50 +50 @@ public class LollaEmailSender {
-      result += e.getMessage();
+      result += ": "+ e.getMessage();
cc47652895545ee256380f0643345a330e8e37aa
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java b/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
index 95e9beb..68eb718 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/logic/LollaEmailSender.java
@@ -28 +28 @@ public class LollaEmailSender {
-    String success = "Ratings successfully sent to " + email;
+    String result;
@@ -39 +39 @@ public class LollaEmailSender {
-        success = "no ratings to send";
+        result = "no ratings to send";
@@ -40,0 +41 @@ public class LollaEmailSender {
+        result = "Ratings successfully sent to " + email;
@@ -44,9 +45,3 @@ public class LollaEmailSender {
-    } catch (AddressException ae) {
-      success = "address exception";
-      success = ae.getMessage();
-    } catch (MessagingException me) {
-      success = "messaging exception";
-      success = me.getMessage();
-    } catch (UnsupportedEncodingException uee) {
-      success = "unsupported encoding exception";
-      success = uee.getMessage();
+    //} catch (AddressException ae) {
+    //} catch (MessagingException me) {
+    //} catch (UnsupportedEncodingException uee) {
@@ -54 +49,2 @@ public class LollaEmailSender {
-      success = e.getMessage();
+      result = e.getClass().getName();
+      result += e.getMessage();
@@ -57 +53 @@ public class LollaEmailSender {
-    return success;
+    return result;
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
index 3221596..11e0705 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
@@ -93 +93 @@ public class LollapaloozerServlet extends HttpServlet {
-
+    
@@ -100 +100 @@ public class LollapaloozerServlet extends HttpServlet {
-      out.println("Calling emailRatings()");
+      out.println("Calling emailRatings(authType="+ authType +" authId="+ authId +" authToken="+ authToken +" email="+ email +")");
@@ -102 +102,4 @@ public class LollapaloozerServlet extends HttpServlet {
-        LollaEmailSender.emailRatings(authType, authId, authToken, email);
+        String result = LollaEmailSender.emailRatings(authType, authId, authToken, email);
+        out.println("Result: +result");
+      } else {
+        out.println("Request is refused because user account did not pass verification");
@@ -104 +107 @@ public class LollapaloozerServlet extends HttpServlet {
-    }
+    }  //end Email Ratings
d1ba2c27172923a60bffd1fb1a70d330cc9c963a
diff --git a/Coacheller-AppEngine/war/WEB-INF/web.xml b/Coacheller-AppEngine/war/WEB-INF/web.xml
index b36efab..0e18b7c 100644
--- a/Coacheller-AppEngine/war/WEB-INF/web.xml
+++ b/Coacheller-AppEngine/war/WEB-INF/web.xml
@@ -1,6 +1 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
-              http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
-         version="2.5"
-         xmlns="http://java.sun.com/xml/ns/javaee">
+<?xml version="1.0" encoding="UTF-8" standalone="no"?><web-app xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.5" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee                http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">
@@ -54 +49,15 @@
-</web-app>
+  <servlet>
+    <servlet-name>SystemServiceServlet</servlet-name>
+    <servlet-class>com.google.api.server.spi.SystemServiceServlet</servlet-class>
+    <init-param>
+      <param-name>services</param-name>
+      <param-value/>
+    </init-param>
+  </servlet>
+
+  <servlet-mapping>
+    <servlet-name>SystemServiceServlet</servlet-name>
+    <url-pattern>/_ah/spi/*</url-pattern>
+  </servlet-mapping>
+
+</web-app>
\ No newline at end of file
diff --git a/Lollapaloozer-Android/AndroidManifest.xml b/Lollapaloozer-Android/AndroidManifest.xml
index 22d31d8..4be893f 100644
--- a/Lollapaloozer-Android/AndroidManifest.xml
+++ b/Lollapaloozer-Android/AndroidManifest.xml
@@ -29,2 +29,2 @@
-        <activity android:name=".auth.client.AuthChooseAccountActivity" android:launchMode="standard"></activity>
-        <activity android:launchMode="standard" android:name=".auth.client.TwitterAuthWebpageActivity"></activity>
+        <activity android:name=".ui.AuthChooseAccountActivity" android:launchMode="standard"></activity>
+        <activity android:launchMode="standard" android:name=".ui.TwitterAuthWebpageActivity"></activity>
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
deleted file mode 100644
index a91a411..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
+++ /dev/null
@@ -1,188 +0,0 @@
-package com.lollapaloozer.auth.client;
-
-import android.app.Activity;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.View;
-import android.view.View.OnClickListener;
-import android.widget.Button;
-import android.widget.TextView;
-
-import com.lollapaloozer.R;
-import com.ratethisfest.shared.Constants;
-
-public class AuthChooseAccountActivity extends Activity implements OnClickListener {
-
-  private boolean _DEBUG = false;
-
-  // Framework
-  private TextView _loginStatusText;
-  private TextView _accountNameText;
-  private TextView _tokenIdText;
-  private Button _buttonInvalidateTokens;
-  private Button _buttonDismissActivity;
-
-  // App
-  private AuthDemoModel _model;
-
-  /** Called when the activity is first created. */
-  @Override
-  public void onCreate(Bundle savedInstanceState) {
-    super.onCreate(savedInstanceState);
-    setContentView(R.layout.auth_choose);
-    System.out.println("OnCreate starting");
-
-    // Framework
-    _loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
-    _accountNameText = (TextView) this.findViewById(R.id.text_account_name);
-    _tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
-
-    this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
-    this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
-    this.findViewById(R.id.btn_login_google).setOnClickListener(this);
-    _buttonInvalidateTokens = (Button) findViewById(R.id.btn_invalidate_tokens);
-    _buttonInvalidateTokens.setOnClickListener(this);
-
-    _buttonDismissActivity = (Button) findViewById(R.id.btn_dismiss_activity);
-    _buttonDismissActivity.setOnClickListener(this);
-
-    // App
-    _model = new AuthDemoModel(this);
-    _model.checkAccounts();
-    _model.invalidateTokens();
-    System.out.println("OnCreate complete");
-  }
-
-  @Override
-  protected void onResume() {
-    super.onResume();
-
-    AuthProvider currentProvider = _model.getCurrentAuthProvider();
-    if (currentProvider != null) {
-      currentProvider.extendAccess();
-    }
-
-    _updateUI();
-
-  }
-
-  @Override
-  public void onClick(View arg0) {
-    String buttonClickedName = this.getResources().getResourceEntryName(arg0.getId());
-    System.out.println("Button Click: " + buttonClickedName);
-
-    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_google))) {
-      _model.loginToGoogle(); // UI Update done on callback
-    }
-    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_twitter))) {
-      _model.loginToTwitter();
-
-    }
-    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_facebook))) {
-      _model.loginToFacebook();
-
-    }
-    if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-        R.id.btn_invalidate_tokens))) {
-      _model.invalidateTokens();
-      _updateUI();
-    }
-
-    if (buttonClickedName.equals(this.getResources()
-        .getResourceEntryName(R.id.btn_dismiss_activity))) {
-      _returnToMainActivity();
-    }
-  }
-
-  private void _returnToMainActivity() {
-    Intent returnIntent = getIntent();
-
-    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TYPE, _model.getCurrentAuthProviderType());
-
-    returnIntent.putExtra(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER, _model
-        .getCurrentAuthProvider().getVerifiedAccountIdentifier());
-
-    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TOKEN, _model.getCurrentAuthProvider()
-        .getAuthToken());
-
-    int result;
-    if (_model.isLoggedIn()) {
-      result = RESULT_OK;
-    } else {
-      result = RESULT_CANCELED;
-    }
-
-    setResult(result, returnIntent);
-    finish();
-  }
-
-  private void _updateUI() {
-    if (_DEBUG) {
-
-      if (_model.isLoggedIn()) {
-        AuthProvider currentProvider = _model.getCurrentAuthProvider();
-        _setLoginStatus(currentProvider.getAccountType());
-        _accountNameText.setText("Account: " + currentProvider.getLocalAccountName() + "\r\n"
-            + currentProvider.getAccountType() + " confirms you are the owner of "
-            + currentProvider.getVerifiedAccountIdentifier());
-        _tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
-      } else {
-        _setLoginStatus("Not Logged In");
-        _accountNameText.setText("");
-        _tokenIdText.setText("");
-      }
-
-      if (this.findViewById(R.layout.auth_choose) != null) {
-        this.findViewById(R.layout.auth_choose).invalidate();
-      }
-    } else {
-      _loginStatusText.setVisibility(View.GONE);
-      _accountNameText.setVisibility(View.GONE);
-      _tokenIdText.setVisibility(View.GONE);
-      _buttonInvalidateTokens.setVisibility(View.GONE);
-      _buttonDismissActivity.setVisibility(View.GONE);
-      if (_model.isLoggedIn()) {
-        _returnToMainActivity();
-      }
-
-    }
-
-  }
-
-  private void _setLoginStatus(String status) {
-    _loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
-  }
-
-  // For Facebook
-  @Override
-  public void onActivityResult(int requestCode, int resultCode, Intent data) {
-    super.onActivityResult(requestCode, resultCode, data);
-
-    System.out.println("AuthChooseAccountActivity.onActivityResult(requestCode=[" + requestCode
-        + "], resultCode=[" + resultCode + "] with data: " + data);
-
-    switch (requestCode) {
-    case Constants.INTENT_REQ_TWITTER_LOGIN:
-      _model.twitterAuthCallback(requestCode, resultCode, data);
-      break;
-    default:
-      System.out.println("onACtivityResult called with unknown values: " + requestCode + ","
-          + resultCode);
-      _model.getFacebookObject().authorizeCallback(requestCode, resultCode, data);
-      break;
-    }
-  }
-
-  public void modelChanged() {
-    // Run method in main UI thread
-    View v = findViewById(android.R.id.content);
-    v.post(new Runnable() {
-      public void run() {
-        _updateUI();
-      }
-    });
-
-    // _updateUI();
-  }
-
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
index 49d766e..4b55a80 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
@@ -8,0 +9 @@ import com.facebook.android.Facebook;
+import com.lollapaloozer.ui.AuthChooseAccountActivity;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
index 2ba8fe9..7ba80a0 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -21,0 +22 @@ import com.lollapaloozer.auth.verify.FacebookVerifier;
+import com.lollapaloozer.ui.AuthChooseAccountActivity;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index 4c44e43..e4e3665 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -15,0 +16 @@ import com.lollapaloozer.auth.verify.GoogleAuthVerifier;
+import com.lollapaloozer.ui.AuthChooseAccountActivity;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
index e1c9012..997940e 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
@@ -6,0 +7 @@ import android.content.Intent;
+import com.lollapaloozer.ui.TwitterAuthWebpageActivity;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index fae9e2e..4e041c7 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -13,0 +14 @@ import com.lollapaloozer.auth.verify.TwitterVerifier;
+import com.lollapaloozer.ui.AuthChooseAccountActivity;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
deleted file mode 100644
index cf7d1f3..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
+++ /dev/null
@@ -1,105 +0,0 @@
-package com.lollapaloozer.auth.client;
-
-import android.app.Activity;
-import android.content.Intent;
-import android.graphics.Bitmap;
-import android.net.Uri;
-import android.os.Bundle;
-import android.view.View;
-import android.webkit.WebView;
-import android.webkit.WebViewClient;
-import android.widget.ImageView;
-
-import com.lollapaloozer.R;
-import com.ratethisfest.shared.Constants;
-
-public class TwitterAuthWebpageActivity extends Activity {
-
-  @Override
-  protected void onCreate(Bundle savedInstanceState) {
-    super.onCreate(savedInstanceState);
-    setContentView(R.layout.twitter_auth_dialog);
-
-    Intent callingIntent = getIntent();
-    String authUrl = callingIntent.getStringExtra(Constants.INTENT_EXTRA_TWITTER_AUTHURL);
-
-    ImageView close_dialog = (ImageView) findViewById(R.id.imageView_custom_dialog_close);
-
-    close_dialog.setOnClickListener(new View.OnClickListener() {
-      public void onClick(View v) {
-        setResult(Activity.RESULT_CANCELED);
-        finish();
-      }
-    });
-
-    WebView webview = (WebView) findViewById(R.id.webView1);
-    // webview = new WebView(this);
-    webview.getSettings().setJavaScriptEnabled(true);
-    webview.setVerticalScrollBarEnabled(false);
-    webview.setHorizontalScrollBarEnabled(false);
-    webview.setVisibility(View.VISIBLE);
-
-    // System.out.println("webview requesting focus ("+
-    // webview.hasFocus()+")");
-    // webview.requestFocusFromTouch();
-    // System.out.println("webview requested focus ("+
-    // webview.hasFocus()+")");
-
-    webview.setWebViewClient(new WebViewClient() {
-
-      private boolean shown = false;
-      private String _requestTokenString;
-      private String _requestTokenVerifierString;
-
-      @Override
-      public void onPageFinished(WebView view, String url) {
-        // if (!shown) {
-        System.out.println("onPageFinished showing dialog: " + url);
-        // _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
-        // LayoutParams.FILL_PARENT); //todo try commenting this
-
-        // _alertDialog.show();
-        // shown = true;
-        // _activity.setContentView(layout);
-        // }
-      }
-
-      @Override
-      public void onPageStarted(WebView view, String url, Bitmap favicon) {
-        System.out.println("onPageStarted : " + url);
-        Uri uri = Uri.parse(url);
-
-        if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
-          System.out.println("Special callback URL was detected");
-          _requestTokenString = uri.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
-          _requestTokenVerifierString = uri
-              .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
-
-          System.out.println("OAuth token: " + _requestTokenString);
-          System.out.println("OAuth verifier: " + _requestTokenVerifierString);
-          // webview.setVisibility(View.GONE);
-          // webview.destroy();
-
-          Intent resultIntent = new Intent();
-          resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_TOKEN, _requestTokenString);
-          resultIntent
-              .putExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_VERIFIER, _requestTokenVerifierString);
-          setResult(RESULT_OK, resultIntent);
-          finish();
-
-        }
-      }
-
-    });
-    // webview.requestFocus(View.FOCUS_DOWN);
-    // _alertDialog.show();
-    webview.loadUrl(authUrl);
-  }
-
-  @Override
-  protected void onResume() {
-    // TODO Auto-generated method stub
-    super.onResume();
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
new file mode 100644
index 0000000..a193649
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/AuthChooseAccountActivity.java
@@ -0,0 +1,196 @@
+package com.lollapaloozer.ui;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.widget.Button;
+import android.widget.TextView;
+
+import com.lollapaloozer.R;
+import com.lollapaloozer.auth.client.AuthDemoModel;
+import com.lollapaloozer.auth.client.AuthProvider;
+import com.ratethisfest.shared.Constants;
+
+public class AuthChooseAccountActivity extends Activity implements OnClickListener {
+
+  private boolean _DEBUG = true;
+
+  // Framework
+  private TextView _loginStatusText;
+  private TextView _accountNameText;
+  private TextView _tokenIdText;
+  private Button _buttonInvalidateTokens;
+  private Button _buttonDismissActivity;
+
+  // App
+  private AuthDemoModel _model;
+  private boolean _firstStart = true;
+
+  /** Called when the activity is first created. */
+  @Override
+  public void onCreate(Bundle savedInstanceState) {
+    super.onCreate(savedInstanceState);
+    setContentView(R.layout.auth_choose);
+    System.out.println("OnCreate starting");
+
+    // Framework
+    _loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
+    _accountNameText = (TextView) this.findViewById(R.id.text_account_name);
+    _tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
+
+    this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
+    this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
+    this.findViewById(R.id.btn_login_google).setOnClickListener(this);
+    _buttonInvalidateTokens = (Button) findViewById(R.id.btn_invalidate_tokens);
+    _buttonInvalidateTokens.setOnClickListener(this);
+
+    _buttonDismissActivity = (Button) findViewById(R.id.btn_dismiss_activity);
+    _buttonDismissActivity.setOnClickListener(this);
+
+    // App
+    _model = new AuthDemoModel(this);
+    _model.checkAccounts();
+    System.out.println("OnCreate complete");
+  }
+
+  @Override
+  protected void onResume() {
+    super.onResume();
+
+    AuthProvider currentProvider = _model.getCurrentAuthProvider();
+    if (currentProvider != null) {
+      currentProvider.extendAccess();
+    }
+
+    _updateUI();
+
+    if (_firstStart) {
+      _model.invalidateTokens();
+      _updateUI();
+      _firstStart = false;
+    }
+
+  }
+
+  @Override
+  public void onClick(View arg0) {
+    String buttonClickedName = this.getResources().getResourceEntryName(arg0.getId());
+    System.out.println("Button Click: " + buttonClickedName);
+
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_google))) {
+      _model.loginToGoogle(); // UI Update done on callback
+    }
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_twitter))) {
+      _model.loginToTwitter();
+
+    }
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_facebook))) {
+      _model.loginToFacebook();
+
+    }
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+        R.id.btn_invalidate_tokens))) {
+      _model.invalidateTokens();
+      _updateUI();
+    }
+
+    if (buttonClickedName.equals(this.getResources()
+        .getResourceEntryName(R.id.btn_dismiss_activity))) {
+      _returnToMainActivity();
+    }
+  }
+
+  private void _returnToMainActivity() {
+    Intent returnIntent = getIntent();
+
+    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TYPE, _model.getCurrentAuthProviderType());
+
+    returnIntent.putExtra(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER, _model
+        .getCurrentAuthProvider().getVerifiedAccountIdentifier());
+
+    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TOKEN, _model.getCurrentAuthProvider()
+        .getAuthToken());
+
+    int result;
+    if (_model.isLoggedIn()) {
+      result = RESULT_OK;
+    } else {
+      result = RESULT_CANCELED;
+    }
+
+    setResult(result, returnIntent);
+    finish();
+  }
+
+  private void _updateUI() {
+    if (_DEBUG) {
+
+      if (_model.isLoggedIn()) {
+        AuthProvider currentProvider = _model.getCurrentAuthProvider();
+        _setLoginStatus(currentProvider.getAccountType());
+        _accountNameText.setText("Account: " + currentProvider.getLocalAccountName() + "\r\n"
+            + currentProvider.getAccountType() + " confirms you are the owner of "
+            + currentProvider.getVerifiedAccountIdentifier());
+        _tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
+      } else {
+        _setLoginStatus("Not Logged In");
+        _accountNameText.setText("");
+        _tokenIdText.setText("");
+      }
+
+      if (this.findViewById(R.layout.auth_choose) != null) {
+        this.findViewById(R.layout.auth_choose).invalidate();
+      }
+    } else {
+      _loginStatusText.setVisibility(View.GONE);
+      _accountNameText.setVisibility(View.GONE);
+      _tokenIdText.setVisibility(View.GONE);
+      _buttonInvalidateTokens.setVisibility(View.GONE);
+      _buttonDismissActivity.setVisibility(View.GONE);
+      if (_model.isLoggedIn()) {
+        _returnToMainActivity();
+      }
+
+    }
+
+  }
+
+  private void _setLoginStatus(String status) {
+    _loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
+  }
+
+  // For Facebook
+  @Override
+  public void onActivityResult(int requestCode, int resultCode, Intent data) {
+    super.onActivityResult(requestCode, resultCode, data);
+
+    System.out.println("AuthChooseAccountActivity.onActivityResult(requestCode=[" + requestCode
+        + "], resultCode=[" + resultCode + "] with data: " + data);
+
+    switch (requestCode) {
+    case Constants.INTENT_REQ_TWITTER_LOGIN:
+      _model.twitterAuthCallback(requestCode, resultCode, data);
+      break;
+    default:
+      System.out.println("onACtivityResult called with unknown values: " + requestCode + ","
+          + resultCode);
+      _model.getFacebookObject().authorizeCallback(requestCode, resultCode, data);
+      break;
+    }
+  }
+
+  public void modelChanged() {
+    // Run method in main UI thread
+    View v = findViewById(android.R.id.content);
+    v.post(new Runnable() {
+      public void run() {
+        _updateUI();
+      }
+    });
+
+    // _updateUI();
+  }
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 2bb480b..fc8a997 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -38 +37,0 @@ import com.lollapaloozer.R;
-import com.lollapaloozer.auth.client.AuthChooseAccountActivity;
@@ -532,0 +532 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/TwitterAuthWebpageActivity.java
new file mode 100644
index 0000000..f2ceb67
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/TwitterAuthWebpageActivity.java
@@ -0,0 +1,105 @@
+package com.lollapaloozer.ui;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.graphics.Bitmap;
+import android.net.Uri;
+import android.os.Bundle;
+import android.view.View;
+import android.webkit.WebView;
+import android.webkit.WebViewClient;
+import android.widget.ImageView;
+
+import com.lollapaloozer.R;
+import com.ratethisfest.shared.Constants;
+
+public class TwitterAuthWebpageActivity extends Activity {
+
+  @Override
+  protected void onCreate(Bundle savedInstanceState) {
+    super.onCreate(savedInstanceState);
+    setContentView(R.layout.twitter_auth_dialog);
+
+    Intent callingIntent = getIntent();
+    String authUrl = callingIntent.getStringExtra(Constants.INTENT_EXTRA_TWITTER_AUTHURL);
+
+    ImageView close_dialog = (ImageView) findViewById(R.id.imageView_custom_dialog_close);
+
+    close_dialog.setOnClickListener(new View.OnClickListener() {
+      public void onClick(View v) {
+        setResult(Activity.RESULT_CANCELED);
+        finish();
+      }
+    });
+
+    WebView webview = (WebView) findViewById(R.id.webView1);
+    // webview = new WebView(this);
+    webview.getSettings().setJavaScriptEnabled(true);
+    webview.setVerticalScrollBarEnabled(false);
+    webview.setHorizontalScrollBarEnabled(false);
+    webview.setVisibility(View.VISIBLE);
+
+    // System.out.println("webview requesting focus ("+
+    // webview.hasFocus()+")");
+    // webview.requestFocusFromTouch();
+    // System.out.println("webview requested focus ("+
+    // webview.hasFocus()+")");
+
+    webview.setWebViewClient(new WebViewClient() {
+
+      private boolean shown = false;
+      private String _requestTokenString;
+      private String _requestTokenVerifierString;
+
+      @Override
+      public void onPageFinished(WebView view, String url) {
+        // if (!shown) {
+        System.out.println("onPageFinished showing dialog: " + url);
+        // _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
+        // LayoutParams.FILL_PARENT); //todo try commenting this
+
+        // _alertDialog.show();
+        // shown = true;
+        // _activity.setContentView(layout);
+        // }
+      }
+
+      @Override
+      public void onPageStarted(WebView view, String url, Bitmap favicon) {
+        System.out.println("onPageStarted : " + url);
+        Uri uri = Uri.parse(url);
+
+        if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
+          System.out.println("Special callback URL was detected");
+          _requestTokenString = uri.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
+          _requestTokenVerifierString = uri
+              .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
+
+          System.out.println("OAuth token: " + _requestTokenString);
+          System.out.println("OAuth verifier: " + _requestTokenVerifierString);
+          // webview.setVisibility(View.GONE);
+          // webview.destroy();
+
+          Intent resultIntent = new Intent();
+          resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_TOKEN, _requestTokenString);
+          resultIntent
+              .putExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_VERIFIER, _requestTokenVerifierString);
+          setResult(RESULT_OK, resultIntent);
+          finish();
+
+        }
+      }
+
+    });
+    // webview.requestFocus(View.FOCUS_DOWN);
+    // _alertDialog.show();
+    webview.loadUrl(authUrl);
+  }
+
+  @Override
+  protected void onResume() {
+    // TODO Auto-generated method stub
+    super.onResume();
+  }
+
+}
3c2bf1ea4ee2d49b5fb87b244a4b419d262863c4
diff --git a/Lollapaloozer-Android/AndroidManifest.xml b/Lollapaloozer-Android/AndroidManifest.xml
index 7f1d7e5..22d31d8 100644
--- a/Lollapaloozer-Android/AndroidManifest.xml
+++ b/Lollapaloozer-Android/AndroidManifest.xml
@@ -21 +21 @@
-            android:label="@string/app_name" android:launchMode="singleInstance">
+            android:label="@string/app_name" android:launchMode="standard">
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
index aab7be6..36de0b0 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
@@ -7 +6,0 @@ import java.io.UnsupportedEncodingException;
-import java.util.ArrayList;
@@ -184 +183,2 @@ public class LollapaloozerServiceUtils {
-  public static String emailMyRatings(Context context, String email) throws Exception {
+  public static String emailMyRatings(List<NameValuePair> parameterList, Context context)
+      throws Exception {
@@ -188,4 +188 @@ public class LollapaloozerServiceUtils {
-      List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
-
-      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL, email));
-      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_ACTION,
+      parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_ACTION,
@@ -194 +191 @@ public class LollapaloozerServiceUtils {
-      post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
+      post.setEntity(new UrlEncodedFormEntity(parameterList));
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
index 7cd979f..a91a411 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
@@ -51,0 +52 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+    _model.invalidateTokens();
@@ -143 +143,0 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
-
@@ -146,0 +147 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
index 7f6fc04..49d766e 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
@@ -112 +111,0 @@ public class AuthDemoModel {
-    invalidateTokens();
@@ -117 +115,0 @@ public class AuthDemoModel {
-    invalidateTokens();
@@ -122 +119,0 @@ public class AuthDemoModel {
-    invalidateTokens();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index aba290b..2bb480b 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -534 +534,15 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-          String result = LollapaloozerServiceUtils.emailMyRatings(this, _loginData.emailAddress);
+
+          List<NameValuePair> parameterList = new ArrayList<NameValuePair>();
+
+          parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL, email));
+          parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_TYPE,
+              _loginData.loginType + ""));
+          parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_ID,
+              _loginData.accountIdentifier));
+          parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_TOKEN,
+              _loginData.accountToken));
+          if (_loginData.emailAddress != null) {
+            parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL,
+                _loginData.emailAddress));
+          }
+          String result = LollapaloozerServiceUtils.emailMyRatings(parameterList, this);
a0132da25912f88dd3bdfd67ecc9d349946789cf
diff --git a/Lollapaloozer-Android/AndroidManifest.xml b/Lollapaloozer-Android/AndroidManifest.xml
index 22d31d8..7f1d7e5 100644
--- a/Lollapaloozer-Android/AndroidManifest.xml
+++ b/Lollapaloozer-Android/AndroidManifest.xml
@@ -21 +21 @@
-            android:label="@string/app_name" android:launchMode="standard">
+            android:label="@string/app_name" android:launchMode="singleInstance">
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
index 491ef89..7cd979f 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
@@ -16 +16 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
-  private boolean _DEBUG = true;
+  private boolean _DEBUG = false;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
index 49d766e..7f6fc04 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
@@ -111,0 +112 @@ public class AuthDemoModel {
+    invalidateTokens();
@@ -115,0 +117 @@ public class AuthDemoModel {
+    invalidateTokens();
@@ -119,0 +122 @@ public class AuthDemoModel {
+    invalidateTokens();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
index 2ddecdd..8191505 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
@@ -90,0 +91 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
+        finish();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index c868d01..aba290b 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -906,0 +907,8 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  @Override
+  public void onBackPressed() {
+    System.out.println("Back button pressed");
+    // Exit if back button is pressed from this activity.
+    super.onBackPressed();
+    // getApplication().
+  }
+
e419b291f585da9b8de36514935e3e887d9af61c
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 40d897e..695ff4f 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -525,2 +525 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      } else { // Email is valid. Save email and let user get on with
-        // rating
+      } else { // Email is valid. Save email and email ratings
@@ -531 +530,8 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        showDialog(DIALOG_RATE);
+        try {
+          System.out.println("Requesting ratings email.");
+          String result = LollapaloozerServiceUtils.emailMyRatings(this, _loginData.emailAddress);
+
+        } catch (Exception e) {
+          // TODO Auto-generated catch block
+          e.printStackTrace();
+        }
@@ -694,0 +701,11 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    if (id == DIALOG_GETEMAIL) {
+      EditText emailField = (EditText) _getEmailDialog.findViewById(R.id.textField_enterEmail);
+      if (_loginData.emailAddress == null) {
+        emailField.setText("");
+      } else {
+        emailField.setText(_loginData.emailAddress);
+        emailField.selectAll();
+        emailField.requestFocus();
+      }
+    }
+
@@ -773,2 +789,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      EditText emailField = (EditText) _getEmailDialog.findViewById(R.id.textField_enterEmail);
-
@@ -849 +864 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      if (_loginData.emailAddress == null) {
+      if (!_isLoggedIn()) {
@@ -854,4 +869,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-          Toast.makeText(this, "This feature coming soon!", 15).show();
-          // TODO: launch dialog with email address, allowing them to change it
-          // just for this action
-          // LollapaloozerServiceUtils.emailMyRatings(this, _obtained_email);
+          // Toast.makeText(this, "This feature coming soon!", 15).show();
+          showDialog(DIALOG_GETEMAIL);
+
94f6f79d25bb759c88f487efbd3389d14e223c27
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/HttpConstants.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/HttpConstants.java
index e261f07..d6789a2 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/HttpConstants.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/HttpConstants.java
@@ -5,2 +5,2 @@ public class HttpConstants {
-  public static final String SERVER_URL_COACHELLER = "https://ratethisfest.appspot.com/coachellerServlet?";
-  public static final String SERVER_URL_LOLLAPALOOZER = "https://ratethisfest.appspot.com/lollapaloozerServlet?";
+  public static final String SERVER_URL_COACHELLER = "https://ratethisfest.appspot.com/coachellerServlet";
+  public static final String SERVER_URL_LOLLAPALOOZER = "https://ratethisfest.appspot.com/lollapaloozerServlet";
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
index 466f35c..aab7be6 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
@@ -8 +7,0 @@ import java.util.ArrayList;
-import java.util.HashMap;
@@ -18,0 +18 @@ import org.apache.http.client.methods.HttpPost;
+import org.apache.http.client.utils.URLEncodedUtils;
@@ -42,2 +42 @@ public class LollapaloozerServiceUtils {
-  public static JSONArray getSets(HashMap<String, String> parameterMap, Context context)
-      throws Exception {
+  public static JSONArray getSets(List<NameValuePair> params, Context context) throws Exception {
@@ -50,3 +49,5 @@ public class LollapaloozerServiceUtils {
-      HttpGet get = new HttpGet(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-      for (String s : parameterMap.keySet()) {
-        get.getParams().setParameter(s, parameterMap.get(s));
+      String url = HttpConstants.SERVER_URL_LOLLAPALOOZER;
+      params.add(new BasicNameValuePair(HttpConstants.PARAM_ACTION, HttpConstants.ACTION_GET_SETS));
+
+      if (!url.endsWith("?")) {
+        url += "?";
@@ -54 +54,0 @@ public class LollapaloozerServiceUtils {
-      get.getParams().setParameter(HttpConstants.PARAM_ACTION, HttpConstants.ACTION_GET_SETS);
@@ -55,0 +56,5 @@ public class LollapaloozerServiceUtils {
+      String paramString = URLEncodedUtils.format(params, "utf-8");
+
+      url += paramString;
+
+      HttpGet get = new HttpGet(url);
@@ -57,0 +63 @@ public class LollapaloozerServiceUtils {
+
@@ -76,2 +82 @@ public class LollapaloozerServiceUtils {
-  public static JSONArray getRatings(HashMap<String, String> parameterMap, Context context)
-      throws Exception {
+  public static JSONArray getRatings(List<NameValuePair> params, Context context) throws Exception {
@@ -87,3 +92,7 @@ public class LollapaloozerServiceUtils {
-      HttpGet get = new HttpGet(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-      for (String s : parameterMap.keySet()) {
-        get.getParams().setParameter(s, parameterMap.get(s));
+
+      String url = HttpConstants.SERVER_URL_LOLLAPALOOZER;
+      params.add(new BasicNameValuePair(HttpConstants.PARAM_ACTION,
+          HttpConstants.ACTION_GET_RATINGS));
+
+      if (!url.endsWith("?")) {
+        url += "?";
@@ -91 +100,5 @@ public class LollapaloozerServiceUtils {
-      get.getParams().setParameter(HttpConstants.PARAM_ACTION, HttpConstants.ACTION_GET_RATINGS);
+
+      String paramString = URLEncodedUtils.format(params, "utf-8");
+
+      url += paramString;
+      HttpGet get = new HttpGet(url);
@@ -211,0 +225 @@ public class LollapaloozerServiceUtils {
+      LollapaloozerHelper.debug(context, "getHttpGetResponse: " + builder.toString());
@@ -238,0 +253 @@ public class LollapaloozerServiceUtils {
+      LollapaloozerHelper.debug(context, "getHttpPostResponse: " + builder.toString());
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index 379edac..4c44e43 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -80,0 +81,3 @@ public class GoogleAuthProvider implements AuthProvider {
+                if (_confirmedAuthorizedGoogle) {
+                  _verifiedAccountName = getLocalAccountName();
+                }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 5204dd7..40d897e 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -321,6 +321,9 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        HashMap<String, String> parameterMap = new HashMap<String, String>();
-        parameterMap.put(HttpConstants.PARAM_YEAR, "2012");
-        parameterMap.put(HttpConstants.PARAM_DAY, _dayToExamine);
-        parameterMap.put(HttpConstants.PARAM_AUTH_TYPE, _loginData.loginType + "");
-        parameterMap.put(HttpConstants.PARAM_AUTH_ID, _loginData.accountIdentifier);
-        parameterMap.put(HttpConstants.PARAM_AUTH_TOKEN, _loginData.accountToken);
+        List<NameValuePair> params = new ArrayList<NameValuePair>();
+        params.add(new BasicNameValuePair(HttpConstants.PARAM_YEAR, "2012"));
+        params.add(new BasicNameValuePair(HttpConstants.PARAM_YEAR, "2012"));
+        params.add(new BasicNameValuePair(HttpConstants.PARAM_DAY, _dayToExamine));
+        params
+            .add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_TYPE, _loginData.loginType + ""));
+        params
+            .add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_ID, _loginData.accountIdentifier));
+        params.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_TOKEN, _loginData.accountToken));
@@ -328 +331 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-          parameterMap.put(HttpConstants.PARAM_EMAIL, _loginData.emailAddress);
+          params.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL, _loginData.emailAddress));
@@ -330 +333 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        myRatings = LollapaloozerServiceUtils.getRatings(parameterMap, this);
+        myRatings = LollapaloozerServiceUtils.getRatings(params, this);
@@ -384,4 +387,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      HashMap<String, String> parameterMap = new HashMap<String, String>();
-      parameterMap.put(HttpConstants.PARAM_YEAR, "2012");
-      parameterMap.put(HttpConstants.PARAM_DAY, _dayToExamine);
-      setData = LollapaloozerServiceUtils.getSets(parameterMap, this);
+      List<NameValuePair> params = new ArrayList<NameValuePair>();
+      params.add(new BasicNameValuePair(HttpConstants.PARAM_YEAR, "2012"));
+      params.add(new BasicNameValuePair(HttpConstants.PARAM_DAY, _dayToExamine));
+      setData = LollapaloozerServiceUtils.getSets(params, this);
d4fcbffd7f082fd43a8aaeddb0325eb608255f50
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LoginData.java b/Lollapaloozer-Android/src/com/lollapaloozer/LoginData.java
deleted file mode 100644
index 1bbd032..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LoginData.java
+++ /dev/null
@@ -1,23 +0,0 @@
-package com.lollapaloozer;
-
-import java.io.Serializable;
-import java.util.StringTokenizer;
-
-public class LoginData implements Serializable {
-
-  public long timeLoginIssued;
-  public int loginType;
-  public String accountIdentifier;
-  public String accountToken;
-
-  public String getTwitterToken() {
-    StringTokenizer tokenizer = new StringTokenizer(accountToken, "|");
-    return tokenizer.nextToken();
-  }
-
-  public String getTwitterSecret() {
-    StringTokenizer tokenizer = new StringTokenizer(accountToken, "|");
-    tokenizer.nextToken();
-    return tokenizer.nextToken();
-  }
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java
new file mode 100644
index 0000000..0c05913
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/LoginData.java
@@ -0,0 +1,24 @@
+package com.lollapaloozer.data;
+
+import java.io.Serializable;
+import java.util.StringTokenizer;
+
+public class LoginData implements Serializable {
+
+  public long timeLoginIssued;
+  public int loginType;
+  public String accountIdentifier;
+  public String accountToken;
+  public String emailAddress;
+
+  public String getTwitterToken() {
+    StringTokenizer tokenizer = new StringTokenizer(accountToken, "|");
+    return tokenizer.nextToken();
+  }
+
+  public String getTwitterSecret() {
+    StringTokenizer tokenizer = new StringTokenizer(accountToken, "|");
+    tokenizer.nextToken();
+    return tokenizer.nextToken();
+  }
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index b5d7904..5204dd7 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -35 +34,0 @@ import android.widget.Toast;
-import com.lollapaloozer.LoginData;
@@ -42,0 +42 @@ import com.lollapaloozer.data.JSONArraySortMap;
+import com.lollapaloozer.data.LoginData;
@@ -63 +62,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private static final String DATA_USER_EMAIL = "DATA_USER_EMAIL";
@@ -94 +92,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private String _obtained_email = null;
@@ -242,12 +239,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private void _obtainEmailFromStorage() {
-    String loadedEmail = _storageManager.getString(DATA_USER_EMAIL);
-
-    if ((loadedEmail != null) && FieldVerifier.isValidEmail(loadedEmail)) {
-      _obtained_email = loadedEmail;
-    }
-
-    LollapaloozerHelper.debug(this, "Using email: " + _obtained_email + ", on disk:[" + loadedEmail
-        + "]");
-
-  }
-
@@ -283,2 +268,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    _obtainEmailFromStorage();
-
@@ -342,0 +327,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+        if (_loginData.emailAddress != null) {
+          parameterMap.put(HttpConstants.PARAM_EMAIL, _loginData.emailAddress);
+        }
@@ -432,0 +420,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+      if (_loginData.emailAddress != null) {
+        nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL,
+            _loginData.emailAddress));
+      }
@@ -533 +524,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        _storageManager.putString(DATA_USER_EMAIL, email);
+
+        _loginData.emailAddress = email;
@@ -535 +526,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        _obtained_email = email;
@@ -673 +663,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-
@@ -676,0 +667,13 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+
+      if (_loginData.loginType == Constants.LOGIN_TYPE_GOOGLE
+          || _loginData.loginType == Constants.LOGIN_TYPE_FACEBOOK) {
+        _loginData.emailAddress = _loginData.accountIdentifier;
+      } else {
+        _loginData.emailAddress = null;
+      }
+
+      System.out.println("Saving login data timeIssued=" + _loginData.timeLoginIssued
+          + " loginType=" + _loginData.loginType + " accountIdentifier="
+          + _loginData.accountIdentifier + " accountToken=" + _loginData.accountToken
+          + " emailAddress=" + _loginData.emailAddress);
+
@@ -843 +846 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      if (_obtained_email == null) {
+      if (_loginData.emailAddress == null) {
@@ -861,2 +863,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      _obtained_email = null;
-      _storageManager.putString(DATA_USER_EMAIL, _obtained_email);
f15c5b99ca653943da5f6ae200fdc61d35694675
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
index 9b898a0..466f35c 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
@@ -7,0 +8 @@ import java.util.ArrayList;
+import java.util.HashMap;
@@ -41 +42,2 @@ public class LollapaloozerServiceUtils {
-  public static JSONArray getSets(String year, String day, Context context) throws Exception {
+  public static JSONArray getSets(HashMap<String, String> parameterMap, Context context)
+      throws Exception {
@@ -48,16 +50,6 @@ public class LollapaloozerServiceUtils {
-      StringBuilder requestString = new StringBuilder();
-      requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-      requestString.append(HttpConstants.PARAM_YEAR);
-      requestString.append("=");
-      requestString.append(year);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_DAY);
-      requestString.append("=");
-      requestString.append(day);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_ACTION);
-      requestString.append("=");
-      requestString.append(HttpConstants.ACTION_GET_SETS);
-
-      LollapaloozerHelper.debug(context, "HTTPGet = " + requestString.toString());
-      HttpGet get = new HttpGet(requestString.toString());
+      HttpGet get = new HttpGet(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+      for (String s : parameterMap.keySet()) {
+        get.getParams().setParameter(s, parameterMap.get(s));
+      }
+      get.getParams().setParameter(HttpConstants.PARAM_ACTION, HttpConstants.ACTION_GET_SETS);
+
@@ -66 +57,0 @@ public class LollapaloozerServiceUtils {
-
@@ -85 +76 @@ public class LollapaloozerServiceUtils {
-  public static JSONArray getRatings(String email, String year, String day, Context context)
+  public static JSONArray getRatings(HashMap<String, String> parameterMap, Context context)
@@ -96,20 +87,6 @@ public class LollapaloozerServiceUtils {
-      StringBuilder requestString = new StringBuilder();
-      requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-      requestString.append(HttpConstants.PARAM_EMAIL);
-      requestString.append("=");
-      requestString.append(email);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_YEAR);
-      requestString.append("=");
-      requestString.append(year);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_DAY);
-      requestString.append("=");
-      requestString.append(day);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_ACTION);
-      requestString.append("=");
-      requestString.append(HttpConstants.ACTION_GET_RATINGS);
-
-      LollapaloozerHelper.debug(context, "HTTPGet = " + requestString.toString());
-      HttpGet get = new HttpGet(requestString.toString());
+      HttpGet get = new HttpGet(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+      for (String s : parameterMap.keySet()) {
+        get.getParams().setParameter(s, parameterMap.get(s));
+      }
+      get.getParams().setParameter(HttpConstants.PARAM_ACTION, HttpConstants.ACTION_GET_RATINGS);
+
@@ -118 +94,0 @@ public class LollapaloozerServiceUtils {
-
@@ -146,2 +122,2 @@ public class LollapaloozerServiceUtils {
-  public static String addRating(String email, String setId, String score, String comments,
-      Context context) throws Exception {
+  public static String addRating(List<NameValuePair> parameterList, Context context)
+      throws Exception {
@@ -173,9 +149 @@ public class LollapaloozerServiceUtils {
-      HttpPost post = new HttpPost(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-
-      List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
-
-      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL, email));
-      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_SET_ID, setId));
-      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_SCORE, score));
-      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_NOTES, comments));
-      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_ACTION,
+      parameterList.add(new BasicNameValuePair(HttpConstants.PARAM_ACTION,
@@ -184 +152,3 @@ public class LollapaloozerServiceUtils {
-      post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
+      HttpPost post = new HttpPost(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+      post.setEntity(new UrlEncodedFormEntity(parameterList));
+
@@ -187 +156,0 @@ public class LollapaloozerServiceUtils {
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 2fcfb7d..b5d7904 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -2,0 +3 @@ package com.lollapaloozer.ui;
+import java.util.ArrayList;
@@ -3,0 +5 @@ import java.util.HashMap;
+import java.util.List;
@@ -4,0 +7,2 @@ import java.util.HashMap;
+import org.apache.http.NameValuePair;
+import org.apache.http.message.BasicNameValuePair;
@@ -41,0 +46 @@ import com.ratethisfest.shared.FieldVerifier;
+import com.ratethisfest.shared.HttpConstants;
@@ -331,2 +336,9 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        myRatings = LollapaloozerServiceUtils.getRatings(_obtained_email, "2012", _dayToExamine,
-            this);
+
+        HashMap<String, String> parameterMap = new HashMap<String, String>();
+        parameterMap.put(HttpConstants.PARAM_YEAR, "2012");
+        parameterMap.put(HttpConstants.PARAM_DAY, _dayToExamine);
+        parameterMap.put(HttpConstants.PARAM_AUTH_TYPE, _loginData.loginType + "");
+        parameterMap.put(HttpConstants.PARAM_AUTH_ID, _loginData.accountIdentifier);
+        parameterMap.put(HttpConstants.PARAM_AUTH_TOKEN, _loginData.accountToken);
+        myRatings = LollapaloozerServiceUtils.getRatings(parameterMap, this);
+
@@ -385 +397,5 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      setData = LollapaloozerServiceUtils.getSets("2012", _dayToExamine, this);
+      HashMap<String, String> parameterMap = new HashMap<String, String>();
+      parameterMap.put(HttpConstants.PARAM_YEAR, "2012");
+      parameterMap.put(HttpConstants.PARAM_DAY, _dayToExamine);
+      setData = LollapaloozerServiceUtils.getSets(parameterMap, this);
+
@@ -407,2 +423,12 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      LollapaloozerServiceUtils.addRating(_storageManager.getString(DATA_USER_EMAIL), set_id,
-          scoreSelectedValue, notes, this);
+      List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_SET_ID, set_id));
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_SCORE, scoreSelectedValue));
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_NOTES, notes));
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_TYPE, _loginData.loginType
+          + ""));
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_ID,
+          _loginData.accountIdentifier));
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_AUTH_TOKEN,
+          _loginData.accountToken));
+
+      LollapaloozerServiceUtils.addRating(nameValuePairs, this);
@@ -836 +862 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-      _storageManager.putString(DATA_USER_EMAIL, null);
+      _storageManager.putString(DATA_USER_EMAIL, _obtained_email);
@@ -837,0 +864,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+      _storageManager.putObject(DATA_LOGIN_INFO, _loginData);
+
05501486925b5af8d1d878fdc0bd1f7b89123d78
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
index 2a070da..59d6e8b 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
@@ -68,5 +68 @@ public class TwitterAuthProviderOAuth {
-    return _accessToken.getToken();
-  }
-
-  public String getTokenSecret() {
-    return _accessToken.getSecret();
+    return _accessToken.getToken() + "|" + _accessToken.getSecret();
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
index 2ad73f4..4750ca4 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
@@ -2,0 +3,2 @@ package com.lollapaloozer.auth.verify;
+import java.util.StringTokenizer;
+
@@ -19,2 +21,6 @@ public class TwitterVerifier implements AuthVerifier {
-  private TwitterVerifier() {
-  }
+  @Override
+  public boolean verify(String authToken, String identifier) {
+    StringTokenizer tokenizer = new StringTokenizer(authToken, "|");
+
+    String accessToken = tokenizer.nextToken();
+    String accessTokenSecret = tokenizer.nextToken();
@@ -22 +27,0 @@ public class TwitterVerifier implements AuthVerifier {
-  public TwitterVerifier(String accessToken, String accessTokenSecret) {
@@ -24 +28,0 @@ public class TwitterVerifier implements AuthVerifier {
-  }
@@ -26,3 +29,0 @@ public class TwitterVerifier implements AuthVerifier {
-  @Override
-  public boolean verify(String authToken, String identifier) {
-    // authToken is not used!!! value set in constructor
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
index da71c42..eb16d57 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
@@ -44,3 +44,10 @@ public class Constants {
-  public static final String INTENT_EXTRA_ALIAS_TWITTER_AUTH = "intent.extra.twitter.auth";
-  public static final String INTENT_EXTRA_OAUTH1_TOKEN = "intent.extra.oauth1.token";
-  public static final String INTENT_EXTRA_OAUTH1_VERIFIER = "intent.extra.oauth1.verifier";
+  public static final String INTENT_EXTRA_TWITTER_AUTHURL = "intent.extra.twitter.auth";
+  public static final String INTENT_EXTRA_OAUTH1_RETURN_TOKEN = "intent.extra.oauth1.token";
+  public static final String INTENT_EXTRA_OAUTH1_RETURN_VERIFIER = "intent.extra.oauth1.verifier";
+  public static final String INTENT_EXTRA_LOGIN_TYPE = "intent.extra.login.type";
+  public static final String INTENT_EXTRA_ACCOUNT_IDENTIFIER = "intent.extra.account.identifier";
+  public static final String INTENT_EXTRA_LOGIN_TOKEN = "intent.extra.login.token";
+
+  public static final int LOGIN_TYPE_GOOGLE = 1;
+  public static final int LOGIN_TYPE_FACEBOOK = 2;
+  public static final int LOGIN_TYPE_TWITTER = 3;
diff --git a/Lollapaloozer-Android/AndroidManifest.xml b/Lollapaloozer-Android/AndroidManifest.xml
index 088c149..22d31d8 100644
--- a/Lollapaloozer-Android/AndroidManifest.xml
+++ b/Lollapaloozer-Android/AndroidManifest.xml
@@ -21 +21 @@
-            android:label="@string/app_name" android:launchMode="singleInstance">
+            android:label="@string/app_name" android:launchMode="standard">
@@ -28 +28 @@
-        <activity android:name=".ui.ActivitySetsSearch" android:launchMode="singleInstance"></activity>
+        <activity android:name=".ui.ActivitySetsSearch" android:launchMode="standard"></activity>
diff --git a/Lollapaloozer-Android/res/menu/menu_global_options.xml b/Lollapaloozer-Android/res/menu/menu_global_options.xml
index 82be709..77303c4 100644
--- a/Lollapaloozer-Android/res/menu/menu_global_options.xml
+++ b/Lollapaloozer-Android/res/menu/menu_global_options.xml
@@ -4 +4 @@
-    <item android:id="@+id/menu_item_delete_email" android:title="Delete stored email" android:icon="@android:drawable/ic_menu_delete"></item>
+    <item android:id="@+id/menu_item_delete_email" android:title="Forget My Account" android:icon="@android:drawable/ic_menu_delete"></item>
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LoginData.java b/Lollapaloozer-Android/src/com/lollapaloozer/LoginData.java
new file mode 100644
index 0000000..1bbd032
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LoginData.java
@@ -0,0 +1,23 @@
+package com.lollapaloozer;
+
+import java.io.Serializable;
+import java.util.StringTokenizer;
+
+public class LoginData implements Serializable {
+
+  public long timeLoginIssued;
+  public int loginType;
+  public String accountIdentifier;
+  public String accountToken;
+
+  public String getTwitterToken() {
+    StringTokenizer tokenizer = new StringTokenizer(accountToken, "|");
+    return tokenizer.nextToken();
+  }
+
+  public String getTwitterSecret() {
+    StringTokenizer tokenizer = new StringTokenizer(accountToken, "|");
+    tokenizer.nextToken();
+    return tokenizer.nextToken();
+  }
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
index 9b2f8fd..9b898a0 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
@@ -7,2 +6,0 @@ import java.io.UnsupportedEncodingException;
-import java.net.URLDecoder;
-import java.net.URLEncoder;
@@ -22 +19,0 @@ import org.apache.http.message.BasicNameValuePair;
-import org.apache.http.params.HttpParams;
@@ -246,4 +243,7 @@ public class LollapaloozerServiceUtils {
-      JSONTokener tokener = new JSONTokener(builder.toString());
-      JSONArray finalResult = new JSONArray(tokener);
-      return finalResult;
-
+      if (builder.toString() == null || builder.toString().equals("null")) {
+        return new JSONArray();
+      } else {
+        JSONTokener tokener = new JSONTokener(builder.toString());
+        JSONArray finalResult = new JSONArray(tokener);
+        return finalResult;
+      }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerStorageManager.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerStorageManager.java
index 81d5785..462c9ad 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerStorageManager.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerStorageManager.java
@@ -119,0 +120,8 @@ public class LollapaloozerStorageManager {
+  public synchronized void putObject(String objectName, Object obj) {
+    _data.put(objectName, obj);
+  }
+
+  public synchronized Object getObject(String objectName) {
+    return (Object) _data.get(objectName);
+  }
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
index 5e336ee..491ef89 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
@@ -7,0 +8 @@ import android.view.View.OnClickListener;
+import android.widget.Button;
@@ -20,0 +22,2 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+  private Button _buttonInvalidateTokens;
+  private Button _buttonDismissActivity;
@@ -40,2 +43,5 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
-    this.findViewById(R.id.btn_invalidate_tokens).setOnClickListener(this);
-    this.findViewById(R.id.btn_dismiss_activity).setOnClickListener(this);
+    _buttonInvalidateTokens = (Button) findViewById(R.id.btn_invalidate_tokens);
+    _buttonInvalidateTokens.setOnClickListener(this);
+
+    _buttonDismissActivity = (Button) findViewById(R.id.btn_dismiss_activity);
+    _buttonDismissActivity.setOnClickListener(this);
@@ -82,0 +89 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+
@@ -91,0 +99,8 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TYPE, _model.getCurrentAuthProviderType());
+
+    returnIntent.putExtra(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER, _model
+        .getCurrentAuthProvider().getVerifiedAccountIdentifier());
+
+    returnIntent.putExtra(Constants.INTENT_EXTRA_LOGIN_TOKEN, _model.getCurrentAuthProvider()
+        .getAuthToken());
+
@@ -123 +138,5 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
-      // Release version, hide debug UI elements
+      _loginStatusText.setVisibility(View.GONE);
+      _accountNameText.setVisibility(View.GONE);
+      _tokenIdText.setVisibility(View.GONE);
+      _buttonInvalidateTokens.setVisibility(View.GONE);
+      _buttonDismissActivity.setVisibility(View.GONE);
@@ -124,0 +144,3 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+      if (_model.isLoggedIn()) {
+        _returnToMainActivity();
+      }
@@ -138,2 +160,2 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
-    System.out.println("onActivityResult(requestCode=[" + requestCode + "], resultCode=["
-        + resultCode + "] with data: " + data);
+    System.out.println("AuthChooseAccountActivity.onActivityResult(requestCode=[" + requestCode
+        + "], resultCode=[" + resultCode + "] with data: " + data);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
index f403b8e..49d766e 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
@@ -8,0 +9 @@ import com.facebook.android.Facebook;
+import com.ratethisfest.shared.Constants;
@@ -66,0 +68,17 @@ public class AuthDemoModel {
+  public int getCurrentAuthProviderType() {
+    if (_authProviderGoogle.isLoggedIn()) {
+      return Constants.LOGIN_TYPE_GOOGLE;
+    }
+
+    if (_authProviderFacebook.isLoggedIn()) {
+      return Constants.LOGIN_TYPE_FACEBOOK;
+    }
+
+    if (_authProviderTwitter.isLoggedIn()) {
+      return Constants.LOGIN_TYPE_TWITTER;
+    }
+
+    return 0;
+
+  }
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
index 2066ad9..e1c9012 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
@@ -22 +22 @@ public class TwitterAuthDialogPresenter {
-    twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH, authUrl);
+    twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_TWITTER_AUTHURL, authUrl);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index 12c7238..fae9e2e 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -96,3 +96,2 @@ public class TwitterAuthProvider implements AuthProvider {
-    TwitterVerifier verifier = new TwitterVerifier(_oAuthProvider.getAccessToken(),
-        _oAuthProvider.getTokenSecret());
-    return verifier.verify("",
+    TwitterVerifier verifier = new TwitterVerifier();
+    return verifier.verify(_oAuthProvider.getAccessToken(),
@@ -146,2 +145,2 @@ public class TwitterAuthProvider implements AuthProvider {
-      String token = data.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN);
-      String verifier = data.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_VERIFIER);
+      String token = data.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_TOKEN);
+      String verifier = data.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_VERIFIER);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
index 2feae69..cf7d1f3 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
@@ -24 +24 @@ public class TwitterAuthWebpageActivity extends Activity {
-    String authUrl = callingIntent.getStringExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH);
+    String authUrl = callingIntent.getStringExtra(Constants.INTENT_EXTRA_TWITTER_AUTHURL);
@@ -84 +84 @@ public class TwitterAuthWebpageActivity extends Activity {
-          resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN, _requestTokenString);
+          resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_TOKEN, _requestTokenString);
@@ -86 +86 @@ public class TwitterAuthWebpageActivity extends Activity {
-              .putExtra(Constants.INTENT_EXTRA_OAUTH1_VERIFIER, _requestTokenVerifierString);
+              .putExtra(Constants.INTENT_EXTRA_OAUTH1_RETURN_VERIFIER, _requestTokenVerifierString);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index f31a978..f30b65c 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -25 +24,0 @@ import android.widget.ListView;
-import android.widget.RadioButton;
@@ -31,0 +31,2 @@ import android.widget.Toast;
+import com.lollapaloozer.LoginData;
+import com.lollapaloozer.LollapaloozerServiceUtils;
@@ -34 +34,0 @@ import com.lollapaloozer.R;
-import com.lollapaloozer.LollapaloozerServiceUtils;
@@ -36,2 +35,0 @@ import com.lollapaloozer.auth.client.AuthChooseAccountActivity;
-import com.lollapaloozer.auth.client.TwitterAuthWebpageActivity;
-import com.lollapaloozer.data.CustomPair;
@@ -63,0 +62 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  private static final String DATA_LOGIN_INFO = "DATA_LOGIN_INFO";
@@ -109,0 +109 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  private LoginData _loginData;
@@ -237 +237 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private void obtainEmailFromStorage() {
+  private void _obtainEmailFromStorage() {
@@ -248,0 +249,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+  private void _obtainLoginDataFromStorage() {
+    _loginData = (LoginData) _storageManager.getObject(DATA_LOGIN_INFO);
+  }
+
@@ -274 +278,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    obtainEmailFromStorage();
+    _obtainEmailFromStorage();
+
+    _obtainLoginDataFromStorage();
@@ -609 +615 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    if (_obtained_email == null) {
+    if (_loginData == null) {
@@ -625 +631 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    // lollapaloozerAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH,
+    // lollapaloozerAuthIntent.putExtra(Constants.INTENT_EXTRA_TWITTER_AUTHURL,
@@ -633 +638,0 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    // TODO Auto-generated method stub
@@ -634,0 +640,14 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+    System.out.println("LollapaloozerActivity.onActivityResult req=" + requestCode + " result="
+        + resultCode);
+
+    if (resultCode == Activity.RESULT_OK) { // Login success
+      Bundle results = data.getExtras();
+      _loginData = new LoginData();
+      _loginData.timeLoginIssued = System.currentTimeMillis();
+
+      _loginData.loginType = results.getInt(Constants.INTENT_EXTRA_LOGIN_TYPE);
+      _loginData.accountIdentifier = results.getString(Constants.INTENT_EXTRA_ACCOUNT_IDENTIFIER);
+      _loginData.accountToken = results.getString(Constants.INTENT_EXTRA_LOGIN_TOKEN);
+      _storageManager.putObject(DATA_LOGIN_INFO, _loginData);
+      _storageManager.save();
+    }
@@ -817,0 +837 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
+      _loginData = null;
6d7647e7278b9d6d7f4b5aac6a19e36bbeaf0deb
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
index 24b583a..2ad73f4 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
@@ -3,5 +2,0 @@ package com.lollapaloozer.auth.verify;
-import java.util.HashMap;
-
-import org.scribe.builder.ServiceBuilder;
-import org.scribe.builder.api.TwitterApi;
-import org.scribe.model.OAuthRequest;
@@ -10 +4,0 @@ import org.scribe.model.Verb;
-import org.scribe.oauth.OAuthService;
@@ -24,0 +19,3 @@ public class TwitterVerifier implements AuthVerifier {
+  private TwitterVerifier() {
+  }
+
@@ -43 +39,0 @@ public class TwitterVerifier implements AuthVerifier {
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
index 77641f3..5e336ee 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
@@ -40,0 +41 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
+    this.findViewById(R.id.btn_dismiss_activity).setOnClickListener(this);
94cceee15937cdd30a4835c84fe5a4599c3f78bc
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/NameValue.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/NameValue.java
index 6e113d1..5e97f43 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/NameValue.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/NameValue.java
@@ -4,2 +4,2 @@ public class NameValue {
-	public String _name;
-	public String _value;
+  public String _name;
+  public String _value;
@@ -7,4 +7,4 @@ public class NameValue {
-	public NameValue(String name, String value) {
-		_name = name;
-		_value = value;
-	}
+  public NameValue(String name, String value) {
+    _name = name;
+    _value = value;
+  }
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java
index ea899ee..fb7db6f 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java
@@ -17,2 +16,0 @@ import org.json.JSONTokener;
-
-
@@ -21,93 +19,89 @@ public class OAuthHTTP {
-	private URL _url;
-	private HttpURLConnection _urlConnection;
-	private JSONObject _JSONResult;
-	private ArrayList<NameValue> _reqProperties = new ArrayList<NameValue>();
-
-	public OAuthHTTP(String url) throws MalformedURLException {
-		_url = new URL(url);
-
-	}
-
-	public boolean execute() throws JSONException, IOException {
-		try {
-			_urlConnection = (HttpURLConnection) _url.openConnection();
-			System.out.println(_urlConnection.getURL());
-
-			for (NameValue nv : _reqProperties) {
-				_urlConnection.setRequestProperty(nv._name, nv._value);
-			}
-
-			_urlConnection.connect();
-			// Better way to do this?
-			_JSONResult = _parseJSONResponse(_urlConnection.getInputStream());
-			return true; // success
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			_JSONResult = _parseJSONResponse(_urlConnection.getErrorStream());
-			e.printStackTrace();
-			return false; // request completed without success
-		}
-	}
-
-	public boolean executeDebug() throws IOException {
-		try {
-			_urlConnection = (HttpURLConnection) _url.openConnection();
-			System.out.println(_urlConnection.getURL());
-
-			for (NameValue nv : _reqProperties) {
-				_urlConnection.setRequestProperty(nv._name, nv._value);
-			}
-
-			_urlConnection.connect();
-			// Better way to do this?
-
-			_readStream(_urlConnection.getInputStream(), true);
-			return true; // success
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			_readStream(_urlConnection.getErrorStream(), true);
-			e.printStackTrace();
-			return false; // request completed without success
-		}
-	}
-
-	public void setRequestProperty(String name, String value) {
-		_reqProperties.add(new NameValue(name, value));
-	}
-
-	public String getJSONResultString(String propertyName) throws JSONException {
-		return _JSONResult.getString(propertyName);
-	}
-
-	public boolean getJSONResultBoolean(String propertyName)
-			throws JSONException {
-		return _JSONResult.getBoolean(propertyName);
-	}
-
-	private JSONObject _parseJSONResponse(InputStream inputStream)
-			throws IOException, JSONException {
-		StringBuilder builder = _readStream(inputStream, true);
-
-		JSONTokener tokener = new JSONTokener(builder.toString());
-
-		// JSONArray finalResult = new JSONArray(tokener);
-		return new JSONObject(tokener);
-	}
-
-	private StringBuilder _readStream(InputStream inStream, boolean output)
-			throws IOException {
-		BufferedReader reader = new BufferedReader(new InputStreamReader(
-				inStream));
-		StringBuilder builder = new StringBuilder();
-
-		for (String line = null; (line = reader.readLine()) != null;) {
-			if (output) {
-				System.out.println(line);
-			}
-
-			builder.append(line).append("\n");
-		}
-		reader.close();
-		return builder;
-
-	}
+  private URL _url;
+  private HttpURLConnection _urlConnection;
+  private JSONObject _JSONResult;
+  private ArrayList<NameValue> _reqProperties = new ArrayList<NameValue>();
+
+  public OAuthHTTP(String url) throws MalformedURLException {
+    _url = new URL(url);
+
+  }
+
+  public boolean execute() throws JSONException, IOException {
+    try {
+      _urlConnection = (HttpURLConnection) _url.openConnection();
+      System.out.println(_urlConnection.getURL());
+
+      for (NameValue nv : _reqProperties) {
+        _urlConnection.setRequestProperty(nv._name, nv._value);
+      }
+
+      _urlConnection.connect();
+      // Better way to do this?
+      _JSONResult = _parseJSONResponse(_urlConnection.getInputStream());
+      return true; // success
+    } catch (IOException e) {
+      // TODO Auto-generated catch block
+      _JSONResult = _parseJSONResponse(_urlConnection.getErrorStream());
+      e.printStackTrace();
+      return false; // request completed without success
+    }
+  }
+
+  public boolean executeDebug() throws IOException {
+    try {
+      _urlConnection = (HttpURLConnection) _url.openConnection();
+      System.out.println(_urlConnection.getURL());
+
+      for (NameValue nv : _reqProperties) {
+        _urlConnection.setRequestProperty(nv._name, nv._value);
+      }
+
+      _urlConnection.connect();
+      // Better way to do this?
+
+      _readStream(_urlConnection.getInputStream(), true);
+      return true; // success
+    } catch (IOException e) {
+      // TODO Auto-generated catch block
+      _readStream(_urlConnection.getErrorStream(), true);
+      e.printStackTrace();
+      return false; // request completed without success
+    }
+  }
+
+  public void setRequestProperty(String name, String value) {
+    _reqProperties.add(new NameValue(name, value));
+  }
+
+  public String getJSONResultString(String propertyName) throws JSONException {
+    return _JSONResult.getString(propertyName);
+  }
+
+  public boolean getJSONResultBoolean(String propertyName) throws JSONException {
+    return _JSONResult.getBoolean(propertyName);
+  }
+
+  private JSONObject _parseJSONResponse(InputStream inputStream) throws IOException, JSONException {
+    StringBuilder builder = _readStream(inputStream, true);
+
+    JSONTokener tokener = new JSONTokener(builder.toString());
+
+    // JSONArray finalResult = new JSONArray(tokener);
+    return new JSONObject(tokener);
+  }
+
+  private StringBuilder _readStream(InputStream inStream, boolean output) throws IOException {
+    BufferedReader reader = new BufferedReader(new InputStreamReader(inStream));
+    StringBuilder builder = new StringBuilder();
+
+    for (String line = null; (line = reader.readLine()) != null;) {
+      if (output) {
+        System.out.println(line);
+      }
+
+      builder.append(line).append("\n");
+    }
+    reader.close();
+    return builder;
+
+  }
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
index f323e04..2a070da 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
@@ -14,66 +14,64 @@ public class TwitterAuthProviderOAuth {
-	private OAuthService _service;
-	private Token _requestToken;
-	private Token _accessToken;
-	private String _consumerKey;
-	private String _consumerSecret;
-	private String _callbackUrl;
-
-	public TwitterAuthProviderOAuth(String consumerKey, String consumerSecret,
-			String callbackUrl) {
-		_consumerKey = consumerKey;
-		_consumerSecret = consumerSecret;
-		_callbackUrl = callbackUrl;
-		
-		_service = getService();
-	}
-
-	public String getRequestTokenUrl() {
-		
-		_requestToken = _service.getRequestToken();
-
-		String authUrl = _service.getAuthorizationUrl(_requestToken);
-		System.out.println("Twitter OAuth request token URL:" + authUrl);
-		return authUrl;
-	}
-	
-	public OAuthService getService() {
-		return new ServiceBuilder().provider(TwitterApi.class)
-		.apiKey(_consumerKey).apiSecret(_consumerSecret)
-		.callback(_callbackUrl).build();
-	}
-
-	public void requestTokenResult(String token, String tokenVerify) {
-		Verifier verifier = new Verifier(tokenVerify);
-		_accessToken = _service.getAccessToken(_requestToken, verifier); // the
-																			// requestToken
-																			// you
-																			// had
-																			// from
-																			// step
-																			// 2
-																			// OAuthRequest
-																			// request
-
-	}
-
-	public Response accessResource(Verb httpVerb, String resourceUrl) {
-		
-		OAuthRequest request = new OAuthRequest(httpVerb, resourceUrl);
-		
-		_service.signRequest(_accessToken, request); // the access // token from
-														// // step 4 Response
-														// response =
-		return request.send();
-	}
-
-	public String getAccessToken() {
-		return _accessToken.getToken();
-	}
-	
-	public String getTokenSecret() {
-		return _accessToken.getSecret();
-	}
-	
-	public void setAccessTokenObject(String token, String secret) {
-		_accessToken = new Token(token, secret);
-	}
+  private OAuthService _service;
+  private Token _requestToken;
+  private Token _accessToken;
+  private String _consumerKey;
+  private String _consumerSecret;
+  private String _callbackUrl;
+
+  public TwitterAuthProviderOAuth(String consumerKey, String consumerSecret, String callbackUrl) {
+    _consumerKey = consumerKey;
+    _consumerSecret = consumerSecret;
+    _callbackUrl = callbackUrl;
+
+    _service = getService();
+  }
+
+  public String getRequestTokenUrl() {
+
+    _requestToken = _service.getRequestToken();
+
+    String authUrl = _service.getAuthorizationUrl(_requestToken);
+    System.out.println("Twitter OAuth request token URL:" + authUrl);
+    return authUrl;
+  }
+
+  public OAuthService getService() {
+    return new ServiceBuilder().provider(TwitterApi.class).apiKey(_consumerKey)
+        .apiSecret(_consumerSecret).callback(_callbackUrl).build();
+  }
+
+  public void requestTokenResult(String token, String tokenVerify) {
+    Verifier verifier = new Verifier(tokenVerify);
+    _accessToken = _service.getAccessToken(_requestToken, verifier); // the
+    // requestToken
+    // you
+    // had
+    // from
+    // step
+    // 2
+    // OAuthRequest
+    // request
+
+  }
+
+  public Response accessResource(Verb httpVerb, String resourceUrl) {
+
+    OAuthRequest request = new OAuthRequest(httpVerb, resourceUrl);
+
+    _service.signRequest(_accessToken, request); // the access // token from
+    // // step 4 Response
+    // response =
+    return request.send();
+  }
+
+  public String getAccessToken() {
+    return _accessToken.getToken();
+  }
+
+  public String getTokenSecret() {
+    return _accessToken.getSecret();
+  }
+
+  public void setAccessTokenObject(String token, String secret) {
+    _accessToken = new Token(token, secret);
+  }
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java
index eb82403..9e73972 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java
@@ -5 +5 @@ public interface AuthVerifier {
-	public boolean verify(String authToken, String identifier);
+  public boolean verify(String authToken, String identifier);
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
index f9b1ec8..f0d16ea 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
@@ -20,45 +20,41 @@ public class FacebookVerifier implements AuthVerifier {
-	@Override
-	public boolean verify(String authToken, String identifier) {
-		
-		HttpClient hc = new DefaultHttpClient();
-		HttpGet req = new HttpGet("https://graph.facebook.com/me?access_token="+authToken);
-		
-		try {
-			HttpResponse response = hc.execute(req);
-			
-			
-
-			BufferedReader reader = new BufferedReader(
-					new InputStreamReader(
-							response.getEntity().getContent(), "UTF-8"));
-			StringBuilder builder = new StringBuilder();
-			for (String line = null; (line = reader.readLine()) != null;) {
-				builder.append(line).append("\n");
-			}
-
-			
-			JSONObject json = Util.parseJson(builder.toString());
-			String userID = json.getString("id");
-			String userName = json.getString("name");
-			String email = json.getString("email");
-			
-			if (identifier.equals(email)) {
-				return true;
-			}
-			
-		} catch (ClientProtocolException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		} catch (FacebookError e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		} catch (JSONException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-		
-		return false;
-	}
+  @Override
+  public boolean verify(String authToken, String identifier) {
+
+    HttpClient hc = new DefaultHttpClient();
+    HttpGet req = new HttpGet("https://graph.facebook.com/me?access_token=" + authToken);
+
+    try {
+      HttpResponse response = hc.execute(req);
+
+      BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity()
+          .getContent(), "UTF-8"));
+      StringBuilder builder = new StringBuilder();
+      for (String line = null; (line = reader.readLine()) != null;) {
+        builder.append(line).append("\n");
+      }
+
+      JSONObject json = Util.parseJson(builder.toString());
+      String userID = json.getString("id");
+      String userName = json.getString("name");
+      String email = json.getString("email");
+
+      if (identifier.equals(email)) {
+        return true;
+      }
+
+    } catch (ClientProtocolException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    } catch (IOException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    } catch (FacebookError e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+
+    return false;
+  }
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
index 0962488..f2bf7ca 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
@@ -12,42 +12,37 @@ public class GoogleAuthVerifier implements AuthVerifier {
-	public boolean verify(String authToken, String identifier) {
-
-		// url = new URL("https://www.googleapis.com/oauth2/v2/userinfo");
-
-		try {
-			OAuthHTTP oauthreq;
-			oauthreq = new OAuthHTTP(
-					"https://www.googleapis.com/oauth2/v1/userinfo?alt=json");
-			oauthreq.setRequestProperty("client_id",
-					"253259340939.apps.googleusercontent.com");
-			oauthreq.setRequestProperty("client_secret",
-					"3HqdJ51XXYc6Px83sZuJlfmI");
-			oauthreq.setRequestProperty("Authorization", "OAuth " + authToken);
-			// conn.setRequestProperty("User-Agent","Mozilla/5.0 ( compatible ) ");
-			// conn.setRequestProperty("Accept","[star]/[star]");
-
-			boolean oauthSuccess = oauthreq.execute();
-
-			if (oauthSuccess) {
-				boolean tokenOpSuccess = oauthreq
-						.getJSONResultBoolean("verified_email");
-				String verifiedAccountName = oauthreq
-						.getJSONResultString("email");
-
-				if (verifiedAccountName.equals(identifier)) {
-					return true;
-				}
-			} else {
-				System.out.println("OAuth request completed unsuccesfully");
-				// TODO probably need to expire token
-			}
-
-		} catch (MalformedURLException e) {
-			e.printStackTrace();
-		} catch (JSONException e) {
-			e.printStackTrace();
-		} catch (IOException e) {
-			e.printStackTrace();
-		}
-
-		return false;
-	}
+  public boolean verify(String authToken, String identifier) {
+
+    // url = new URL("https://www.googleapis.com/oauth2/v2/userinfo");
+
+    try {
+      OAuthHTTP oauthreq;
+      oauthreq = new OAuthHTTP("https://www.googleapis.com/oauth2/v1/userinfo?alt=json");
+      oauthreq.setRequestProperty("client_id", "253259340939.apps.googleusercontent.com");
+      oauthreq.setRequestProperty("client_secret", "3HqdJ51XXYc6Px83sZuJlfmI");
+      oauthreq.setRequestProperty("Authorization", "OAuth " + authToken);
+      // conn.setRequestProperty("User-Agent","Mozilla/5.0 ( compatible ) ");
+      // conn.setRequestProperty("Accept","[star]/[star]");
+
+      boolean oauthSuccess = oauthreq.execute();
+
+      if (oauthSuccess) {
+        boolean tokenOpSuccess = oauthreq.getJSONResultBoolean("verified_email");
+        String verifiedAccountName = oauthreq.getJSONResultString("email");
+
+        if (verifiedAccountName.equals(identifier)) {
+          return true;
+        }
+      } else {
+        System.out.println("OAuth request completed unsuccesfully");
+        // TODO probably need to expire token
+      }
+
+    } catch (MalformedURLException e) {
+      e.printStackTrace();
+    } catch (JSONException e) {
+      e.printStackTrace();
+    } catch (IOException e) {
+      e.printStackTrace();
+    }
+
+    return false;
+  }
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
index bbeea9f..24b583a 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
@@ -17,38 +16,0 @@ public class TwitterVerifier implements AuthVerifier {
-	
-	public final static String ACCOUNT_PROPERTY_ID = "id";
-	public final static String ACCOUNT_PROPERTY_NAME = "name";
-	public final static String ACCOUNT_PROPERTY_HANDLE = "screen_name";
-	
-	
-	private TwitterAuthProviderOAuth _oAuthProvider = new TwitterAuthProviderOAuth(Constants.CONSUMER_KEY, Constants.CONSUMER_SECRET, Constants.OAUTH_CALLBACK_URL);
-	
-	public TwitterVerifier(String accessToken, String accessTokenSecret) {
-		_oAuthProvider.setAccessTokenObject(accessToken, accessTokenSecret);
-	}
-
-	@Override
-	public boolean verify(String authToken, String identifier) {
-		//authToken is not used!!! value set in constructor
-		Response response = _oAuthProvider.accessResource(Verb.GET,
-		"http://api.twitter.com/1/account/verify_credentials.xml");
-		String responseBody = response.getBody();
-		// System.out.println(response.getBody());
-
-
-		String id = Helper.readXmlProperty(ACCOUNT_PROPERTY_ID, responseBody);
-		String handle = Helper.readXmlProperty(ACCOUNT_PROPERTY_HANDLE, responseBody);
-		String name = Helper.readXmlProperty(ACCOUNT_PROPERTY_NAME, responseBody);
-
-
-		// If data is meaningful, set logged in flag;
-		if (id != null  && handle.equals(identifier)) {
-			
-			System.out.println("Twitter Verification Successful using verifier");
-			return true;
-		} else {
-			System.out.println("Twitter Verification was not successful using verifier");
-		}
-		return false;
-	}
-	
-	
@@ -55,0 +18,33 @@ public class TwitterVerifier implements AuthVerifier {
+  public final static String ACCOUNT_PROPERTY_ID = "id";
+  public final static String ACCOUNT_PROPERTY_NAME = "name";
+  public final static String ACCOUNT_PROPERTY_HANDLE = "screen_name";
+
+  private TwitterAuthProviderOAuth _oAuthProvider = new TwitterAuthProviderOAuth(
+      Constants.CONSUMER_KEY, Constants.CONSUMER_SECRET, Constants.OAUTH_CALLBACK_URL);
+
+  public TwitterVerifier(String accessToken, String accessTokenSecret) {
+    _oAuthProvider.setAccessTokenObject(accessToken, accessTokenSecret);
+  }
+
+  @Override
+  public boolean verify(String authToken, String identifier) {
+    // authToken is not used!!! value set in constructor
+    Response response = _oAuthProvider.accessResource(Verb.GET,
+        "http://api.twitter.com/1/account/verify_credentials.xml");
+    String responseBody = response.getBody();
+    // System.out.println(response.getBody());
+
+    String id = Helper.readXmlProperty(ACCOUNT_PROPERTY_ID, responseBody);
+    String handle = Helper.readXmlProperty(ACCOUNT_PROPERTY_HANDLE, responseBody);
+    String name = Helper.readXmlProperty(ACCOUNT_PROPERTY_NAME, responseBody);
+
+    // If data is meaningful, set logged in flag;
+    if (id != null && handle.equals(identifier)) {
+
+      System.out.println("Twitter Verification Successful using verifier");
+      return true;
+    } else {
+      System.out.println("Twitter Verification was not successful using verifier");
+    }
+    return false;
+  }
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/AuthTypeEnum.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/AuthTypeEnum.java
index a9a6e55..58daf2c 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/AuthTypeEnum.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/AuthTypeEnum.java
@@ -6,3 +6 @@ public enum AuthTypeEnum {
-  FACEBOOK("Facebook"),
-  GOOGLE("Google"),
-  TWITTER("Twitter");
+  FACEBOOK("Facebook"), GOOGLE("Google"), TWITTER("Twitter");
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
index 55f83aa..da71c42 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
@@ -4,3 +3,0 @@ public class Constants {
-	
-	//Data
-	public static final int DATA_NOTE_VISIBLE_MAX_LENGTH = 140;
@@ -8,2 +5,2 @@ public class Constants {
-	// UI String
-	public static final String UI_STR_LOGIN_STATUS = "Login Status: ";
+  // Data
+  public static final int DATA_NOTE_VISIBLE_MAX_LENGTH = 140;
@@ -11,5 +8,2 @@ public class Constants {
-	public static final String MSG_EMAIL_FORMAT = "Please enter your real email address.";
-	public static final String MSG_SIGNIN_REQUIRED = "Sign in so we can remember this for you.";
-	
-	public static final String DIALOG_TITLE_GET_EMAIL = "Keep Track of Everything";
-	public static final String DIALOG_TITLE_FIRST_USE = "Welcome, Fellow Lollapaloozer";
+  // UI String
+  public static final String UI_STR_LOGIN_STATUS = "Login Status: ";
@@ -17 +11,2 @@ public class Constants {
-	// User Authentication
+  public static final String MSG_EMAIL_FORMAT = "Please enter your real email address.";
+  public static final String MSG_SIGNIN_REQUIRED = "Sign in so we can remember this for you.";
@@ -19,2 +14,2 @@ public class Constants {
-	public static final String CONSUMER_KEY = "yit4Mu71Mj93eNILUo3uCw";
-	public static final String CONSUMER_SECRET = "rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI";
+  public static final String DIALOG_TITLE_GET_EMAIL = "Keep Track of Everything";
+  public static final String DIALOG_TITLE_FIRST_USE = "Welcome, Fellow Lollapaloozer";
@@ -22,3 +17 @@ public class Constants {
-	public static final String REQUEST_URL = "https://api.twitter.com/oauth/request_token";
-	public static final String ACCESS_URL = "https://api.twitter.com/oauth/access_token";
-	public static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize";
+  // User Authentication
@@ -26,3 +19,2 @@ public class Constants {
-	public static final String OAUTH_CALLBACK_SCHEME = "http";
-	public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME
-			+ "://lollapaloozer.appspot.com/dummy"; // todo update this
+  public static final String CONSUMER_KEY = "yit4Mu71Mj93eNILUo3uCw";
+  public static final String CONSUMER_SECRET = "rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI";
@@ -30,3 +22,3 @@ public class Constants {
-	// public static final String OAUTH_CALLBACK_SCHEME = "http";
-	// public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME +
-	// "://msnbc.com"; //todo update this
+  public static final String REQUEST_URL = "https://api.twitter.com/oauth/request_token";
+  public static final String ACCESS_URL = "https://api.twitter.com/oauth/access_token";
+  public static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize";
@@ -34,2 +26,3 @@ public class Constants {
-	public static final String OAUTH_CALLBACK_PARAM_TOKEN = "oauth_token";
-	public static final String OAUTH_CALLBACK_PARAM_VERIFIER = "oauth_verifier";
+  public static final String OAUTH_CALLBACK_SCHEME = "http";
+  public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME
+      + "://lollapaloozer.appspot.com/dummy"; // todo update this
@@ -37,3 +30,3 @@ public class Constants {
-	public static final int DEFAULT_PORT_HTTP = 80;
-	public static final int DEFAULT_PORT_HTTPS = 443;
-	public static final String OAUTH_REQUEST_CONTENT_TYPE = "application/x-www-form-urlencoded";
+  // public static final String OAUTH_CALLBACK_SCHEME = "http";
+  // public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME +
+  // "://msnbc.com"; //todo update this
@@ -41,9 +34,2 @@ public class Constants {
-	
-	
-	public static final int INTENT_REQ_CHOOSE_LOGIN_TYPE = 2;
-	public static final int INTENT_REQ_TWITTER_LOGIN = 1;
-	
-	public static final String INTENT_EXTRA_ALIAS_TWITTER_AUTH = "intent.extra.twitter.auth";
-	public static final String INTENT_EXTRA_OAUTH1_TOKEN = "intent.extra.oauth1.token";
-	public static final String INTENT_EXTRA_OAUTH1_VERIFIER = "intent.extra.oauth1.verifier";
-	
+  public static final String OAUTH_CALLBACK_PARAM_TOKEN = "oauth_token";
+  public static final String OAUTH_CALLBACK_PARAM_VERIFIER = "oauth_verifier";
@@ -50,0 +37,10 @@ public class Constants {
+  public static final int DEFAULT_PORT_HTTP = 80;
+  public static final int DEFAULT_PORT_HTTPS = 443;
+  public static final String OAUTH_REQUEST_CONTENT_TYPE = "application/x-www-form-urlencoded";
+
+  public static final int INTENT_REQ_CHOOSE_LOGIN_TYPE = 2;
+  public static final int INTENT_REQ_TWITTER_LOGIN = 1;
+
+  public static final String INTENT_EXTRA_ALIAS_TWITTER_AUTH = "intent.extra.twitter.auth";
+  public static final String INTENT_EXTRA_OAUTH1_TOKEN = "intent.extra.oauth1.token";
+  public static final String INTENT_EXTRA_OAUTH1_VERIFIER = "intent.extra.oauth1.verifier";
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Helper.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Helper.java
index 6da600e..f0e6a58 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Helper.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Helper.java
@@ -4,15 +4,14 @@ public class Helper {
-	public static String readXmlProperty(String propertyName, String xmlData) {
-		String xmlPropertyOpen = "<" + propertyName + ">";
-		String xmlPropertyClose = "</" + propertyName + ">";
-		int propertyOpenIndex = xmlData.indexOf(xmlPropertyOpen);
-		int propertyCloseIndex = xmlData.indexOf(xmlPropertyClose);
-		if (propertyOpenIndex == -1) {
-			System.out.println("Property not found in XML data");
-			return null;
-		} else if (propertyCloseIndex == -1) {
-			System.out.println("Property close tag not found in XML data");
-			return null;
-		}
-		return xmlData.substring(propertyOpenIndex + xmlPropertyOpen.length(),
-				propertyCloseIndex);
-	}
+  public static String readXmlProperty(String propertyName, String xmlData) {
+    String xmlPropertyOpen = "<" + propertyName + ">";
+    String xmlPropertyClose = "</" + propertyName + ">";
+    int propertyOpenIndex = xmlData.indexOf(xmlPropertyOpen);
+    int propertyCloseIndex = xmlData.indexOf(xmlPropertyClose);
+    if (propertyOpenIndex == -1) {
+      System.out.println("Property not found in XML data");
+      return null;
+    } else if (propertyCloseIndex == -1) {
+      System.out.println("Property close tag not found in XML data");
+      return null;
+    }
+    return xmlData.substring(propertyOpenIndex + xmlPropertyOpen.length(), propertyCloseIndex);
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/ServiceBuilder.java b/Coacheller-AppEngine/shared/org/scribe/builder/ServiceBuilder.java
index 27f3c8f..36f8feb 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/ServiceBuilder.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/ServiceBuilder.java
@@ -15 +15 @@ import org.scribe.utils.*;
- *
+ * 
@@ -17,2 +17 @@ import org.scribe.utils.*;
-public class ServiceBuilder
-{
+public class ServiceBuilder {
@@ -26 +25 @@ public class ServiceBuilder
-  
+
@@ -30,2 +29 @@ public class ServiceBuilder
-  public ServiceBuilder()
-  {
+  public ServiceBuilder() {
@@ -36 +34 @@ public class ServiceBuilder
-  
+
@@ -40 +38,3 @@ public class ServiceBuilder
-   * @param apiClass the class of one of the existent {@link Api}s on org.scribe.api package
+   * @param apiClass
+   *          the class of one of the existent {@link Api}s on org.scribe.api
+   *          package
@@ -43,2 +43 @@ public class ServiceBuilder
-  public ServiceBuilder provider(Class<? extends Api> apiClass)
-  {
+  public ServiceBuilder provider(Class<? extends Api> apiClass) {
@@ -49,2 +48 @@ public class ServiceBuilder
-  private Api createApi(Class<? extends Api> apiClass)
-  {
+  private Api createApi(Class<? extends Api> apiClass) {
@@ -53,6 +51,3 @@ public class ServiceBuilder
-    try
-    {
-      api = apiClass.newInstance();  
-    }
-    catch(Exception e)
-    {
+    try {
+      api = apiClass.newInstance();
+    } catch (Exception e) {
@@ -66 +61 @@ public class ServiceBuilder
-   *
+   * 
@@ -68,2 +63,3 @@ public class ServiceBuilder
-   *
-   * @param api instance of {@link Api}s
+   * 
+   * @param api
+   *          instance of {@link Api}s
@@ -72,5 +68,4 @@ public class ServiceBuilder
-  public ServiceBuilder provider(Api api)
-  {
-	  Preconditions.checkNotNull(api, "Api cannot be null");
-	  this.api = api;
-	  return this;
+  public ServiceBuilder provider(Api api) {
+    Preconditions.checkNotNull(api, "Api cannot be null");
+    this.api = api;
+    return this;
@@ -82 +77,2 @@ public class ServiceBuilder
-   * @param callback callback url. Must be a valid url or 'oob' for out of band OAuth
+   * @param callback
+   *          callback url. Must be a valid url or 'oob' for out of band OAuth
@@ -85,2 +81 @@ public class ServiceBuilder
-  public ServiceBuilder callback(String callback)
-  {
+  public ServiceBuilder callback(String callback) {
@@ -91 +86 @@ public class ServiceBuilder
-  
+
@@ -95 +90,2 @@ public class ServiceBuilder
-   * @param apiKey The api key for your application
+   * @param apiKey
+   *          The api key for your application
@@ -98,2 +94 @@ public class ServiceBuilder
-  public ServiceBuilder apiKey(String apiKey)
-  {
+  public ServiceBuilder apiKey(String apiKey) {
@@ -104 +99 @@ public class ServiceBuilder
-  
+
@@ -108 +103,2 @@ public class ServiceBuilder
-   * @param apiSecret The api secret for your application
+   * @param apiSecret
+   *          The api secret for your application
@@ -111,2 +107 @@ public class ServiceBuilder
-  public ServiceBuilder apiSecret(String apiSecret)
-  {
+  public ServiceBuilder apiSecret(String apiSecret) {
@@ -117 +112 @@ public class ServiceBuilder
-  
+
@@ -119 +114,2 @@ public class ServiceBuilder
-   * Configures the OAuth scope. This is only necessary in some APIs (like Google's).
+   * Configures the OAuth scope. This is only necessary in some APIs (like
+   * Google's).
@@ -121 +117,2 @@ public class ServiceBuilder
-   * @param scope The OAuth scope
+   * @param scope
+   *          The OAuth scope
@@ -124,2 +121 @@ public class ServiceBuilder
-  public ServiceBuilder scope(String scope)
-  {
+  public ServiceBuilder scope(String scope) {
@@ -132,3 +128,5 @@ public class ServiceBuilder
-   * Configures the signature type, choose between header, querystring, etc. Defaults to Header
-   *
-   * @param scope The OAuth scope
+   * Configures the signature type, choose between header, querystring, etc.
+   * Defaults to Header
+   * 
+   * @param scope
+   *          The OAuth scope
@@ -137,2 +135 @@ public class ServiceBuilder
-  public ServiceBuilder signatureType(SignatureType type)
-  {
+  public ServiceBuilder signatureType(SignatureType type) {
@@ -144,2 +141 @@ public class ServiceBuilder
-  public ServiceBuilder debugStream(OutputStream stream)
-  {
+  public ServiceBuilder debugStream(OutputStream stream) {
@@ -151,2 +147 @@ public class ServiceBuilder
-  public ServiceBuilder debug()
-  {
+  public ServiceBuilder debug() {
@@ -156 +151 @@ public class ServiceBuilder
-  
+
@@ -162,2 +157 @@ public class ServiceBuilder
-  public OAuthService build()
-  {
+  public OAuthService build() {
@@ -167 +161,2 @@ public class ServiceBuilder
-    return api.createService(new OAuthConfig(apiKey, apiSecret, callback, signatureType, scope, debugStream));
+    return api.createService(new OAuthConfig(apiKey, apiSecret, callback, signatureType, scope,
+        debugStream));
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/Api.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/Api.java
index 6664296..f58eadc 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/Api.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/Api.java
@@ -7 +7,2 @@ import org.scribe.oauth.*;
- * Contains all the configuration needed to instantiate a valid {@link OAuthService}
+ * Contains all the configuration needed to instantiate a valid
+ * {@link OAuthService}
@@ -10 +11 @@ import org.scribe.oauth.*;
- *
+ * 
@@ -12,2 +13 @@ import org.scribe.oauth.*;
-public interface Api
-{  
+public interface Api {
@@ -17,4 +17,8 @@ public interface Api
-   * @param apiKey your application api key
-   * @param apiSecret your application api secret
-   * @param callback the callback url (or 'oob' for out of band OAuth)
-   * @param scope the OAuth scope
+   * @param apiKey
+   *          your application api key
+   * @param apiSecret
+   *          your application api secret
+   * @param callback
+   *          the callback url (or 'oob' for out of band OAuth)
+   * @param scope
+   *          the OAuth scope
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/ConstantContactApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/ConstantContactApi.java
index 0588bc4..482d8d5 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/ConstantContactApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/ConstantContactApi.java
@@ -5,2 +5 @@ import org.scribe.model.*;
-public class ConstantContactApi extends DefaultApi10a
-{
+public class ConstantContactApi extends DefaultApi10a {
@@ -10,2 +9 @@ public class ConstantContactApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -16,2 +14 @@ public class ConstantContactApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
@@ -22,2 +19 @@ public class ConstantContactApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi10a.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi10a.java
index 7506986..d11bde1 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi10a.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi10a.java
@@ -14 +14 @@ import org.scribe.services.*;
- * If your Api adheres to the 1.0a protocol correctly, you just need to extend 
+ * If your Api adheres to the 1.0a protocol correctly, you just need to extend
@@ -17,2 +17,2 @@ import org.scribe.services.*;
- * If your Api does something a bit different, you can override the different 
- * extractors or services, in order to fine-tune the process. Please read the 
+ * If your Api does something a bit different, you can override the different
+ * extractors or services, in order to fine-tune the process. Please read the
@@ -22 +22 @@ import org.scribe.services.*;
- *
+ * 
@@ -24,2 +24 @@ import org.scribe.services.*;
-public abstract class DefaultApi10a implements Api
-{
+public abstract class DefaultApi10a implements Api {
@@ -31,2 +30 @@ public abstract class DefaultApi10a implements Api
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
+  public AccessTokenExtractor getAccessTokenExtractor() {
@@ -41,2 +39 @@ public abstract class DefaultApi10a implements Api
-  public BaseStringExtractor getBaseStringExtractor()
-  {
+  public BaseStringExtractor getBaseStringExtractor() {
@@ -51,2 +48 @@ public abstract class DefaultApi10a implements Api
-  public HeaderExtractor getHeaderExtractor()
-  {
+  public HeaderExtractor getHeaderExtractor() {
@@ -61,2 +57 @@ public abstract class DefaultApi10a implements Api
-  public RequestTokenExtractor getRequestTokenExtractor()
-  {
+  public RequestTokenExtractor getRequestTokenExtractor() {
@@ -71,3 +66,2 @@ public abstract class DefaultApi10a implements Api
-  public SignatureService getSignatureService()
-  {
-    return new HMACSha1SignatureService(); 
+  public SignatureService getSignatureService() {
+    return new HMACSha1SignatureService();
@@ -81,2 +75 @@ public abstract class DefaultApi10a implements Api
-  public TimestampService getTimestampService()
-  {
+  public TimestampService getTimestampService() {
@@ -85 +78 @@ public abstract class DefaultApi10a implements Api
-  
+
@@ -91,2 +84 @@ public abstract class DefaultApi10a implements Api
-  public Verb getAccessTokenVerb()
-  {
+  public Verb getAccessTokenVerb() {
@@ -95 +87 @@ public abstract class DefaultApi10a implements Api
-  
+
@@ -101,2 +93 @@ public abstract class DefaultApi10a implements Api
-  public Verb getRequestTokenVerb()
-  {
+  public Verb getRequestTokenVerb() {
@@ -105 +96 @@ public abstract class DefaultApi10a implements Api
-  
+
@@ -112 +103 @@ public abstract class DefaultApi10a implements Api
-  
+
@@ -119 +110 @@ public abstract class DefaultApi10a implements Api
-  
+
@@ -121,2 +112,2 @@ public abstract class DefaultApi10a implements Api
-   * Returns the URL where you should redirect your users to authenticate
-   * your application.
+   * Returns the URL where you should redirect your users to authenticate your
+   * application.
@@ -124 +115,2 @@ public abstract class DefaultApi10a implements Api
-   * @param requestToken the request token you need to authorize
+   * @param requestToken
+   *          the request token you need to authorize
@@ -128 +120 @@ public abstract class DefaultApi10a implements Api
-  
+
@@ -132,4 +124,8 @@ public abstract class DefaultApi10a implements Api
-   * @param apiKey Key
-   * @param apiSecret Api Secret
-   * @param callback OAuth callback (either URL or 'oob')
-   * @param scope OAuth scope (optional) 
+   * @param apiKey
+   *          Key
+   * @param apiSecret
+   *          Api Secret
+   * @param callback
+   *          OAuth callback (either URL or 'oob')
+   * @param scope
+   *          OAuth scope (optional)
@@ -137,2 +133 @@ public abstract class DefaultApi10a implements Api
-  public OAuthService createService(OAuthConfig config)
-  {
+  public OAuthService createService(OAuthConfig config) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi20.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi20.java
index ffb6207..715227f 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi20.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi20.java
@@ -9 +9 @@ import org.scribe.oauth.*;
- *
+ * 
@@ -12,4 +12,4 @@ import org.scribe.oauth.*;
- *
- * If your Api adheres to the 2.0 (draft 11) protocol correctly, you just need to extend
- * this class and define the getters for your endpoints.
- *
+ * 
+ * If your Api adheres to the 2.0 (draft 11) protocol correctly, you just need
+ * to extend this class and define the getters for your endpoints.
+ * 
@@ -19 +19 @@ import org.scribe.oauth.*;
- *
+ * 
@@ -21 +21 @@ import org.scribe.oauth.*;
- *
+ * 
@@ -23,2 +23 @@ import org.scribe.oauth.*;
-public abstract class DefaultApi20 implements Api
-{
+public abstract class DefaultApi20 implements Api {
@@ -31,2 +30 @@ public abstract class DefaultApi20 implements Api
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
+  public AccessTokenExtractor getAccessTokenExtractor() {
@@ -35 +33 @@ public abstract class DefaultApi20 implements Api
-	
+
@@ -41,2 +39 @@ public abstract class DefaultApi20 implements Api
-  public Verb getAccessTokenVerb()
-  {
+  public Verb getAccessTokenVerb() {
@@ -45 +42 @@ public abstract class DefaultApi20 implements Api
-	
+
@@ -52 +49 @@ public abstract class DefaultApi20 implements Api
-	
+
@@ -54,4 +51,5 @@ public abstract class DefaultApi20 implements Api
-   * Returns the URL where you should redirect your users to authenticate
-   * your application.
-   *
-   * @param config OAuth 2.0 configuration param object
+   * Returns the URL where you should redirect your users to authenticate your
+   * application.
+   * 
+   * @param config
+   *          OAuth 2.0 configuration param object
@@ -65,2 +63 @@ public abstract class DefaultApi20 implements Api
-  public OAuthService createService(OAuthConfig config)
-  {
+  public OAuthService createService(OAuthConfig config) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/DiggApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/DiggApi.java
index b69253e..5cd5e18 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/DiggApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/DiggApi.java
@@ -5,2 +5 @@ import org.scribe.model.*;
-public class DiggApi extends DefaultApi10a 
-{
+public class DiggApi extends DefaultApi10a {
@@ -12,2 +11 @@ public class DiggApi extends DefaultApi10a
-  public String getRequestTokenEndpoint() 
-  {
+  public String getRequestTokenEndpoint() {
@@ -18,2 +16 @@ public class DiggApi extends DefaultApi10a
-  public String getAccessTokenEndpoint() 
-  {
+  public String getAccessTokenEndpoint() {
@@ -24,2 +21 @@ public class DiggApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken) 
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/DropBoxApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/DropBoxApi.java
index 86f4a71..201759c 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/DropBoxApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/DropBoxApi.java
@@ -5,2 +5 @@ import org.scribe.model.*;
-public class DropBoxApi extends DefaultApi10a
-{
+public class DropBoxApi extends DefaultApi10a {
@@ -8,2 +7 @@ public class DropBoxApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -14,3 +12,2 @@ public class DropBoxApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return "https://www.dropbox.com/1/oauth/authorize?oauth_token="+requestToken.getToken();
+  public String getAuthorizationUrl(Token requestToken) {
+    return "https://www.dropbox.com/1/oauth/authorize?oauth_token=" + requestToken.getToken();
@@ -20,2 +17 @@ public class DropBoxApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/EvernoteApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/EvernoteApi.java
index 007f48b..ff6dd23 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/EvernoteApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/EvernoteApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class EvernoteApi extends DefaultApi10a
-{
+public class EvernoteApi extends DefaultApi10a {
@@ -10,2 +9 @@ public class EvernoteApi extends DefaultApi10a
-	public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -15,25 +13,20 @@ public class EvernoteApi extends DefaultApi10a
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-	  return "https://www.evernote.com/oauth";
-	}
-	
-	@Override
-	public String getAuthorizationUrl(Token requestToken)
-	{
-	  return String.format(AUTHORIZATION_URL, requestToken.getToken());
-	}
-
-	public static class Sandbox extends EvernoteApi
-	{
-	  private static final String SANDBOX_URL = "https://sandbox.evernote.com";
-
-	  @Override
-	  public String getRequestTokenEndpoint()
-	  {
-	    return SANDBOX_URL + "/oauth";
-	  }
-
-	  @Override
-	  public String getAccessTokenEndpoint()
-	  {
+  @Override
+  public String getAccessTokenEndpoint() {
+    return "https://www.evernote.com/oauth";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken) {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+
+  public static class Sandbox extends EvernoteApi {
+    private static final String SANDBOX_URL = "https://sandbox.evernote.com";
+
+    @Override
+    public String getRequestTokenEndpoint() {
+      return SANDBOX_URL + "/oauth";
+    }
+
+    @Override
+    public String getAccessTokenEndpoint() {
@@ -41,8 +34,7 @@ public class EvernoteApi extends DefaultApi10a
-	  }
-
-	  @Override
-	  public String getAuthorizationUrl(Token requestToken)
-	  {
-	    return String.format(SANDBOX_URL + "/OAuth.action?oauth_token=%s", requestToken.getToken());
-	  }
-	}	
+    }
+
+    @Override
+    public String getAuthorizationUrl(Token requestToken) {
+      return String.format(SANDBOX_URL + "/OAuth.action?oauth_token=%s", requestToken.getToken());
+    }
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/FacebookApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/FacebookApi.java
index 996a651..2e309a6 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/FacebookApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/FacebookApi.java
@@ -7,2 +7 @@ import org.scribe.utils.*;
-public class FacebookApi extends DefaultApi20
-{
+public class FacebookApi extends DefaultApi20 {
@@ -13,2 +12 @@ public class FacebookApi extends DefaultApi20
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -19,3 +17,3 @@ public class FacebookApi extends DefaultApi20
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
-    Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Facebook does not support OOB");
+  public String getAuthorizationUrl(OAuthConfig config) {
+    Preconditions.checkValidUrl(config.getCallback(),
+        "Must provide a valid url as callback. Facebook does not support OOB");
@@ -24,7 +22,6 @@ public class FacebookApi extends DefaultApi20
-    if(config.hasScope())
-    {
-     return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-    }
-    else
-    {
-      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    if (config.hasScope()) {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    } else {
+      return String.format(AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()));
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/FlickrApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/FlickrApi.java
index a630436..fb0e6d6 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/FlickrApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/FlickrApi.java
@@ -11,2 +11 @@ import org.scribe.model.*;
-public class FlickrApi extends DefaultApi10a
-{
+public class FlickrApi extends DefaultApi10a {
@@ -18,2 +17 @@ public class FlickrApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -27,2 +25 @@ public class FlickrApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
@@ -36,2 +33 @@ public class FlickrApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/Foursquare2Api.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/Foursquare2Api.java
index d11def9..1bde82c 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/Foursquare2Api.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/Foursquare2Api.java
@@ -7,2 +7 @@ import org.scribe.utils.*;
-public class Foursquare2Api extends DefaultApi20
-{
+public class Foursquare2Api extends DefaultApi20 {
@@ -12,2 +11 @@ public class Foursquare2Api extends DefaultApi20
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -18,4 +16,5 @@ public class Foursquare2Api extends DefaultApi20
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
-    Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Foursquare2 does not support OOB");
-    return String.format(AUTHORIZATION_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+  public String getAuthorizationUrl(OAuthConfig config) {
+    Preconditions.checkValidUrl(config.getCallback(),
+        "Must provide a valid url as callback. Foursquare2 does not support OOB");
+    return String.format(AUTHORIZATION_URL, config.getApiKey(),
+        OAuthEncoder.encode(config.getCallback()));
@@ -25,2 +24 @@ public class Foursquare2Api extends DefaultApi20
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
+  public AccessTokenExtractor getAccessTokenExtractor() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/FoursquareApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/FoursquareApi.java
index 060a76b..87094d0 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/FoursquareApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/FoursquareApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class FoursquareApi extends DefaultApi10a
-{
+public class FoursquareApi extends DefaultApi10a {
@@ -8 +7 @@ public class FoursquareApi extends DefaultApi10a
-  
+
@@ -10,2 +9 @@ public class FoursquareApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -16,2 +14 @@ public class FoursquareApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -20 +17 @@ public class FoursquareApi extends DefaultApi10a
-  
+
@@ -22,2 +19 @@ public class FoursquareApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/FreelancerApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/FreelancerApi.java
index 482e66f..3888eb4 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/FreelancerApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/FreelancerApi.java
@@ -5,2 +5 @@ import org.scribe.model.*;
-public class FreelancerApi extends DefaultApi10a
-{
+public class FreelancerApi extends DefaultApi10a {
@@ -10,2 +9 @@ public class FreelancerApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -16,2 +14 @@ public class FreelancerApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -22,2 +19 @@ public class FreelancerApi extends DefaultApi10a
-  public Verb getAccessTokenVerb()
-  {
+  public Verb getAccessTokenVerb() {
@@ -28,2 +24 @@ public class FreelancerApi extends DefaultApi10a
-  public Verb getRequestTokenVerb()
-  {
+  public Verb getRequestTokenVerb() {
@@ -34,2 +29 @@ public class FreelancerApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
@@ -39,2 +33 @@ public class FreelancerApi extends DefaultApi10a
-  public static class Sandbox extends FreelancerApi
-  {
+  public static class Sandbox extends FreelancerApi {
@@ -44,2 +37 @@ public class FreelancerApi extends DefaultApi10a
-    public String getRequestTokenEndpoint()
-    {
+    public String getRequestTokenEndpoint() {
@@ -50,2 +42 @@ public class FreelancerApi extends DefaultApi10a
-    public String getAccessTokenEndpoint()
-    {
+    public String getAccessTokenEndpoint() {
@@ -56,2 +47 @@ public class FreelancerApi extends DefaultApi10a
-    public String getAuthorizationUrl(Token requestToken)
-    {
+    public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/GetGlueApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/GetGlueApi.java
index 3a7560f..6e2c2df 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/GetGlueApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/GetGlueApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class GetGlueApi extends DefaultApi10a
-{
+public class GetGlueApi extends DefaultApi10a {
@@ -12,2 +11 @@ public class GetGlueApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -18,2 +16 @@ public class GetGlueApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -24,2 +21 @@ public class GetGlueApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/GoogleApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/GoogleApi.java
index 9c86e5e..0826828 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/GoogleApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/GoogleApi.java
@@ -5,2 +5 @@ import org.scribe.model.*;
-public class GoogleApi extends DefaultApi10a
-{
+public class GoogleApi extends DefaultApi10a {
@@ -8 +7 @@ public class GoogleApi extends DefaultApi10a
-  
+
@@ -10,3 +9,2 @@ public class GoogleApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
-    return "https://www.google.com/accounts/OAuthGetAccessToken"; 
+  public String getAccessTokenEndpoint() {
+    return "https://www.google.com/accounts/OAuthGetAccessToken";
@@ -16,2 +14 @@ public class GoogleApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -22,2 +19 @@ public class GoogleApi extends DefaultApi10a
-  public Verb getAccessTokenVerb()
-  {
+  public Verb getAccessTokenVerb() {
@@ -28,2 +24 @@ public class GoogleApi extends DefaultApi10a
-  public Verb getRequestTokenVerb()
-  {
+  public Verb getRequestTokenVerb() {
@@ -32 +27 @@ public class GoogleApi extends DefaultApi10a
-  
+
@@ -34,2 +29 @@ public class GoogleApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/ImgUrApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/ImgUrApi.java
index 06dd691..c63d52d 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/ImgUrApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/ImgUrApi.java
@@ -7 +7 @@ import org.scribe.model.*;
- *
+ * 
@@ -11,2 +11 @@ import org.scribe.model.*;
-public class ImgUrApi extends DefaultApi10a
-{
+public class ImgUrApi extends DefaultApi10a {
@@ -15,2 +14 @@ public class ImgUrApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -21,2 +19 @@ public class ImgUrApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -27,3 +24,3 @@ public class ImgUrApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format("https://api.imgur.com/oauth/authorize?oauth_token=%s", requestToken.getToken());
+  public String getAuthorizationUrl(Token requestToken) {
+    return String.format("https://api.imgur.com/oauth/authorize?oauth_token=%s",
+        requestToken.getToken());
@@ -32 +28,0 @@ public class ImgUrApi extends DefaultApi10a
-
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi.java
index 1bf6bab..fb459ca 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi.java
@@ -5,5 +5,4 @@ import org.scribe.model.*;
-public class KaixinApi extends DefaultApi10a 
-{
-	private static final String REQUEST_TOKEN_URL = "http://api.kaixin001.com/oauth/request_token";
-	private static final String ACCESS_TOKEN_URL = "http://api.kaixin001.com/oauth/access_token";
-	private static final String AUTHORIZE_URL = "http://api.kaixin001.com/oauth/authorize?oauth_token=%s";
+public class KaixinApi extends DefaultApi10a {
+  private static final String REQUEST_TOKEN_URL = "http://api.kaixin001.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_URL = "http://api.kaixin001.com/oauth/access_token";
+  private static final String AUTHORIZE_URL = "http://api.kaixin001.com/oauth/authorize?oauth_token=%s";
@@ -11,5 +10,4 @@ public class KaixinApi extends DefaultApi10a
-	@Override
-	public String getRequestTokenEndpoint() 
-	{
-		return REQUEST_TOKEN_URL;
-	}
+  @Override
+  public String getRequestTokenEndpoint() {
+    return REQUEST_TOKEN_URL;
+  }
@@ -17,5 +15,4 @@ public class KaixinApi extends DefaultApi10a
-	@Override
-	public String getAccessTokenEndpoint() 
-	{
-		return ACCESS_TOKEN_URL;
-	}
+  @Override
+  public String getAccessTokenEndpoint() {
+    return ACCESS_TOKEN_URL;
+  }
@@ -23,5 +20,4 @@ public class KaixinApi extends DefaultApi10a
-	@Override
-	public String getAuthorizationUrl(Token requestToken) 
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
+  @Override
+  public String getAuthorizationUrl(Token requestToken) {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
@@ -29,5 +25,4 @@ public class KaixinApi extends DefaultApi10a
-	@Override
-	public Verb getRequestTokenVerb() 
-	{
-		return Verb.GET;
-	}
+  @Override
+  public Verb getRequestTokenVerb() {
+    return Verb.GET;
+  }
@@ -35,5 +30,4 @@ public class KaixinApi extends DefaultApi10a
-	@Override
-	public Verb getAccessTokenVerb() 
-	{
-		return Verb.GET;
-	}
+  @Override
+  public Verb getAccessTokenVerb() {
+    return Verb.GET;
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi20.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi20.java
index 9e27bcb..de01b9a 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi20.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi20.java
@@ -10,2 +10 @@ import org.scribe.utils.*;
-public class KaixinApi20 extends DefaultApi20
-{
+public class KaixinApi20 extends DefaultApi20 {
@@ -17,2 +16 @@ public class KaixinApi20 extends DefaultApi20
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
+  public AccessTokenExtractor getAccessTokenExtractor() {
@@ -23,2 +21 @@ public class KaixinApi20 extends DefaultApi20
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -29,2 +26 @@ public class KaixinApi20 extends DefaultApi20
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
+  public String getAuthorizationUrl(OAuthConfig config) {
@@ -32,7 +28,6 @@ public class KaixinApi20 extends DefaultApi20
-    if (config.hasScope())
-    {
-      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-    }
-    else
-    {
-      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    if (config.hasScope()) {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    } else {
+      return String.format(AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()));
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/LinkedInApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/LinkedInApi.java
index f459404..a700376 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/LinkedInApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/LinkedInApi.java
@@ -5,2 +5 @@ import org.scribe.model.*;
-public class LinkedInApi extends DefaultApi10a
-{
+public class LinkedInApi extends DefaultApi10a {
@@ -10,2 +9 @@ public class LinkedInApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -16,2 +14 @@ public class LinkedInApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -20 +17 @@ public class LinkedInApi extends DefaultApi10a
-  
+
@@ -22,2 +19 @@ public class LinkedInApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
@@ -26 +22 @@ public class LinkedInApi extends DefaultApi10a
-  
+
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/LiveApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/LiveApi.java
index 18140f6..6b7d355 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/LiveApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/LiveApi.java
@@ -7,2 +7 @@ import org.scribe.utils.*;
-public class LiveApi extends DefaultApi20
-{
+public class LiveApi extends DefaultApi20 {
@@ -10,2 +9,2 @@ public class LiveApi extends DefaultApi20
-	private static final String AUTHORIZE_URL = "https://oauth.live.com/authorize?client_id=%s&redirect_uri=%s&response_type=code";
-	private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+  private static final String AUTHORIZE_URL = "https://oauth.live.com/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
@@ -13,5 +12,4 @@ public class LiveApi extends DefaultApi20
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return "https://oauth.live.com/token?grant_type=authorization_code";
-	}
+  @Override
+  public String getAccessTokenEndpoint() {
+    return "https://oauth.live.com/token?grant_type=authorization_code";
+  }
@@ -19,4 +17,4 @@ public class LiveApi extends DefaultApi20
-	@Override
-	public String getAuthorizationUrl(OAuthConfig config)
-	{
-		Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Live does not support OOB");
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config) {
+    Preconditions.checkValidUrl(config.getCallback(),
+        "Must provide a valid url as callback. Live does not support OOB");
@@ -24,10 +22,9 @@ public class LiveApi extends DefaultApi20
-		// Append scope if present
-		if (config.hasScope())
-		{
-			return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-		}
-    else
-		{
-			return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
-		}
-	}
+    // Append scope if present
+    if (config.hasScope()) {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    } else {
+      return String.format(AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()));
+    }
+  }
@@ -35,5 +32,4 @@ public class LiveApi extends DefaultApi20
-	@Override
-	public AccessTokenExtractor getAccessTokenExtractor()
-	{
-		return new JsonTokenExtractor();
-	}
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor() {
+    return new JsonTokenExtractor();
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/LoveFilmApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/LoveFilmApi.java
index 81a5bb8..41bbae3 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/LoveFilmApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/LoveFilmApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class LoveFilmApi extends DefaultApi10a
-{
+public class LoveFilmApi extends DefaultApi10a {
@@ -12,2 +11 @@ public class LoveFilmApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -18,2 +16 @@ public class LoveFilmApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -24,2 +21 @@ public class LoveFilmApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/MeetupApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/MeetupApi.java
index 8f63e39..36e5718 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/MeetupApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/MeetupApi.java
@@ -6,2 +6,2 @@ import org.scribe.model.Token;
- * OAuth access to the Meetup.com API.
- * For more information visit http://www.meetup.com/api
+ * OAuth access to the Meetup.com API. For more information visit
+ * http://www.meetup.com/api
@@ -9,3 +9,2 @@ import org.scribe.model.Token;
-public class MeetupApi extends DefaultApi10a
-{
-	private static final String AUTHORIZE_URL = "http://www.meetup.com/authenticate?oauth_token=%s";
+public class MeetupApi extends DefaultApi10a {
+  private static final String AUTHORIZE_URL = "http://www.meetup.com/authenticate?oauth_token=%s";
@@ -13,5 +12,4 @@ public class MeetupApi extends DefaultApi10a
-	@Override
-	public String getRequestTokenEndpoint()
-	{
-		return "http://api.meetup.com/oauth/request/";
-	}
+  @Override
+  public String getRequestTokenEndpoint() {
+    return "http://api.meetup.com/oauth/request/";
+  }
@@ -19,5 +17,4 @@ public class MeetupApi extends DefaultApi10a
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return "http://api.meetup.com/oauth/access/";
-	}
+  @Override
+  public String getAccessTokenEndpoint() {
+    return "http://api.meetup.com/oauth/access/";
+  }
@@ -25,5 +22,4 @@ public class MeetupApi extends DefaultApi10a
-	@Override
-	public String getAuthorizationUrl(Token requestToken)
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
+  @Override
+  public String getAuthorizationUrl(Token requestToken) {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/MisoApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/MisoApi.java
index a6d88d3..cb5b975 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/MisoApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/MisoApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class MisoApi extends DefaultApi10a
-{
+public class MisoApi extends DefaultApi10a {
@@ -12,2 +11 @@ public class MisoApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -18,2 +16 @@ public class MisoApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -24,2 +21 @@ public class MisoApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/NetProspexApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/NetProspexApi.java
index 8257de7..4f93178 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/NetProspexApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/NetProspexApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class NetProspexApi extends DefaultApi10a
-{
+public class NetProspexApi extends DefaultApi10a {
@@ -12,2 +11 @@ public class NetProspexApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -18,2 +16 @@ public class NetProspexApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -24,2 +21 @@ public class NetProspexApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/NeteaseWeibooApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/NeteaseWeibooApi.java
index fae38ac..65be614 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/NeteaseWeibooApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/NeteaseWeibooApi.java
@@ -5,6 +5,5 @@ import org.scribe.model.*;
-public class NeteaseWeibooApi extends DefaultApi10a
-{
-	private static final String REQUEST_TOKEN_URL = "http://api.t.163.com/oauth/request_token";
-	private static final String ACCESS_TOKEN_URL = "http://api.t.163.com/oauth/access_token";
-	private static final String AUTHORIZE_URL = "http://api.t.163.com/oauth/authorize?oauth_token=%s";
-	private static final String AUTHENTICATE_URL = "http://api.t.163.com/oauth/authenticate?oauth_token=%s";
+public class NeteaseWeibooApi extends DefaultApi10a {
+  private static final String REQUEST_TOKEN_URL = "http://api.t.163.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_URL = "http://api.t.163.com/oauth/access_token";
+  private static final String AUTHORIZE_URL = "http://api.t.163.com/oauth/authorize?oauth_token=%s";
+  private static final String AUTHENTICATE_URL = "http://api.t.163.com/oauth/authenticate?oauth_token=%s";
@@ -12,5 +11,4 @@ public class NeteaseWeibooApi extends DefaultApi10a
-	@Override
-	public String getRequestTokenEndpoint() 
-	{
-		return REQUEST_TOKEN_URL;
-	}
+  @Override
+  public String getRequestTokenEndpoint() {
+    return REQUEST_TOKEN_URL;
+  }
@@ -18,5 +16,4 @@ public class NeteaseWeibooApi extends DefaultApi10a
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return ACCESS_TOKEN_URL;
-	}
+  @Override
+  public String getAccessTokenEndpoint() {
+    return ACCESS_TOKEN_URL;
+  }
@@ -24,12 +21,11 @@ public class NeteaseWeibooApi extends DefaultApi10a
-	@Override
-	/**
-	 * this method will ignore your callback
-	 * if you're creating a desktop client please choose this url
-	 * else your can call getAuthenticateUrl
-	 * 
-	 * via http://open.t.163.com/wiki/index.php?title=%E8%AF%B7%E6%B1%82%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83Token(oauth/authorize)
-	 */
-	public String getAuthorizationUrl(Token requestToken)
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
+  @Override
+  /**
+   * this method will ignore your callback
+   * if you're creating a desktop client please choose this url
+   * else your can call getAuthenticateUrl
+   * 
+   * via http://open.t.163.com/wiki/index.php?title=%E8%AF%B7%E6%B1%82%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83Token(oauth/authorize)
+   */
+  public String getAuthorizationUrl(Token requestToken) {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
@@ -37,10 +33,11 @@ public class NeteaseWeibooApi extends DefaultApi10a
-	/**
-	 * this method is for web client with callback url
-	 * if you're creating a desktop client please call getAuthorizationUrl 
-	 * 
-	 * via http://open.t.163.com/wiki/index.php?title=%E8%AF%B7%E6%B1%82%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83Token(oauth/authenticate)
-	 */
-	public String getAuthenticateUrl(Token requestToken)
-	{
-		return String.format(AUTHENTICATE_URL, requestToken.getToken());
-	}
+  /**
+   * this method is for web client with callback url if you're creating a
+   * desktop client please call getAuthorizationUrl
+   * 
+   * via
+   * http://open.t.163.com/wiki/index.php?title=%E8%AF%B7%E6%B1%82%E7%94%A8%E6
+   * %88%B7%E6%8E%88%E6%9D%83Token(oauth/authenticate)
+   */
+  public String getAuthenticateUrl(Token requestToken) {
+    return String.format(AUTHENTICATE_URL, requestToken.getToken());
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/PlurkApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/PlurkApi.java
index 323ad2c..373ba8a 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/PlurkApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/PlurkApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class PlurkApi extends DefaultApi10a
-{
+public class PlurkApi extends DefaultApi10a {
@@ -12,2 +11 @@ public class PlurkApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -18,2 +16 @@ public class PlurkApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
@@ -24,2 +21 @@ public class PlurkApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -29,2 +25 @@ public class PlurkApi extends DefaultApi10a
-  public class Mobile extends PlurkApi
-  {
+  public class Mobile extends PlurkApi {
@@ -34,2 +29 @@ public class PlurkApi extends DefaultApi10a
-    public String getAuthorizationUrl(Token requestToken)
-    {
+    public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/Px500Api.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/Px500Api.java
index f7f3b0e..11999e3 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/Px500Api.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/Px500Api.java
@@ -5,2 +5 @@ import org.scribe.model.*;
-public class Px500Api extends DefaultApi10a
-{
+public class Px500Api extends DefaultApi10a {
@@ -8 +7 @@ public class Px500Api extends DefaultApi10a
-  
+
@@ -10,2 +9 @@ public class Px500Api extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -16,2 +14 @@ public class Px500Api extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -20 +17 @@ public class Px500Api extends DefaultApi10a
-  
+
@@ -22,2 +19 @@ public class Px500Api extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/QWeiboApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/QWeiboApi.java
index c036bd5..37b01c2 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/QWeiboApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/QWeiboApi.java
@@ -5,5 +5,4 @@ import org.scribe.model.*;
-public class QWeiboApi extends DefaultApi10a 
-{
-	private static final String REQUEST_TOKEN_URL = "https://open.t.qq.com/cgi-bin/request_token";
-	private static final String ACCESS_TOKEN_URL = "https://open.t.qq.com/cgi-bin/access_token";
-	private static final String AUTHORIZE_URL = "https://open.t.qq.com/cgi-bin/authorize?oauth_token=%s";
+public class QWeiboApi extends DefaultApi10a {
+  private static final String REQUEST_TOKEN_URL = "https://open.t.qq.com/cgi-bin/request_token";
+  private static final String ACCESS_TOKEN_URL = "https://open.t.qq.com/cgi-bin/access_token";
+  private static final String AUTHORIZE_URL = "https://open.t.qq.com/cgi-bin/authorize?oauth_token=%s";
@@ -11,5 +10,4 @@ public class QWeiboApi extends DefaultApi10a
-	@Override
-	public String getRequestTokenEndpoint() 
-	{
-		return REQUEST_TOKEN_URL;
-	}
+  @Override
+  public String getRequestTokenEndpoint() {
+    return REQUEST_TOKEN_URL;
+  }
@@ -17,5 +15,4 @@ public class QWeiboApi extends DefaultApi10a
-	@Override
-	public String getAccessTokenEndpoint() 
-	{
-		return ACCESS_TOKEN_URL;
-	}
+  @Override
+  public String getAccessTokenEndpoint() {
+    return ACCESS_TOKEN_URL;
+  }
@@ -23,5 +20,4 @@ public class QWeiboApi extends DefaultApi10a
-	@Override
-	public String getAuthorizationUrl(Token requestToken) 
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
+  @Override
+  public String getAuthorizationUrl(Token requestToken) {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/RenrenApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/RenrenApi.java
index b31337b..3edce23 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/RenrenApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/RenrenApi.java
@@ -10,2 +10 @@ import org.scribe.utils.*;
-public class RenrenApi extends DefaultApi20
-{
+public class RenrenApi extends DefaultApi20 {
@@ -16,2 +15 @@ public class RenrenApi extends DefaultApi20
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
+  public AccessTokenExtractor getAccessTokenExtractor() {
@@ -22,2 +20 @@ public class RenrenApi extends DefaultApi20
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -28,2 +25 @@ public class RenrenApi extends DefaultApi20
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
+  public String getAuthorizationUrl(OAuthConfig config) {
@@ -31,7 +27,6 @@ public class RenrenApi extends DefaultApi20
-    if (config.hasScope())
-    {
-      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-    }
-    else
-    {
-      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    if (config.hasScope()) {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    } else {
+      return String.format(AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()));
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SapoApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SapoApi.java
index 9771daf..9505091 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/SapoApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SapoApi.java
@@ -5,2 +5 @@ import org.scribe.model.*;
-public class SapoApi extends DefaultApi10a
-{
+public class SapoApi extends DefaultApi10a {
@@ -12,2 +11 @@ public class SapoApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -18,2 +16 @@ public class SapoApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -24,2 +21 @@ public class SapoApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
@@ -30,2 +26 @@ public class SapoApi extends DefaultApi10a
-  public Verb getRequestTokenVerb()
-  {
+  public Verb getRequestTokenVerb() {
@@ -36,2 +31 @@ public class SapoApi extends DefaultApi10a
-  public Verb getAccessTokenVerb()
-  {
+  public Verb getAccessTokenVerb() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SimpleGeoApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SimpleGeoApi.java
index 3e19df7..b1e6d2f 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/SimpleGeoApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SimpleGeoApi.java
@@ -8,2 +8 @@ import org.scribe.model.Token;
-public class SimpleGeoApi extends DefaultApi10a
-{
+public class SimpleGeoApi extends DefaultApi10a {
@@ -12,5 +11,4 @@ public class SimpleGeoApi extends DefaultApi10a
-	@Override
-	public String getRequestTokenEndpoint()
-	{
-		return ENDPOINT;
-	}
+  @Override
+  public String getRequestTokenEndpoint() {
+    return ENDPOINT;
+  }
@@ -18,5 +16,4 @@ public class SimpleGeoApi extends DefaultApi10a
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return ENDPOINT;
-	}
+  @Override
+  public String getAccessTokenEndpoint() {
+    return ENDPOINT;
+  }
@@ -24,5 +21,4 @@ public class SimpleGeoApi extends DefaultApi10a
-	@Override
-	public String getAuthorizationUrl(Token requestToken)
-	{
-		return ENDPOINT;
-	}
+  @Override
+  public String getAuthorizationUrl(Token requestToken) {
+    return ENDPOINT;
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi.java
index 14951d3..3e9f7a5 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi.java
@@ -5,5 +5,4 @@ import org.scribe.model.*;
-public class SinaWeiboApi extends DefaultApi10a
-{
-	private static final String REQUEST_TOKEN_URL = "http://api.t.sina.com.cn/oauth/request_token";
-	private static final String ACCESS_TOKEN_URL = "http://api.t.sina.com.cn/oauth/access_token";
-	private static final String AUTHORIZE_URL = "http://api.t.sina.com.cn/oauth/authorize?oauth_token=%s";
+public class SinaWeiboApi extends DefaultApi10a {
+  private static final String REQUEST_TOKEN_URL = "http://api.t.sina.com.cn/oauth/request_token";
+  private static final String ACCESS_TOKEN_URL = "http://api.t.sina.com.cn/oauth/access_token";
+  private static final String AUTHORIZE_URL = "http://api.t.sina.com.cn/oauth/authorize?oauth_token=%s";
@@ -11,5 +10,4 @@ public class SinaWeiboApi extends DefaultApi10a
-	@Override
-	public String getRequestTokenEndpoint()
-	{
-		return REQUEST_TOKEN_URL;
-	}
+  @Override
+  public String getRequestTokenEndpoint() {
+    return REQUEST_TOKEN_URL;
+  }
@@ -17,5 +15,4 @@ public class SinaWeiboApi extends DefaultApi10a
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return ACCESS_TOKEN_URL;
-	}
+  @Override
+  public String getAccessTokenEndpoint() {
+    return ACCESS_TOKEN_URL;
+  }
@@ -23,5 +20,4 @@ public class SinaWeiboApi extends DefaultApi10a
-	@Override
-	public String getAuthorizationUrl(Token requestToken)
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
+  @Override
+  public String getAuthorizationUrl(Token requestToken) {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi20.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi20.java
index e0744c4..c7d2534 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi20.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi20.java
@@ -10,2 +10 @@ import org.scribe.utils.*;
-public class SinaWeiboApi20 extends DefaultApi20
-{
+public class SinaWeiboApi20 extends DefaultApi20 {
@@ -16,2 +15 @@ public class SinaWeiboApi20 extends DefaultApi20
-  public Verb getAccessTokenVerb()
-  {
+  public Verb getAccessTokenVerb() {
@@ -22,2 +20 @@ public class SinaWeiboApi20 extends DefaultApi20
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
+  public AccessTokenExtractor getAccessTokenExtractor() {
@@ -28,2 +25 @@ public class SinaWeiboApi20 extends DefaultApi20
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -34,2 +30 @@ public class SinaWeiboApi20 extends DefaultApi20
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
+  public String getAuthorizationUrl(OAuthConfig config) {
@@ -37,7 +32,6 @@ public class SinaWeiboApi20 extends DefaultApi20
-    if (config.hasScope())
-    {
-      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-    }
-    else
-    {
-      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    if (config.hasScope()) {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    } else {
+      return String.format(AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()));
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SkyrockApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SkyrockApi.java
index b0e76a3..5d13224 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/SkyrockApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SkyrockApi.java
@@ -7 +7 @@ import org.scribe.model.*;
- *
+ * 
@@ -11,2 +11 @@ import org.scribe.model.*;
-public class SkyrockApi extends DefaultApi10a
-{
+public class SkyrockApi extends DefaultApi10a {
@@ -17 +16 @@ public class SkyrockApi extends DefaultApi10a
-  
+
@@ -19,2 +18 @@ public class SkyrockApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -25,2 +23 @@ public class SkyrockApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -29 +26 @@ public class SkyrockApi extends DefaultApi10a
-  
+
@@ -31,2 +28 @@ public class SkyrockApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SohuWeiboApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SohuWeiboApi.java
index 1f927b7..9bbb4c7 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/SohuWeiboApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SohuWeiboApi.java
@@ -5,5 +5,4 @@ import org.scribe.model.*;
-public class SohuWeiboApi extends DefaultApi10a
-{
-	private static final String REQUEST_TOKEN_URL = "http://api.t.sohu.com/oauth/request_token";
-	private static final String ACCESS_TOKEN_URL = "http://api.t.sohu.com/oauth/access_token";
-	private static final String AUTHORIZE_URL = "http://api.t.sohu.com/oauth/authorize?oauth_token=%s";
+public class SohuWeiboApi extends DefaultApi10a {
+  private static final String REQUEST_TOKEN_URL = "http://api.t.sohu.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_URL = "http://api.t.sohu.com/oauth/access_token";
+  private static final String AUTHORIZE_URL = "http://api.t.sohu.com/oauth/authorize?oauth_token=%s";
@@ -11,5 +10,4 @@ public class SohuWeiboApi extends DefaultApi10a
-	@Override
-	public String getRequestTokenEndpoint()
-	{
-		return REQUEST_TOKEN_URL;
-	}
+  @Override
+  public String getRequestTokenEndpoint() {
+    return REQUEST_TOKEN_URL;
+  }
@@ -17,5 +15,4 @@ public class SohuWeiboApi extends DefaultApi10a
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return ACCESS_TOKEN_URL;
-	}
+  @Override
+  public String getAccessTokenEndpoint() {
+    return ACCESS_TOKEN_URL;
+  }
@@ -23,5 +20,4 @@ public class SohuWeiboApi extends DefaultApi10a
-	@Override
-	public String getAuthorizationUrl(Token requestToken)
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
+  @Override
+  public String getAuthorizationUrl(Token requestToken) {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/TumblrApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/TumblrApi.java
index ee680ee..c486c84 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/TumblrApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/TumblrApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class TumblrApi extends DefaultApi10a
-{
+public class TumblrApi extends DefaultApi10a {
@@ -12,2 +11 @@ public class TumblrApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -18,2 +16 @@ public class TumblrApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -24,2 +21 @@ public class TumblrApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/TwitterApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/TwitterApi.java
index a83c28e..6ad7336 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/TwitterApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/TwitterApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class TwitterApi extends DefaultApi10a
-{
+public class TwitterApi extends DefaultApi10a {
@@ -10 +9 @@ public class TwitterApi extends DefaultApi10a
-  
+
@@ -12,2 +11 @@ public class TwitterApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -18,2 +16 @@ public class TwitterApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -24,2 +21 @@ public class TwitterApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
@@ -29,2 +25 @@ public class TwitterApi extends DefaultApi10a
-  public static class SSL extends TwitterApi
-  {
+  public static class SSL extends TwitterApi {
@@ -32,2 +27 @@ public class TwitterApi extends DefaultApi10a
-    public String getAccessTokenEndpoint()
-    {
+    public String getAccessTokenEndpoint() {
@@ -38,2 +32 @@ public class TwitterApi extends DefaultApi10a
-    public String getRequestTokenEndpoint()
-    {
+    public String getRequestTokenEndpoint() {
@@ -46 +39 @@ public class TwitterApi extends DefaultApi10a
-   *
+   * 
@@ -49,2 +42 @@ public class TwitterApi extends DefaultApi10a
-  public static class Authenticate extends SSL
-  {
+  public static class Authenticate extends SSL {
@@ -54,2 +46 @@ public class TwitterApi extends DefaultApi10a
-    public String getAuthorizationUrl(Token requestToken)
-    {
+    public String getAuthorizationUrl(Token requestToken) {
@@ -62 +53 @@ public class TwitterApi extends DefaultApi10a
-   *
+   * 
@@ -65 +56,2 @@ public class TwitterApi extends DefaultApi10a
-  public static class Authorize extends SSL{}
+  public static class Authorize extends SSL {
+  }
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/VimeoApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/VimeoApi.java
index 231895d..db93935 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/VimeoApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/VimeoApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class VimeoApi extends DefaultApi10a
-{
+public class VimeoApi extends DefaultApi10a {
@@ -8 +7 @@ public class VimeoApi extends DefaultApi10a
-  
+
@@ -10,2 +9 @@ public class VimeoApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -16,2 +14 @@ public class VimeoApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -20 +17 @@ public class VimeoApi extends DefaultApi10a
-  
+
@@ -22,2 +19 @@ public class VimeoApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/VkontakteApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/VkontakteApi.java
index 83050e3..2d6afd5 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/VkontakteApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/VkontakteApi.java
@@ -11,2 +11 @@ import org.scribe.model.*;
-public class VkontakteApi extends DefaultApi20
-{
+public class VkontakteApi extends DefaultApi20 {
@@ -17,2 +16 @@ public class VkontakteApi extends DefaultApi20
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -23,4 +21,4 @@ public class VkontakteApi extends DefaultApi20
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
-    Preconditions.checkValidUrl(config.getCallback(), "Valid url is required for a callback. Vkontakte does not support OOB");
-    if(config.hasScope())// Appending scope if present
+  public String getAuthorizationUrl(OAuthConfig config) {
+    Preconditions.checkValidUrl(config.getCallback(),
+        "Valid url is required for a callback. Vkontakte does not support OOB");
+    if (config.hasScope())// Appending scope if present
@@ -28,5 +26,5 @@ public class VkontakteApi extends DefaultApi20
-     return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-    }
-    else
-    {
-      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    } else {
+      return String.format(AUTHORIZE_URL, config.getApiKey(),
+          OAuthEncoder.encode(config.getCallback()));
@@ -37,2 +35 @@ public class VkontakteApi extends DefaultApi20
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
+  public AccessTokenExtractor getAccessTokenExtractor() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/YahooApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/YahooApi.java
index e8a29a7..7f7cf0c 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/YahooApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/YahooApi.java
@@ -5,2 +5 @@ import org.scribe.model.Token;
-public class YahooApi extends DefaultApi10a
-{
+public class YahooApi extends DefaultApi10a {
@@ -8 +7 @@ public class YahooApi extends DefaultApi10a
-  
+
@@ -10,2 +9 @@ public class YahooApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -16,2 +14 @@ public class YahooApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -20 +17 @@ public class YahooApi extends DefaultApi10a
-  
+
@@ -22,2 +19 @@ public class YahooApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/YammerApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/YammerApi.java
index e06543d..3a75968 100644
--- a/Coacheller-AppEngine/shared/org/scribe/builder/api/YammerApi.java
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/YammerApi.java
@@ -6,2 +6 @@ import org.scribe.services.*;
-public class YammerApi extends DefaultApi10a
-{
+public class YammerApi extends DefaultApi10a {
@@ -11,2 +10 @@ public class YammerApi extends DefaultApi10a
-  public String getRequestTokenEndpoint()
-  {
+  public String getRequestTokenEndpoint() {
@@ -17,2 +15 @@ public class YammerApi extends DefaultApi10a
-  public String getAccessTokenEndpoint()
-  {
+  public String getAccessTokenEndpoint() {
@@ -23,2 +20 @@ public class YammerApi extends DefaultApi10a
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
@@ -29,2 +25 @@ public class YammerApi extends DefaultApi10a
-  public SignatureService getSignatureService()
-  {
+  public SignatureService getSignatureService() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthConnectionException.java b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthConnectionException.java
index 918de81..b2986e3 100644
--- a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthConnectionException.java
+++ b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthConnectionException.java
@@ -6,2 +6 @@ package org.scribe.exceptions;
-public class OAuthConnectionException extends OAuthException
-{
+public class OAuthConnectionException extends OAuthException {
@@ -10,2 +9 @@ public class OAuthConnectionException extends OAuthException
-  public OAuthConnectionException(Exception e)
-  {
+  public OAuthConnectionException(Exception e) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthException.java b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthException.java
index 85f49d9..1e79416 100644
--- a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthException.java
+++ b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthException.java
@@ -4,2 +4 @@ package org.scribe.exceptions;
- * Default scribe exception. 
- * Represents a problem in the OAuth signing process
+ * Default scribe exception. Represents a problem in the OAuth signing process
@@ -9,2 +8 @@ package org.scribe.exceptions;
-public class OAuthException extends RuntimeException
-{
+public class OAuthException extends RuntimeException {
@@ -13,3 +11,6 @@ public class OAuthException extends RuntimeException
-   * Default constructor 
-   * @param message message explaining what went wrong
-   * @param e original exception
+   * Default constructor
+   * 
+   * @param message
+   *          message explaining what went wrong
+   * @param e
+   *          original exception
@@ -17,2 +18 @@ public class OAuthException extends RuntimeException
-  public OAuthException(String message, Exception e)
-  {
+  public OAuthException(String message, Exception e) {
@@ -24,2 +24,3 @@ public class OAuthException extends RuntimeException
-   *  
-   * @param message message explaining what went wrong
+   * 
+   * @param message
+   *          message explaining what went wrong
@@ -27,2 +28 @@ public class OAuthException extends RuntimeException
-  public OAuthException(String message)
-  {
+  public OAuthException(String message) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthParametersMissingException.java b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthParametersMissingException.java
index 8407ce4..c6c13d6 100644
--- a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthParametersMissingException.java
+++ b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthParametersMissingException.java
@@ -6 +6 @@ import org.scribe.model.*;
- * Specialized exception that represents a missing OAuth parameter. 
+ * Specialized exception that represents a missing OAuth parameter.
@@ -10,2 +10 @@ import org.scribe.model.*;
-public class OAuthParametersMissingException extends OAuthException
-{
+public class OAuthParametersMissingException extends OAuthException {
@@ -20 +19,2 @@ public class OAuthParametersMissingException extends OAuthException
-   * @param request OAuthRequest that caused the error
+   * @param request
+   *          OAuthRequest that caused the error
@@ -22,2 +22 @@ public class OAuthParametersMissingException extends OAuthException
-  public OAuthParametersMissingException(OAuthRequest request)
-  {
+  public OAuthParametersMissingException(OAuthRequest request) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthSignatureException.java b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthSignatureException.java
index 94692be..55f306b 100644
--- a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthSignatureException.java
+++ b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthSignatureException.java
@@ -8,2 +8 @@ package org.scribe.exceptions;
-public class OAuthSignatureException extends OAuthException
-{
+public class OAuthSignatureException extends OAuthException {
@@ -12 +11 @@ public class OAuthSignatureException extends OAuthException
-  
+
@@ -16,2 +15,4 @@ public class OAuthSignatureException extends OAuthException
-   * @param stringToSign plain string that gets signed (HMAC-SHA, etc)
-   * @param e original exception
+   * @param stringToSign
+   *          plain string that gets signed (HMAC-SHA, etc)
+   * @param e
+   *          original exception
@@ -19,2 +20 @@ public class OAuthSignatureException extends OAuthException
-  public OAuthSignatureException(String stringToSign, Exception e)
-  {
+  public OAuthSignatureException(String stringToSign, Exception e) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/AccessTokenExtractor.java b/Coacheller-AppEngine/shared/org/scribe/extractors/AccessTokenExtractor.java
index 3c0dd34..b1ef816 100644
--- a/Coacheller-AppEngine/shared/org/scribe/extractors/AccessTokenExtractor.java
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/AccessTokenExtractor.java
@@ -10,2 +10 @@ import org.scribe.model.*;
-public interface AccessTokenExtractor
-{
+public interface AccessTokenExtractor {
@@ -14,2 +13,3 @@ public interface AccessTokenExtractor
-   *  
-   * @param response the contents of the response
+   * 
+   * @param response
+   *          the contents of the response
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractor.java b/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractor.java
index 83ddd10..271bf98 100644
--- a/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractor.java
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractor.java
@@ -10,2 +10 @@ import org.scribe.model.*;
-public interface BaseStringExtractor
-{
+public interface BaseStringExtractor {
@@ -15 +14,2 @@ public interface BaseStringExtractor
-   * See <a href="http://oauth.net/core/1.0/#anchor14">the oauth spec</a> for more info on this.
+   * See <a href="http://oauth.net/core/1.0/#anchor14">the oauth spec</a> for
+   * more info on this.
@@ -17 +17,2 @@ public interface BaseStringExtractor
-   * @param request the OAuthRequest
+   * @param request
+   *          the OAuthRequest
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractorImpl.java b/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractorImpl.java
index ca21a0d..46c974c 100644
--- a/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractorImpl.java
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractorImpl.java
@@ -11 +11 @@ import org.scribe.utils.*;
- *
+ * 
@@ -13,2 +13 @@ import org.scribe.utils.*;
-public class BaseStringExtractorImpl implements BaseStringExtractor
-{
+public class BaseStringExtractorImpl implements BaseStringExtractor {
@@ -21,2 +20 @@ public class BaseStringExtractorImpl implements BaseStringExtractor
-  public String extract(OAuthRequest request)
-  {
+  public String extract(OAuthRequest request) {
@@ -30,2 +28 @@ public class BaseStringExtractorImpl implements BaseStringExtractor
-  private String getSortedAndEncodedParams(OAuthRequest request)
-  {
+  private String getSortedAndEncodedParams(OAuthRequest request) {
@@ -39,2 +36 @@ public class BaseStringExtractorImpl implements BaseStringExtractor
-  private void checkPreconditions(OAuthRequest request)
-  {
+  private void checkPreconditions(OAuthRequest request) {
@@ -43,2 +39 @@ public class BaseStringExtractorImpl implements BaseStringExtractor
-    if (request.getOauthParameters() == null || request.getOauthParameters().size() <= 0)
-    {
+    if (request.getOauthParameters() == null || request.getOauthParameters().size() <= 0) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractor.java b/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractor.java
index 2bc1f8b..192fdd8 100644
--- a/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractor.java
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractor.java
@@ -6 +6,2 @@ import org.scribe.model.*;
- * Simple command object that generates an OAuth Authorization header to include in the request.
+ * Simple command object that generates an OAuth Authorization header to include
+ * in the request.
@@ -10,2 +11 @@ import org.scribe.model.*;
-public interface HeaderExtractor
-{
+public interface HeaderExtractor {
@@ -13 +13,2 @@ public interface HeaderExtractor
-   * Generates an OAuth 'Authorization' Http header to include in requests as the signature.
+   * Generates an OAuth 'Authorization' Http header to include in requests as
+   * the signature.
@@ -15 +16,2 @@ public interface HeaderExtractor
-   * @param request the OAuthRequest to inspect and generate the header
+   * @param request
+   *          the OAuthRequest to inspect and generate the header
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractorImpl.java b/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractorImpl.java
index 73c4ada..d4fd106 100644
--- a/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractorImpl.java
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractorImpl.java
@@ -13 +13 @@ import org.scribe.utils.*;
- *
+ * 
@@ -15,2 +15 @@ import org.scribe.utils.*;
-public class HeaderExtractorImpl implements HeaderExtractor
-{
+public class HeaderExtractorImpl implements HeaderExtractor {
@@ -23,2 +22 @@ public class HeaderExtractorImpl implements HeaderExtractor
-  public String extract(OAuthRequest request)
-  {
+  public String extract(OAuthRequest request) {
@@ -29,4 +27,2 @@ public class HeaderExtractorImpl implements HeaderExtractor
-    for (String key : parameters.keySet())
-    {
-      if(header.length() > PREAMBLE.length())
-      { 
+    for (String key : parameters.keySet()) {
+      if (header.length() > PREAMBLE.length()) {
@@ -40,2 +36 @@ public class HeaderExtractorImpl implements HeaderExtractor
-  private void checkPreconditions(OAuthRequest request)
-  {
+  private void checkPreconditions(OAuthRequest request) {
@@ -44,2 +39 @@ public class HeaderExtractorImpl implements HeaderExtractor
-    if (request.getOauthParameters() == null || request.getOauthParameters().size() <= 0)
-    {
+    if (request.getOauthParameters() == null || request.getOauthParameters().size() <= 0) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/JsonTokenExtractor.java b/Coacheller-AppEngine/shared/org/scribe/extractors/JsonTokenExtractor.java
index 9344a21..fb7c977 100644
--- a/Coacheller-AppEngine/shared/org/scribe/extractors/JsonTokenExtractor.java
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/JsonTokenExtractor.java
@@ -9,2 +9 @@ import org.scribe.utils.*;
-public class JsonTokenExtractor implements AccessTokenExtractor
-{
+public class JsonTokenExtractor implements AccessTokenExtractor {
@@ -14,2 +13 @@ public class JsonTokenExtractor implements AccessTokenExtractor
-  public Token extract(String response)
-  {
+  public Token extract(String response) {
@@ -18,2 +16 @@ public class JsonTokenExtractor implements AccessTokenExtractor
-    if(matcher.find())
-    {
+    if (matcher.find()) {
@@ -21,3 +18 @@ public class JsonTokenExtractor implements AccessTokenExtractor
-    }
-    else
-    {
+    } else {
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/RequestTokenExtractor.java b/Coacheller-AppEngine/shared/org/scribe/extractors/RequestTokenExtractor.java
index 1830212..82b3537 100644
--- a/Coacheller-AppEngine/shared/org/scribe/extractors/RequestTokenExtractor.java
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/RequestTokenExtractor.java
@@ -10,2 +10 @@ import org.scribe.model.*;
-public interface RequestTokenExtractor
-{
+public interface RequestTokenExtractor {
@@ -14,2 +13,3 @@ public interface RequestTokenExtractor
-   *  
-   * @param response the contents of the response
+   * 
+   * @param response
+   *          the contents of the response
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractor20Impl.java b/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractor20Impl.java
index 1eb22ad..226e366 100644
--- a/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractor20Impl.java
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractor20Impl.java
@@ -10,2 +10,3 @@ import org.scribe.utils.*;
- * Default implementation of {@AccessTokenExtractor}. Conforms to OAuth 2.0
- *
+ * Default implementation of {@AccessTokenExtractor}.
+ * Conforms to OAuth 2.0
+ * 
@@ -13,2 +14 @@ import org.scribe.utils.*;
-public class TokenExtractor20Impl implements AccessTokenExtractor
-{
+public class TokenExtractor20Impl implements AccessTokenExtractor {
@@ -19 +19 @@ public class TokenExtractor20Impl implements AccessTokenExtractor
-   * {@inheritDoc} 
+   * {@inheritDoc}
@@ -21,3 +21,3 @@ public class TokenExtractor20Impl implements AccessTokenExtractor
-  public Token extract(String response)
-  {
-    Preconditions.checkEmptyString(response, "Response body is incorrect. Can't extract a token from an empty string");
+  public Token extract(String response) {
+    Preconditions.checkEmptyString(response,
+        "Response body is incorrect. Can't extract a token from an empty string");
@@ -26,2 +26 @@ public class TokenExtractor20Impl implements AccessTokenExtractor
-    if (matcher.find())
-    {
+    if (matcher.find()) {
@@ -30,4 +29,3 @@ public class TokenExtractor20Impl implements AccessTokenExtractor
-    } 
-    else
-    {
-      throw new OAuthException("Response body is incorrect. Can't extract a token from this: '" + response + "'", null);
+    } else {
+      throw new OAuthException("Response body is incorrect. Can't extract a token from this: '"
+          + response + "'", null);
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractorImpl.java b/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractorImpl.java
index ba1784b..b4aba43 100644
--- a/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractorImpl.java
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractorImpl.java
@@ -10,3 +10,5 @@ import org.scribe.utils.*;
- * Default implementation of {@RequestTokenExtractor} and {@AccessTokenExtractor}. Conforms to OAuth 1.0a
- *
- * The process for extracting access and request tokens is similar so this class can do both things.
+ * Default implementation of {@RequestTokenExtractor}
+ * and {@AccessTokenExtractor}. Conforms to OAuth 1.0a
+ * 
+ * The process for extracting access and request tokens is similar so this class
+ * can do both things.
@@ -16,2 +18 @@ import org.scribe.utils.*;
-public class TokenExtractorImpl implements RequestTokenExtractor, AccessTokenExtractor
-{
+public class TokenExtractorImpl implements RequestTokenExtractor, AccessTokenExtractor {
@@ -22 +23 @@ public class TokenExtractorImpl implements RequestTokenExtractor, AccessTokenExt
-   * {@inheritDoc} 
+   * {@inheritDoc}
@@ -24,3 +25,3 @@ public class TokenExtractorImpl implements RequestTokenExtractor, AccessTokenExt
-  public Token extract(String response)
-  {
-    Preconditions.checkEmptyString(response, "Response body is incorrect. Can't extract a token from an empty string");
+  public Token extract(String response) {
+    Preconditions.checkEmptyString(response,
+        "Response body is incorrect. Can't extract a token from an empty string");
@@ -32,2 +33 @@ public class TokenExtractorImpl implements RequestTokenExtractor, AccessTokenExt
-  private String extract(String response, Pattern p)
-  {
+  private String extract(String response, Pattern p) {
@@ -35,2 +35 @@ public class TokenExtractorImpl implements RequestTokenExtractor, AccessTokenExt
-    if (matcher.find() && matcher.groupCount() >= 1)
-    {
+    if (matcher.find() && matcher.groupCount() >= 1) {
@@ -38,4 +37,4 @@ public class TokenExtractorImpl implements RequestTokenExtractor, AccessTokenExt
-    }
-    else
-    {
-      throw new OAuthException("Response body is incorrect. Can't extract token and secret from this: '" + response + "'", null);
+    } else {
+      throw new OAuthException(
+          "Response body is incorrect. Can't extract token and secret from this: '" + response
+              + "'", null);
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/OAuthConfig.java b/Coacheller-AppEngine/shared/org/scribe/model/OAuthConfig.java
index 374c958..7e9526f 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/OAuthConfig.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/OAuthConfig.java
@@ -10,2 +10 @@ import java.io.*;
-public class OAuthConfig
-{
+public class OAuthConfig {
@@ -18,3 +17,2 @@ public class OAuthConfig
-  
-  public OAuthConfig(String key, String secret)
-  {
+
+  public OAuthConfig(String key, String secret) {
@@ -24,2 +22,2 @@ public class OAuthConfig
-  public OAuthConfig(String key, String secret, String callback, SignatureType type, String scope, OutputStream stream)
-  {
+  public OAuthConfig(String key, String secret, String callback, SignatureType type, String scope,
+      OutputStream stream) {
@@ -34,2 +32 @@ public class OAuthConfig
-  public String getApiKey()
-  {
+  public String getApiKey() {
@@ -39,2 +36 @@ public class OAuthConfig
-  public String getApiSecret()
-  {
+  public String getApiSecret() {
@@ -44,2 +40 @@ public class OAuthConfig
-  public String getCallback()
-  {
+  public String getCallback() {
@@ -49,2 +44 @@ public class OAuthConfig
-  public SignatureType getSignatureType()
-  {
+  public SignatureType getSignatureType() {
@@ -54,2 +48 @@ public class OAuthConfig
-  public String getScope()
-  {
+  public String getScope() {
@@ -59,2 +52 @@ public class OAuthConfig
-  public boolean hasScope()
-  {
+  public boolean hasScope() {
@@ -64,4 +56,2 @@ public class OAuthConfig
-  public void log(String message)
-  {
-    if (debugStream != null)
-    {
+  public void log(String message) {
+    if (debugStream != null) {
@@ -69,2 +59 @@ public class OAuthConfig
-      try
-      {
+      try {
@@ -72,3 +61 @@ public class OAuthConfig
-      }
-      catch (Exception e)
-      {
+      } catch (Exception e) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/OAuthConstants.java b/Coacheller-AppEngine/shared/org/scribe/model/OAuthConstants.java
index c93c31c..b8862ea 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/OAuthConstants.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/OAuthConstants.java
@@ -23,2 +23 @@ package org.scribe.model;
-public class OAuthConstants
-{
+public class OAuthConstants {
@@ -42 +41 @@ public class OAuthConstants
-  //OAuth 2.0
+  // OAuth 2.0
@@ -48 +47 @@ public class OAuthConstants
-  
+
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/OAuthRequest.java b/Coacheller-AppEngine/shared/org/scribe/model/OAuthRequest.java
index 4389227..e5c413e 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/OAuthRequest.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/OAuthRequest.java
@@ -8 +8 @@ import java.util.*;
- * Adds OAuth-related functionality to the {@link Request}  
+ * Adds OAuth-related functionality to the {@link Request}
@@ -12,2 +12 @@ import java.util.*;
-public class OAuthRequest extends Request
-{
+public class OAuthRequest extends Request {
@@ -20,2 +19,4 @@ public class OAuthRequest extends Request
-   * @param verb Http verb/method
-   * @param url resource URL
+   * @param verb
+   *          Http verb/method
+   * @param url
+   *          resource URL
@@ -23,2 +24 @@ public class OAuthRequest extends Request
-  public OAuthRequest(Verb verb, String url)
-  {
+  public OAuthRequest(Verb verb, String url) {
@@ -32,2 +32,4 @@ public class OAuthRequest extends Request
-   * @param key name of the parameter
-   * @param value value of the parameter
+   * @param key
+   *          name of the parameter
+   * @param value
+   *          value of the parameter
@@ -35 +37,2 @@ public class OAuthRequest extends Request
-   * @throws IllegalArgumentException if the parameter is not an OAuth parameter
+   * @throws IllegalArgumentException
+   *           if the parameter is not an OAuth parameter
@@ -37,2 +40 @@ public class OAuthRequest extends Request
-  public void addOAuthParameter(String key, String value)
-  {
+  public void addOAuthParameter(String key, String value) {
@@ -42,4 +44,2 @@ public class OAuthRequest extends Request
-  private String checkKey(String key)
-  {
-    if (key.startsWith(OAUTH_PREFIX) || key.equals(OAuthConstants.SCOPE))
-    {
+  private String checkKey(String key) {
+    if (key.startsWith(OAUTH_PREFIX) || key.equals(OAuthConstants.SCOPE)) {
@@ -47,4 +47,4 @@ public class OAuthRequest extends Request
-    } 
-    else
-    {
-      throw new IllegalArgumentException(String.format("OAuth parameters must either be '%s' or start with '%s'", OAuthConstants.SCOPE, OAUTH_PREFIX));
+    } else {
+      throw new IllegalArgumentException(String.format(
+          "OAuth parameters must either be '%s' or start with '%s'", OAuthConstants.SCOPE,
+          OAUTH_PREFIX));
@@ -59,2 +59 @@ public class OAuthRequest extends Request
-  public Map<String, String> getOauthParameters()
-  {
+  public Map<String, String> getOauthParameters() {
@@ -65,2 +64 @@ public class OAuthRequest extends Request
-  public String toString()
-  {
+  public String toString() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Parameter.java b/Coacheller-AppEngine/shared/org/scribe/model/Parameter.java
index 9fe610b..f90aa1d 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/Parameter.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Parameter.java
@@ -11,2 +11 @@ import org.scribe.utils.OAuthEncoder;
-public class Parameter implements Comparable<Parameter>
-{
+public class Parameter implements Comparable<Parameter> {
@@ -18,2 +17 @@ public class Parameter implements Comparable<Parameter>
-  public Parameter(String key, String value)
-  {
+  public Parameter(String key, String value) {
@@ -24,2 +22 @@ public class Parameter implements Comparable<Parameter>
-  public String asUrlEncodedPair()
-  {
+  public String asUrlEncodedPair() {
@@ -28,7 +25,9 @@ public class Parameter implements Comparable<Parameter>
-  
-  public boolean equals(Object other)
-  {
-    if(other == null) return false;
-    if(other == this) return true;
-    if(!(other instanceof Parameter)) return false;
-    
+
+  public boolean equals(Object other) {
+    if (other == null)
+      return false;
+    if (other == this)
+      return true;
+    if (!(other instanceof Parameter))
+      return false;
+
@@ -39,2 +38 @@ public class Parameter implements Comparable<Parameter>
-  public int hashCode()
-  {
+  public int hashCode() {
@@ -44,2 +42 @@ public class Parameter implements Comparable<Parameter>
-  public int compareTo(Parameter parameter)
-  {
+  public int compareTo(Parameter parameter) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/ParameterList.java b/Coacheller-AppEngine/shared/org/scribe/model/ParameterList.java
index b365cba..3201ef6 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/ParameterList.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/ParameterList.java
@@ -13,2 +13 @@ import org.scribe.utils.Preconditions;
-public class ParameterList
-{
+public class ParameterList {
@@ -22,2 +21 @@ public class ParameterList
-  public ParameterList()
-  {
+  public ParameterList() {
@@ -27,2 +25 @@ public class ParameterList
-  ParameterList(List<Parameter> params)
-  {
+  ParameterList(List<Parameter> params) {
@@ -32,2 +29 @@ public class ParameterList
-  public ParameterList(Map<String, String> map)
-  {
+  public ParameterList(Map<String, String> map) {
@@ -35,2 +31 @@ public class ParameterList
-    for(Map.Entry<String, String> entry : map.entrySet())
-    {
+    for (Map.Entry<String, String> entry : map.entrySet()) {
@@ -40,3 +35,2 @@ public class ParameterList
-  
-  public void add(String key, String value)
-  {
+
+  public void add(String key, String value) {
@@ -46,2 +40 @@ public class ParameterList
-  public String appendTo(String url)
-  {
+  public String appendTo(String url) {
@@ -50,2 +43 @@ public class ParameterList
-    if (queryString.equals(EMPTY_STRING))
-    {
+    if (queryString.equals(EMPTY_STRING)) {
@@ -53,3 +45 @@ public class ParameterList
-    }
-    else
-    {
+    } else {
@@ -62,2 +52 @@ public class ParameterList
-  public String asOauthBaseString()
-  {
+  public String asOauthBaseString() {
@@ -67,3 +56,3 @@ public class ParameterList
-  public String asFormUrlEncodedString()
-  {
-    if (params.size() == 0) return EMPTY_STRING;
+  public String asFormUrlEncodedString() {
+    if (params.size() == 0)
+      return EMPTY_STRING;
@@ -72,2 +61 @@ public class ParameterList
-    for(Parameter p : params)
-    {
+    for (Parameter p : params) {
@@ -79,2 +67 @@ public class ParameterList
-  public void addAll(ParameterList other)
-  {
+  public void addAll(ParameterList other) {
@@ -84,6 +71,3 @@ public class ParameterList
-  public void addQuerystring(String queryString)
-  {
-    if (queryString != null && queryString.length() > 0)
-    {
-      for (String param : queryString.split(PARAM_SEPARATOR))
-      {
+  public void addQuerystring(String queryString) {
+    if (queryString != null && queryString.length() > 0) {
+      for (String param : queryString.split(PARAM_SEPARATOR)) {
@@ -98,2 +82 @@ public class ParameterList
-  public boolean contains(Parameter param)
-  {
+  public boolean contains(Parameter param) {
@@ -103,2 +86 @@ public class ParameterList
-  public int size()
-  {
+  public int size() {
@@ -108,2 +90 @@ public class ParameterList
-  public ParameterList sort()
-  {
+  public ParameterList sort() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Request.java b/Coacheller-AppEngine/shared/org/scribe/model/Request.java
index 81db94e..3388bc2 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/Request.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Request.java
@@ -16,2 +16 @@ import org.scribe.exceptions.*;
-class Request
-{
+class Request {
@@ -38,2 +37,4 @@ class Request
-   * @param verb Http Verb (GET, POST, etc)
-   * @param url url with optional querystring parameters.
+   * @param verb
+   *          Http Verb (GET, POST, etc)
+   * @param url
+   *          url with optional querystring parameters.
@@ -41,2 +42 @@ class Request
-  public Request(Verb verb, String url)
-  {
+  public Request(Verb verb, String url) {
@@ -57,4 +57,2 @@ class Request
-  public Response send()
-  {
-    try
-    {
+  public Response send() {
+    try {
@@ -63,3 +61 @@ class Request
-    }
-    catch (Exception e)
-    {
+    } catch (Exception e) {
@@ -70,2 +66 @@ class Request
-  private void createConnection() throws IOException
-  {
+  private void createConnection() throws IOException {
@@ -73,2 +68 @@ class Request
-    if (connection == null)
-    {
+    if (connection == null) {
@@ -81,2 +75,3 @@ class Request
-   * Returns the complete url (host + resource + encoded querystring parameters).
-   *
+   * Returns the complete url (host + resource + encoded querystring
+   * parameters).
+   * 
@@ -85,2 +80 @@ class Request
-  public String getCompleteUrl()
-  {
+  public String getCompleteUrl() {
@@ -90,2 +84 @@ class Request
-  Response doSend() throws IOException
-  {
+  Response doSend() throws IOException {
@@ -93,2 +86 @@ class Request
-    if (connectTimeout != null) 
-    {
+    if (connectTimeout != null) {
@@ -97,2 +89 @@ class Request
-    if (readTimeout != null)
-    {
+    if (readTimeout != null) {
@@ -102,2 +93 @@ class Request
-    if (verb.equals(Verb.PUT) || verb.equals(Verb.POST))
-    {
+    if (verb.equals(Verb.PUT) || verb.equals(Verb.POST)) {
@@ -109,2 +99 @@ class Request
-  void addHeaders(HttpURLConnection conn)
-  {
+  void addHeaders(HttpURLConnection conn) {
@@ -115,2 +104 @@ class Request
-  void addBody(HttpURLConnection conn, byte[] content) throws IOException
-  {
+  void addBody(HttpURLConnection conn, byte[] content) throws IOException {
@@ -120,2 +108 @@ class Request
-    if (conn.getRequestProperty(CONTENT_TYPE) == null)
-    {
+    if (conn.getRequestProperty(CONTENT_TYPE) == null) {
@@ -131,2 +118,4 @@ class Request
-   * @param key the header name
-   * @param value the header value
+   * @param key
+   *          the header name
+   * @param value
+   *          the header value
@@ -134,2 +123 @@ class Request
-  public void addHeader(String key, String value)
-  {
+  public void addHeader(String key, String value) {
@@ -142,2 +130,4 @@ class Request
-   * @param key the parameter name
-   * @param value the parameter value
+   * @param key
+   *          the parameter name
+   * @param value
+   *          the parameter value
@@ -145,2 +135 @@ class Request
-  public void addBodyParameter(String key, String value)
-  {
+  public void addBodyParameter(String key, String value) {
@@ -152,3 +141,5 @@ class Request
-   *
-   * @param key the parameter name
-   * @param value the parameter value
+   * 
+   * @param key
+   *          the parameter name
+   * @param value
+   *          the parameter value
@@ -156,2 +147 @@ class Request
-  public void addQuerystringParameter(String key, String value)
-  {
+  public void addQuerystringParameter(String key, String value) {
@@ -169 +159,2 @@ class Request
-   * @param payload the body of the request
+   * @param payload
+   *          the body of the request
@@ -171,2 +162 @@ class Request
-  public void addPayload(String payload)
-  {
+  public void addPayload(String payload) {
@@ -178 +168 @@ class Request
-   *
+   * 
@@ -181,2 +171 @@ class Request
-  public void addPayload(byte[] payload)
-  {
+  public void addPayload(byte[] payload) {
@@ -190 +179,2 @@ class Request
-   * @throws OAuthException if the request URL is not valid.
+   * @throws OAuthException
+   *           if the request URL is not valid.
@@ -192,4 +182,2 @@ class Request
-  public ParameterList getQueryStringParams()
-  {
-    try
-    {
+  public ParameterList getQueryStringParams() {
+    try {
@@ -201,3 +189 @@ class Request
-    }
-    catch (MalformedURLException mue)
-    {
+    } catch (MalformedURLException mue) {
@@ -213,2 +199 @@ class Request
-  public ParameterList getBodyParams()
-  {
+  public ParameterList getBodyParams() {
@@ -223,2 +208 @@ class Request
-  public String getUrl()
-  {
+  public String getUrl() {
@@ -233,2 +217 @@ class Request
-  public String getSanitizedUrl()
-  {
+  public String getSanitizedUrl() {
@@ -242 +225,2 @@ class Request
-   * @throws OAuthException if the charset chosen is not supported
+   * @throws OAuthException
+   *           if the charset chosen is not supported
@@ -244,9 +228,5 @@ class Request
-  public String getBodyContents()
-  {
-    try
-    {
-      return new String(getByteBodyContents(),getCharset());
-    }
-    catch(UnsupportedEncodingException uee)
-    {
-      throw new OAuthException("Unsupported Charset: "+charset, uee);
+  public String getBodyContents() {
+    try {
+      return new String(getByteBodyContents(), getCharset());
+    } catch (UnsupportedEncodingException uee) {
+      throw new OAuthException("Unsupported Charset: " + charset, uee);
@@ -256,3 +236,3 @@ class Request
-  byte[] getByteBodyContents()
-  {
-    if (bytePayload != null) return bytePayload;
+  byte[] getByteBodyContents() {
+    if (bytePayload != null)
+      return bytePayload;
@@ -260,2 +240 @@ class Request
-    try
-    {
+    try {
@@ -263,4 +242,2 @@ class Request
-    }
-    catch(UnsupportedEncodingException uee)
-    {
-      throw new OAuthException("Unsupported Charset: "+getCharset(), uee);
+    } catch (UnsupportedEncodingException uee) {
+      throw new OAuthException("Unsupported Charset: " + getCharset(), uee);
@@ -275,2 +252 @@ class Request
-  public Verb getVerb()
-  {
+  public Verb getVerb() {
@@ -279 +255 @@ class Request
-  
+
@@ -285,2 +261 @@ class Request
-  public Map<String, String> getHeaders()
-  {
+  public Map<String, String> getHeaders() {
@@ -291,2 +266,3 @@ class Request
-   * Returns the connection charset. Defaults to {@link Charset} defaultCharset if not set
-   *
+   * Returns the connection charset. Defaults to {@link Charset} defaultCharset
+   * if not set
+   * 
@@ -295,2 +271 @@ class Request
-  public String getCharset()
-  {
+  public String getCharset() {
@@ -303 +278,2 @@ class Request
-   * @param duration duration of the timeout
+   * @param duration
+   *          duration of the timeout
@@ -305 +281,2 @@ class Request
-   * @param unit unit of time (milliseconds, seconds, etc)
+   * @param unit
+   *          unit of time (milliseconds, seconds, etc)
@@ -307,2 +284 @@ class Request
-  public void setConnectTimeout(int duration, TimeUnit unit)
-  {
+  public void setConnectTimeout(int duration, TimeUnit unit) {
@@ -315 +291,2 @@ class Request
-   * @param duration duration of the timeout
+   * @param duration
+   *          duration of the timeout
@@ -317 +294,2 @@ class Request
-   * @param unit unit of time (milliseconds, seconds, etc)
+   * @param unit
+   *          unit of time (milliseconds, seconds, etc)
@@ -319,2 +297 @@ class Request
-  public void setReadTimeout(int duration, TimeUnit unit)
-  {
+  public void setReadTimeout(int duration, TimeUnit unit) {
@@ -326,2 +303,3 @@ class Request
-   *
-   * @param charsetName name of the charset of the request
+   * 
+   * @param charsetName
+   *          name of the charset of the request
@@ -329,2 +307 @@ class Request
-  public void setCharset(String charsetName)
-  {
+  public void setCharset(String charsetName) {
@@ -336,2 +313,3 @@ class Request
-   *
-   * @see http://download.oracle.com/javase/1.5.0/docs/guide/net/http-keepalive.html
+   * 
+   * @see http 
+   *      ://download.oracle.com/javase/1.5.0/docs/guide/net/http-keepalive.html
@@ -340,2 +318 @@ class Request
-  public void setConnectionKeepAlive(boolean connectionKeepAlive)
-  {
+  public void setConnectionKeepAlive(boolean connectionKeepAlive) {
@@ -348,2 +325 @@ class Request
-  void setConnection(HttpURLConnection connection)
-  {
+  void setConnection(HttpURLConnection connection) {
@@ -354,2 +330 @@ class Request
-  public String toString()
-  {
+  public String toString() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Response.java b/Coacheller-AppEngine/shared/org/scribe/model/Response.java
index 9835a05..41e2b6f 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/Response.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Response.java
@@ -15,2 +15 @@ import org.scribe.utils.*;
-public class Response
-{
+public class Response {
@@ -24,4 +23,2 @@ public class Response
-  Response(HttpURLConnection connection) throws IOException
-  {
-    try
-    {
+  Response(HttpURLConnection connection) throws IOException {
+    try {
@@ -32,3 +29 @@ public class Response
-    }
-    catch (UnknownHostException e)
-    {
+    } catch (UnknownHostException e) {
@@ -39,2 +34 @@ public class Response
-  private String parseBodyContents()
-  {
+  private String parseBodyContents() {
@@ -45,2 +39 @@ public class Response
-  private Map<String, String> parseHeaders(HttpURLConnection conn)
-  {
+  private Map<String, String> parseHeaders(HttpURLConnection conn) {
@@ -48,2 +41 @@ public class Response
-    for (String key : conn.getHeaderFields().keySet())
-    {
+    for (String key : conn.getHeaderFields().keySet()) {
@@ -55,2 +47 @@ public class Response
-  public boolean isSuccessful()
-  {
+  public boolean isSuccessful() {
@@ -65,2 +56 @@ public class Response
-  public String getBody()
-  {
+  public String getBody() {
@@ -76,2 +66 @@ public class Response
-  public InputStream getStream()
-  {
+  public InputStream getStream() {
@@ -86,2 +75 @@ public class Response
-  public int getCode()
-  {
+  public int getCode() {
@@ -96,2 +84 @@ public class Response
-  public Map<String, String> getHeaders()
-  {
+  public Map<String, String> getHeaders() {
@@ -104 +91,2 @@ public class Response
-   * @param name the header name.
+   * @param name
+   *          the header name.
@@ -108,2 +96 @@ public class Response
-  public String getHeader(String name)
-  {
+  public String getHeader(String name) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/SignatureType.java b/Coacheller-AppEngine/shared/org/scribe/model/SignatureType.java
index 3440a36..8e7528c 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/SignatureType.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/SignatureType.java
@@ -3,4 +3,2 @@ package org.scribe.model;
-public enum SignatureType
-{
-  Header,
-  QueryString
+public enum SignatureType {
+  Header, QueryString
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Token.java b/Coacheller-AppEngine/shared/org/scribe/model/Token.java
index 286fec6..abcce63 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/Token.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Token.java
@@ -10,2 +10 @@ import java.io.Serializable;
-public class Token implements Serializable
-{
+public class Token implements Serializable {
@@ -13 +12 @@ public class Token implements Serializable
-	
+
@@ -21,2 +20,4 @@ public class Token implements Serializable
-   * @param token token value
-   * @param secret token secret
+   * @param token
+   *          token value
+   * @param secret
+   *          token secret
@@ -24,2 +25 @@ public class Token implements Serializable
-  public Token(String token, String secret)
-  {
+  public Token(String token, String secret) {
@@ -29,2 +29 @@ public class Token implements Serializable
-  public Token(String token, String secret, String rawResponse)
-  {
+  public Token(String token, String secret, String rawResponse) {
@@ -36,2 +35 @@ public class Token implements Serializable
-  public String getToken()
-  {
+  public String getToken() {
@@ -41,2 +39 @@ public class Token implements Serializable
-  public String getSecret()
-  {
+  public String getSecret() {
@@ -46,5 +43,4 @@ public class Token implements Serializable
-  public String getRawResponse()
-  {
-    if (rawResponse == null)
-    {
-      throw new IllegalStateException("This token object was not constructed by scribe and does not have a rawResponse");
+  public String getRawResponse() {
+    if (rawResponse == null) {
+      throw new IllegalStateException(
+          "This token object was not constructed by scribe and does not have a rawResponse");
@@ -56,2 +52 @@ public class Token implements Serializable
-  public String toString()
-  {
+  public String toString() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Verb.java b/Coacheller-AppEngine/shared/org/scribe/model/Verb.java
index b370791..d36a10f 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/Verb.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Verb.java
@@ -8,2 +8 @@ package org.scribe.model;
-public enum Verb
-{
+public enum Verb {
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Verifier.java b/Coacheller-AppEngine/shared/org/scribe/model/Verifier.java
index 45f0e4e..02c3557 100644
--- a/Coacheller-AppEngine/shared/org/scribe/model/Verifier.java
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Verifier.java
@@ -10,2 +10 @@ import org.scribe.utils.*;
-public class Verifier
-{
+public class Verifier {
@@ -18 +17,2 @@ public class Verifier
-   * @param value verifier value
+   * @param value
+   *          verifier value
@@ -20,2 +20 @@ public class Verifier
-  public Verifier(String value)
-  {
+  public Verifier(String value) {
@@ -26,2 +25 @@ public class Verifier
-  public String getValue()
-  {
+  public String getValue() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth10aServiceImpl.java b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth10aServiceImpl.java
index b847b2d..cbaaa85 100644
--- a/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth10aServiceImpl.java
+++ b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth10aServiceImpl.java
@@ -14,2 +14 @@ import org.scribe.utils.*;
-public class OAuth10aServiceImpl implements OAuthService
-{
+public class OAuth10aServiceImpl implements OAuthService {
@@ -24,2 +23,4 @@ public class OAuth10aServiceImpl implements OAuthService
-   * @param api OAuth1.0a api information
-   * @param config OAuth 1.0a configuration param object
+   * @param api
+   *          OAuth1.0a api information
+   * @param config
+   *          OAuth 1.0a configuration param object
@@ -27,2 +28 @@ public class OAuth10aServiceImpl implements OAuthService
-  public OAuth10aServiceImpl(DefaultApi10a api, OAuthConfig config)
-  {
+  public OAuth10aServiceImpl(DefaultApi10a api, OAuthConfig config) {
@@ -36,2 +36 @@ public class OAuth10aServiceImpl implements OAuthService
-  public Token getRequestToken()
-  {
+  public Token getRequestToken() {
@@ -39 +38,2 @@ public class OAuth10aServiceImpl implements OAuthService
-    OAuthRequest request = new OAuthRequest(api.getRequestTokenVerb(), api.getRequestTokenEndpoint());
+    OAuthRequest request = new OAuthRequest(api.getRequestTokenVerb(),
+        api.getRequestTokenEndpoint());
@@ -55,3 +55,3 @@ public class OAuth10aServiceImpl implements OAuthService
-  private void addOAuthParams(OAuthRequest request, Token token)
-  {
-    request.addOAuthParameter(OAuthConstants.TIMESTAMP, api.getTimestampService().getTimestampInSeconds());
+  private void addOAuthParams(OAuthRequest request, Token token) {
+    request.addOAuthParameter(OAuthConstants.TIMESTAMP, api.getTimestampService()
+        .getTimestampInSeconds());
@@ -60 +60,2 @@ public class OAuth10aServiceImpl implements OAuthService
-    request.addOAuthParameter(OAuthConstants.SIGN_METHOD, api.getSignatureService().getSignatureMethod());
+    request.addOAuthParameter(OAuthConstants.SIGN_METHOD, api.getSignatureService()
+        .getSignatureMethod());
@@ -62 +63,2 @@ public class OAuth10aServiceImpl implements OAuthService
-    if(config.hasScope()) request.addOAuthParameter(OAuthConstants.SCOPE, config.getScope());
+    if (config.hasScope())
+      request.addOAuthParameter(OAuthConstants.SCOPE, config.getScope());
@@ -65 +67,2 @@ public class OAuth10aServiceImpl implements OAuthService
-    config.log("appended additional OAuth parameters: " + MapUtils.toString(request.getOauthParameters()));
+    config.log("appended additional OAuth parameters: "
+        + MapUtils.toString(request.getOauthParameters()));
@@ -71,2 +74 @@ public class OAuth10aServiceImpl implements OAuthService
-  public Token getAccessToken(Token requestToken, Verifier verifier)
-  {
+  public Token getAccessToken(Token requestToken, Verifier verifier) {
@@ -88,2 +90 @@ public class OAuth10aServiceImpl implements OAuthService
-  public void signRequest(Token token, OAuthRequest request)
-  {
+  public void signRequest(Token token, OAuthRequest request) {
@@ -101,2 +102 @@ public class OAuth10aServiceImpl implements OAuthService
-  public String getVersion()
-  {
+  public String getVersion() {
@@ -109,2 +109 @@ public class OAuth10aServiceImpl implements OAuthService
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
@@ -113,3 +112,2 @@ public class OAuth10aServiceImpl implements OAuthService
-  
-  private String getSignature(OAuthRequest request, Token token)
-  {
+
+  private String getSignature(OAuthRequest request, Token token) {
@@ -118 +116,2 @@ public class OAuth10aServiceImpl implements OAuthService
-    String signature = api.getSignatureService().getSignature(baseString, config.getApiSecret(), token.getSecret());
+    String signature = api.getSignatureService().getSignature(baseString, config.getApiSecret(),
+        token.getSecret());
@@ -125,18 +124,15 @@ public class OAuth10aServiceImpl implements OAuthService
-  private void appendSignature(OAuthRequest request)
-  {
-    switch (config.getSignatureType())
-    {
-      case Header:
-        config.log("using Http Header signature");
-
-        String oauthHeader = api.getHeaderExtractor().extract(request);
-        request.addHeader(OAuthConstants.HEADER, oauthHeader);
-        break;
-      case QueryString:
-        config.log("using Querystring signature");
-
-        for (Map.Entry<String, String> entry : request.getOauthParameters().entrySet())
-        {
-          request.addQuerystringParameter(entry.getKey(), entry.getValue());
-        }
-        break;
+  private void appendSignature(OAuthRequest request) {
+    switch (config.getSignatureType()) {
+    case Header:
+      config.log("using Http Header signature");
+
+      String oauthHeader = api.getHeaderExtractor().extract(request);
+      request.addHeader(OAuthConstants.HEADER, oauthHeader);
+      break;
+    case QueryString:
+      config.log("using Querystring signature");
+
+      for (Map.Entry<String, String> entry : request.getOauthParameters().entrySet()) {
+        request.addQuerystringParameter(entry.getKey(), entry.getValue());
+      }
+      break;
diff --git a/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth20ServiceImpl.java b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth20ServiceImpl.java
index 6262c37..4b1d4bc 100644
--- a/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth20ServiceImpl.java
+++ b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth20ServiceImpl.java
@@ -6,2 +6 @@ import org.scribe.model.*;
-public class OAuth20ServiceImpl implements OAuthService
-{
+public class OAuth20ServiceImpl implements OAuthService {
@@ -9 +8 @@ public class OAuth20ServiceImpl implements OAuthService
-  
+
@@ -12 +11 @@ public class OAuth20ServiceImpl implements OAuthService
-  
+
@@ -16,2 +15,4 @@ public class OAuth20ServiceImpl implements OAuthService
-   * @param api OAuth2.0 api information
-   * @param config OAuth 2.0 configuration param object
+   * @param api
+   *          OAuth2.0 api information
+   * @param config
+   *          OAuth 2.0 configuration param object
@@ -19,2 +20 @@ public class OAuth20ServiceImpl implements OAuthService
-  public OAuth20ServiceImpl(DefaultApi20 api, OAuthConfig config)
-  {
+  public OAuth20ServiceImpl(DefaultApi20 api, OAuthConfig config) {
@@ -28,2 +28 @@ public class OAuth20ServiceImpl implements OAuthService
-  public Token getAccessToken(Token requestToken, Verifier verifier)
-  {
+  public Token getAccessToken(Token requestToken, Verifier verifier) {
@@ -35 +34,2 @@ public class OAuth20ServiceImpl implements OAuthService
-    if(config.hasScope()) request.addQuerystringParameter(OAuthConstants.SCOPE, config.getScope());
+    if (config.hasScope())
+      request.addQuerystringParameter(OAuthConstants.SCOPE, config.getScope());
@@ -43,3 +43,3 @@ public class OAuth20ServiceImpl implements OAuthService
-  public Token getRequestToken()
-  {
-    throw new UnsupportedOperationException("Unsupported operation, please use 'getAuthorizationUrl' and redirect your users there");
+  public Token getRequestToken() {
+    throw new UnsupportedOperationException(
+        "Unsupported operation, please use 'getAuthorizationUrl' and redirect your users there");
@@ -51,2 +51 @@ public class OAuth20ServiceImpl implements OAuthService
-  public String getVersion()
-  {
+  public String getVersion() {
@@ -59,2 +58 @@ public class OAuth20ServiceImpl implements OAuthService
-  public void signRequest(Token accessToken, OAuthRequest request)
-  {
+  public void signRequest(Token accessToken, OAuthRequest request) {
@@ -67,2 +65 @@ public class OAuth20ServiceImpl implements OAuthService
-  public String getAuthorizationUrl(Token requestToken)
-  {
+  public String getAuthorizationUrl(Token requestToken) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/oauth/OAuthService.java b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuthService.java
index 0c9c57e..054b5de 100644
--- a/Coacheller-AppEngine/shared/org/scribe/oauth/OAuthService.java
+++ b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuthService.java
@@ -6 +6 @@ import org.scribe.model.*;
- * The main Scribe object. 
+ * The main Scribe object.
@@ -8 +8,2 @@ import org.scribe.model.*;
- * A facade responsible for the retrieval of request and access tokens and for the signing of HTTP requests.  
+ * A facade responsible for the retrieval of request and access tokens and for
+ * the signing of HTTP requests.
@@ -12,2 +13 @@ import org.scribe.model.*;
-public interface OAuthService
-{
+public interface OAuthService {
@@ -24,2 +24,4 @@ public interface OAuthService
-   * @param requestToken request token (obtained previously)
-   * @param verifier verifier code
+   * @param requestToken
+   *          request token (obtained previously)
+   * @param verifier
+   *          verifier code
@@ -33,2 +35,4 @@ public interface OAuthService
-   * @param accessToken access token (obtained previously)
-   * @param request request to sign
+   * @param accessToken
+   *          access token (obtained previously)
+   * @param request
+   *          request to sign
@@ -44 +48 @@ public interface OAuthService
-  
+
@@ -46,2 +50,2 @@ public interface OAuthService
-   * Returns the URL where you should redirect your users to authenticate
-   * your application.
+   * Returns the URL where you should redirect your users to authenticate your
+   * application.
@@ -49 +53,2 @@ public interface OAuthService
-   * @param requestToken the request token you need to authorize
+   * @param requestToken
+   *          the request token you need to authorize
diff --git a/Coacheller-AppEngine/shared/org/scribe/services/HMACSha1SignatureService.java b/Coacheller-AppEngine/shared/org/scribe/services/HMACSha1SignatureService.java
index 45800ca..3d5652e 100644
--- a/Coacheller-AppEngine/shared/org/scribe/services/HMACSha1SignatureService.java
+++ b/Coacheller-AppEngine/shared/org/scribe/services/HMACSha1SignatureService.java
@@ -10 +9,0 @@ import org.scribe.utils.*;
-
@@ -15 +14 @@ import org.scribe.utils.*;
- *
+ * 
@@ -17,2 +16 @@ import org.scribe.utils.*;
-public class HMACSha1SignatureService implements SignatureService
-{
+public class HMACSha1SignatureService implements SignatureService {
@@ -28,4 +26,2 @@ public class HMACSha1SignatureService implements SignatureService
-  public String getSignature(String baseString, String apiSecret, String tokenSecret)
-  {
-    try
-    {
+  public String getSignature(String baseString, String apiSecret, String tokenSecret) {
+    try {
@@ -34,4 +30,3 @@ public class HMACSha1SignatureService implements SignatureService
-      return doSign(baseString, OAuthEncoder.encode(apiSecret) + '&' + OAuthEncoder.encode(tokenSecret));
-    } 
-    catch (Exception e)
-    {
+      return doSign(baseString,
+          OAuthEncoder.encode(apiSecret) + '&' + OAuthEncoder.encode(tokenSecret));
+    } catch (Exception e) {
@@ -42,2 +37 @@ public class HMACSha1SignatureService implements SignatureService
-  private String doSign(String toSign, String keyString) throws Exception
-  {
+  private String doSign(String toSign, String keyString) throws Exception {
@@ -54,2 +48 @@ public class HMACSha1SignatureService implements SignatureService
-  public String getSignatureMethod()
-  {
+  public String getSignatureMethod() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/services/PlaintextSignatureService.java b/Coacheller-AppEngine/shared/org/scribe/services/PlaintextSignatureService.java
index b71ca97..1d39aa2 100644
--- a/Coacheller-AppEngine/shared/org/scribe/services/PlaintextSignatureService.java
+++ b/Coacheller-AppEngine/shared/org/scribe/services/PlaintextSignatureService.java
@@ -8 +8 @@ import org.scribe.utils.*;
- *
+ * 
@@ -10 +10 @@ import org.scribe.utils.*;
- *
+ * 
@@ -12,2 +12 @@ import org.scribe.utils.*;
-public class PlaintextSignatureService implements SignatureService
-{
+public class PlaintextSignatureService implements SignatureService {
@@ -19,4 +18,2 @@ public class PlaintextSignatureService implements SignatureService
-  public String getSignature(String baseString, String apiSecret, String tokenSecret)
-  {
-    try
-    {
+  public String getSignature(String baseString, String apiSecret, String tokenSecret) {
+    try {
@@ -25,3 +22 @@ public class PlaintextSignatureService implements SignatureService
-    }
-    catch (Exception e)
-    {
+    } catch (Exception e) {
@@ -35,2 +30 @@ public class PlaintextSignatureService implements SignatureService
-  public String getSignatureMethod()
-  {
+  public String getSignatureMethod() {
@@ -40 +33,0 @@ public class PlaintextSignatureService implements SignatureService
-
diff --git a/Coacheller-AppEngine/shared/org/scribe/services/SignatureService.java b/Coacheller-AppEngine/shared/org/scribe/services/SignatureService.java
index 229c2f6..3c56f2b 100644
--- a/Coacheller-AppEngine/shared/org/scribe/services/SignatureService.java
+++ b/Coacheller-AppEngine/shared/org/scribe/services/SignatureService.java
@@ -7 +7 @@ package org.scribe.services;
- *
+ * 
@@ -9,2 +9 @@ package org.scribe.services;
-public interface SignatureService
-{
+public interface SignatureService {
@@ -14,3 +13,6 @@ public interface SignatureService
-   * @param baseString url-encoded string to sign
-   * @param apiSecret api secret for your app
-   * @param tokenSecret token secret (empty string for the request token step)
+   * @param baseString
+   *          url-encoded string to sign
+   * @param apiSecret
+   *          api secret for your app
+   * @param tokenSecret
+   *          token secret (empty string for the request token step)
diff --git a/Coacheller-AppEngine/shared/org/scribe/services/TimestampService.java b/Coacheller-AppEngine/shared/org/scribe/services/TimestampService.java
index 221a226..e7d3ce9 100644
--- a/Coacheller-AppEngine/shared/org/scribe/services/TimestampService.java
+++ b/Coacheller-AppEngine/shared/org/scribe/services/TimestampService.java
@@ -6 +6 @@ package org.scribe.services;
- * This class is useful for stubbing in tests. 
+ * This class is useful for stubbing in tests.
@@ -10,2 +10 @@ package org.scribe.services;
-public interface TimestampService
-{
+public interface TimestampService {
diff --git a/Coacheller-AppEngine/shared/org/scribe/services/TimestampServiceImpl.java b/Coacheller-AppEngine/shared/org/scribe/services/TimestampServiceImpl.java
index 4aa27e0..5a79851 100644
--- a/Coacheller-AppEngine/shared/org/scribe/services/TimestampServiceImpl.java
+++ b/Coacheller-AppEngine/shared/org/scribe/services/TimestampServiceImpl.java
@@ -10,2 +10 @@ import java.util.*;
-public class TimestampServiceImpl implements TimestampService
-{
+public class TimestampServiceImpl implements TimestampService {
@@ -15 +14 @@ public class TimestampServiceImpl implements TimestampService
-   * Default constructor. 
+   * Default constructor.
@@ -17,2 +16 @@ public class TimestampServiceImpl implements TimestampService
-  public TimestampServiceImpl()
-  {
+  public TimestampServiceImpl() {
@@ -25,2 +23 @@ public class TimestampServiceImpl implements TimestampService
-  public String getNonce()
-  {
+  public String getNonce() {
@@ -34,2 +31 @@ public class TimestampServiceImpl implements TimestampService
-  public String getTimestampInSeconds()
-  {
+  public String getTimestampInSeconds() {
@@ -39,2 +35 @@ public class TimestampServiceImpl implements TimestampService
-  private Long getTs()
-  {
+  private Long getTs() {
@@ -44,2 +39 @@ public class TimestampServiceImpl implements TimestampService
-  void setTimer(Timer timer)
-  {
+  void setTimer(Timer timer) {
@@ -54,4 +48,2 @@ public class TimestampServiceImpl implements TimestampService
-  static class Timer
-  {
-    Long getMilis()
-    {
+  static class Timer {
+    Long getMilis() {
@@ -61,2 +53 @@ public class TimestampServiceImpl implements TimestampService
-    Integer getRandomInteger()
-    {
+    Integer getRandomInteger() {
diff --git a/Coacheller-AppEngine/shared/org/scribe/utils/MapUtils.java b/Coacheller-AppEngine/shared/org/scribe/utils/MapUtils.java
index 9e461b8..236e763 100644
--- a/Coacheller-AppEngine/shared/org/scribe/utils/MapUtils.java
+++ b/Coacheller-AppEngine/shared/org/scribe/utils/MapUtils.java
@@ -8,6 +8,6 @@ import java.util.Map;
-public class MapUtils
-{
-  public static <K,V> String toString(Map<K,V> map)
-  {
-    if (map == null) return "";
-    if (map.isEmpty()) return "{}";
+public class MapUtils {
+  public static <K, V> String toString(Map<K, V> map) {
+    if (map == null)
+      return "";
+    if (map.isEmpty())
+      return "{}";
@@ -16,3 +16,3 @@ public class MapUtils
-    for(Map.Entry<K,V> entry : map.entrySet())
-    {
-      result.append(String.format(", %s -> %s ", entry.getKey().toString(), entry.getValue().toString()));
+    for (Map.Entry<K, V> entry : map.entrySet()) {
+      result.append(String.format(", %s -> %s ", entry.getKey().toString(), entry.getValue()
+          .toString()));
diff --git a/Coacheller-AppEngine/shared/org/scribe/utils/OAuthEncoder.java b/Coacheller-AppEngine/shared/org/scribe/utils/OAuthEncoder.java
index 10beabd..c8cf4c1 100644
--- a/Coacheller-AppEngine/shared/org/scribe/utils/OAuthEncoder.java
+++ b/Coacheller-AppEngine/shared/org/scribe/utils/OAuthEncoder.java
@@ -12,2 +12 @@ import org.scribe.exceptions.*;
-public class OAuthEncoder
-{
+public class OAuthEncoder {
@@ -17,2 +16 @@ public class OAuthEncoder
-  static
-  {
+  static {
@@ -26,2 +24 @@ public class OAuthEncoder
-  public static String encode(String plain)
-  {
+  public static String encode(String plain) {
@@ -30,2 +27 @@ public class OAuthEncoder
-    try
-    {
+    try {
@@ -33,3 +29 @@ public class OAuthEncoder
-    }
-    catch (UnsupportedEncodingException uee)
-    {
+    } catch (UnsupportedEncodingException uee) {
@@ -38,2 +32 @@ public class OAuthEncoder
-    for(Map.Entry<String, String> rule : ENCODING_RULES.entrySet())
-    {
+    for (Map.Entry<String, String> rule : ENCODING_RULES.entrySet()) {
@@ -45,2 +38 @@ public class OAuthEncoder
-  private static String applyRule(String encoded, String toReplace, String replacement)
-  {
+  private static String applyRule(String encoded, String toReplace, String replacement) {
@@ -50,2 +42 @@ public class OAuthEncoder
-  public static String decode(String encoded)
-  {
+  public static String decode(String encoded) {
@@ -53,2 +44 @@ public class OAuthEncoder
-    try
-    {
+    try {
@@ -56,3 +46 @@ public class OAuthEncoder
-    }
-    catch(UnsupportedEncodingException uee)
-    {
+    } catch (UnsupportedEncodingException uee) {
diff --git a/Coacheller-AppEngine/shared/org/scribe/utils/Preconditions.java b/Coacheller-AppEngine/shared/org/scribe/utils/Preconditions.java
index 0ac134e..48a312d 100644
--- a/Coacheller-AppEngine/shared/org/scribe/utils/Preconditions.java
+++ b/Coacheller-AppEngine/shared/org/scribe/utils/Preconditions.java
@@ -12,2 +12 @@ import org.scribe.model.OAuthConstants;
-public class Preconditions
-{
+public class Preconditions {
@@ -15 +14 @@ public class Preconditions
-  
+
@@ -22,2 +21,4 @@ public class Preconditions
-   * @param object any object
-   * @param errorMsg error message
+   * @param object
+   *          any object
+   * @param errorMsg
+   *          error message
@@ -25 +26,2 @@ public class Preconditions
-   * @throws IllegalArgumentException if the object is null
+   * @throws IllegalArgumentException
+   *           if the object is null
@@ -27,2 +29 @@ public class Preconditions
-  public static void checkNotNull(Object object, String errorMsg)
-  {
+  public static void checkNotNull(Object object, String errorMsg) {
@@ -35,2 +36,4 @@ public class Preconditions
-   * @param string any string
-   * @param errorMsg error message
+   * @param string
+   *          any string
+   * @param errorMsg
+   *          error message
@@ -38 +41,2 @@ public class Preconditions
-   * @throws IllegalArgumentException if the string is null or empty
+   * @throws IllegalArgumentException
+   *           if the string is null or empty
@@ -40,2 +44 @@ public class Preconditions
-  public static void checkEmptyString(String string, String errorMsg)
-  {
+  public static void checkEmptyString(String string, String errorMsg) {
@@ -48,2 +51,4 @@ public class Preconditions
-   * @param url any string
-   * @param errorMsg error message
+   * @param url
+   *          any string
+   * @param errorMsg
+   *          error message
@@ -51,2 +56 @@ public class Preconditions
-  public static void checkValidUrl(String url, String errorMsg)
-  {
+  public static void checkValidUrl(String url, String errorMsg) {
@@ -56 +60 @@ public class Preconditions
-  
+
@@ -59,3 +63,5 @@ public class Preconditions
-   *  
-   * @param url any string
-   * @param errorMsg error message
+   * 
+   * @param url
+   *          any string
+   * @param errorMsg
+   *          error message
@@ -63,2 +69 @@ public class Preconditions
-  public static void checkValidOAuthCallback(String url, String errorMsg)
-  {
+  public static void checkValidOAuthCallback(String url, String errorMsg) {
@@ -66,3 +71,2 @@ public class Preconditions
-    if(url.toLowerCase().compareToIgnoreCase(OAuthConstants.OUT_OF_BAND) != 0)
-    {
-      check(isUrl(url), errorMsg);  
+    if (url.toLowerCase().compareToIgnoreCase(OAuthConstants.OUT_OF_BAND) != 0) {
+      check(isUrl(url), errorMsg);
@@ -71,3 +75,2 @@ public class Preconditions
-  
-  private static boolean isUrl(String url)
-  {
+
+  private static boolean isUrl(String url) {
@@ -76,3 +79,2 @@ public class Preconditions
-  
-  private static void check(boolean requirements, String error)
-  {
+
+  private static void check(boolean requirements, String error) {
@@ -80,2 +82 @@ public class Preconditions
-    if (!requirements)
-    {
+    if (!requirements) {
@@ -85 +86 @@ public class Preconditions
-  
+
diff --git a/Coacheller-AppEngine/shared/org/scribe/utils/StreamUtils.java b/Coacheller-AppEngine/shared/org/scribe/utils/StreamUtils.java
index 0799b9c..6d7572a 100644
--- a/Coacheller-AppEngine/shared/org/scribe/utils/StreamUtils.java
+++ b/Coacheller-AppEngine/shared/org/scribe/utils/StreamUtils.java
@@ -7 +7 @@ import java.io.*;
- *  
+ * 
@@ -10,2 +10 @@ import java.io.*;
-public class StreamUtils
-{
+public class StreamUtils {
@@ -15 +14,2 @@ public class StreamUtils
-   * @param is input stream
+   * @param is
+   *          input stream
@@ -18,2 +18 @@ public class StreamUtils
-  public static String getStreamContents(InputStream is)
-  {
+  public static String getStreamContents(InputStream is) {
@@ -21,2 +20 @@ public class StreamUtils
-    try
-    {
+    try {
@@ -27,2 +25 @@ public class StreamUtils
-      do
-      {
+      do {
@@ -30,2 +27 @@ public class StreamUtils
-        if (read > 0)
-        {
+        if (read > 0) {
@@ -37,2 +33 @@ public class StreamUtils
-    } catch (IOException ioe)
-    {
+    } catch (IOException ioe) {
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/annotation/ServiceMethod.java b/Coacheller-AppEngine/src/com/ratethisfest/annotation/ServiceMethod.java
index 3c86597..5d65375 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/annotation/ServiceMethod.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/annotation/ServiceMethod.java
@@ -9,2 +9,2 @@ import java.lang.annotation.Target;
- * Annotation on method specifying that the method is a service method
- * and needs to have the corresponding request factory code 
+ * Annotation on method specifying that the method is a service method and needs
+ * to have the corresponding request factory code
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/client/PageToken.java b/Coacheller-AppEngine/src/com/ratethisfest/client/PageToken.java
index c39b977..6f3fb65 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/client/PageToken.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/client/PageToken.java
@@ -7,5 +7 @@ public enum PageToken {
-  INDEX("index"),
-  FESTIVAL_INDEX("festival_index"),
-  VIEW("view"),
-  RATE("rate"),
-  EMAIL("email");
+  INDEX("index"), FESTIVAL_INDEX("festival_index"), VIEW("view"), RATE("rate"), EMAIL("email");
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/domain/AppUser.java b/Coacheller-AppEngine/src/com/ratethisfest/server/domain/AppUser.java
index e768c93..0fb0c8e 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/domain/AppUser.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/domain/AppUser.java
@@ -19 +19,2 @@ public class AppUser {
-  private String email; // populate automatically from fb/goog authId, ask separately for twitter users
+  private String email; // populate automatically from fb/goog authId, ask
+                        // separately for twitter users
@@ -23 +24,2 @@ public class AppUser {
-  private String authId; // unique id for the auth account; if fb/goog, then looks like email; otherwise, #
+  private String authId; // unique id for the auth account; if fb/goog, then
+                         // looks like email; otherwise, #
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/logic/UserAccountManager.java b/Coacheller-AppEngine/src/com/ratethisfest/server/logic/UserAccountManager.java
index 7965d3e..2633902 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/logic/UserAccountManager.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/logic/UserAccountManager.java
@@ -107 +107 @@ public class UserAccountManager {
-  
+
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/persistence/PMF.java b/Coacheller-AppEngine/src/com/ratethisfest/server/persistence/PMF.java
index 221fb0c..fcdf57f 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/persistence/PMF.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/persistence/PMF.java
@@ -7,2 +7,2 @@ public final class PMF {
-  private static final PersistenceManagerFactory pmfInstance =
-      JDOHelper.getPersistenceManagerFactory("transactions-optional");
+  private static final PersistenceManagerFactory pmfInstance = JDOHelper
+      .getPersistenceManagerFactory("transactions-optional");
@@ -10 +10,2 @@ public final class PMF {
-  private PMF() {}
+  private PMF() {
+  }
@@ -13 +14 @@ public final class PMF {
-      return pmfInstance;
+    return pmfInstance;
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/persistence/RatingDAO.java b/Coacheller-AppEngine/src/com/ratethisfest/server/persistence/RatingDAO.java
index 3a04b60..b42fba6 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/persistence/RatingDAO.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/persistence/RatingDAO.java
@@ -76,2 +76 @@ public class RatingDAO {
-  public List<Rating> findRatingsByUserKeyAndSetKeys(Key<AppUser> userKey,
-      List<Key<Set>> setKeys) {
+  public List<Rating> findRatingsByUserKeyAndSetKeys(Key<AppUser> userKey, List<Key<Set>> setKeys) {
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/service/CoachellerServiceImpl.java b/Coacheller-AppEngine/src/com/ratethisfest/server/service/CoachellerServiceImpl.java
index 26380cf..f976d5e 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/service/CoachellerServiceImpl.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/service/CoachellerServiceImpl.java
@@ -94 +94,2 @@ public class CoachellerServiceImpl extends RemoteServiceServlet implements Coach
-      List<Rating> ratings = CoachellaRatingManager.getInstance().findRatingsByUserAndYear(email, year);
+      List<Rating> ratings = CoachellaRatingManager.getInstance().findRatingsByUserAndYear(email,
+          year);
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
index 131f496..772a16e 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
@@ -79 +79 @@ public class LollapaloozerServlet extends HttpServlet {
-    //Value is not a string but rather an array of strings
+    // Value is not a string but rather an array of strings
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
index 07e52cc..9b2f8fd 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
@@ -33,258 +33,245 @@ public class LollapaloozerServiceUtils {
-	private final static String HTTP_SUCCESS = "Received HTTP Response";
-	private final static String HTTP_FAILURE = "HTTP Response was not OK: ";
-
-	/**
-	 * 
-	 * @param year
-	 * @param day
-	 * @param context
-	 * @return
-	 * @throws Exception
-	 */
-	public static JSONArray getSets(String year, String day, Context context)
-			throws Exception {
-		try {
-			// Returning FAKE DATA
-			// if (1 < 3) {
-			// return FakeDataSource.getData();
-			// }
-
-			StringBuilder requestString = new StringBuilder();
-			requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-			requestString.append(HttpConstants.PARAM_YEAR);
-			requestString.append("=");
-			requestString.append(year);
-			requestString.append("&");
-			requestString.append(HttpConstants.PARAM_DAY);
-			requestString.append("=");
-			requestString.append(day);
-			requestString.append("&");
-			requestString.append(HttpConstants.PARAM_ACTION);
-			requestString.append("=");
-			requestString.append(HttpConstants.ACTION_GET_SETS);
-
-			LollapaloozerHelper.debug(context,
-					"HTTPGet = " + requestString.toString());
-			HttpGet get = new HttpGet(requestString.toString());
-			HttpClient hc = new DefaultHttpClient();
-			HttpResponse response = hc.execute(get);
-			
-			return getHttpGetResponse(response, context);
-
-		} catch (ClientProtocolException e) { // TODO: Could have created a
-												// custom
-												// Exception class
-			e.printStackTrace();
-			throw new Exception();
-		} catch (IOException e) {
-			e.printStackTrace();
-			throw new Exception();
-		} catch (JSONException e) {
-			e.printStackTrace();
-			throw new Exception();
-		}
-	}
-
-	// Sample of working URL
-	// http://ratethisfest.appspot.com/coachellerServlet?email=testing@this.com&action=get_sets&year=2012&day=Friday
-	public static JSONArray getRatings(String email, String year, String day,
-			Context context) throws Exception {
-
-		/**
-		 * 
-		 * @param email
-		 * @param context
-		 * @return
-		 */
-
-		try {
-			StringBuilder requestString = new StringBuilder();
-			requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-			requestString.append(HttpConstants.PARAM_EMAIL);
-			requestString.append("=");
-			requestString.append(email);
-			requestString.append("&");
-			requestString.append(HttpConstants.PARAM_YEAR);
-			requestString.append("=");
-			requestString.append(year);
-			requestString.append("&");
-			requestString.append(HttpConstants.PARAM_DAY);
-			requestString.append("=");
-			requestString.append(day);
-			requestString.append("&");
-			requestString.append(HttpConstants.PARAM_ACTION);
-			requestString.append("=");
-			requestString.append(HttpConstants.ACTION_GET_RATINGS);
-
-			LollapaloozerHelper.debug(context,
-					"HTTPGet = " + requestString.toString());
-			HttpGet get = new HttpGet(requestString.toString());
-			HttpClient hc = new DefaultHttpClient();
-			HttpResponse response = hc.execute(get);
-			
-			return getHttpGetResponse(response, context);
-
-		} catch (ClientProtocolException e) { // TODO: Could have created a
-												// custom
-												// Exception class
-			e.printStackTrace();
-			throw new Exception();
-		} catch (IOException e) {
-			e.printStackTrace();
-			throw new Exception();
-		} catch (JSONException e) {
-			e.printStackTrace();
-			throw new Exception();
-		}
-	}
-
-	/**
-	 * @param email
-	 * @param artist
-	 * @param year
-	 * @param score
-	 * @param context
-	 * @return
-	 * @throws Exception
-	 */
-
-	// TODO returns JSONArray which is probably null - is this correct?
-	public static String addRating(String email, String setId, String score,
-			String comments, Context context) throws Exception {
-		try {
-			// // TODO: pass in PARAM_NOTES here
-			// StringBuilder requestStringb = new StringBuilder();
-			// requestStringb.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-			// requestStringb.append(HttpConstants.PARAM_EMAIL).append("=").append(email);
-			// requestStringb.append("&").append(HttpConstants.PARAM_SET_ID).append("=").append(URLEncoder.encode(setId));
-			// requestStringb.append("&").append(HttpConstants.PARAM_SCORE).append("=").append(URLEncoder.encode(score));
-			// requestStringb.append("&").append(HttpConstants.PARAM_NOTES).append("=").append(URLEncoder.encode(comments));
-			// requestStringb.append("&").append(HttpConstants.PARAM_ACTION).append("=").append(URLEncoder.encode(HttpConstants.ACTION_ADD_RATING));
-			//
-			// String requestString = requestStringb.toString();
-			//
-			// LollapaloozerHelper.debug(context, "HTTPPost = " +
-			// requestString);
-
-			//
-			// HttpParams params = post.getParams();
-			// params.setParameter(HttpConstants.PARAM_EMAIL, email);
-			// params.setParameter(HttpConstants.PARAM_SET_ID, setId);
-			// params.setParameter(HttpConstants.PARAM_SCORE, score);
-			// params.setParameter(HttpConstants.PARAM_ACTION,
-			// HttpConstants.ACTION_ADD_RATING);
-			// params.setParameter(HttpConstants.PARAM_NOTES, comments);
-			// post.setParams(params);
-
-			HttpPost post = new HttpPost(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-
-			List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
-
-			nameValuePairs.add(new BasicNameValuePair(
-					HttpConstants.PARAM_EMAIL, email));
-			nameValuePairs.add(new BasicNameValuePair(
-					HttpConstants.PARAM_SET_ID, setId));
-			nameValuePairs.add(new BasicNameValuePair(
-					HttpConstants.PARAM_SCORE, score));
-			nameValuePairs.add(new BasicNameValuePair(
-					HttpConstants.PARAM_NOTES, comments));
-			nameValuePairs
-					.add(new BasicNameValuePair(HttpConstants.PARAM_ACTION,
-							HttpConstants.ACTION_ADD_RATING));
-
-			post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
-			HttpClient hc = new DefaultHttpClient();
-			HttpResponse response = hc.execute(post);
-
-			return getHttpPostResponse(response, context);
-
-		} catch (UnsupportedEncodingException e) {
-			e.printStackTrace();
-			throw new Exception();
-		} catch (IllegalStateException e) {
-			e.printStackTrace();
-			throw new Exception();
-		} catch (IOException e) {
-			e.printStackTrace();
-			throw new Exception();
-		}
-	}
-
-	public static String emailMyRatings(Context context, String email)
-			throws Exception {
-		try {
-			HttpPost post = new HttpPost(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-
-			List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
-
-			nameValuePairs.add(new BasicNameValuePair(
-					HttpConstants.PARAM_EMAIL, email));
-			nameValuePairs.add(new BasicNameValuePair(
-					HttpConstants.PARAM_ACTION,
-					HttpConstants.ACTION_EMAIL_RATINGS));
-
-			post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
-			HttpClient hc = new DefaultHttpClient();
-			HttpResponse response = hc.execute(post);
-
-			return getHttpPostResponse(response, context);
-
-		} catch (UnsupportedEncodingException e) {
-			e.printStackTrace();
-			throw new Exception();
-		} catch (IllegalStateException e) {
-			e.printStackTrace();
-			throw new Exception();
-		} catch (IOException e) {
-			e.printStackTrace();
-			throw new Exception();
-		}
-	}
-
-	private static JSONArray getHttpGetResponse(HttpResponse response, Context context)
-			throws Exception {
-
-		// get the response from GAE server, should be in JSON format
-		if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
-			LollapaloozerHelper.debug(context, HTTP_SUCCESS);
-
-			BufferedReader reader = new BufferedReader(new InputStreamReader(
-					response.getEntity().getContent(), "UTF-8"));
-			StringBuilder builder = new StringBuilder();
-			for (String line = null; (line = reader.readLine()) != null;) {
-				builder.append(line).append("\n");
-			}
-			JSONTokener tokener = new JSONTokener(builder.toString());
-			JSONArray finalResult = new JSONArray(tokener);
-			return finalResult;
-
-		} else {
-			LollapaloozerHelper.debug(context, HTTP_FAILURE
-					+ response.getStatusLine().getStatusCode());
-			throw new Exception();
-		}
-
-	}
-
-	private static String getHttpPostResponse(HttpResponse response, Context context)
-			throws Exception {
-
-		// get the response from GAE server, should be in JSON format
-		if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
-			LollapaloozerHelper.debug(context, HTTP_SUCCESS);
-
-			BufferedReader reader = new BufferedReader(new InputStreamReader(
-					response.getEntity().getContent(), "UTF-8"));
-			StringBuilder builder = new StringBuilder();
-			for (String line = null; (line = reader.readLine()) != null;) {
-				builder.append(line).append("\n");
-			}
-
-			return builder.toString();
-
-		} else {
-			LollapaloozerHelper.debug(context, HTTP_FAILURE
-					+ response.getStatusLine().getStatusCode());
-			throw new Exception();
-		}
-	}
+  private final static String HTTP_SUCCESS = "Received HTTP Response";
+  private final static String HTTP_FAILURE = "HTTP Response was not OK: ";
+
+  /**
+   * 
+   * @param year
+   * @param day
+   * @param context
+   * @return
+   * @throws Exception
+   */
+  public static JSONArray getSets(String year, String day, Context context) throws Exception {
+    try {
+      // Returning FAKE DATA
+      // if (1 < 3) {
+      // return FakeDataSource.getData();
+      // }
+
+      StringBuilder requestString = new StringBuilder();
+      requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+      requestString.append(HttpConstants.PARAM_YEAR);
+      requestString.append("=");
+      requestString.append(year);
+      requestString.append("&");
+      requestString.append(HttpConstants.PARAM_DAY);
+      requestString.append("=");
+      requestString.append(day);
+      requestString.append("&");
+      requestString.append(HttpConstants.PARAM_ACTION);
+      requestString.append("=");
+      requestString.append(HttpConstants.ACTION_GET_SETS);
+
+      LollapaloozerHelper.debug(context, "HTTPGet = " + requestString.toString());
+      HttpGet get = new HttpGet(requestString.toString());
+      HttpClient hc = new DefaultHttpClient();
+      HttpResponse response = hc.execute(get);
+
+      return getHttpGetResponse(response, context);
+
+    } catch (ClientProtocolException e) { // TODO: Could have created a
+      // custom
+      // Exception class
+      e.printStackTrace();
+      throw new Exception();
+    } catch (IOException e) {
+      e.printStackTrace();
+      throw new Exception();
+    } catch (JSONException e) {
+      e.printStackTrace();
+      throw new Exception();
+    }
+  }
+
+  // Sample of working URL
+  // http://ratethisfest.appspot.com/coachellerServlet?email=testing@this.com&action=get_sets&year=2012&day=Friday
+  public static JSONArray getRatings(String email, String year, String day, Context context)
+      throws Exception {
+
+    /**
+     * 
+     * @param email
+     * @param context
+     * @return
+     */
+
+    try {
+      StringBuilder requestString = new StringBuilder();
+      requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+      requestString.append(HttpConstants.PARAM_EMAIL);
+      requestString.append("=");
+      requestString.append(email);
+      requestString.append("&");
+      requestString.append(HttpConstants.PARAM_YEAR);
+      requestString.append("=");
+      requestString.append(year);
+      requestString.append("&");
+      requestString.append(HttpConstants.PARAM_DAY);
+      requestString.append("=");
+      requestString.append(day);
+      requestString.append("&");
+      requestString.append(HttpConstants.PARAM_ACTION);
+      requestString.append("=");
+      requestString.append(HttpConstants.ACTION_GET_RATINGS);
+
+      LollapaloozerHelper.debug(context, "HTTPGet = " + requestString.toString());
+      HttpGet get = new HttpGet(requestString.toString());
+      HttpClient hc = new DefaultHttpClient();
+      HttpResponse response = hc.execute(get);
+
+      return getHttpGetResponse(response, context);
+
+    } catch (ClientProtocolException e) { // TODO: Could have created a
+      // custom
+      // Exception class
+      e.printStackTrace();
+      throw new Exception();
+    } catch (IOException e) {
+      e.printStackTrace();
+      throw new Exception();
+    } catch (JSONException e) {
+      e.printStackTrace();
+      throw new Exception();
+    }
+  }
+
+  /**
+   * @param email
+   * @param artist
+   * @param year
+   * @param score
+   * @param context
+   * @return
+   * @throws Exception
+   */
+
+  // TODO returns JSONArray which is probably null - is this correct?
+  public static String addRating(String email, String setId, String score, String comments,
+      Context context) throws Exception {
+    try {
+      // // TODO: pass in PARAM_NOTES here
+      // StringBuilder requestStringb = new StringBuilder();
+      // requestStringb.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+      // requestStringb.append(HttpConstants.PARAM_EMAIL).append("=").append(email);
+      // requestStringb.append("&").append(HttpConstants.PARAM_SET_ID).append("=").append(URLEncoder.encode(setId));
+      // requestStringb.append("&").append(HttpConstants.PARAM_SCORE).append("=").append(URLEncoder.encode(score));
+      // requestStringb.append("&").append(HttpConstants.PARAM_NOTES).append("=").append(URLEncoder.encode(comments));
+      // requestStringb.append("&").append(HttpConstants.PARAM_ACTION).append("=").append(URLEncoder.encode(HttpConstants.ACTION_ADD_RATING));
+      //
+      // String requestString = requestStringb.toString();
+      //
+      // LollapaloozerHelper.debug(context, "HTTPPost = " +
+      // requestString);
+
+      //
+      // HttpParams params = post.getParams();
+      // params.setParameter(HttpConstants.PARAM_EMAIL, email);
+      // params.setParameter(HttpConstants.PARAM_SET_ID, setId);
+      // params.setParameter(HttpConstants.PARAM_SCORE, score);
+      // params.setParameter(HttpConstants.PARAM_ACTION,
+      // HttpConstants.ACTION_ADD_RATING);
+      // params.setParameter(HttpConstants.PARAM_NOTES, comments);
+      // post.setParams(params);
+
+      HttpPost post = new HttpPost(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+
+      List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
+
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL, email));
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_SET_ID, setId));
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_SCORE, score));
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_NOTES, comments));
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_ACTION,
+          HttpConstants.ACTION_ADD_RATING));
+
+      post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
+      HttpClient hc = new DefaultHttpClient();
+      HttpResponse response = hc.execute(post);
+
+      return getHttpPostResponse(response, context);
+
+    } catch (UnsupportedEncodingException e) {
+      e.printStackTrace();
+      throw new Exception();
+    } catch (IllegalStateException e) {
+      e.printStackTrace();
+      throw new Exception();
+    } catch (IOException e) {
+      e.printStackTrace();
+      throw new Exception();
+    }
+  }
+
+  public static String emailMyRatings(Context context, String email) throws Exception {
+    try {
+      HttpPost post = new HttpPost(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+
+      List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
+
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_EMAIL, email));
+      nameValuePairs.add(new BasicNameValuePair(HttpConstants.PARAM_ACTION,
+          HttpConstants.ACTION_EMAIL_RATINGS));
+
+      post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
+      HttpClient hc = new DefaultHttpClient();
+      HttpResponse response = hc.execute(post);
+
+      return getHttpPostResponse(response, context);
+
+    } catch (UnsupportedEncodingException e) {
+      e.printStackTrace();
+      throw new Exception();
+    } catch (IllegalStateException e) {
+      e.printStackTrace();
+      throw new Exception();
+    } catch (IOException e) {
+      e.printStackTrace();
+      throw new Exception();
+    }
+  }
+
+  private static JSONArray getHttpGetResponse(HttpResponse response, Context context)
+      throws Exception {
+
+    // get the response from GAE server, should be in JSON format
+    if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
+      LollapaloozerHelper.debug(context, HTTP_SUCCESS);
+
+      BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity()
+          .getContent(), "UTF-8"));
+      StringBuilder builder = new StringBuilder();
+      for (String line = null; (line = reader.readLine()) != null;) {
+        builder.append(line).append("\n");
+      }
+      JSONTokener tokener = new JSONTokener(builder.toString());
+      JSONArray finalResult = new JSONArray(tokener);
+      return finalResult;
+
+    } else {
+      LollapaloozerHelper.debug(context, HTTP_FAILURE + response.getStatusLine().getStatusCode());
+      throw new Exception();
+    }
+
+  }
+
+  private static String getHttpPostResponse(HttpResponse response, Context context)
+      throws Exception {
+
+    // get the response from GAE server, should be in JSON format
+    if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
+      LollapaloozerHelper.debug(context, HTTP_SUCCESS);
+
+      BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity()
+          .getContent(), "UTF-8"));
+      StringBuilder builder = new StringBuilder();
+      for (String line = null; (line = reader.readLine()) != null;) {
+        builder.append(line).append("\n");
+      }
+
+      return builder.toString();
+
+    } else {
+      LollapaloozerHelper.debug(context, HTTP_FAILURE + response.getStatusLine().getStatusCode());
+      throw new Exception();
+    }
+  }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java
index bcbaa1d..59dd88d 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java
@@ -6 +5,0 @@ import android.os.Handler;
-
@@ -10 +9 @@ public class LollapaloozerUIWorker extends Thread {
-  
+
@@ -15 +13,0 @@ public class LollapaloozerUIWorker extends Thread {
-  
@@ -23,70 +21,43 @@ public class LollapaloozerUIWorker extends Thread {
-  public void run() {
-    LollapaloozerHelper.debug(this, "rebuildJAHM()");
-    if (_obtained_email != null) { // Get my ratings
-
-      JSONArray myRatings = null;
-      try {
-        myRatings = ServiceUtils.getRatings(_obtained_email, _dayToQuery, this);
-        _storageManager.putJSONArray(DATA_RATINGS, myRatings);
-      } catch (Exception e1) {
-        _networkErrors = true;
-        LollapaloozerHelper.debug(this,
-            "Exception getting Ratings data, loading from storage if available");
-        try {
-          myRatings = _storageManager.getJSONArray(DATA_RATINGS);
-        } catch (JSONException e) {
-          e.printStackTrace();
-          LollapaloozerHelper.debug(this, "JSONException loading ratings from storage");
-        }
-      }
-
-      try {
-        // TODO this may not be correct. JAHM should only be initialized once.
-        // _myRatings_JAHM = new JSONArrayHashMap(myRatings,
-        // QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
-
-        if (myRatings == null) {
-          LollapaloozerHelper.debug(this, "Had to initialize ratings data JSONArray");
-          myRatings = new JSONArray();
-        }
-
-        _myRatings_JAHM.setData(myRatings);
-
-      } catch (JSONException e) {
-        // TODO Auto-generated catch block
-        // Could not get my ratings :(
-        e.printStackTrace();
-      }
-    } else {
-      // TODO This may not be correct. initJAHM() may have already been called
-      // on startup and
-      // TODO the reference to the JAHM may have been passed to the adapter
-      // already
-      // initJAHM(); //Commented in hope of addressing crash issue
-    }
-
-    _setListAdapter.updateJAHM(_myRatings_JAHM);
-
-    JSONArray setData = null;
-    try {
-      // TODO: pass proper values (year can remain hard-coded for now)
-      setData = ServiceUtils.getSets("2012", _dayToExamine, this);
-      _storageManager.putJSONArray(DATA_SETS, setData);
-    } catch (Exception e) {
-      _networkErrors = true;
-      LollapaloozerHelper.debug(this,
-          "Exception getting Set data, loading from storage if available");
-      setData = _storageManager.getJSONArray(DATA_SETS);
-    }
-
-    if (setData == null) {
-      LollapaloozerHelper.debug(this, "Had to initialize set data JSONArray");
-      setData = new JSONArray();
-    }
-    _setListAdapter.setData(setData);
-    
-    _handler.post(_runnable);
-  }
-  */
-  
-  
+   * public void run() { LollapaloozerHelper.debug(this, "rebuildJAHM()"); if
+   * (_obtained_email != null) { // Get my ratings
+   * 
+   * JSONArray myRatings = null; try { myRatings =
+   * ServiceUtils.getRatings(_obtained_email, _dayToQuery, this);
+   * _storageManager.putJSONArray(DATA_RATINGS, myRatings); } catch (Exception
+   * e1) { _networkErrors = true; LollapaloozerHelper.debug(this,
+   * "Exception getting Ratings data, loading from storage if available"); try {
+   * myRatings = _storageManager.getJSONArray(DATA_RATINGS); } catch
+   * (JSONException e) { e.printStackTrace(); LollapaloozerHelper.debug(this,
+   * "JSONException loading ratings from storage"); } }
+   * 
+   * try { // TODO this may not be correct. JAHM should only be initialized
+   * once. // _myRatings_JAHM = new JSONArrayHashMap(myRatings, //
+   * QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
+   * 
+   * if (myRatings == null) { LollapaloozerHelper.debug(this,
+   * "Had to initialize ratings data JSONArray"); myRatings = new JSONArray(); }
+   * 
+   * _myRatings_JAHM.setData(myRatings);
+   * 
+   * } catch (JSONException e) { // TODO Auto-generated catch block // Could not
+   * get my ratings :( e.printStackTrace(); } } else { // TODO This may not be
+   * correct. initJAHM() may have already been called // on startup and // TODO
+   * the reference to the JAHM may have been passed to the adapter // already //
+   * initJAHM(); //Commented in hope of addressing crash issue }
+   * 
+   * _setListAdapter.updateJAHM(_myRatings_JAHM);
+   * 
+   * JSONArray setData = null; try { // TODO: pass proper values (year can
+   * remain hard-coded for now) setData = ServiceUtils.getSets("2012",
+   * _dayToExamine, this); _storageManager.putJSONArray(DATA_SETS, setData); }
+   * catch (Exception e) { _networkErrors = true;
+   * LollapaloozerHelper.debug(this,
+   * "Exception getting Set data, loading from storage if available"); setData =
+   * _storageManager.getJSONArray(DATA_SETS); }
+   * 
+   * if (setData == null) { LollapaloozerHelper.debug(this,
+   * "Had to initialize set data JSONArray"); setData = new JSONArray(); }
+   * _setListAdapter.setData(setData);
+   * 
+   * _handler.post(_runnable); }
+   */
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
index ec7d325..77641f3 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
@@ -14,156 +14,149 @@ public class AuthChooseAccountActivity extends Activity implements OnClickListen
-	
-	private boolean _DEBUG = true;
-
-	// Framework
-	private TextView _loginStatusText;
-	private TextView _accountNameText;
-	private TextView _tokenIdText;
-
-	// App
-	private AuthDemoModel _model;
-
-	/** Called when the activity is first created. */
-	@Override
-	public void onCreate(Bundle savedInstanceState) {
-		super.onCreate(savedInstanceState);
-		setContentView(R.layout.auth_choose);
-		System.out.println("OnCreate starting");
-
-		// Framework
-		_loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
-		_accountNameText = (TextView) this.findViewById(R.id.text_account_name);
-		_tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
-
-		this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
-		this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
-		this.findViewById(R.id.btn_login_google).setOnClickListener(this);
-		this.findViewById(R.id.btn_invalidate_tokens).setOnClickListener(this);
-
-		// App
-		_model = new AuthDemoModel(this);
-		_model.checkAccounts();
-		System.out.println("OnCreate complete");
-	}
-
-	@Override
-	protected void onResume() {
-		super.onResume();
-
-		AuthProvider currentProvider = _model.getCurrentAuthProvider();
-		if (currentProvider != null) {
-			currentProvider.extendAccess();
-		}
-
-		_updateUI();
-
-	}
-
-	@Override
-	public void onClick(View arg0) {
-		String buttonClickedName = this.getResources().getResourceEntryName(
-				arg0.getId());
-		System.out.println("Button Click: " + buttonClickedName);
-
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_login_google))) {
-			_model.loginToGoogle(); // UI Update done on callback
-		}
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_login_twitter))) {
-			_model.loginToTwitter();
-
-		}
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_login_facebook))) {
-			_model.loginToFacebook();
-
-		}
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_invalidate_tokens))) {
-			_model.invalidateTokens();
-			_updateUI();
-		}
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_dismiss_activity))) {
-			_returnToMainActivity();
-		}
-	}
-
-	private void _returnToMainActivity() {
-		Intent returnIntent = getIntent();
-		
-		int result;
-		if (_model.isLoggedIn()) {
-			result = RESULT_OK;
-		} else {
-			result = RESULT_CANCELED;
-		}
-		
-		setResult(result, returnIntent);
-		finish();
-	}
-
-	private void _updateUI() {
-		if (_DEBUG) {
-
-			if (_model.isLoggedIn()) {
-				AuthProvider currentProvider = _model.getCurrentAuthProvider();
-				_setLoginStatus(currentProvider.getAccountType());
-				_accountNameText.setText("Account: "
-						+ currentProvider.getLocalAccountName() + "\r\n"
-						+ currentProvider.getAccountType()
-						+ " confirms you are the owner of "
-						+ currentProvider.getVerifiedAccountIdentifier());
-				_tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
-			} else {
-				_setLoginStatus("Not Logged In");
-				_accountNameText.setText("");
-				_tokenIdText.setText("");
-			}
-
-			if (this.findViewById(R.layout.auth_choose) != null) {
-				this.findViewById(R.layout.auth_choose).invalidate();
-			}
-		} else {
-			//Release version, hide debug UI elements
-
-		}
-
-	}
-
-	private void _setLoginStatus(String status) {
-		_loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
-	}
-
-	// For Facebook
-	@Override
-	public void onActivityResult(int requestCode, int resultCode, Intent data) {
-		super.onActivityResult(requestCode, resultCode, data);
-
-		System.out.println("onActivityResult(requestCode=[" + requestCode
-				+ "], resultCode=[" + resultCode + "] with data: "+ data);
-
-
-		switch (requestCode) {
-		case Constants.INTENT_REQ_TWITTER_LOGIN:
-			_model.twitterAuthCallback(requestCode, resultCode, data);
-			break;
-		default:
-			System.out.println("onACtivityResult called with unknown values: "
-					+ requestCode + "," + resultCode);
-			_model.getFacebookObject().authorizeCallback(requestCode,
-					resultCode, data);
-			break;
-		}
-	}
-
-	public void modelChanged() {
-		// Run method in main UI thread
-		View v = findViewById(android.R.id.content);
-		v.post(new Runnable() {
-			public void run() {
-				_updateUI();
-			}
-		});
-
-		// _updateUI();
-	}
+
+  private boolean _DEBUG = true;
+
+  // Framework
+  private TextView _loginStatusText;
+  private TextView _accountNameText;
+  private TextView _tokenIdText;
+
+  // App
+  private AuthDemoModel _model;
+
+  /** Called when the activity is first created. */
+  @Override
+  public void onCreate(Bundle savedInstanceState) {
+    super.onCreate(savedInstanceState);
+    setContentView(R.layout.auth_choose);
+    System.out.println("OnCreate starting");
+
+    // Framework
+    _loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
+    _accountNameText = (TextView) this.findViewById(R.id.text_account_name);
+    _tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
+
+    this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
+    this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
+    this.findViewById(R.id.btn_login_google).setOnClickListener(this);
+    this.findViewById(R.id.btn_invalidate_tokens).setOnClickListener(this);
+
+    // App
+    _model = new AuthDemoModel(this);
+    _model.checkAccounts();
+    System.out.println("OnCreate complete");
+  }
+
+  @Override
+  protected void onResume() {
+    super.onResume();
+
+    AuthProvider currentProvider = _model.getCurrentAuthProvider();
+    if (currentProvider != null) {
+      currentProvider.extendAccess();
+    }
+
+    _updateUI();
+
+  }
+
+  @Override
+  public void onClick(View arg0) {
+    String buttonClickedName = this.getResources().getResourceEntryName(arg0.getId());
+    System.out.println("Button Click: " + buttonClickedName);
+
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_google))) {
+      _model.loginToGoogle(); // UI Update done on callback
+    }
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_twitter))) {
+      _model.loginToTwitter();
+
+    }
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_facebook))) {
+      _model.loginToFacebook();
+
+    }
+    if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+        R.id.btn_invalidate_tokens))) {
+      _model.invalidateTokens();
+      _updateUI();
+    }
+    if (buttonClickedName.equals(this.getResources()
+        .getResourceEntryName(R.id.btn_dismiss_activity))) {
+      _returnToMainActivity();
+    }
+  }
+
+  private void _returnToMainActivity() {
+    Intent returnIntent = getIntent();
+
+    int result;
+    if (_model.isLoggedIn()) {
+      result = RESULT_OK;
+    } else {
+      result = RESULT_CANCELED;
+    }
+
+    setResult(result, returnIntent);
+    finish();
+  }
+
+  private void _updateUI() {
+    if (_DEBUG) {
+
+      if (_model.isLoggedIn()) {
+        AuthProvider currentProvider = _model.getCurrentAuthProvider();
+        _setLoginStatus(currentProvider.getAccountType());
+        _accountNameText.setText("Account: " + currentProvider.getLocalAccountName() + "\r\n"
+            + currentProvider.getAccountType() + " confirms you are the owner of "
+            + currentProvider.getVerifiedAccountIdentifier());
+        _tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
+      } else {
+        _setLoginStatus("Not Logged In");
+        _accountNameText.setText("");
+        _tokenIdText.setText("");
+      }
+
+      if (this.findViewById(R.layout.auth_choose) != null) {
+        this.findViewById(R.layout.auth_choose).invalidate();
+      }
+    } else {
+      // Release version, hide debug UI elements
+
+    }
+
+  }
+
+  private void _setLoginStatus(String status) {
+    _loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
+  }
+
+  // For Facebook
+  @Override
+  public void onActivityResult(int requestCode, int resultCode, Intent data) {
+    super.onActivityResult(requestCode, resultCode, data);
+
+    System.out.println("onActivityResult(requestCode=[" + requestCode + "], resultCode=["
+        + resultCode + "] with data: " + data);
+
+    switch (requestCode) {
+    case Constants.INTENT_REQ_TWITTER_LOGIN:
+      _model.twitterAuthCallback(requestCode, resultCode, data);
+      break;
+    default:
+      System.out.println("onACtivityResult called with unknown values: " + requestCode + ","
+          + resultCode);
+      _model.getFacebookObject().authorizeCallback(requestCode, resultCode, data);
+      break;
+    }
+  }
+
+  public void modelChanged() {
+    // Run method in main UI thread
+    View v = findViewById(android.R.id.content);
+    v.post(new Runnable() {
+      public void run() {
+        _updateUI();
+      }
+    });
+
+    // _updateUI();
+  }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
index fdfa477..f403b8e 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
@@ -10 +9,0 @@ import com.facebook.android.Facebook;
-
@@ -13,99 +12,96 @@ public class AuthDemoModel {
-	private GoogleAuthProvider _authProviderGoogle;
-	private FacebookAuthProvider _authProviderFacebook;
-	private AuthChooseAccountActivity _activity;
-
-	private String _verifiedAccountName = null;
-	private TwitterAuthProvider _authProviderTwitter;
-
-	public AuthDemoModel(AuthChooseAccountActivity activity) {
-		_activity = activity;
-		_authProviderGoogle = new GoogleAuthProvider(_activity);
-		_authProviderFacebook = new FacebookAuthProvider(_activity);
-		_authProviderTwitter = new TwitterAuthProvider(_activity);
-	}
-
-	public boolean isLoggedIn() {
-		int numLogins = 0;
-		if (_authProviderGoogle.isLoggedIn()) {
-			numLogins++;
-		}
-
-		if (_authProviderFacebook.isLoggedIn()) {
-			numLogins++;
-		}
-
-		if (_authProviderTwitter.isLoggedIn()) {
-			numLogins++;
-		}
-
-		if (numLogins > 1) {
-			System.out
-					.println("WARNING: Multiple concurrent login types detected");
-		}
-
-		if (numLogins > 0) {
-			return true;
-		} else {
-			return false;
-		}
-	}
-
-	public AuthProvider getCurrentAuthProvider() {
-		if (_authProviderGoogle.isLoggedIn()) {
-			return _authProviderGoogle;
-		}
-
-		if (_authProviderFacebook.isLoggedIn()) {
-			return _authProviderFacebook;
-		}
-
-		if (_authProviderTwitter.isLoggedIn()) {
-			return _authProviderTwitter;
-		}
-
-		return null;
-	}
-
-	public void checkAccounts() {
-		AccountManager aMgr = AccountManager.get(_activity);
-
-		System.out
-				.println("Warning: The following requires permission GET_ACCOUNTS");
-		for (Account a : aMgr.getAccounts()) {
-			System.out.println(a.name + " " + a.type + " " + a.toString());
-		}
-
-		System.out.println("Installed Authenticators: ");
-		for (AuthenticatorDescription d : aMgr.getAuthenticatorTypes()) {
-			System.out.print(d.type);
-			System.out.print("/ ");
-		}
-		System.out.println();
-	}
-
-	public Facebook getFacebookObject() {
-		return _authProviderFacebook.getFacebookObject();
-	}
-
-	public void invalidateTokens() {
-		_authProviderGoogle.logout();
-		_authProviderFacebook.logout();
-		_authProviderTwitter.logout();
-	}
-
-	public void loginToGoogle() {
-		_authProviderGoogle.login();
-	}
-
-	public void loginToFacebook() {
-		_authProviderFacebook.login();
-	}
-
-	public void loginToTwitter() {
-		_authProviderTwitter.login();
-	}
-
-	public void twitterAuthCallback(int requestCode, int resultCode, Intent data) {
-		_authProviderTwitter
-				.requestTokenCallback(requestCode, resultCode, data);
-	}
+  private GoogleAuthProvider _authProviderGoogle;
+  private FacebookAuthProvider _authProviderFacebook;
+  private AuthChooseAccountActivity _activity;
+
+  private String _verifiedAccountName = null;
+  private TwitterAuthProvider _authProviderTwitter;
+
+  public AuthDemoModel(AuthChooseAccountActivity activity) {
+    _activity = activity;
+    _authProviderGoogle = new GoogleAuthProvider(_activity);
+    _authProviderFacebook = new FacebookAuthProvider(_activity);
+    _authProviderTwitter = new TwitterAuthProvider(_activity);
+  }
+
+  public boolean isLoggedIn() {
+    int numLogins = 0;
+    if (_authProviderGoogle.isLoggedIn()) {
+      numLogins++;
+    }
+
+    if (_authProviderFacebook.isLoggedIn()) {
+      numLogins++;
+    }
+
+    if (_authProviderTwitter.isLoggedIn()) {
+      numLogins++;
+    }
+
+    if (numLogins > 1) {
+      System.out.println("WARNING: Multiple concurrent login types detected");
+    }
+
+    if (numLogins > 0) {
+      return true;
+    } else {
+      return false;
+    }
+  }
+
+  public AuthProvider getCurrentAuthProvider() {
+    if (_authProviderGoogle.isLoggedIn()) {
+      return _authProviderGoogle;
+    }
+
+    if (_authProviderFacebook.isLoggedIn()) {
+      return _authProviderFacebook;
+    }
+
+    if (_authProviderTwitter.isLoggedIn()) {
+      return _authProviderTwitter;
+    }
+
+    return null;
+  }
+
+  public void checkAccounts() {
+    AccountManager aMgr = AccountManager.get(_activity);
+
+    System.out.println("Warning: The following requires permission GET_ACCOUNTS");
+    for (Account a : aMgr.getAccounts()) {
+      System.out.println(a.name + " " + a.type + " " + a.toString());
+    }
+
+    System.out.println("Installed Authenticators: ");
+    for (AuthenticatorDescription d : aMgr.getAuthenticatorTypes()) {
+      System.out.print(d.type);
+      System.out.print("/ ");
+    }
+    System.out.println();
+  }
+
+  public Facebook getFacebookObject() {
+    return _authProviderFacebook.getFacebookObject();
+  }
+
+  public void invalidateTokens() {
+    _authProviderGoogle.logout();
+    _authProviderFacebook.logout();
+    _authProviderTwitter.logout();
+  }
+
+  public void loginToGoogle() {
+    _authProviderGoogle.login();
+  }
+
+  public void loginToFacebook() {
+    _authProviderFacebook.login();
+  }
+
+  public void loginToTwitter() {
+    _authProviderTwitter.login();
+  }
+
+  public void twitterAuthCallback(int requestCode, int resultCode, Intent data) {
+    _authProviderTwitter.requestTokenCallback(requestCode, resultCode, data);
+  }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthProvider.java
index 338a972..8706cbe 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthProvider.java
@@ -5 +5 @@ public interface AuthProvider {
-	public boolean isLoggedIn();
+  public boolean isLoggedIn();
@@ -7 +7 @@ public interface AuthProvider {
-	public void login();
+  public void login();
@@ -9 +9 @@ public interface AuthProvider {
-	public void logout();
+  public void logout();
@@ -11 +11 @@ public interface AuthProvider {
-	public String getAccountType();
+  public String getAccountType();
@@ -13 +13 @@ public interface AuthProvider {
-	public String getLocalAccountName();
+  public String getLocalAccountName();
@@ -15 +15 @@ public interface AuthProvider {
-	public String getVerifiedAccountIdentifier();
+  public String getVerifiedAccountIdentifier();
@@ -17 +17 @@ public interface AuthProvider {
-	public String getAuthToken();
+  public String getAuthToken();
@@ -19 +19 @@ public interface AuthProvider {
-	public void extendAccess();
+  public void extendAccess();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
index c0d7018..2ba8fe9 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -25,174 +25,162 @@ public class FacebookAuthProvider implements AuthProvider {
-	private AuthChooseAccountActivity _activity;
-	private Facebook _facebook = new Facebook("186287061500005");
-	private AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(
-			_facebook);
-
-	private JSONObject _userInfo;
-
-	private FacebookAuthProvider() {
-	}
-
-	public FacebookAuthProvider(AuthChooseAccountActivity activity) {
-		_activity = activity;
-	}
-
-	private void setLastInfoResponse(JSONObject json) {
-		_userInfo = json;
-	}
-
-	@Override
-	public boolean isLoggedIn() {
-		if (_userInfo == null) {
-			return false;
-			}
-		
-		FacebookVerifier verifier = new FacebookVerifier();
-		return verifier.verify(getAuthToken(), getVerifiedAccountIdentifier());
-		
-		
-		
-		//return _facebook.isSessionValid();
-	}
-
-
-	@Override
-	public void login() {
-		
-		_facebook.authorize(_activity, new String[] { "email" },
-				new DialogListener() {
-					@Override
-					public void onComplete(Bundle values) {
-						System.out
-								.println("Facebook authorization completed, token: "
-										+ _facebook.getAccessToken()
-										+ " valid until "
-										+ _facebook.getAccessExpires());
-						mAsyncRunner.request("me", new IDRequestListener()); //get user info from facebook
-						_activity.modelChanged();
-						// TODO should lock UI here
-					}
-
-					@Override
-					public void onFacebookError(FacebookError error) {
-						System.out
-								.println("Facebook platform error during authorization");
-					}
-
-					@Override
-					public void onError(DialogError e) {
-						System.out
-								.println("Error with facebook authorization dialog");
-					}
-
-					@Override
-					public void onCancel() {
-						System.out
-								.println("Facebook authorization dialog cancelled by user");
-					}
-				});
-
-	}
-
-	public Facebook getFacebookObject() {
-		return _facebook;
-	}
-
-	@Override
-	public void logout() {
-		try {
-			_facebook.logout(_activity);
-		} catch (MalformedURLException e) {
-			e.printStackTrace();
-		} catch (IOException e) {
-			e.printStackTrace();
-		}
-	}
-
-	@Override
-	public String getAccountType() {
-		return _facebook.getClass().toString();
-	}
-
-	@Override
-	public String getLocalAccountName() {
-		try {
-			return _userInfo.getString("name");
-		} catch (JSONException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-		return null;
-	}
-
-	@Override
-	public String getVerifiedAccountIdentifier() {
-		try {
-			return _userInfo.getString("email");
-		} catch (JSONException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-		return null;
-	}
-
-	@Override
-	public String getAuthToken() {
-		return _facebook.getAccessToken();
-	}
-
-	@Override
-	public void extendAccess() {
-		_facebook.extendAccessTokenIfNeeded(_activity, null);
-	}
-
-	private class IDRequestListener implements RequestListener {
-
-		private String TAG = "fbDemo";
-
-		@Override
-		public void onComplete(String response, Object state) {
-			try {
-
-				Log.d(TAG, "IDRequestONComplete");
-				Log.d(TAG, "Response: " + response.toString());
-				JSONObject json = Util.parseJson(response);
-				String userID = json.getString("id");
-				String userName = json.getString("name");
-				// fbEmail = json.getString("email");
-
-				System.out.println("Retrieved from Facebook userID[" + userID
-						+ "] username [" + userName + "]");
-				setLastInfoResponse(json);
-				_activity.modelChanged();
-
-			} catch (JSONException e) {
-				Log.d(TAG, "JSONException: " + e.getMessage());
-			} catch (FacebookError e) {
-				Log.d(TAG, "FacebookError: " + e.getMessage());
-			}
-			// TODO Unlock UI here
-		}
-
-		@Override
-		public void onIOException(IOException e, Object state) {
-			Log.d(TAG, "IOException: " + e.getMessage());
-		}
-
-		@Override
-		public void onFileNotFoundException(FileNotFoundException e,
-				Object state) {
-			Log.d(TAG, "FileNotFoundException: " + e.getMessage());
-		}
-
-		@Override
-		public void onMalformedURLException(MalformedURLException e,
-				Object state) {
-			Log.d(TAG, "MalformedURLException: " + e.getMessage());
-		}
-
-		@Override
-		public void onFacebookError(FacebookError e, Object state) {
-			Log.d(TAG, "FacebookError: " + e.getMessage());
-		}
-
-	}
+  private AuthChooseAccountActivity _activity;
+  private Facebook _facebook = new Facebook("186287061500005");
+  private AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(_facebook);
+
+  private JSONObject _userInfo;
+
+  private FacebookAuthProvider() {
+  }
+
+  public FacebookAuthProvider(AuthChooseAccountActivity activity) {
+    _activity = activity;
+  }
+
+  private void setLastInfoResponse(JSONObject json) {
+    _userInfo = json;
+  }
+
+  @Override
+  public boolean isLoggedIn() {
+    if (_userInfo == null) {
+      return false;
+    }
+
+    FacebookVerifier verifier = new FacebookVerifier();
+    return verifier.verify(getAuthToken(), getVerifiedAccountIdentifier());
+
+    // return _facebook.isSessionValid();
+  }
+
+  @Override
+  public void login() {
+
+    _facebook.authorize(_activity, new String[] { "email" }, new DialogListener() {
+      @Override
+      public void onComplete(Bundle values) {
+        System.out.println("Facebook authorization completed, token: " + _facebook.getAccessToken()
+            + " valid until " + _facebook.getAccessExpires());
+        mAsyncRunner.request("me", new IDRequestListener()); // get user info
+                                                             // from facebook
+        _activity.modelChanged();
+        // TODO should lock UI here
+      }
+
+      @Override
+      public void onFacebookError(FacebookError error) {
+        System.out.println("Facebook platform error during authorization");
+      }
+
+      @Override
+      public void onError(DialogError e) {
+        System.out.println("Error with facebook authorization dialog");
+      }
+
+      @Override
+      public void onCancel() {
+        System.out.println("Facebook authorization dialog cancelled by user");
+      }
+    });
+
+  }
+
+  public Facebook getFacebookObject() {
+    return _facebook;
+  }
+
+  @Override
+  public void logout() {
+    try {
+      _facebook.logout(_activity);
+    } catch (MalformedURLException e) {
+      e.printStackTrace();
+    } catch (IOException e) {
+      e.printStackTrace();
+    }
+  }
+
+  @Override
+  public String getAccountType() {
+    return _facebook.getClass().toString();
+  }
+
+  @Override
+  public String getLocalAccountName() {
+    try {
+      return _userInfo.getString("name");
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+    return null;
+  }
+
+  @Override
+  public String getVerifiedAccountIdentifier() {
+    try {
+      return _userInfo.getString("email");
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+    return null;
+  }
+
+  @Override
+  public String getAuthToken() {
+    return _facebook.getAccessToken();
+  }
+
+  @Override
+  public void extendAccess() {
+    _facebook.extendAccessTokenIfNeeded(_activity, null);
+  }
+
+  private class IDRequestListener implements RequestListener {
+
+    private String TAG = "fbDemo";
+
+    @Override
+    public void onComplete(String response, Object state) {
+      try {
+
+        Log.d(TAG, "IDRequestONComplete");
+        Log.d(TAG, "Response: " + response.toString());
+        JSONObject json = Util.parseJson(response);
+        String userID = json.getString("id");
+        String userName = json.getString("name");
+        // fbEmail = json.getString("email");
+
+        System.out.println("Retrieved from Facebook userID[" + userID + "] username [" + userName
+            + "]");
+        setLastInfoResponse(json);
+        _activity.modelChanged();
+
+      } catch (JSONException e) {
+        Log.d(TAG, "JSONException: " + e.getMessage());
+      } catch (FacebookError e) {
+        Log.d(TAG, "FacebookError: " + e.getMessage());
+      }
+      // TODO Unlock UI here
+    }
+
+    @Override
+    public void onIOException(IOException e, Object state) {
+      Log.d(TAG, "IOException: " + e.getMessage());
+    }
+
+    @Override
+    public void onFileNotFoundException(FileNotFoundException e, Object state) {
+      Log.d(TAG, "FileNotFoundException: " + e.getMessage());
+    }
+
+    @Override
+    public void onMalformedURLException(MalformedURLException e, Object state) {
+      Log.d(TAG, "MalformedURLException: " + e.getMessage());
+    }
+
+    @Override
+    public void onFacebookError(FacebookError e, Object state) {
+      Log.d(TAG, "FacebookError: " + e.getMessage());
+    }
+
+  }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index bae6911..379edac 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -19,115 +19,104 @@ public class GoogleAuthProvider implements AuthProvider {
-	private final String ACCOUNT_TYPE_REQUESTED = "com.google";
-
-	private AuthChooseAccountActivity _activity;
-	private Bundle _currentGoogleLoginTokenBundle = null;
-	private JSONObject _currentAuthResult;
-	private boolean _confirmedAuthorizedGoogle;
-	private String _verifiedAccountName = null;
-
-	private GoogleAuthProvider() {
-	}
-
-	public GoogleAuthProvider(AuthChooseAccountActivity activity) {
-		_activity = activity;
-	}
-
-	@Override
-	public boolean isLoggedIn() {
-		return _confirmedAuthorizedGoogle;
-	}
-
-	@Override
-	public void login() {
-
-		System.out.println("Starting");
-		AccountManagerFuture<Bundle> bundleFuture = AccountManager.get(
-				_activity).getAuthTokenByFeatures(
-				ACCOUNT_TYPE_REQUESTED,
-				// "Manage your tasks"
-				// "https://www.googleapis.com/auth/userinfo.email"
-				// "https://www.googleapis.com/auth/userinfo.profile"
-				"oauth2:https://www.googleapis.com/auth/userinfo.email"
-				// "View your email address"
-				// "Steal all of your stuff"
-				, null, _activity, null, null,
-				new AccountManagerCallback<Bundle>() {
-
-					public void run(AccountManagerFuture<Bundle> future) {
-						System.out.println("AccountManagerCallback executing");
-						try {
-							_currentGoogleLoginTokenBundle = future.getResult();
-							System.out
-									.println("Received token bundle from AccountManagerCallback");
-						} catch (OperationCanceledException e) {
-							Log.e("e", e.getMessage(), e);
-							System.out
-									.println("User appears to have denied auth request");
-						} catch (AuthenticatorException e) {
-							Log.e("e", e.getMessage(), e);
-						} catch (IOException e) {
-							Log.e("e", e.getMessage(), e);
-						}
-
-						for (String s : _currentGoogleLoginTokenBundle.keySet()) {
-							System.out.println("Found key/value: "
-									+ s
-									+ "="
-									+ _currentGoogleLoginTokenBundle
-											.getString(s));
-						}
-
-						if (_currentGoogleLoginTokenBundle
-								.containsKey(AccountManager.KEY_INTENT)) {
-							throw new RuntimeException("Unexpected Code Path");
-							// TODO return to account selection or something...
-						}
-
-						GoogleAuthVerifier googleVerifier = new GoogleAuthVerifier();
-						_confirmedAuthorizedGoogle = 
-							googleVerifier.verify(_currentGoogleLoginTokenBundle.getString(AccountManager.KEY_AUTHTOKEN), getLocalAccountName());
-						_activity.modelChanged();
-					}
-				}, null);
-		System.out.println("Done with AccountManager call");
-	}
-	
-
-	@Override
-	public void logout() {
-		if (_currentGoogleLoginTokenBundle != null) {
-			AccountManager aMgr = AccountManager.get(_activity);
-			aMgr.invalidateAuthToken(getAccountType(), getAuthToken());
-		}
-
-		// Wipe login status
-		_currentGoogleLoginTokenBundle = null;
-		_confirmedAuthorizedGoogle = false; // Not authenticated
-		_verifiedAccountName = null;
-	}
-
-	public String getAuthToken() {
-		return _currentGoogleLoginTokenBundle
-				.getString(AccountManager.KEY_AUTHTOKEN);
-	}
-
-	public String getAccountType() {
-		return _currentGoogleLoginTokenBundle
-				.getString(AccountManager.KEY_ACCOUNT_TYPE);
-	}
-
-	public String getLocalAccountName() {
-		return _currentGoogleLoginTokenBundle
-				.getString(AccountManager.KEY_ACCOUNT_NAME);
-	}
-
-	@Override
-	public String getVerifiedAccountIdentifier() {
-		return _verifiedAccountName;
-	}
-
-	@Override
-	public void extendAccess() {
-
-		System.out
-				.println("Activity resumed.  Not sure if google auth token is automatically extended.");
-	}
+  private final String ACCOUNT_TYPE_REQUESTED = "com.google";
+
+  private AuthChooseAccountActivity _activity;
+  private Bundle _currentGoogleLoginTokenBundle = null;
+  private JSONObject _currentAuthResult;
+  private boolean _confirmedAuthorizedGoogle;
+  private String _verifiedAccountName = null;
+
+  private GoogleAuthProvider() {
+  }
+
+  public GoogleAuthProvider(AuthChooseAccountActivity activity) {
+    _activity = activity;
+  }
+
+  @Override
+  public boolean isLoggedIn() {
+    return _confirmedAuthorizedGoogle;
+  }
+
+  @Override
+  public void login() {
+
+    System.out.println("Starting");
+    AccountManagerFuture<Bundle> bundleFuture = AccountManager.get(_activity)
+        .getAuthTokenByFeatures(ACCOUNT_TYPE_REQUESTED,
+        // "Manage your tasks"
+        // "https://www.googleapis.com/auth/userinfo.email"
+        // "https://www.googleapis.com/auth/userinfo.profile"
+            "oauth2:https://www.googleapis.com/auth/userinfo.email"
+            // "View your email address"
+            // "Steal all of your stuff"
+            , null, _activity, null, null, new AccountManagerCallback<Bundle>() {
+
+              public void run(AccountManagerFuture<Bundle> future) {
+                System.out.println("AccountManagerCallback executing");
+                try {
+                  _currentGoogleLoginTokenBundle = future.getResult();
+                  System.out.println("Received token bundle from AccountManagerCallback");
+                } catch (OperationCanceledException e) {
+                  Log.e("e", e.getMessage(), e);
+                  System.out.println("User appears to have denied auth request");
+                } catch (AuthenticatorException e) {
+                  Log.e("e", e.getMessage(), e);
+                } catch (IOException e) {
+                  Log.e("e", e.getMessage(), e);
+                }
+
+                for (String s : _currentGoogleLoginTokenBundle.keySet()) {
+                  System.out.println("Found key/value: " + s + "="
+                      + _currentGoogleLoginTokenBundle.getString(s));
+                }
+
+                if (_currentGoogleLoginTokenBundle.containsKey(AccountManager.KEY_INTENT)) {
+                  throw new RuntimeException("Unexpected Code Path");
+                  // TODO return to account selection or something...
+                }
+
+                GoogleAuthVerifier googleVerifier = new GoogleAuthVerifier();
+                _confirmedAuthorizedGoogle = googleVerifier.verify(
+                    _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_AUTHTOKEN),
+                    getLocalAccountName());
+                _activity.modelChanged();
+              }
+            }, null);
+    System.out.println("Done with AccountManager call");
+  }
+
+  @Override
+  public void logout() {
+    if (_currentGoogleLoginTokenBundle != null) {
+      AccountManager aMgr = AccountManager.get(_activity);
+      aMgr.invalidateAuthToken(getAccountType(), getAuthToken());
+    }
+
+    // Wipe login status
+    _currentGoogleLoginTokenBundle = null;
+    _confirmedAuthorizedGoogle = false; // Not authenticated
+    _verifiedAccountName = null;
+  }
+
+  public String getAuthToken() {
+    return _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_AUTHTOKEN);
+  }
+
+  public String getAccountType() {
+    return _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_ACCOUNT_TYPE);
+  }
+
+  public String getLocalAccountName() {
+    return _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_ACCOUNT_NAME);
+  }
+
+  @Override
+  public String getVerifiedAccountIdentifier() {
+    return _verifiedAccountName;
+  }
+
+  @Override
+  public void extendAccess() {
+
+    System.out
+        .println("Activity resumed.  Not sure if google auth token is automatically extended.");
+  }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
index d591868..2066ad9 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
@@ -11,4 +11,4 @@ public class TwitterAuthDialogPresenter {
-	private Activity _activity;
-	private AlertDialog _alertDialog;
-	private String _requestTokenString;
-	private String _requestTokenVerifierString;
+  private Activity _activity;
+  private AlertDialog _alertDialog;
+  private String _requestTokenString;
+  private String _requestTokenVerifierString;
@@ -16,3 +16,3 @@ public class TwitterAuthDialogPresenter {
-	public TwitterAuthDialogPresenter(Activity activity) {
-		_activity = activity;
-	}
+  public TwitterAuthDialogPresenter(Activity activity) {
+    _activity = activity;
+  }
@@ -20,8 +20,5 @@ public class TwitterAuthDialogPresenter {
-	public void showDialog(String authUrl) {
-		Intent twitterAuthIntent = new Intent(_activity,
-				TwitterAuthWebpageActivity.class);
-		twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH,
-				authUrl);
-		_activity.startActivityForResult(twitterAuthIntent,
-				Constants.INTENT_REQ_TWITTER_LOGIN);
-	}
+  public void showDialog(String authUrl) {
+    Intent twitterAuthIntent = new Intent(_activity, TwitterAuthWebpageActivity.class);
+    twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH, authUrl);
+    _activity.startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
+  }
@@ -29,2 +26,2 @@ public class TwitterAuthDialogPresenter {
-	// Dialog implementation has been abandoned due to bugs in Android framework
-	// This class contributes nothing useful now.
+  // Dialog implementation has been abandoned due to bugs in Android framework
+  // This class contributes nothing useful now.
@@ -32,7 +29,7 @@ public class TwitterAuthDialogPresenter {
-	// AlertDialog.Builder builder;
-	// builder = new AlertDialog.Builder(_activity);
-	// LayoutInflater inflater = (LayoutInflater)
-	// _activity.getSystemService(_activity.LAYOUT_INFLATER_SERVICE);
-	// final View layout = inflater.inflate(R.layout.twitter_auth_dialog,
-	// (ViewGroup) _activity.findViewById(R.id.layout_root));
-	// builder.setView(layout);
+  // AlertDialog.Builder builder;
+  // builder = new AlertDialog.Builder(_activity);
+  // LayoutInflater inflater = (LayoutInflater)
+  // _activity.getSystemService(_activity.LAYOUT_INFLATER_SERVICE);
+  // final View layout = inflater.inflate(R.layout.twitter_auth_dialog,
+  // (ViewGroup) _activity.findViewById(R.id.layout_root));
+  // builder.setView(layout);
@@ -40 +37 @@ public class TwitterAuthDialogPresenter {
-	// _alertDialog = builder.create();
+  // _alertDialog = builder.create();
@@ -42,2 +39,2 @@ public class TwitterAuthDialogPresenter {
-	// ImageView close_dialog = (ImageView)
-	// layout.findViewById(R.id.imageView_custom_dialog_close);
+  // ImageView close_dialog = (ImageView)
+  // layout.findViewById(R.id.imageView_custom_dialog_close);
@@ -45,5 +42,5 @@ public class TwitterAuthDialogPresenter {
-	// close_dialog.setOnClickListener(new View.OnClickListener() {
-	// public void onClick(View v) {
-	// _alertDialog.dismiss();
-	// }
-	// });
+  // close_dialog.setOnClickListener(new View.OnClickListener() {
+  // public void onClick(View v) {
+  // _alertDialog.dismiss();
+  // }
+  // });
@@ -51,76 +48,75 @@ public class TwitterAuthDialogPresenter {
-	/*
-	 * final WebView webview = (WebView) layout.findViewById(R.id.webView1); //
-	 * webview = new WebView(this);
-	 * webview.getSettings().setJavaScriptEnabled(true);
-	 * webview.setVerticalScrollBarEnabled(false);
-	 * webview.setHorizontalScrollBarEnabled(false);
-	 * webview.setVisibility(View.VISIBLE);
-	 * 
-	 * System.out.println("webview requesting focus ("+ webview.hasFocus()+")");
-	 * webview.requestFocusFromTouch();
-	 * System.out.println("webview requested focus ("+ webview.hasFocus()+")");
-	 * 
-	 * webview.setOnTouchListener(new View.OnTouchListener() {
-	 * 
-	 * @Override public boolean onTouch(View v, MotionEvent event) { switch
-	 * (event.getAction()) { case MotionEvent.ACTION_DOWN:
-	 * System.out.println("MotionEvent Action Down"+ webview.hasFocus()); case
-	 * MotionEvent.ACTION_UP: System.out.println("MotionEvent Action Up"+
-	 * webview.hasFocus()); if (!v.hasFocus()) {
-	 * //webview.requestFocus(View.FOCUS_DOWN); v.requestFocusFromTouch(); }
-	 * 
-	 * if (v instanceof EditText) { System.out.println("EditText touched"); }
-	 * break; } return false; } });
-	 */
-	// webview.requestFocus(View.FOCUS_DOWN);
-	// webview.requestFocusFromTouch();
-	/*
-	 * webview.setWebViewClient(new WebViewClient() {
-	 * 
-	 * private boolean shown = false;
-	 * 
-	 * @Override public void onPageFinished(WebView view, String url) { if
-	 * (!shown) { System.out.println("onPageFinished showing dialog: " + url);
-	 * // _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
-	 * LayoutParams.FILL_PARENT); //todo try commenting this
-	 * 
-	 * //layout.requestFocus(View.FOCUS_DOWN);
-	 * 
-	 * 
-	 * //_alertDialog.show(); shown = true; _activity.setContentView(layout); }
-	 * }
-	 * 
-	 * @Override public void onPageStarted(WebView view, String url, Bitmap
-	 * favicon) { System.out.println("onPageStarted : " + url); Uri uri =
-	 * Uri.parse(url);
-	 * 
-	 * if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
-	 * System.out.println("Special callback URL was detected");
-	 * _requestTokenString = uri
-	 * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
-	 * _requestTokenVerifierString = uri
-	 * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
-	 * 
-	 * System.out.println("OAuth token: " + _requestTokenString);
-	 * System.out.println("OAuth verifier: " + _requestTokenVerifierString); //
-	 * webview.setVisibility(View.GONE); // webview.destroy();
-	 * _alertDialog.dismiss(); // maybe use OnCancelListener?
-	 * 
-	 * // todo MOVE OAUTH CODE
-	 * 
-	 * Verifier verifier = new Verifier(_requestTokenVerifierString); Token
-	 * accessToken = _service.getAccessToken(_requestToken, verifier); // the
-	 * requestToken you had from step 2 OAuthRequest request = new
-	 * OAuthRequest(Verb.GET,
-	 * "http://api.twitter.com/1/account/verify_credentials.xml" );
-	 * _service.signRequest(accessToken, request); // the access // token from
-	 * // step 4 Response response = request.send();
-	 * 
-	 * System.out.println(response.getBody());
-	 * 
-	 * } }
-	 * 
-	 * });
-	 */
-	// webview.requestFocus(View.FOCUS_DOWN);
-	// _alertDialog.show();
+  /*
+   * final WebView webview = (WebView) layout.findViewById(R.id.webView1); //
+   * webview = new WebView(this);
+   * webview.getSettings().setJavaScriptEnabled(true);
+   * webview.setVerticalScrollBarEnabled(false);
+   * webview.setHorizontalScrollBarEnabled(false);
+   * webview.setVisibility(View.VISIBLE);
+   * 
+   * System.out.println("webview requesting focus ("+ webview.hasFocus()+")");
+   * webview.requestFocusFromTouch();
+   * System.out.println("webview requested focus ("+ webview.hasFocus()+")");
+   * 
+   * webview.setOnTouchListener(new View.OnTouchListener() {
+   * 
+   * @Override public boolean onTouch(View v, MotionEvent event) { switch
+   * (event.getAction()) { case MotionEvent.ACTION_DOWN:
+   * System.out.println("MotionEvent Action Down"+ webview.hasFocus()); case
+   * MotionEvent.ACTION_UP: System.out.println("MotionEvent Action Up"+
+   * webview.hasFocus()); if (!v.hasFocus()) {
+   * //webview.requestFocus(View.FOCUS_DOWN); v.requestFocusFromTouch(); }
+   * 
+   * if (v instanceof EditText) { System.out.println("EditText touched"); }
+   * break; } return false; } });
+   */
+  // webview.requestFocus(View.FOCUS_DOWN);
+  // webview.requestFocusFromTouch();
+  /*
+   * webview.setWebViewClient(new WebViewClient() {
+   * 
+   * private boolean shown = false;
+   * 
+   * @Override public void onPageFinished(WebView view, String url) { if
+   * (!shown) { System.out.println("onPageFinished showing dialog: " + url); //
+   * _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
+   * LayoutParams.FILL_PARENT); //todo try commenting this
+   * 
+   * //layout.requestFocus(View.FOCUS_DOWN);
+   * 
+   * 
+   * //_alertDialog.show(); shown = true; _activity.setContentView(layout); } }
+   * 
+   * @Override public void onPageStarted(WebView view, String url, Bitmap
+   * favicon) { System.out.println("onPageStarted : " + url); Uri uri =
+   * Uri.parse(url);
+   * 
+   * if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
+   * System.out.println("Special callback URL was detected");
+   * _requestTokenString = uri
+   * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
+   * _requestTokenVerifierString = uri
+   * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
+   * 
+   * System.out.println("OAuth token: " + _requestTokenString);
+   * System.out.println("OAuth verifier: " + _requestTokenVerifierString); //
+   * webview.setVisibility(View.GONE); // webview.destroy();
+   * _alertDialog.dismiss(); // maybe use OnCancelListener?
+   * 
+   * // todo MOVE OAUTH CODE
+   * 
+   * Verifier verifier = new Verifier(_requestTokenVerifierString); Token
+   * accessToken = _service.getAccessToken(_requestToken, verifier); // the
+   * requestToken you had from step 2 OAuthRequest request = new
+   * OAuthRequest(Verb.GET,
+   * "http://api.twitter.com/1/account/verify_credentials.xml" );
+   * _service.signRequest(accessToken, request); // the access // token from //
+   * step 4 Response response = request.send();
+   * 
+   * System.out.println(response.getBody());
+   * 
+   * } }
+   * 
+   * });
+   */
+  // webview.requestFocus(View.FOCUS_DOWN);
+  // _alertDialog.show();
@@ -128 +124 @@ public class TwitterAuthDialogPresenter {
-	// webview.loadUrl(authUrl);
+  // webview.loadUrl(authUrl);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index ede25e9..12c7238 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -18,159 +18,153 @@ public class TwitterAuthProvider implements AuthProvider {
-	private AuthChooseAccountActivity _activity;
-
-	private TwitterAuthProviderOAuth _oAuthProvider;
-	private HashMap<String, String> _twitterAccountProperties  = new HashMap<String, String>();
-	private ArrayList<String> _twitterAccountPropertyNames;
-
-
-
-	// private String _key;
-	// private String _secret;
-	// Consumer key yit4Mu71Mj93eNILUo3uCw
-	// Consumer secret rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI
-
-	public TwitterAuthProvider(AuthChooseAccountActivity activity) {
-		_activity = activity;
-		_oAuthProvider = new TwitterAuthProviderOAuth(Constants.CONSUMER_KEY,
-				Constants.CONSUMER_SECRET, Constants.OAUTH_CALLBACK_URL);
-		_twitterAccountPropertyNames = new ArrayList<String>();
-		_twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_ID);
-		_twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_NAME);
-		_twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE);
-	}
-
-	// //This does work, although it launches the device browser directly
-	// @Override
-	// public void login() {
-	// try {
-	// CommonsHttpOAuthConsumer consumer = new CommonsHttpOAuthConsumer(_key,
-	// _secret);
-	// DefaultOAuthProvider provider = new
-	// DefaultOAuthProvider("https://twitter.com/oauth/request_token",
-	// "https://twitter.com/oauth/access_token",
-	// "https://twitter.com/oauth/authorize");
-	// String authUrl = provider.retrieveRequestToken(consumer,
-	// "http://callback_url"); //todo fix this
-	// Toast.makeText(_activity, "Please authorize this app!",
-	// Toast.LENGTH_LONG).show();
-	// //setConsumerProvider();
-	// _activity.startActivity(new Intent(Intent.ACTION_VIEW,
-	// Uri.parse(authUrl)));
-	// } catch (Exception e) {
-	// Toast.makeText(_activity, e.getMessage(), Toast.LENGTH_LONG).show();
-	// }
-	// }
-
-	// //Copied from library example page, this could not be made to work
-	// @Override
-	// public void login() {
-	// TwitterFactory factory = new TwitterFactory();
-	// Twitter twitter = factory.getInstance();
-	//
-	// RequestToken requestToken;
-	// try {
-	// twitter.setOAuthConsumer("_key", "_secret");
-	// requestToken = twitter.getOAuthRequestToken(); //throws TwitterException
-	// System.out.println("Open the following URL and grant access to your account:");
-	// System.out.println(requestToken.getAuthorizationURL());
-	//
-	//
-	// //twitter.setOAuthAccessToken(accessToken);
-	//
-	//
-	//
-	// } catch (TwitterException e) {
-	// // TODO Auto-generated catch block
-	// int statusCode = e.getStatusCode();
-	// String exceptionCode = e.getExceptionCode();
-	// String exceptionMessage = e.getMessage();
-	// e.printStackTrace();
-	// }
-	//
-	// }
-
-	@Override
-	public boolean isLoggedIn() {
-		
-		if (_twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE) == null) {
-			return false;
-		}
-		
-		TwitterVerifier verifier = new TwitterVerifier(_oAuthProvider.getAccessToken(), _oAuthProvider.getTokenSecret());
-		return verifier.verify("", _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE));
-		
-	}
-
-	@Override
-	public void login() {
-		String authReqTokenUrl = _oAuthProvider.getRequestTokenUrl();
-		TwitterAuthDialogPresenter twitterAuthDialog = new TwitterAuthDialogPresenter(_activity);
-		twitterAuthDialog.showDialog(authReqTokenUrl);
-
-	}
-
-	@Override
-	public void logout() {
-		_twitterAccountProperties.clear();
-	}
-
-	@Override
-	public String getAccountType() {
-		return "twitter (custom implementation)";
-	}
-
-	@Override
-	public String getLocalAccountName() {
-		return _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE) + "("
-				+ _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_NAME) + ")";
-	}
-
-	@Override
-	public String getVerifiedAccountIdentifier() {
-		// Not available through twitter
-		return _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_ID);
-	}
-
-	@Override
-	public String getAuthToken() {
-		return _oAuthProvider.getAccessToken();
-	}
-
-	@Override
-	public void extendAccess() {
-		// TODO Auto-generated method stub
-
-	}
-
-	public void requestTokenCallback(int requestCode, int resultCode,
-			Intent data) {
-		if (resultCode == Activity.RESULT_OK) {
-			String token = data
-					.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN);
-			String verifier = data
-					.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_VERIFIER);
-			_oAuthProvider.requestTokenResult(token, verifier);
-		}
-
-		
-		Response response = _oAuthProvider.accessResource(Verb.GET,
-				"http://api.twitter.com/1/account/verify_credentials.xml");
-		String responseBody = response.getBody();
-		// System.out.println(response.getBody());
-
-		_twitterAccountProperties.clear();
-
-		for (String s : _twitterAccountPropertyNames) {
-			_twitterAccountProperties.put(s,
-					Helper.readXmlProperty(s, responseBody));
-		}
-
-		// If data is meaningful, set logged in flag;
-		if (getLocalAccountName() != null
-				&& getVerifiedAccountIdentifier() != null) {
-		
-			System.out.println("Twitter Authentication Successful");
-			_activity.modelChanged();
-		} else {
-			System.out.println("Twitter Authentication was not successful");
-		}
-	}
+  private AuthChooseAccountActivity _activity;
+
+  private TwitterAuthProviderOAuth _oAuthProvider;
+  private HashMap<String, String> _twitterAccountProperties = new HashMap<String, String>();
+  private ArrayList<String> _twitterAccountPropertyNames;
+
+  // private String _key;
+  // private String _secret;
+  // Consumer key yit4Mu71Mj93eNILUo3uCw
+  // Consumer secret rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI
+
+  public TwitterAuthProvider(AuthChooseAccountActivity activity) {
+    _activity = activity;
+    _oAuthProvider = new TwitterAuthProviderOAuth(Constants.CONSUMER_KEY,
+        Constants.CONSUMER_SECRET, Constants.OAUTH_CALLBACK_URL);
+    _twitterAccountPropertyNames = new ArrayList<String>();
+    _twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_ID);
+    _twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_NAME);
+    _twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE);
+  }
+
+  // //This does work, although it launches the device browser directly
+  // @Override
+  // public void login() {
+  // try {
+  // CommonsHttpOAuthConsumer consumer = new CommonsHttpOAuthConsumer(_key,
+  // _secret);
+  // DefaultOAuthProvider provider = new
+  // DefaultOAuthProvider("https://twitter.com/oauth/request_token",
+  // "https://twitter.com/oauth/access_token",
+  // "https://twitter.com/oauth/authorize");
+  // String authUrl = provider.retrieveRequestToken(consumer,
+  // "http://callback_url"); //todo fix this
+  // Toast.makeText(_activity, "Please authorize this app!",
+  // Toast.LENGTH_LONG).show();
+  // //setConsumerProvider();
+  // _activity.startActivity(new Intent(Intent.ACTION_VIEW,
+  // Uri.parse(authUrl)));
+  // } catch (Exception e) {
+  // Toast.makeText(_activity, e.getMessage(), Toast.LENGTH_LONG).show();
+  // }
+  // }
+
+  // //Copied from library example page, this could not be made to work
+  // @Override
+  // public void login() {
+  // TwitterFactory factory = new TwitterFactory();
+  // Twitter twitter = factory.getInstance();
+  //
+  // RequestToken requestToken;
+  // try {
+  // twitter.setOAuthConsumer("_key", "_secret");
+  // requestToken = twitter.getOAuthRequestToken(); //throws TwitterException
+  // System.out.println("Open the following URL and grant access to your account:");
+  // System.out.println(requestToken.getAuthorizationURL());
+  //
+  //
+  // //twitter.setOAuthAccessToken(accessToken);
+  //
+  //
+  //
+  // } catch (TwitterException e) {
+  // // TODO Auto-generated catch block
+  // int statusCode = e.getStatusCode();
+  // String exceptionCode = e.getExceptionCode();
+  // String exceptionMessage = e.getMessage();
+  // e.printStackTrace();
+  // }
+  //
+  // }
+
+  @Override
+  public boolean isLoggedIn() {
+
+    if (_twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE) == null) {
+      return false;
+    }
+
+    TwitterVerifier verifier = new TwitterVerifier(_oAuthProvider.getAccessToken(),
+        _oAuthProvider.getTokenSecret());
+    return verifier.verify("",
+        _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE));
+
+  }
+
+  @Override
+  public void login() {
+    String authReqTokenUrl = _oAuthProvider.getRequestTokenUrl();
+    TwitterAuthDialogPresenter twitterAuthDialog = new TwitterAuthDialogPresenter(_activity);
+    twitterAuthDialog.showDialog(authReqTokenUrl);
+
+  }
+
+  @Override
+  public void logout() {
+    _twitterAccountProperties.clear();
+  }
+
+  @Override
+  public String getAccountType() {
+    return "twitter (custom implementation)";
+  }
+
+  @Override
+  public String getLocalAccountName() {
+    return _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE) + "("
+        + _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_NAME) + ")";
+  }
+
+  @Override
+  public String getVerifiedAccountIdentifier() {
+    // Not available through twitter
+    return _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_ID);
+  }
+
+  @Override
+  public String getAuthToken() {
+    return _oAuthProvider.getAccessToken();
+  }
+
+  @Override
+  public void extendAccess() {
+    // TODO Auto-generated method stub
+
+  }
+
+  public void requestTokenCallback(int requestCode, int resultCode, Intent data) {
+    if (resultCode == Activity.RESULT_OK) {
+      String token = data.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN);
+      String verifier = data.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_VERIFIER);
+      _oAuthProvider.requestTokenResult(token, verifier);
+    }
+
+    Response response = _oAuthProvider.accessResource(Verb.GET,
+        "http://api.twitter.com/1/account/verify_credentials.xml");
+    String responseBody = response.getBody();
+    // System.out.println(response.getBody());
+
+    _twitterAccountProperties.clear();
+
+    for (String s : _twitterAccountPropertyNames) {
+      _twitterAccountProperties.put(s, Helper.readXmlProperty(s, responseBody));
+    }
+
+    // If data is meaningful, set logged in flag;
+    if (getLocalAccountName() != null && getVerifiedAccountIdentifier() != null) {
+
+      System.out.println("Twitter Authentication Successful");
+      _activity.modelChanged();
+    } else {
+      System.out.println("Twitter Authentication was not successful");
+    }
+  }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
index 7470342..2feae69 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
@@ -18,91 +18,86 @@ public class TwitterAuthWebpageActivity extends Activity {
-	@Override
-	protected void onCreate(Bundle savedInstanceState) {
-		super.onCreate(savedInstanceState);
-		setContentView(R.layout.twitter_auth_dialog);
-
-		Intent callingIntent = getIntent();
-		String authUrl = callingIntent
-				.getStringExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH);
-
-		ImageView close_dialog = (ImageView) findViewById(R.id.imageView_custom_dialog_close);
-
-		close_dialog.setOnClickListener(new View.OnClickListener() {
-			public void onClick(View v) {
-				setResult(Activity.RESULT_CANCELED);
-				finish();
-			}
-		});
-
-		WebView webview = (WebView) findViewById(R.id.webView1);
-		// webview = new WebView(this);
-		webview.getSettings().setJavaScriptEnabled(true);
-		webview.setVerticalScrollBarEnabled(false);
-		webview.setHorizontalScrollBarEnabled(false);
-		webview.setVisibility(View.VISIBLE);
-
-		// System.out.println("webview requesting focus ("+
-		// webview.hasFocus()+")");
-		// webview.requestFocusFromTouch();
-		// System.out.println("webview requested focus ("+
-		// webview.hasFocus()+")");
-
-		webview.setWebViewClient(new WebViewClient() {
-
-			private boolean shown = false;
-			private String _requestTokenString;
-			private String _requestTokenVerifierString;
-
-			@Override
-			public void onPageFinished(WebView view, String url) {
-				// if (!shown) {
-				System.out.println("onPageFinished showing dialog: " + url);
-				// _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
-				// LayoutParams.FILL_PARENT); //todo try commenting this
-
-				// _alertDialog.show();
-				// shown = true;
-				// _activity.setContentView(layout);
-				// }
-			}
-
-			@Override
-			public void onPageStarted(WebView view, String url, Bitmap favicon) {
-				System.out.println("onPageStarted : " + url);
-				Uri uri = Uri.parse(url);
-
-				if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
-					System.out.println("Special callback URL was detected");
-					_requestTokenString = uri
-							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
-					_requestTokenVerifierString = uri
-							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
-
-					System.out.println("OAuth token: " + _requestTokenString);
-					System.out.println("OAuth verifier: "
-							+ _requestTokenVerifierString);
-					// webview.setVisibility(View.GONE);
-					// webview.destroy();
-
-					Intent resultIntent = new Intent();
-					resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN,
-							_requestTokenString);
-					resultIntent.putExtra(
-							Constants.INTENT_EXTRA_OAUTH1_VERIFIER,
-							_requestTokenVerifierString);
-					setResult(RESULT_OK, resultIntent);
-					finish();
-
-				}
-			}
-			
-		});
-		// webview.requestFocus(View.FOCUS_DOWN);
-		// _alertDialog.show();
-		webview.loadUrl(authUrl);
-	}
-
-	@Override
-	protected void onResume() {
-		// TODO Auto-generated method stub
-		super.onResume();
-	}
+  @Override
+  protected void onCreate(Bundle savedInstanceState) {
+    super.onCreate(savedInstanceState);
+    setContentView(R.layout.twitter_auth_dialog);
+
+    Intent callingIntent = getIntent();
+    String authUrl = callingIntent.getStringExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH);
+
+    ImageView close_dialog = (ImageView) findViewById(R.id.imageView_custom_dialog_close);
+
+    close_dialog.setOnClickListener(new View.OnClickListener() {
+      public void onClick(View v) {
+        setResult(Activity.RESULT_CANCELED);
+        finish();
+      }
+    });
+
+    WebView webview = (WebView) findViewById(R.id.webView1);
+    // webview = new WebView(this);
+    webview.getSettings().setJavaScriptEnabled(true);
+    webview.setVerticalScrollBarEnabled(false);
+    webview.setHorizontalScrollBarEnabled(false);
+    webview.setVisibility(View.VISIBLE);
+
+    // System.out.println("webview requesting focus ("+
+    // webview.hasFocus()+")");
+    // webview.requestFocusFromTouch();
+    // System.out.println("webview requested focus ("+
+    // webview.hasFocus()+")");
+
+    webview.setWebViewClient(new WebViewClient() {
+
+      private boolean shown = false;
+      private String _requestTokenString;
+      private String _requestTokenVerifierString;
+
+      @Override
+      public void onPageFinished(WebView view, String url) {
+        // if (!shown) {
+        System.out.println("onPageFinished showing dialog: " + url);
+        // _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
+        // LayoutParams.FILL_PARENT); //todo try commenting this
+
+        // _alertDialog.show();
+        // shown = true;
+        // _activity.setContentView(layout);
+        // }
+      }
+
+      @Override
+      public void onPageStarted(WebView view, String url, Bitmap favicon) {
+        System.out.println("onPageStarted : " + url);
+        Uri uri = Uri.parse(url);
+
+        if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
+          System.out.println("Special callback URL was detected");
+          _requestTokenString = uri.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
+          _requestTokenVerifierString = uri
+              .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
+
+          System.out.println("OAuth token: " + _requestTokenString);
+          System.out.println("OAuth verifier: " + _requestTokenVerifierString);
+          // webview.setVisibility(View.GONE);
+          // webview.destroy();
+
+          Intent resultIntent = new Intent();
+          resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN, _requestTokenString);
+          resultIntent
+              .putExtra(Constants.INTENT_EXTRA_OAUTH1_VERIFIER, _requestTokenVerifierString);
+          setResult(RESULT_OK, resultIntent);
+          finish();
+
+        }
+      }
+
+    });
+    // webview.requestFocus(View.FOCUS_DOWN);
+    // _alertDialog.show();
+    webview.loadUrl(authUrl);
+  }
+
+  @Override
+  protected void onResume() {
+    // TODO Auto-generated method stub
+    super.onResume();
+  }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomPair.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomPair.java
index a1e3c83..c3797fe 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomPair.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomPair.java
@@ -7 +7 @@ public class CustomPair<firstType, secondType> {
-  
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
index ffc68d7..c1e1991 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
@@ -122 +122 @@ public class CustomSetListAdapter implements ListAdapter {
-    	//Important to avoid crashes
+      // Important to avoid crashes
@@ -162 +162 @@ public class CustomSetListAdapter implements ListAdapter {
-      
+
@@ -165,2 +165,2 @@ public class CustomSetListAdapter implements ListAdapter {
-    	  myNote = ratingsObjWk1.get(LollapaloozerActivity.QUERY_RATINGS__NOTES).toString();
-    	  LollapaloozerHelper.debug(_context, "Found note: "+ myNote);
+        myNote = ratingsObjWk1.get(LollapaloozerActivity.QUERY_RATINGS__NOTES).toString();
+        LollapaloozerHelper.debug(_context, "Found note: " + myNote);
@@ -168 +168 @@ public class CustomSetListAdapter implements ListAdapter {
-       
+
@@ -170,7 +170,7 @@ public class CustomSetListAdapter implements ListAdapter {
-    	  holder.myComment.setVisibility(View.GONE);
-      } else {	  
-    	  if (myNote.length() > Constants.DATA_NOTE_VISIBLE_MAX_LENGTH) {
-    		  myNote = myNote.substring(0, Constants.DATA_NOTE_VISIBLE_MAX_LENGTH) + "...";
-    	  }
-    	  holder.myComment.setText(myNote);
-    	  holder.myComment.setVisibility(View.VISIBLE);
+        holder.myComment.setVisibility(View.GONE);
+      } else {
+        if (myNote.length() > Constants.DATA_NOTE_VISIBLE_MAX_LENGTH) {
+          myNote = myNote.substring(0, Constants.DATA_NOTE_VISIBLE_MAX_LENGTH) + "...";
+        }
+        holder.myComment.setText(myNote);
+        holder.myComment.setVisibility(View.VISIBLE);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/FakeDataSource.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/FakeDataSource.java
index ea3f6d9..be66fa4 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/FakeDataSource.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/FakeDataSource.java
@@ -8 +8 @@ public class FakeDataSource {
-  
+
@@ -12 +12 @@ public class FakeDataSource {
-    }
+  }
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/JSONArrayHashMap.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/JSONArrayHashMap.java
index b8754d4..d0ed047 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/JSONArrayHashMap.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/JSONArrayHashMap.java
@@ -15,2 +15 @@ public class JSONArrayHashMap {
-  
-  //TODO: Could be expanded to operate with an arbitrary number of keys
+  // TODO: Could be expanded to operate with an arbitrary number of keys
@@ -33 +32 @@ public class JSONArrayHashMap {
-  
+
@@ -45 +44 @@ public class JSONArrayHashMap {
-  
+
@@ -47 +46 @@ public class JSONArrayHashMap {
-  throws JSONException {
+      throws JSONException {
@@ -57 +56 @@ public class JSONArrayHashMap {
-  
+
@@ -71,2 +69,0 @@ public class JSONArrayHashMap {
-
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/JSONArraySortMap.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/JSONArraySortMap.java
index 1c26f98..a443e11 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/JSONArraySortMap.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/JSONArraySortMap.java
@@ -11,3 +10,0 @@ import org.json.JSONObject;
-
-
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
index 31015fe..2ddecdd 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
@@ -19 +19 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-  
+
@@ -25,4 +25,4 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-      super.onCreate(savedInstanceState);
-  
-      LollapaloozerHelper.debug(this, "Search Sets Activity Launched");
-      this.initializeApp();
+    super.onCreate(savedInstanceState);
+
+    LollapaloozerHelper.debug(this, "Search Sets Activity Launched");
+    this.initializeApp();
@@ -30,2 +30 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-  
-  
+
@@ -34 +33 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-    
+
@@ -42,2 +41 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        LollapaloozerHelper.debug(parent.getContext(),
-            "Day Selected: " + parent.getSelectedItem());
+        LollapaloozerHelper.debug(parent.getContext(), "Day Selected: " + parent.getSelectedItem());
@@ -45 +43 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        
+
@@ -71 +69 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-  
+
@@ -90 +88 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        
+
@@ -103,3 +100,0 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-  
-  
-  
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index bbbccab..f31a978 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -45,14 +45,2 @@ import com.ratethisfest.shared.FieldVerifier;
-public class LollapaloozerActivity extends Activity implements
-		View.OnClickListener, OnItemSelectedListener, OnItemClickListener,
-		OnCheckedChangeListener {
-
-	private static final int DIALOG_RATE = 1;
-	private static final int DIALOG_GETEMAIL = 2;
-	private static final int DIALOG_NETWORK_ERROR = 3;
-	private static final int DIALOG_FIRST_USE = 4;
-
-	private static final int THREAD_UPDATE_UI = 1;
-	private static final int THREAD_SUBMIT_RATING = 2;
-
-	private static final int SORT_TIME = 1;
-	private static final int SORT_ARTIST = 2;
+public class LollapaloozerActivity extends Activity implements View.OnClickListener,
+    OnItemSelectedListener, OnItemClickListener, OnCheckedChangeListener {
@@ -60,5 +48,4 @@ public class LollapaloozerActivity extends Activity implements
-	// Local Storage
-	private static final String DATA_USER_EMAIL = "DATA_USER_EMAIL";
-	private static final String DATA_SETS = "DATA_SETS";
-	private static final String DATA_RATINGS = "DATA_RATINGS";
-	private static final String DATA_FIRST_USE = "DATA_FIRST_USE";
+  private static final int DIALOG_RATE = 1;
+  private static final int DIALOG_GETEMAIL = 2;
+  private static final int DIALOG_NETWORK_ERROR = 3;
+  private static final int DIALOG_FIRST_USE = 4;
@@ -66,9 +53,2 @@ public class LollapaloozerActivity extends Activity implements
-	// Database
-	public static final String QUERY_RATINGS__SET_ID = "set_id";
-	public static final String QUERY_RATINGS__WEEK = "weekend";
-	public static final String QUERY_SETS__SET_ID = "id";
-	public static final String QUERY_SETS__DAY = "day";
-	public static final String QUERY_SETS__TIME_ONE = "time_one";
-	public static final String QUERY_SETS__STAGE_ONE = "stage_one";
-	public static final String QUERY_RATINGS__RATING = "score";
-	public static final String QUERY_RATINGS__NOTES = "notes";
+  private static final int THREAD_UPDATE_UI = 1;
+  private static final int THREAD_SUBMIT_RATING = 2;
@@ -76,112 +56,2 @@ public class LollapaloozerActivity extends Activity implements
-	private static final int REFRESH_INTERVAL__SECONDS = 15;
-
-	private int _yearToQuery;
-	private String _dayToExamine;
-	private int _sortMode;
-	private long _lastRefresh = 0;
-
-	private String _timeFieldName;
-	private String _stageFieldName;
-
-	private Dialog _rateDialog;
-	private Dialog _getEmailDialog;
-	private Dialog _networkErrorDialog;
-	private Dialog _firstUseDialog;
-
-	private String _obtained_email = null;
-	private CustomSetListAdapter _setListAdapter;
-	private JSONObject _lastItemSelected;
-	// private CustomPair<String, String> _lastRatings = new CustomPair<String,
-	// String>(
-	// null, null);
-
-	private JSONObject _lastRatings;
-
-	private HashMap<Integer, Integer> _ratingSelectedIdToValue = new HashMap<Integer, Integer>();
-	private HashMap<String, Integer> _ratingSelectedScoreToId = new HashMap<String, Integer>();
-
-	private LollapaloozerStorageManager _storageManager;
-	private int _ratingSelectedScore;
-
-	private JSONArrayHashMap _myRatings_JAHM = new JSONArrayHashMap(
-			QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
-	private boolean _networkErrors;
-
-	private Handler _networkIOHandler;
-
-	/** Called by Android Framework when the activity is first created. */
-
-	@Override
-	public void onCreate(Bundle savedInstanceState) {
-		super.onCreate(savedInstanceState);
-
-		LollapaloozerHelper.debug(this, "LollapaloozerActivity Launched");
-
-		_ratingSelectedIdToValue.put(R.id.radio_button_score1, 1);
-		_ratingSelectedIdToValue.put(R.id.radio_button_score2, 2);
-		_ratingSelectedIdToValue.put(R.id.radio_button_score3, 3);
-		_ratingSelectedIdToValue.put(R.id.radio_button_score4, 4);
-		_ratingSelectedIdToValue.put(R.id.radio_button_score5, 5);
-
-		_ratingSelectedScoreToId.put("1", R.id.radio_button_score1);
-		_ratingSelectedScoreToId.put("2", R.id.radio_button_score2);
-		_ratingSelectedScoreToId.put("3", R.id.radio_button_score3);
-		_ratingSelectedScoreToId.put("4", R.id.radio_button_score4);
-		_ratingSelectedScoreToId.put("5", R.id.radio_button_score5);
-
-		_storageManager = new LollapaloozerStorageManager(this);
-		_storageManager.load();
-
-		// initJAHM(); //Only initialized once
-
-		setContentView(R.layout.sets_list);
-		_setListAdapter = new CustomSetListAdapter(this, QUERY_SETS__TIME_ONE,
-				QUERY_SETS__STAGE_ONE, _myRatings_JAHM);
-		_setListAdapter.setData(new JSONArray());
-
-		ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-		viewSetsList.setAdapter(_setListAdapter);
-		viewSetsList.setOnItemClickListener(this);
-
-		Button buttonSearchSets = (Button) this
-				.findViewById(R.id.buttonChangeToSearchSets);
-		buttonSearchSets.setOnClickListener(this);
-
-		Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
-		LollapaloozerHelper.populateSpinnerWithArray(spinnerSortType,
-				R.array.search_types);
-		spinnerSortType.setOnItemSelectedListener(this);
-
-		_yearToQuery = LollapaloozerHelper.whatYearIsToday();
-		_dayToExamine = LollapaloozerHelper.whatDayIsToday();
-		_sortMode = SORT_TIME;
-
-		// Above here is stuff to be done once
-
-		_networkIOHandler = new Handler() {
-			@Override
-			public void handleMessage(Message msg) {
-
-				super.handleMessage(msg);
-
-				if (msg.what == THREAD_UPDATE_UI) {
-					System.out.println("Executing update UI thread callback ");
-					redrawUI();
-				}
-
-				if (msg.what == THREAD_SUBMIT_RATING) {
-					System.out
-							.println("Executing submit rating thread callback ");
-					String lastNote = "";
-					
-					try {
-						if (_lastRatings.has(QUERY_RATINGS__NOTES)) {
-							lastNote = _lastRatings.getString(QUERY_RATINGS__NOTES);
-						}
-							doSubmitRating(_lastRatings.get(QUERY_RATINGS__RATING)+"", lastNote);
-					} catch (JSONException e) {
-						// TODO Auto-generated catch block
-						e.printStackTrace();
-					}
-				}
-			}
+  private static final int SORT_TIME = 1;
+  private static final int SORT_ARTIST = 2;
@@ -189 +59,5 @@ public class LollapaloozerActivity extends Activity implements
-		};
+  // Local Storage
+  private static final String DATA_USER_EMAIL = "DATA_USER_EMAIL";
+  private static final String DATA_SETS = "DATA_SETS";
+  private static final String DATA_RATINGS = "DATA_RATINGS";
+  private static final String DATA_FIRST_USE = "DATA_FIRST_USE";
@@ -191,698 +65,9 @@ public class LollapaloozerActivity extends Activity implements
-		processExtraData();
-
-	}
-
-	protected void redrawUI() {
-		try {
-			setView_reSort();
-
-		} catch (JSONException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-
-		ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-		viewSetsList.invalidateViews();
-
-		LollapaloozerHelper.debug(this, "Data Refresh is complete");
-		_lastRefresh = System.currentTimeMillis();
-
-		if (!_networkErrors) {
-			_storageManager.save(); // TODO only if both sets and ratings were
-									// retrieved
-
-		} else {
-			showDialog(DIALOG_NETWORK_ERROR);
-		}
-	}
-
-	/** Called by Android Framework when activity (re)gains foreground status */
-	public void onResume() {
-		super.onResume();
-
-		String firstUse = _storageManager.getString("DATA_FIRST_USE");
-		if (firstUse == null || firstUse.equals("true")) {
-			showDialog(DIALOG_FIRST_USE);
-		} else {
-			_showClickToRate();
-		}
-
-		if ((System.currentTimeMillis() - _lastRefresh) / 1000 > REFRESH_INTERVAL__SECONDS) {
-			refreshData(); // TODO multi-thread this
-		}
-
-	}
-
-	private void _showClickToRate() {
-		Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 20);
-		clickToRate.show();
-	}
-
-	private void obtainEmailFromStorage() {
-		String loadedEmail = _storageManager.getString(DATA_USER_EMAIL);
-
-		if ((loadedEmail != null) && FieldVerifier.isValidEmail(loadedEmail)) {
-			_obtained_email = loadedEmail;
-		}
-
-		LollapaloozerHelper.debug(this, "Using email: " + _obtained_email
-				+ ", on disk:[" + loadedEmail + "]");
-
-	}
-
-	// Only called once, so commented out.
-	/*
-	 * private void initJAHM() { LollapaloozerHelper.debug(this, "initJAHM()");
-	 * _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID,
-	 * QUERY_RATINGS__WEEK); }
-	 */
-
-	private void refreshData() {
-		// Below here is stuff to be done each refresh
-		_networkErrors = false;
-
-		if (!_dayToExamine.equals("Friday")
-				&& !_dayToExamine.equals("Saturday")
-				&& !_dayToExamine.equals("Sunday")) {
-			_dayToExamine = "Friday";
-		}
-
-		_timeFieldName = QUERY_SETS__TIME_ONE;
-		_stageFieldName = QUERY_SETS__STAGE_ONE;
-
-		TextView titleView = (TextView) this
-				.findViewById(R.id.text_set_list_title);
-		titleView.setText(_dayToExamine + ", Lollapalooza " + _yearToQuery);
-		// +" "+ weekString);
-		_setListAdapter.setTimeFieldName(_timeFieldName);
-		_setListAdapter.setStageFieldName(_stageFieldName);
-
-		obtainEmailFromStorage();
-
-		launchGetDataThread(); // TODO multithread this
-	}
-
-	private void launchGetDataThread() {
-		LollapaloozerHelper.debug(this, "Launching getData thread");
-
-		new Thread() {
-			public void run() {
-				try {
-					doNetworkOperations();
-				} catch (JSONException e) {
-					// TODO Auto-generated catch block
-					e.printStackTrace();
-				}
-				_networkIOHandler.sendEmptyMessage(THREAD_UPDATE_UI);
-			}
-		}.start();
-		LollapaloozerHelper.debug(this, "getData thread launched");
-	}
-
-	private void launchSubmitRatingThread() {
-		LollapaloozerHelper.debug(this, "Launching Rating thread");
-
-		new Thread() {
-			public void run() {
-				try {
-					doNetworkOperations();
-				} catch (JSONException e) {
-					// TODO Auto-generated catch block
-					e.printStackTrace();
-				}
-				Message msgToSend = Message.obtain(_networkIOHandler,
-						THREAD_SUBMIT_RATING);
-				msgToSend.sendToTarget();
-			}
-		}.start();
-		LollapaloozerHelper.debug(this, "Rating thread launched");
-
-	}
-
-	public void doNetworkOperations() throws JSONException {
-
-		LollapaloozerHelper.debug(this, "rebuildJAHM()");
-		if (_isLoggedIn()) { // Get my ratings
-
-			JSONArray myRatings = null;
-			try {
-				// TODO: year can remain hardcoded for now (to force users to
-				// update app
-				// in future)
-				myRatings = LollapaloozerServiceUtils.getRatings(
-						_obtained_email, "2012", _dayToExamine, this);
-				_storageManager.putJSONArray(DATA_RATINGS, myRatings);
-			} catch (Exception e1) {
-				_networkErrors = true;
-				LollapaloozerHelper
-						.debug(this,
-								"Exception getting Ratings data, loading from storage if available");
-				try {
-					myRatings = _storageManager.getJSONArray(DATA_RATINGS);
-				} catch (JSONException e) {
-					e.printStackTrace();
-					LollapaloozerHelper.debug(this,
-							"JSONException loading ratings from storage");
-				}
-			}
-
-			try {
-				// TODO this may not be correct. JAHM should only be initialized
-				// once.
-				// _myRatings_JAHM = new JSONArrayHashMap(myRatings,
-				// QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
-
-				if (myRatings == null) {
-					LollapaloozerHelper.debug(this,
-							"Had to initialize ratings data JSONArray");
-					myRatings = new JSONArray();
-				}
-
-				_myRatings_JAHM.rebuildDataWith(myRatings);
-
-			} catch (JSONException e) {
-				// TODO Auto-generated catch block
-				// Could not get my ratings :(
-				e.printStackTrace();
-			}
-		} else {
-			// TODO This may not be correct. initJAHM() may have already been
-			// called
-			// on startup and
-			// TODO the reference to the JAHM may have been passed to the
-			// adapter
-			// already
-			// initJAHM(); //Commented in hope of addressing crash issue
-
-			// Need to wipe out ratings if email was just deleted
-			_myRatings_JAHM.wipeData();
-		}
-
-		// New strategy does not re-instantiate this object, this line should
-		// not be
-		// needed
-		// _setListAdapter.setNewJAHM(_myRatings_JAHM);
-
-		JSONArray setData = null;
-		try {
-			// TODO: pass proper values (year can remain hard-coded for now)
-			setData = LollapaloozerServiceUtils.getSets("2012", _dayToExamine,
-					this);
-			_storageManager.putJSONArray(DATA_SETS, setData);
-		} catch (Exception e) {
-			_networkErrors = true;
-			LollapaloozerHelper
-					.debug(this,
-							"Exception getting Set data, loading from storage if available");
-			setData = _storageManager.getJSONArray(DATA_SETS);
-		}
-
-		if (setData == null) {
-			LollapaloozerHelper.debug(this,
-					"Had to initialize set data JSONArray");
-			setData = new JSONArray();
-		}
-		_setListAdapter.setData(setData);
-	}
-
-	public void doSubmitRating(String scoreSelectedValue, String notes) {
-		// submit rating
-		// If Exception is thrown, do not store rating locally
-		try {
-			String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) +"";
-			
-
-			LollapaloozerServiceUtils.addRating(
-					_storageManager.getString(DATA_USER_EMAIL), set_id,
-					scoreSelectedValue, notes, this);
-
-			// Need this in order to make the new rating appear in real time
-
-			try {
-				// CRITICAL that the keys are listed in this order
-				_myRatings_JAHM.addValues(QUERY_RATINGS__SET_ID,
-						QUERY_RATINGS__WEEK, _lastRatings);
-
-				// Don't need since we are refreshing
-				// ListView viewSetsList = (ListView)
-				// findViewById(R.id.viewSetsList);
-				// viewSetsList.invalidateViews();
-
-			} catch (JSONException e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-
-			refreshData(); // If this is removed, uncomment ListView and
-							// invalidate
-							// above ^^^
-
-		} catch (Exception e1) {
-			LollapaloozerHelper.debug(this, "Error submitting rating");
-			e1.printStackTrace();
-			showDialog(DIALOG_NETWORK_ERROR);
-		}
-	}
-
-	// An item was selected from the list of sets
-	@Override
-	public void onItemSelected(AdapterView<?> parent, View arg1, int arg2,
-			long arg3) {
-
-		// TODO Auto-generated method stub
-		LollapaloozerHelper.debug(this, "Search Type Spinner: Selected -> "
-				+ parent.getSelectedItem() + "(" + arg2 + ")");
-		ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-
-		try {
-			if (parent.getSelectedItem().toString().toLowerCase()
-					.equals("time")) {
-				_sortMode = SORT_TIME;
-
-			} else if (parent.getSelectedItem().toString().toLowerCase()
-					.equals("artist")) {
-				_sortMode = SORT_ARTIST;
-			}
-
-			setView_reSort();
-			viewSetsList.invalidateViews();
-		} catch (JSONException e) {
-			LollapaloozerHelper.debug(this, "JSONException re-sorting data");
-			e.printStackTrace();
-		}
-	}
-
-	private void setView_reSort() throws JSONException {
-		if (_sortMode == SORT_TIME) {
-			_setListAdapter.sortByField(_timeFieldName,
-					JSONArraySortMap.VALUE_INTEGER);
-		} else if (_sortMode == SORT_ARTIST) {
-			_setListAdapter
-					.sortByField("artist", JSONArraySortMap.VALUE_STRING);
-		} else {
-			LollapaloozerHelper.debug(this, "Unexpected sort mode: "
-					+ _sortMode);
-			(new Exception()).printStackTrace();
-		}
-	}
-
-	@Override
-	public void onNothingSelected(AdapterView<?> arg0) {
-		LollapaloozerHelper
-				.debug(this, "Search Type Spinner: Nothing Selected");
-		Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
-		spinnerSortType.setSelection(0);
-	}
-
-	// Any button in any view or dialog was clicked
-	@Override
-	public void onClick(View viewClicked) {
-
-		// OK clicked on first use dialog
-		if (viewClicked.getId() == R.id.button_firstuse_ok) {
-			_storageManager.putString(DATA_FIRST_USE, false + "");
-			_storageManager.save();
-			_firstUseDialog.dismiss();
-			_showClickToRate(); // display 'tap set to rate it' toast
-		}
-
-		// "OK" clicked to submit email address
-		if (viewClicked.getId() == R.id.button_provideEmail) {
-			EditText emailField = (EditText) _getEmailDialog
-					.findViewById(R.id.textField_enterEmail);
-			String email = emailField.getText().toString();
-
-			LollapaloozerHelper.debug(this, "User provided email address: "
-					+ email);
-
-			// if
-			// (!android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
-			if (!FieldVerifier.isValidEmail(email)) {
-				Toast invalidEmail = Toast.makeText(this,
-						"Please enter your real email address.", 25);
-				invalidEmail.show();
-
-			} else { // Email is valid. Save email and let user get on with
-						// rating
-				_storageManager.putString(DATA_USER_EMAIL, email);
-				_storageManager.save();
-				_obtained_email = email;
-				_getEmailDialog.dismiss();
-				showDialog(DIALOG_RATE);
-			}
-		}
-
-		if (viewClicked.getId() == R.id.button_declineEmail) {
-			_getEmailDialog.dismiss();
-
-		}
-
-		if (viewClicked.getId() == R.id.buttonChangeToSearchSets) {
-			System.out.println("Button: Switch Day");
-			Intent intent = new Intent();
-			intent.setClass(this, ActivitySetsSearch.class);
-			startActivity(intent);
-		}
-
-		// Submit rating for a set
-		if (viewClicked.getId() == R.id.button_rate_okgo) { // Selections
-															// incomplete
-			RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
-			int scoreSelectedId = scoreGroup.getCheckedRadioButtonId();
-
-			if (scoreSelectedId == -1) {
-				Toast selectEverything = Toast.makeText(this, "Please select a rating for this Set", 25);
-				selectEverything.show();
-
-			} else { // Selections are valid
-				
-				//_ratingSelectedScore = _ratingSelectedIdToValue.get(scoreSelectedId);
-
-				//LollapaloozerHelper.debug(this, "Score[" + _ratingSelectedScore + "] ScoreId[" + scoreSelectedId + "]");
-
-				// scoreGroup.clearCheck();
-				
-							String submittedRating = _ratingSelectedIdToValue.get(scoreGroup.getCheckedRadioButtonId()).toString();
-				
-				EditText noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
-				String submittedNote =  noteWidget.getText().toString();
-				
-				
-				try {
-					if (_lastRatings == null) {
-						JSONObject newObj = new JSONObject();
-						newObj.put(QUERY_RATINGS__SET_ID, _lastItemSelected.get(QUERY_SETS__SET_ID));
-						newObj.put(QUERY_RATINGS__WEEK, "1"); // TODO leave in
-						// hard-coded for
-						// now
-						//newObj.put(QUERY_RATINGS__RATING, submittedRating);
-						//newObj.put(QUERY_RATINGS__NOTES, notes);
-						_lastRatings = newObj;
-					}
-		
-					_lastRatings.put(QUERY_RATINGS__RATING, submittedRating);
-					_lastRatings.put(QUERY_RATINGS__NOTES, submittedNote);
-					launchSubmitRatingThread();
-					_rateDialog.dismiss();
-				} catch (JSONException e) {
-					// TODO Auto-generated catch block
-					e.printStackTrace();
-				}
-				
-				
-						
-			}
-		} // End rating dialog submitted
-
-		if (viewClicked.getId() == R.id.button_rate_cancel) {
-			// Dialog dialog = (Dialog) viewClicked.getParent();
-			RadioGroup scoreGroup = (RadioGroup) _rateDialog
-					.findViewById(R.id.radio_pick_score);
-			// scoreGroup.clearCheck();
-			_rateDialog.dismiss();
-		}
-
-		if (viewClicked.getId() == R.id.button_network_error_ok) {
-			_networkErrorDialog.dismiss();
-		}
-
-	}
-
-	// An item in the ListView of sets is clicked
-	@Override
-	public void onItemClick(AdapterView<?> parent, View view, int position,
-			long id) {
-
-		try {// TODO Hard coded strings means you are going to hell
-			JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
-			_lastItemSelected = obj;
-
-			String setId = _lastItemSelected.getString(QUERY_SETS__SET_ID);
-			_lastRatings = _myRatings_JAHM.getJSONObject(setId, "1");
-
-			LollapaloozerHelper.debug(this, "You Clicked On: " + obj
-					+ " previous ratings " + _lastRatings);
-		} catch (JSONException e) {
-			LollapaloozerHelper.debug(this,
-					"JSONException retrieving user's last rating");
-			e.printStackTrace();
-		}
-
-		if (!_isLoggedIn()) {
-			_beginSigninProcess();
-		} else {
-			showDialog(DIALOG_RATE);
-		}
-	}
-
-	private boolean _isLoggedIn() {
-		if (_obtained_email == null) {
-			return false;
-		} else {
-			return true;
-		}
-	}
-	
-	private void _beginSigninProcess() {
-		Toast featureRequiresSignin = Toast.makeText(this,
-				Constants.MSG_SIGNIN_REQUIRED, 25);
-		featureRequiresSignin.show();
-		
-				// This shows the 'enter email' dialog, no longer needed
-		//showDialog(DIALOG_GETEMAIL);
-		
-		Intent lollapaloozerAuthIntent = new Intent(this, AuthChooseAccountActivity.class);
-		//no extras needed here
-		//lollapaloozerAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH, "String");
-		startActivityForResult(lollapaloozerAuthIntent,
-				Constants.INTENT_REQ_CHOOSE_LOGIN_TYPE);
-
-	}
-	
-	@Override
-	protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-		// TODO Auto-generated method stub
-		super.onActivityResult(requestCode, resultCode, data);
-	}
-
-
-	// Dialog handling, called before any dialog is shown
-	@Override
-	protected void onPrepareDialog(int id, Dialog dialog) {
-
-		// Always call through to super implementation
-		super.onPrepareDialog(id, dialog);
-
-		if (id == DIALOG_RATE) {
-
-			// _rateDialog.setTitle("Rate this Set!");
-			try {
-				TextView subtitleText = (TextView) _rateDialog
-						.findViewById(R.id.text_rateBand_subtitle);
-				subtitleText.setText(_lastItemSelected.getString("artist"));
-
-			} catch (JSONException e) {
-				LollapaloozerHelper.debug(this,
-						"JSONException assigning Artist name to Rating dialog");
-				e.printStackTrace();
-			}
-
-			// This checks the appropriate radio button based on the score set
-			// in _lastRatings
-			// _lastRatings is set by onItemClick not to be confused with
-			// onClick
-
-			RadioGroup scoreGroup = (RadioGroup) _rateDialog
-					.findViewById(R.id.radio_pick_score);
-			EditText noteWidget = (EditText) _rateDialog
-					.findViewById(R.id.editText_commentsForSet);
-			if (_lastRatings == null) {
-
-				scoreGroup.clearCheck();
-				noteWidget.setText("");
-
-				return; // Abandon if there is no previous data
-			}
-			try {
-				int selectedItemScore = _lastRatings
-						.getInt(QUERY_RATINGS__RATING);
-				int buttonIdToCheck;
-				buttonIdToCheck = _ratingSelectedScoreToId
-						.get(selectedItemScore + "");
-				scoreGroup.check(buttonIdToCheck);
-				// RadioButton buttonToCheck = (RadioButton) _rateDialog
-				// .findViewById(buttonIdToCheck);
-				// buttonToCheck.setChecked(true);
-
-			} catch (JSONException e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-
-			try {
-				// Ratings might not include notes
-				if (_lastRatings.has(QUERY_RATINGS__NOTES)) {
-					String selectedItemNote = _lastRatings
-							.getString(QUERY_RATINGS__NOTES);
-					noteWidget = (EditText) _rateDialog
-							.findViewById(R.id.editText_commentsForSet);
-					noteWidget.setText(selectedItemNote);
-				} else {
-					noteWidget.setText("");
-				}
-			} catch (JSONException e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-
-		} // end if rating dialog
-
-	}
-
-	// Dialog handling, called once the first time this activity displays
-	// (a/each
-	// type of)? dialog
-	@Override
-	protected Dialog onCreateDialog(int id) {
-		if (id == DIALOG_FIRST_USE) {
-			_firstUseDialog = new Dialog(this);
-			_firstUseDialog.setContentView(R.layout.first_use_dialog);
-			_firstUseDialog.setTitle(Constants.DIALOG_TITLE_FIRST_USE);
-
-			Button buttonOK = (Button) _firstUseDialog
-					.findViewById(R.id.button_firstuse_ok);
-			buttonOK.setOnClickListener(this);
-			return _firstUseDialog;
-		}
-
-		if (id == DIALOG_GETEMAIL) {
-			_getEmailDialog = new Dialog(this);
-			_getEmailDialog.setContentView(R.layout.get_email_address);
-			_getEmailDialog.setTitle(Constants.DIALOG_TITLE_GET_EMAIL);
-
-			EditText emailField = (EditText) _getEmailDialog
-					.findViewById(R.id.textField_enterEmail);
-
-			Button buttonOK = (Button) _getEmailDialog
-					.findViewById(R.id.button_provideEmail);
-			buttonOK.setOnClickListener(this);
-
-			Button buttonCancel = (Button) _getEmailDialog
-					.findViewById(R.id.button_declineEmail);
-			buttonCancel.setOnClickListener(this);
-
-			return _getEmailDialog;
-		}
-
-		if (id == DIALOG_RATE) {
-			_rateDialog = new Dialog(this);
-			_rateDialog.setContentView(R.layout.dialog_rate_set);
-			_rateDialog.setTitle("Rate This Set!");
-
-			Button buttonOK = (Button) _rateDialog
-					.findViewById(R.id.button_rate_okgo);
-			buttonOK.setOnClickListener(this);
-
-			Button buttonCancel = (Button) _rateDialog
-					.findViewById(R.id.button_rate_cancel);
-			buttonCancel.setOnClickListener(this);
-			return _rateDialog;
-		}
-
-		if (id == DIALOG_NETWORK_ERROR) {
-			_networkErrorDialog = new Dialog(this);
-			_networkErrorDialog.setContentView(R.layout.dialog_network_error);
-			_networkErrorDialog.setTitle("Network Error");
-
-			Button buttonOK = (Button) _networkErrorDialog
-					.findViewById(R.id.button_network_error_ok);
-			buttonOK.setOnClickListener(this);
-			return _networkErrorDialog;
-
-		}
-
-		return super.onCreateDialog(id);
-	}
-
-	protected void onNewIntent(Intent intent) {
-		super.onNewIntent(intent);
-		setIntent(intent);// must store the new intent unless getIntent() will
-							// return the old one
-		processExtraData();
-	}
-
-	/**
-	 * TODO: potentially make year a searchable field here
-	 */
-	private void processExtraData() {
-		Intent intent = getIntent();
-		Bundle bundle = intent.getExtras();
-
-		if (bundle == null) {
-			return;
-		}
-
-		String day = intent.getExtras().getString("DAY");
-
-		LollapaloozerHelper.debug(this, "Searching day[" + day + "]");
-		_dayToExamine = day;
-		refreshData();
-	}
-
-	@Override
-	public boolean onCreateOptionsMenu(Menu menu) {
-		MenuInflater inflater = getMenuInflater();
-		inflater.inflate(R.menu.menu_global_options, menu);
-		return true;
-	}
-
-	@Override
-	public boolean onOptionsItemSelected(MenuItem item) {
-		switch (item.getItemId()) {
-		case R.id.menu_item_email_me:
-			LollapaloozerHelper.debug(this, "Menu button 'email me' pressed");
-
-			if (_obtained_email == null) {
-				Toast.makeText(this, "Try rating at least one set first", 15)
-						.show();
-			} else {
-				try {
-
-					Toast.makeText(this, "This feature coming soon!", 15)
-							.show();
-					// TODO: launch dialog with email address, allowing them to change it just for this action
-					// LollapaloozerServiceUtils.emailMyRatings(this, _obtained_email);
-				} catch (Exception e) {
-					LollapaloozerHelper.debug(this,
-							"Error requesting ratings email");
-					e.printStackTrace();
-				}
-			}
-			return true;
-
-		case R.id.menu_item_delete_email:
-			LollapaloozerHelper.debug(this,
-					"Menu button 'delete email' pressed");
-			_obtained_email = null;
-			_storageManager.putString(DATA_USER_EMAIL, null);
-			_storageManager.save();
-			refreshData();
-			return true;
-
-		default:
-			return super.onOptionsItemSelected(item);
-		}
-	}
-
-	@Override
-	public void onCheckedChanged(RadioGroup clickedGroup, int checkedId) {
-		// This is only useful when we want to act based on a user changing
-		// radio selection i.e. week1/week2.
-		RadioGroup scoreGroup = (RadioGroup) _rateDialog
-				.findViewById(R.id.radio_pick_score);
-
-		// Formerly used to select week, now always true
-		// if (clickedGroup == _rateDialog.findViewById(R.id.radio_pick_score))
-		// {
-
-	}
+  // Database
+  public static final String QUERY_RATINGS__SET_ID = "set_id";
+  public static final String QUERY_RATINGS__WEEK = "weekend";
+  public static final String QUERY_SETS__SET_ID = "id";
+  public static final String QUERY_SETS__DAY = "day";
+  public static final String QUERY_SETS__TIME_ONE = "time_one";
+  public static final String QUERY_SETS__STAGE_ONE = "stage_one";
+  public static final String QUERY_RATINGS__RATING = "score";
+  public static final String QUERY_RATINGS__NOTES = "notes";
@@ -889,0 +75,763 @@ public class LollapaloozerActivity extends Activity implements
+  private static final int REFRESH_INTERVAL__SECONDS = 15;
+
+  private int _yearToQuery;
+  private String _dayToExamine;
+  private int _sortMode;
+  private long _lastRefresh = 0;
+
+  private String _timeFieldName;
+  private String _stageFieldName;
+
+  private Dialog _rateDialog;
+  private Dialog _getEmailDialog;
+  private Dialog _networkErrorDialog;
+  private Dialog _firstUseDialog;
+
+  private String _obtained_email = null;
+  private CustomSetListAdapter _setListAdapter;
+  private JSONObject _lastItemSelected;
+  // private CustomPair<String, String> _lastRatings = new CustomPair<String,
+  // String>(
+  // null, null);
+
+  private JSONObject _lastRatings;
+
+  private HashMap<Integer, Integer> _ratingSelectedIdToValue = new HashMap<Integer, Integer>();
+  private HashMap<String, Integer> _ratingSelectedScoreToId = new HashMap<String, Integer>();
+
+  private LollapaloozerStorageManager _storageManager;
+  private int _ratingSelectedScore;
+
+  private JSONArrayHashMap _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID,
+      QUERY_RATINGS__WEEK);
+  private boolean _networkErrors;
+
+  private Handler _networkIOHandler;
+
+  /** Called by Android Framework when the activity is first created. */
+
+  @Override
+  public void onCreate(Bundle savedInstanceState) {
+    super.onCreate(savedInstanceState);
+
+    LollapaloozerHelper.debug(this, "LollapaloozerActivity Launched");
+
+    _ratingSelectedIdToValue.put(R.id.radio_button_score1, 1);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score2, 2);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score3, 3);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score4, 4);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score5, 5);
+
+    _ratingSelectedScoreToId.put("1", R.id.radio_button_score1);
+    _ratingSelectedScoreToId.put("2", R.id.radio_button_score2);
+    _ratingSelectedScoreToId.put("3", R.id.radio_button_score3);
+    _ratingSelectedScoreToId.put("4", R.id.radio_button_score4);
+    _ratingSelectedScoreToId.put("5", R.id.radio_button_score5);
+
+    _storageManager = new LollapaloozerStorageManager(this);
+    _storageManager.load();
+
+    // initJAHM(); //Only initialized once
+
+    setContentView(R.layout.sets_list);
+    _setListAdapter = new CustomSetListAdapter(this, QUERY_SETS__TIME_ONE, QUERY_SETS__STAGE_ONE,
+        _myRatings_JAHM);
+    _setListAdapter.setData(new JSONArray());
+
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+    viewSetsList.setAdapter(_setListAdapter);
+    viewSetsList.setOnItemClickListener(this);
+
+    Button buttonSearchSets = (Button) this.findViewById(R.id.buttonChangeToSearchSets);
+    buttonSearchSets.setOnClickListener(this);
+
+    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
+    LollapaloozerHelper.populateSpinnerWithArray(spinnerSortType, R.array.search_types);
+    spinnerSortType.setOnItemSelectedListener(this);
+
+    _yearToQuery = LollapaloozerHelper.whatYearIsToday();
+    _dayToExamine = LollapaloozerHelper.whatDayIsToday();
+    _sortMode = SORT_TIME;
+
+    // Above here is stuff to be done once
+
+    _networkIOHandler = new Handler() {
+      @Override
+      public void handleMessage(Message msg) {
+
+        super.handleMessage(msg);
+
+        if (msg.what == THREAD_UPDATE_UI) {
+          System.out.println("Executing update UI thread callback ");
+          redrawUI();
+        }
+
+        if (msg.what == THREAD_SUBMIT_RATING) {
+          System.out.println("Executing submit rating thread callback ");
+          String lastNote = "";
+
+          try {
+            if (_lastRatings.has(QUERY_RATINGS__NOTES)) {
+              lastNote = _lastRatings.getString(QUERY_RATINGS__NOTES);
+            }
+            doSubmitRating(_lastRatings.get(QUERY_RATINGS__RATING) + "", lastNote);
+          } catch (JSONException e) {
+            // TODO Auto-generated catch block
+            e.printStackTrace();
+          }
+        }
+      }
+
+    };
+
+    processExtraData();
+
+  }
+
+  protected void redrawUI() {
+    try {
+      setView_reSort();
+
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+    viewSetsList.invalidateViews();
+
+    LollapaloozerHelper.debug(this, "Data Refresh is complete");
+    _lastRefresh = System.currentTimeMillis();
+
+    if (!_networkErrors) {
+      _storageManager.save(); // TODO only if both sets and ratings were
+      // retrieved
+
+    } else {
+      showDialog(DIALOG_NETWORK_ERROR);
+    }
+  }
+
+  /** Called by Android Framework when activity (re)gains foreground status */
+  public void onResume() {
+    super.onResume();
+
+    String firstUse = _storageManager.getString("DATA_FIRST_USE");
+    if (firstUse == null || firstUse.equals("true")) {
+      showDialog(DIALOG_FIRST_USE);
+    } else {
+      _showClickToRate();
+    }
+
+    if ((System.currentTimeMillis() - _lastRefresh) / 1000 > REFRESH_INTERVAL__SECONDS) {
+      refreshData(); // TODO multi-thread this
+    }
+
+  }
+
+  private void _showClickToRate() {
+    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 20);
+    clickToRate.show();
+  }
+
+  private void obtainEmailFromStorage() {
+    String loadedEmail = _storageManager.getString(DATA_USER_EMAIL);
+
+    if ((loadedEmail != null) && FieldVerifier.isValidEmail(loadedEmail)) {
+      _obtained_email = loadedEmail;
+    }
+
+    LollapaloozerHelper.debug(this, "Using email: " + _obtained_email + ", on disk:[" + loadedEmail
+        + "]");
+
+  }
+
+  // Only called once, so commented out.
+  /*
+   * private void initJAHM() { LollapaloozerHelper.debug(this, "initJAHM()");
+   * _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID,
+   * QUERY_RATINGS__WEEK); }
+   */
+
+  private void refreshData() {
+    // Below here is stuff to be done each refresh
+    _networkErrors = false;
+
+    if (!_dayToExamine.equals("Friday") && !_dayToExamine.equals("Saturday")
+        && !_dayToExamine.equals("Sunday")) {
+      _dayToExamine = "Friday";
+    }
+
+    _timeFieldName = QUERY_SETS__TIME_ONE;
+    _stageFieldName = QUERY_SETS__STAGE_ONE;
+
+    TextView titleView = (TextView) this.findViewById(R.id.text_set_list_title);
+    titleView.setText(_dayToExamine + ", Lollapalooza " + _yearToQuery);
+    // +" "+ weekString);
+    _setListAdapter.setTimeFieldName(_timeFieldName);
+    _setListAdapter.setStageFieldName(_stageFieldName);
+
+    obtainEmailFromStorage();
+
+    launchGetDataThread(); // TODO multithread this
+  }
+
+  private void launchGetDataThread() {
+    LollapaloozerHelper.debug(this, "Launching getData thread");
+
+    new Thread() {
+      public void run() {
+        try {
+          doNetworkOperations();
+        } catch (JSONException e) {
+          // TODO Auto-generated catch block
+          e.printStackTrace();
+        }
+        _networkIOHandler.sendEmptyMessage(THREAD_UPDATE_UI);
+      }
+    }.start();
+    LollapaloozerHelper.debug(this, "getData thread launched");
+  }
+
+  private void launchSubmitRatingThread() {
+    LollapaloozerHelper.debug(this, "Launching Rating thread");
+
+    new Thread() {
+      public void run() {
+        try {
+          doNetworkOperations();
+        } catch (JSONException e) {
+          // TODO Auto-generated catch block
+          e.printStackTrace();
+        }
+        Message msgToSend = Message.obtain(_networkIOHandler, THREAD_SUBMIT_RATING);
+        msgToSend.sendToTarget();
+      }
+    }.start();
+    LollapaloozerHelper.debug(this, "Rating thread launched");
+
+  }
+
+  public void doNetworkOperations() throws JSONException {
+
+    LollapaloozerHelper.debug(this, "rebuildJAHM()");
+    if (_isLoggedIn()) { // Get my ratings
+
+      JSONArray myRatings = null;
+      try {
+        // TODO: year can remain hardcoded for now (to force users to
+        // update app
+        // in future)
+        myRatings = LollapaloozerServiceUtils.getRatings(_obtained_email, "2012", _dayToExamine,
+            this);
+        _storageManager.putJSONArray(DATA_RATINGS, myRatings);
+      } catch (Exception e1) {
+        _networkErrors = true;
+        LollapaloozerHelper.debug(this,
+            "Exception getting Ratings data, loading from storage if available");
+        try {
+          myRatings = _storageManager.getJSONArray(DATA_RATINGS);
+        } catch (JSONException e) {
+          e.printStackTrace();
+          LollapaloozerHelper.debug(this, "JSONException loading ratings from storage");
+        }
+      }
+
+      try {
+        // TODO this may not be correct. JAHM should only be initialized
+        // once.
+        // _myRatings_JAHM = new JSONArrayHashMap(myRatings,
+        // QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
+
+        if (myRatings == null) {
+          LollapaloozerHelper.debug(this, "Had to initialize ratings data JSONArray");
+          myRatings = new JSONArray();
+        }
+
+        _myRatings_JAHM.rebuildDataWith(myRatings);
+
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        // Could not get my ratings :(
+        e.printStackTrace();
+      }
+    } else {
+      // TODO This may not be correct. initJAHM() may have already been
+      // called
+      // on startup and
+      // TODO the reference to the JAHM may have been passed to the
+      // adapter
+      // already
+      // initJAHM(); //Commented in hope of addressing crash issue
+
+      // Need to wipe out ratings if email was just deleted
+      _myRatings_JAHM.wipeData();
+    }
+
+    // New strategy does not re-instantiate this object, this line should
+    // not be
+    // needed
+    // _setListAdapter.setNewJAHM(_myRatings_JAHM);
+
+    JSONArray setData = null;
+    try {
+      // TODO: pass proper values (year can remain hard-coded for now)
+      setData = LollapaloozerServiceUtils.getSets("2012", _dayToExamine, this);
+      _storageManager.putJSONArray(DATA_SETS, setData);
+    } catch (Exception e) {
+      _networkErrors = true;
+      LollapaloozerHelper.debug(this,
+          "Exception getting Set data, loading from storage if available");
+      setData = _storageManager.getJSONArray(DATA_SETS);
+    }
+
+    if (setData == null) {
+      LollapaloozerHelper.debug(this, "Had to initialize set data JSONArray");
+      setData = new JSONArray();
+    }
+    _setListAdapter.setData(setData);
+  }
+
+  public void doSubmitRating(String scoreSelectedValue, String notes) {
+    // submit rating
+    // If Exception is thrown, do not store rating locally
+    try {
+      String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
+
+      LollapaloozerServiceUtils.addRating(_storageManager.getString(DATA_USER_EMAIL), set_id,
+          scoreSelectedValue, notes, this);
+
+      // Need this in order to make the new rating appear in real time
+
+      try {
+        // CRITICAL that the keys are listed in this order
+        _myRatings_JAHM.addValues(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK, _lastRatings);
+
+        // Don't need since we are refreshing
+        // ListView viewSetsList = (ListView)
+        // findViewById(R.id.viewSetsList);
+        // viewSetsList.invalidateViews();
+
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
+      }
+
+      refreshData(); // If this is removed, uncomment ListView and
+      // invalidate
+      // above ^^^
+
+    } catch (Exception e1) {
+      LollapaloozerHelper.debug(this, "Error submitting rating");
+      e1.printStackTrace();
+      showDialog(DIALOG_NETWORK_ERROR);
+    }
+  }
+
+  // An item was selected from the list of sets
+  @Override
+  public void onItemSelected(AdapterView<?> parent, View arg1, int arg2, long arg3) {
+
+    // TODO Auto-generated method stub
+    LollapaloozerHelper.debug(this, "Search Type Spinner: Selected -> " + parent.getSelectedItem()
+        + "(" + arg2 + ")");
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+
+    try {
+      if (parent.getSelectedItem().toString().toLowerCase().equals("time")) {
+        _sortMode = SORT_TIME;
+
+      } else if (parent.getSelectedItem().toString().toLowerCase().equals("artist")) {
+        _sortMode = SORT_ARTIST;
+      }
+
+      setView_reSort();
+      viewSetsList.invalidateViews();
+    } catch (JSONException e) {
+      LollapaloozerHelper.debug(this, "JSONException re-sorting data");
+      e.printStackTrace();
+    }
+  }
+
+  private void setView_reSort() throws JSONException {
+    if (_sortMode == SORT_TIME) {
+      _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
+    } else if (_sortMode == SORT_ARTIST) {
+      _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
+    } else {
+      LollapaloozerHelper.debug(this, "Unexpected sort mode: " + _sortMode);
+      (new Exception()).printStackTrace();
+    }
+  }
+
+  @Override
+  public void onNothingSelected(AdapterView<?> arg0) {
+    LollapaloozerHelper.debug(this, "Search Type Spinner: Nothing Selected");
+    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
+    spinnerSortType.setSelection(0);
+  }
+
+  // Any button in any view or dialog was clicked
+  @Override
+  public void onClick(View viewClicked) {
+
+    // OK clicked on first use dialog
+    if (viewClicked.getId() == R.id.button_firstuse_ok) {
+      _storageManager.putString(DATA_FIRST_USE, false + "");
+      _storageManager.save();
+      _firstUseDialog.dismiss();
+      _showClickToRate(); // display 'tap set to rate it' toast
+    }
+
+    // "OK" clicked to submit email address
+    if (viewClicked.getId() == R.id.button_provideEmail) {
+      EditText emailField = (EditText) _getEmailDialog.findViewById(R.id.textField_enterEmail);
+      String email = emailField.getText().toString();
+
+      LollapaloozerHelper.debug(this, "User provided email address: " + email);
+
+      // if
+      // (!android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
+      if (!FieldVerifier.isValidEmail(email)) {
+        Toast invalidEmail = Toast.makeText(this, "Please enter your real email address.", 25);
+        invalidEmail.show();
+
+      } else { // Email is valid. Save email and let user get on with
+        // rating
+        _storageManager.putString(DATA_USER_EMAIL, email);
+        _storageManager.save();
+        _obtained_email = email;
+        _getEmailDialog.dismiss();
+        showDialog(DIALOG_RATE);
+      }
+    }
+
+    if (viewClicked.getId() == R.id.button_declineEmail) {
+      _getEmailDialog.dismiss();
+
+    }
+
+    if (viewClicked.getId() == R.id.buttonChangeToSearchSets) {
+      System.out.println("Button: Switch Day");
+      Intent intent = new Intent();
+      intent.setClass(this, ActivitySetsSearch.class);
+      startActivity(intent);
+    }
+
+    // Submit rating for a set
+    if (viewClicked.getId() == R.id.button_rate_okgo) { // Selections
+      // incomplete
+      RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
+      int scoreSelectedId = scoreGroup.getCheckedRadioButtonId();
+
+      if (scoreSelectedId == -1) {
+        Toast selectEverything = Toast.makeText(this, "Please select a rating for this Set", 25);
+        selectEverything.show();
+
+      } else { // Selections are valid
+
+        // _ratingSelectedScore = _ratingSelectedIdToValue.get(scoreSelectedId);
+
+        // LollapaloozerHelper.debug(this, "Score[" + _ratingSelectedScore +
+        // "] ScoreId[" + scoreSelectedId + "]");
+
+        // scoreGroup.clearCheck();
+
+        String submittedRating = _ratingSelectedIdToValue.get(scoreGroup.getCheckedRadioButtonId())
+            .toString();
+
+        EditText noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
+        String submittedNote = noteWidget.getText().toString();
+
+        try {
+          if (_lastRatings == null) {
+            JSONObject newObj = new JSONObject();
+            newObj.put(QUERY_RATINGS__SET_ID, _lastItemSelected.get(QUERY_SETS__SET_ID));
+            newObj.put(QUERY_RATINGS__WEEK, "1"); // TODO leave in
+            // hard-coded for
+            // now
+            // newObj.put(QUERY_RATINGS__RATING, submittedRating);
+            // newObj.put(QUERY_RATINGS__NOTES, notes);
+            _lastRatings = newObj;
+          }
+
+          _lastRatings.put(QUERY_RATINGS__RATING, submittedRating);
+          _lastRatings.put(QUERY_RATINGS__NOTES, submittedNote);
+          launchSubmitRatingThread();
+          _rateDialog.dismiss();
+        } catch (JSONException e) {
+          // TODO Auto-generated catch block
+          e.printStackTrace();
+        }
+
+      }
+    } // End rating dialog submitted
+
+    if (viewClicked.getId() == R.id.button_rate_cancel) {
+      // Dialog dialog = (Dialog) viewClicked.getParent();
+      RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
+      // scoreGroup.clearCheck();
+      _rateDialog.dismiss();
+    }
+
+    if (viewClicked.getId() == R.id.button_network_error_ok) {
+      _networkErrorDialog.dismiss();
+    }
+
+  }
+
+  // An item in the ListView of sets is clicked
+  @Override
+  public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
+
+    try {// TODO Hard coded strings means you are going to hell
+      JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
+      _lastItemSelected = obj;
+
+      String setId = _lastItemSelected.getString(QUERY_SETS__SET_ID);
+      _lastRatings = _myRatings_JAHM.getJSONObject(setId, "1");
+
+      LollapaloozerHelper.debug(this, "You Clicked On: " + obj + " previous ratings "
+          + _lastRatings);
+    } catch (JSONException e) {
+      LollapaloozerHelper.debug(this, "JSONException retrieving user's last rating");
+      e.printStackTrace();
+    }
+
+    if (!_isLoggedIn()) {
+      _beginSigninProcess();
+    } else {
+      showDialog(DIALOG_RATE);
+    }
+  }
+
+  private boolean _isLoggedIn() {
+    if (_obtained_email == null) {
+      return false;
+    } else {
+      return true;
+    }
+  }
+
+  private void _beginSigninProcess() {
+    Toast featureRequiresSignin = Toast.makeText(this, Constants.MSG_SIGNIN_REQUIRED, 25);
+    featureRequiresSignin.show();
+
+    // This shows the 'enter email' dialog, no longer needed
+    // showDialog(DIALOG_GETEMAIL);
+
+    Intent lollapaloozerAuthIntent = new Intent(this, AuthChooseAccountActivity.class);
+    // no extras needed here
+    // lollapaloozerAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH,
+    // "String");
+    startActivityForResult(lollapaloozerAuthIntent, Constants.INTENT_REQ_CHOOSE_LOGIN_TYPE);
+
+  }
+
+  @Override
+  protected void onActivityResult(int requestCode, int resultCode, Intent data) {
+    // TODO Auto-generated method stub
+    super.onActivityResult(requestCode, resultCode, data);
+  }
+
+  // Dialog handling, called before any dialog is shown
+  @Override
+  protected void onPrepareDialog(int id, Dialog dialog) {
+
+    // Always call through to super implementation
+    super.onPrepareDialog(id, dialog);
+
+    if (id == DIALOG_RATE) {
+
+      // _rateDialog.setTitle("Rate this Set!");
+      try {
+        TextView subtitleText = (TextView) _rateDialog.findViewById(R.id.text_rateBand_subtitle);
+        subtitleText.setText(_lastItemSelected.getString("artist"));
+
+      } catch (JSONException e) {
+        LollapaloozerHelper.debug(this, "JSONException assigning Artist name to Rating dialog");
+        e.printStackTrace();
+      }
+
+      // This checks the appropriate radio button based on the score set
+      // in _lastRatings
+      // _lastRatings is set by onItemClick not to be confused with
+      // onClick
+
+      RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
+      EditText noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
+      if (_lastRatings == null) {
+
+        scoreGroup.clearCheck();
+        noteWidget.setText("");
+
+        return; // Abandon if there is no previous data
+      }
+      try {
+        int selectedItemScore = _lastRatings.getInt(QUERY_RATINGS__RATING);
+        int buttonIdToCheck;
+        buttonIdToCheck = _ratingSelectedScoreToId.get(selectedItemScore + "");
+        scoreGroup.check(buttonIdToCheck);
+        // RadioButton buttonToCheck = (RadioButton) _rateDialog
+        // .findViewById(buttonIdToCheck);
+        // buttonToCheck.setChecked(true);
+
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
+      }
+
+      try {
+        // Ratings might not include notes
+        if (_lastRatings.has(QUERY_RATINGS__NOTES)) {
+          String selectedItemNote = _lastRatings.getString(QUERY_RATINGS__NOTES);
+          noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
+          noteWidget.setText(selectedItemNote);
+        } else {
+          noteWidget.setText("");
+        }
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
+      }
+
+    } // end if rating dialog
+
+  }
+
+  // Dialog handling, called once the first time this activity displays
+  // (a/each
+  // type of)? dialog
+  @Override
+  protected Dialog onCreateDialog(int id) {
+    if (id == DIALOG_FIRST_USE) {
+      _firstUseDialog = new Dialog(this);
+      _firstUseDialog.setContentView(R.layout.first_use_dialog);
+      _firstUseDialog.setTitle(Constants.DIALOG_TITLE_FIRST_USE);
+
+      Button buttonOK = (Button) _firstUseDialog.findViewById(R.id.button_firstuse_ok);
+      buttonOK.setOnClickListener(this);
+      return _firstUseDialog;
+    }
+
+    if (id == DIALOG_GETEMAIL) {
+      _getEmailDialog = new Dialog(this);
+      _getEmailDialog.setContentView(R.layout.get_email_address);
+      _getEmailDialog.setTitle(Constants.DIALOG_TITLE_GET_EMAIL);
+
+      EditText emailField = (EditText) _getEmailDialog.findViewById(R.id.textField_enterEmail);
+
+      Button buttonOK = (Button) _getEmailDialog.findViewById(R.id.button_provideEmail);
+      buttonOK.setOnClickListener(this);
+
+      Button buttonCancel = (Button) _getEmailDialog.findViewById(R.id.button_declineEmail);
+      buttonCancel.setOnClickListener(this);
+
+      return _getEmailDialog;
+    }
+
+    if (id == DIALOG_RATE) {
+      _rateDialog = new Dialog(this);
+      _rateDialog.setContentView(R.layout.dialog_rate_set);
+      _rateDialog.setTitle("Rate This Set!");
+
+      Button buttonOK = (Button) _rateDialog.findViewById(R.id.button_rate_okgo);
+      buttonOK.setOnClickListener(this);
+
+      Button buttonCancel = (Button) _rateDialog.findViewById(R.id.button_rate_cancel);
+      buttonCancel.setOnClickListener(this);
+      return _rateDialog;
+    }
+
+    if (id == DIALOG_NETWORK_ERROR) {
+      _networkErrorDialog = new Dialog(this);
+      _networkErrorDialog.setContentView(R.layout.dialog_network_error);
+      _networkErrorDialog.setTitle("Network Error");
+
+      Button buttonOK = (Button) _networkErrorDialog.findViewById(R.id.button_network_error_ok);
+      buttonOK.setOnClickListener(this);
+      return _networkErrorDialog;
+
+    }
+
+    return super.onCreateDialog(id);
+  }
+
+  protected void onNewIntent(Intent intent) {
+    super.onNewIntent(intent);
+    setIntent(intent);// must store the new intent unless getIntent() will
+    // return the old one
+    processExtraData();
+  }
+
+  /**
+   * TODO: potentially make year a searchable field here
+   */
+  private void processExtraData() {
+    Intent intent = getIntent();
+    Bundle bundle = intent.getExtras();
+
+    if (bundle == null) {
+      return;
+    }
+
+    String day = intent.getExtras().getString("DAY");
+
+    LollapaloozerHelper.debug(this, "Searching day[" + day + "]");
+    _dayToExamine = day;
+    refreshData();
+  }
+
+  @Override
+  public boolean onCreateOptionsMenu(Menu menu) {
+    MenuInflater inflater = getMenuInflater();
+    inflater.inflate(R.menu.menu_global_options, menu);
+    return true;
+  }
+
+  @Override
+  public boolean onOptionsItemSelected(MenuItem item) {
+    switch (item.getItemId()) {
+    case R.id.menu_item_email_me:
+      LollapaloozerHelper.debug(this, "Menu button 'email me' pressed");
+
+      if (_obtained_email == null) {
+        Toast.makeText(this, "Try rating at least one set first", 15).show();
+      } else {
+        try {
+
+          Toast.makeText(this, "This feature coming soon!", 15).show();
+          // TODO: launch dialog with email address, allowing them to change it
+          // just for this action
+          // LollapaloozerServiceUtils.emailMyRatings(this, _obtained_email);
+        } catch (Exception e) {
+          LollapaloozerHelper.debug(this, "Error requesting ratings email");
+          e.printStackTrace();
+        }
+      }
+      return true;
+
+    case R.id.menu_item_delete_email:
+      LollapaloozerHelper.debug(this, "Menu button 'delete email' pressed");
+      _obtained_email = null;
+      _storageManager.putString(DATA_USER_EMAIL, null);
+      _storageManager.save();
+      refreshData();
+      return true;
+
+    default:
+      return super.onOptionsItemSelected(item);
+    }
+  }
+
+  @Override
+  public void onCheckedChanged(RadioGroup clickedGroup, int checkedId) {
+    // This is only useful when we want to act based on a user changing
+    // radio selection i.e. week1/week2.
+    RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
+
+    // Formerly used to select week, now always true
+    // if (clickedGroup == _rateDialog.findViewById(R.id.radio_pick_score))
+    // {
+
+  }
7ab26934e283611205139ac6be81c39fda04d52b
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
new file mode 100644
index 0000000..f323e04
--- /dev/null
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
@@ -0,0 +1,80 @@
+package com.lollapaloozer.auth;
+
+import org.scribe.builder.ServiceBuilder;
+import org.scribe.builder.api.TwitterApi;
+import org.scribe.model.OAuthRequest;
+import org.scribe.model.Response;
+import org.scribe.model.Token;
+import org.scribe.model.Verb;
+import org.scribe.model.Verifier;
+import org.scribe.oauth.OAuthService;
+
+public class TwitterAuthProviderOAuth {
+
+	private OAuthService _service;
+	private Token _requestToken;
+	private Token _accessToken;
+	private String _consumerKey;
+	private String _consumerSecret;
+	private String _callbackUrl;
+
+	public TwitterAuthProviderOAuth(String consumerKey, String consumerSecret,
+			String callbackUrl) {
+		_consumerKey = consumerKey;
+		_consumerSecret = consumerSecret;
+		_callbackUrl = callbackUrl;
+		
+		_service = getService();
+	}
+
+	public String getRequestTokenUrl() {
+		
+		_requestToken = _service.getRequestToken();
+
+		String authUrl = _service.getAuthorizationUrl(_requestToken);
+		System.out.println("Twitter OAuth request token URL:" + authUrl);
+		return authUrl;
+	}
+	
+	public OAuthService getService() {
+		return new ServiceBuilder().provider(TwitterApi.class)
+		.apiKey(_consumerKey).apiSecret(_consumerSecret)
+		.callback(_callbackUrl).build();
+	}
+
+	public void requestTokenResult(String token, String tokenVerify) {
+		Verifier verifier = new Verifier(tokenVerify);
+		_accessToken = _service.getAccessToken(_requestToken, verifier); // the
+																			// requestToken
+																			// you
+																			// had
+																			// from
+																			// step
+																			// 2
+																			// OAuthRequest
+																			// request
+
+	}
+
+	public Response accessResource(Verb httpVerb, String resourceUrl) {
+		
+		OAuthRequest request = new OAuthRequest(httpVerb, resourceUrl);
+		
+		_service.signRequest(_accessToken, request); // the access // token from
+														// // step 4 Response
+														// response =
+		return request.send();
+	}
+
+	public String getAccessToken() {
+		return _accessToken.getToken();
+	}
+	
+	public String getTokenSecret() {
+		return _accessToken.getSecret();
+	}
+	
+	public void setAccessTokenObject(String token, String secret) {
+		_accessToken = new Token(token, secret);
+	}
+}
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
index 8e57230..f89e621 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
@@ -16,4 +15,0 @@ import org.json.JSONObject;
-import com.facebook.android.FacebookError;
-import com.facebook.android.Util;
-import com.lollapaloozer.util.LollapaloozerHelper;
-
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
index 489c792..bbeea9f 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
@@ -12,3 +12,3 @@ import org.scribe.oauth.OAuthService;
-import com.lollapaloozer.auth.client.TwitterAuthProviderOAuth;
-import com.lollapaloozer.util.Constants;
-import com.lollapaloozer.util.Helper;
+import com.lollapaloozer.auth.TwitterAuthProviderOAuth;
+import com.ratethisfest.shared.Constants;
+import com.ratethisfest.shared.Helper;
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
new file mode 100644
index 0000000..55f83aa
--- /dev/null
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Constants.java
@@ -0,0 +1,52 @@
+package com.ratethisfest.shared;
+
+public class Constants {
+	
+	//Data
+	public static final int DATA_NOTE_VISIBLE_MAX_LENGTH = 140;
+
+	// UI String
+	public static final String UI_STR_LOGIN_STATUS = "Login Status: ";
+
+	public static final String MSG_EMAIL_FORMAT = "Please enter your real email address.";
+	public static final String MSG_SIGNIN_REQUIRED = "Sign in so we can remember this for you.";
+	
+	public static final String DIALOG_TITLE_GET_EMAIL = "Keep Track of Everything";
+	public static final String DIALOG_TITLE_FIRST_USE = "Welcome, Fellow Lollapaloozer";
+
+	// User Authentication
+
+	public static final String CONSUMER_KEY = "yit4Mu71Mj93eNILUo3uCw";
+	public static final String CONSUMER_SECRET = "rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI";
+
+	public static final String REQUEST_URL = "https://api.twitter.com/oauth/request_token";
+	public static final String ACCESS_URL = "https://api.twitter.com/oauth/access_token";
+	public static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize";
+
+	public static final String OAUTH_CALLBACK_SCHEME = "http";
+	public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME
+			+ "://lollapaloozer.appspot.com/dummy"; // todo update this
+
+	// public static final String OAUTH_CALLBACK_SCHEME = "http";
+	// public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME +
+	// "://msnbc.com"; //todo update this
+
+	public static final String OAUTH_CALLBACK_PARAM_TOKEN = "oauth_token";
+	public static final String OAUTH_CALLBACK_PARAM_VERIFIER = "oauth_verifier";
+
+	public static final int DEFAULT_PORT_HTTP = 80;
+	public static final int DEFAULT_PORT_HTTPS = 443;
+	public static final String OAUTH_REQUEST_CONTENT_TYPE = "application/x-www-form-urlencoded";
+
+	
+	
+	public static final int INTENT_REQ_CHOOSE_LOGIN_TYPE = 2;
+	public static final int INTENT_REQ_TWITTER_LOGIN = 1;
+	
+	public static final String INTENT_EXTRA_ALIAS_TWITTER_AUTH = "intent.extra.twitter.auth";
+	public static final String INTENT_EXTRA_OAUTH1_TOKEN = "intent.extra.oauth1.token";
+	public static final String INTENT_EXTRA_OAUTH1_VERIFIER = "intent.extra.oauth1.verifier";
+	
+
+
+}
\ No newline at end of file
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/Helper.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Helper.java
new file mode 100644
index 0000000..6da600e
--- /dev/null
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/Helper.java
@@ -0,0 +1,19 @@
+package com.ratethisfest.shared;
+
+public class Helper {
+	public static String readXmlProperty(String propertyName, String xmlData) {
+		String xmlPropertyOpen = "<" + propertyName + ">";
+		String xmlPropertyClose = "</" + propertyName + ">";
+		int propertyOpenIndex = xmlData.indexOf(xmlPropertyOpen);
+		int propertyCloseIndex = xmlData.indexOf(xmlPropertyClose);
+		if (propertyOpenIndex == -1) {
+			System.out.println("Property not found in XML data");
+			return null;
+		} else if (propertyCloseIndex == -1) {
+			System.out.println("Property close tag not found in XML data");
+			return null;
+		}
+		return xmlData.substring(propertyOpenIndex + xmlPropertyOpen.length(),
+				propertyCloseIndex);
+	}
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/ServiceBuilder.java b/Coacheller-AppEngine/shared/org/scribe/builder/ServiceBuilder.java
new file mode 100644
index 0000000..27f3c8f
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/ServiceBuilder.java
@@ -0,0 +1,169 @@
+package org.scribe.builder;
+
+import java.io.*;
+import org.scribe.builder.api.*;
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.oauth.*;
+import org.scribe.utils.*;
+
+/**
+ * Implementation of the Builder pattern, with a fluent interface that creates a
+ * {@link OAuthService}
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public class ServiceBuilder
+{
+  private String apiKey;
+  private String apiSecret;
+  private String callback;
+  private Api api;
+  private String scope;
+  private SignatureType signatureType;
+  private OutputStream debugStream;
+  
+  /**
+   * Default constructor
+   */
+  public ServiceBuilder()
+  {
+    this.callback = OAuthConstants.OUT_OF_BAND;
+    this.signatureType = SignatureType.Header;
+    this.debugStream = null;
+  }
+  
+  /**
+   * Configures the {@link Api}
+   * 
+   * @param apiClass the class of one of the existent {@link Api}s on org.scribe.api package
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder provider(Class<? extends Api> apiClass)
+  {
+    this.api = createApi(apiClass);
+    return this;
+  }
+
+  private Api createApi(Class<? extends Api> apiClass)
+  {
+    Preconditions.checkNotNull(apiClass, "Api class cannot be null");
+    Api api;
+    try
+    {
+      api = apiClass.newInstance();  
+    }
+    catch(Exception e)
+    {
+      throw new OAuthException("Error while creating the Api object", e);
+    }
+    return api;
+  }
+
+  /**
+   * Configures the {@link Api}
+   *
+   * Overloaded version. Let's you use an instance instead of a class.
+   *
+   * @param api instance of {@link Api}s
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder provider(Api api)
+  {
+	  Preconditions.checkNotNull(api, "Api cannot be null");
+	  this.api = api;
+	  return this;
+  }
+
+  /**
+   * Adds an OAuth callback url
+   * 
+   * @param callback callback url. Must be a valid url or 'oob' for out of band OAuth
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder callback(String callback)
+  {
+    Preconditions.checkNotNull(callback, "Callback can't be null");
+    this.callback = callback;
+    return this;
+  }
+  
+  /**
+   * Configures the api key
+   * 
+   * @param apiKey The api key for your application
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder apiKey(String apiKey)
+  {
+    Preconditions.checkEmptyString(apiKey, "Invalid Api key");
+    this.apiKey = apiKey;
+    return this;
+  }
+  
+  /**
+   * Configures the api secret
+   * 
+   * @param apiSecret The api secret for your application
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder apiSecret(String apiSecret)
+  {
+    Preconditions.checkEmptyString(apiSecret, "Invalid Api secret");
+    this.apiSecret = apiSecret;
+    return this;
+  }
+  
+  /**
+   * Configures the OAuth scope. This is only necessary in some APIs (like Google's).
+   * 
+   * @param scope The OAuth scope
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder scope(String scope)
+  {
+    Preconditions.checkEmptyString(scope, "Invalid OAuth scope");
+    this.scope = scope;
+    return this;
+  }
+
+  /**
+   * Configures the signature type, choose between header, querystring, etc. Defaults to Header
+   *
+   * @param scope The OAuth scope
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder signatureType(SignatureType type)
+  {
+    Preconditions.checkNotNull(type, "Signature type can't be null");
+    this.signatureType = type;
+    return this;
+  }
+
+  public ServiceBuilder debugStream(OutputStream stream)
+  {
+    Preconditions.checkNotNull(stream, "debug stream can't be null");
+    this.debugStream = stream;
+    return this;
+  }
+
+  public ServiceBuilder debug()
+  {
+    this.debugStream(System.out);
+    return this;
+  }
+  
+  /**
+   * Returns the fully configured {@link OAuthService}
+   * 
+   * @return fully configured {@link OAuthService}
+   */
+  public OAuthService build()
+  {
+    Preconditions.checkNotNull(api, "You must specify a valid api through the provider() method");
+    Preconditions.checkEmptyString(apiKey, "You must provide an api key");
+    Preconditions.checkEmptyString(apiSecret, "You must provide an api secret");
+    return api.createService(new OAuthConfig(apiKey, apiSecret, callback, signatureType, scope, debugStream));
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/Api.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/Api.java
new file mode 100644
index 0000000..6664296
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/Api.java
@@ -0,0 +1,25 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+import org.scribe.oauth.*;
+
+/**
+ * Contains all the configuration needed to instantiate a valid {@link OAuthService}
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public interface Api
+{  
+  /**
+   * Creates an {@link OAuthService}
+   * 
+   * @param apiKey your application api key
+   * @param apiSecret your application api secret
+   * @param callback the callback url (or 'oob' for out of band OAuth)
+   * @param scope the OAuth scope
+   * 
+   * @return fully configured {@link OAuthService}
+   */
+  OAuthService createService(OAuthConfig config);
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/ConstantContactApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/ConstantContactApi.java
new file mode 100644
index 0000000..0588bc4
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/ConstantContactApi.java
@@ -0,0 +1,26 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class ConstantContactApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://oauth.constantcontact.com/ws/oauth/confirm_access?oauth_token=%s";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://oauth.constantcontact.com/ws/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://oauth.constantcontact.com/ws/oauth/request_token";
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi10a.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi10a.java
new file mode 100644
index 0000000..7506986
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi10a.java
@@ -0,0 +1,141 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.oauth.*;
+import org.scribe.services.*;
+
+/**
+ * Default implementation of the OAuth protocol, version 1.0a
+ * 
+ * This class is meant to be extended by concrete implementations of the API,
+ * providing the endpoints and endpoint-http-verbs.
+ * 
+ * If your Api adheres to the 1.0a protocol correctly, you just need to extend 
+ * this class and define the getters for your endpoints.
+ * 
+ * If your Api does something a bit different, you can override the different 
+ * extractors or services, in order to fine-tune the process. Please read the 
+ * javadocs of the interfaces to get an idea of what to do.
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public abstract class DefaultApi10a implements Api
+{
+  /**
+   * Returns the access token extractor.
+   * 
+   * @return access token extractor
+   */
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new TokenExtractorImpl();
+  }
+
+  /**
+   * Returns the base string extractor.
+   * 
+   * @return base string extractor
+   */
+  public BaseStringExtractor getBaseStringExtractor()
+  {
+    return new BaseStringExtractorImpl();
+  }
+
+  /**
+   * Returns the header extractor.
+   * 
+   * @return header extractor
+   */
+  public HeaderExtractor getHeaderExtractor()
+  {
+    return new HeaderExtractorImpl();
+  }
+
+  /**
+   * Returns the request token extractor.
+   * 
+   * @return request token extractor
+   */
+  public RequestTokenExtractor getRequestTokenExtractor()
+  {
+    return new TokenExtractorImpl();
+  }
+
+  /**
+   * Returns the signature service.
+   * 
+   * @return signature service
+   */
+  public SignatureService getSignatureService()
+  {
+    return new HMACSha1SignatureService(); 
+  }
+
+  /**
+   * Returns the timestamp service.
+   * 
+   * @return timestamp service
+   */
+  public TimestampService getTimestampService()
+  {
+    return new TimestampServiceImpl();
+  }
+  
+  /**
+   * Returns the verb for the access token endpoint (defaults to POST)
+   * 
+   * @return access token endpoint verb
+   */
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.POST;
+  }
+  
+  /**
+   * Returns the verb for the request token endpoint (defaults to POST)
+   * 
+   * @return request token endpoint verb
+   */
+  public Verb getRequestTokenVerb()
+  {
+    return Verb.POST;
+  }
+  
+  /**
+   * Returns the URL that receives the request token requests.
+   * 
+   * @return request token URL
+   */
+  public abstract String getRequestTokenEndpoint();
+  
+  /**
+   * Returns the URL that receives the access token requests.
+   * 
+   * @return access token URL
+   */
+  public abstract String getAccessTokenEndpoint();
+  
+  /**
+   * Returns the URL where you should redirect your users to authenticate
+   * your application.
+   * 
+   * @param requestToken the request token you need to authorize
+   * @return the URL where you should redirect your users
+   */
+  public abstract String getAuthorizationUrl(Token requestToken);
+  
+  /**
+   * Returns the {@link OAuthService} for this Api
+   * 
+   * @param apiKey Key
+   * @param apiSecret Api Secret
+   * @param callback OAuth callback (either URL or 'oob')
+   * @param scope OAuth scope (optional) 
+   */
+  public OAuthService createService(OAuthConfig config)
+  {
+    return new OAuth10aServiceImpl(this, config);
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi20.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi20.java
new file mode 100644
index 0000000..ffb6207
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/DefaultApi20.java
@@ -0,0 +1,70 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.oauth.*;
+
+/**
+ * Default implementation of the OAuth protocol, version 2.0 (draft 11)
+ *
+ * This class is meant to be extended by concrete implementations of the API,
+ * providing the endpoints and endpoint-http-verbs.
+ *
+ * If your Api adheres to the 2.0 (draft 11) protocol correctly, you just need to extend
+ * this class and define the getters for your endpoints.
+ *
+ * If your Api does something a bit different, you can override the different
+ * extractors or services, in order to fine-tune the process. Please read the
+ * javadocs of the interfaces to get an idea of what to do.
+ *
+ * @author Diego Silveira
+ *
+ */
+public abstract class DefaultApi20 implements Api
+{
+
+  /**
+   * Returns the access token extractor.
+   * 
+   * @return access token extractor
+   */
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new TokenExtractor20Impl();
+  }
+	
+  /**
+   * Returns the verb for the access token endpoint (defaults to GET)
+   * 
+   * @return access token endpoint verb
+   */
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.GET;
+  }
+	
+  /**
+   * Returns the URL that receives the access token requests.
+   * 
+   * @return access token URL
+   */
+  public abstract String getAccessTokenEndpoint();
+	
+  /**
+   * Returns the URL where you should redirect your users to authenticate
+   * your application.
+   *
+   * @param config OAuth 2.0 configuration param object
+   * @return the URL where you should redirect your users
+   */
+  public abstract String getAuthorizationUrl(OAuthConfig config);
+
+  /**
+   * {@inheritDoc}
+   */
+  public OAuthService createService(OAuthConfig config)
+  {
+    return new OAuth20ServiceImpl(this, config);
+  }
+
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/DiggApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/DiggApi.java
new file mode 100644
index 0000000..b69253e
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/DiggApi.java
@@ -0,0 +1,29 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class DiggApi extends DefaultApi10a 
+{
+
+  private static final String AUTHORIZATION_URL = "http://digg.com/oauth/authorize?oauth_token=%s";
+  private static final String BASE_URL = "http://services.digg.com/oauth/";
+
+  @Override
+  public String getRequestTokenEndpoint() 
+  {
+    return BASE_URL + "request_token";
+  }
+
+  @Override
+  public String getAccessTokenEndpoint() 
+  {
+    return BASE_URL + "access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken) 
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/DropBoxApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/DropBoxApi.java
new file mode 100644
index 0000000..86f4a71
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/DropBoxApi.java
@@ -0,0 +1,25 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class DropBoxApi extends DefaultApi10a
+{
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.dropbox.com/1/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return "https://www.dropbox.com/1/oauth/authorize?oauth_token="+requestToken.getToken();
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://api.dropbox.com/1/oauth/request_token";
+  }
+
+}
\ No newline at end of file
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/EvernoteApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/EvernoteApi.java
new file mode 100644
index 0000000..007f48b
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/EvernoteApi.java
@@ -0,0 +1,49 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class EvernoteApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "https://www.evernote.com/OAuth.action?oauth_token=%s";
+
+  @Override
+	public String getRequestTokenEndpoint()
+  {
+    return "https://www.evernote.com/oauth";
+  }
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+	  return "https://www.evernote.com/oauth";
+	}
+	
+	@Override
+	public String getAuthorizationUrl(Token requestToken)
+	{
+	  return String.format(AUTHORIZATION_URL, requestToken.getToken());
+	}
+
+	public static class Sandbox extends EvernoteApi
+	{
+	  private static final String SANDBOX_URL = "https://sandbox.evernote.com";
+
+	  @Override
+	  public String getRequestTokenEndpoint()
+	  {
+	    return SANDBOX_URL + "/oauth";
+	  }
+
+	  @Override
+	  public String getAccessTokenEndpoint()
+	  {
+      return SANDBOX_URL + "/oauth";
+	  }
+
+	  @Override
+	  public String getAuthorizationUrl(Token requestToken)
+	  {
+	    return String.format(SANDBOX_URL + "/OAuth.action?oauth_token=%s", requestToken.getToken());
+	  }
+	}	
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/FacebookApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/FacebookApi.java
new file mode 100644
index 0000000..996a651
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/FacebookApi.java
@@ -0,0 +1,33 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+import org.scribe.utils.*;
+
+public class FacebookApi extends DefaultApi20
+{
+  private static final String AUTHORIZE_URL = "https://www.facebook.com/dialog/oauth?client_id=%s&redirect_uri=%s";
+  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://graph.facebook.com/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Facebook does not support OOB");
+
+    // Append scope if present
+    if(config.hasScope())
+    {
+     return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    }
+    else
+    {
+      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/FlickrApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/FlickrApi.java
new file mode 100644
index 0000000..a630436
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/FlickrApi.java
@@ -0,0 +1,40 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+/**
+ * OAuth API for Flickr.
+ * 
+ * @author Darren Greaves
+ * @see <a href="http://www.flickr.com/services/api/">Flickr API</a>
+ */
+public class FlickrApi extends DefaultApi10a
+{
+
+  /**
+   * {@inheritDoc}
+   */
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "http://www.flickr.com/services/oauth/access_token";
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return "http://www.flickr.com/services/oauth/authorize?oauth_token=" + requestToken.getToken();
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "http://www.flickr.com/services/oauth/request_token";
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/Foursquare2Api.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/Foursquare2Api.java
new file mode 100644
index 0000000..d11def9
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/Foursquare2Api.java
@@ -0,0 +1,29 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+public class Foursquare2Api extends DefaultApi20
+{
+  private static final String AUTHORIZATION_URL = "https://foursquare.com/oauth2/authenticate?client_id=%s&response_type=code&redirect_uri=%s";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://foursquare.com/oauth2/access_token?grant_type=authorization_code";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Foursquare2 does not support OOB");
+    return String.format(AUTHORIZATION_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+  }
+
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new JsonTokenExtractor();
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/FoursquareApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/FoursquareApi.java
new file mode 100644
index 0000000..060a76b
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/FoursquareApi.java
@@ -0,0 +1,26 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class FoursquareApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "http://foursquare.com/oauth/authorize?oauth_token=%s";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "http://foursquare.com/oauth/access_token";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "http://foursquare.com/oauth/request_token";
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/FreelancerApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/FreelancerApi.java
new file mode 100644
index 0000000..482e66f
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/FreelancerApi.java
@@ -0,0 +1,61 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class FreelancerApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "http://www.freelancer.com/users/api-token/auth.php?oauth_token=%s";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "http://api.freelancer.com/RequestAccessToken/requestAccessToken.xml?";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "http://api.freelancer.com/RequestRequestToken/requestRequestToken.xml";
+  }
+
+  @Override
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.GET;
+  }
+
+  @Override
+  public Verb getRequestTokenVerb()
+  {
+    return Verb.GET;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+
+  public static class Sandbox extends FreelancerApi
+  {
+    private static final String SANDBOX_AUTHORIZATION_URL = "http://www.sandbox.freelancer.com/users/api-token/auth.php";
+
+    @Override
+    public String getRequestTokenEndpoint()
+    {
+      return "http://api.sandbox.freelancer.com/RequestRequestToken/requestRequestToken.xml";
+    }
+
+    @Override
+    public String getAccessTokenEndpoint()
+    {
+      return "http://api.sandbox.freelancer.com/RequestAccessToken/requestAccessToken.xml?";
+    }
+
+    @Override
+    public String getAuthorizationUrl(Token requestToken)
+    {
+      return String.format(SANDBOX_AUTHORIZATION_URL + "?oauth_token=%s", requestToken.getToken());
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/GetGlueApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/GetGlueApi.java
new file mode 100644
index 0000000..3a7560f
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/GetGlueApi.java
@@ -0,0 +1,29 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class GetGlueApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "http://getglue.com/oauth/authorize?oauth_token=%s";
+  private static final String REQUEST_TOKEN_RESOURCE = "https://api.getglue.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_RESOURCE = "https://api.getglue.com/oauth/access_token";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/GoogleApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/GoogleApi.java
new file mode 100644
index 0000000..9c86e5e
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/GoogleApi.java
@@ -0,0 +1,38 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class GoogleApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=%s";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://www.google.com/accounts/OAuthGetAccessToken"; 
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://www.google.com/accounts/OAuthGetRequestToken";
+  }
+
+  @Override
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.GET;
+  }
+
+  @Override
+  public Verb getRequestTokenVerb()
+  {
+    return Verb.GET;
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/ImgUrApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/ImgUrApi.java
new file mode 100644
index 0000000..06dd691
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/ImgUrApi.java
@@ -0,0 +1,32 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+/**
+ * OAuth API for ImgUr
+ *
+ * @author David Wursteisen
+ * @see <a href="http://api.imgur.com/#authapi">ImgUr API</a>
+ */
+public class ImgUrApi extends DefaultApi10a
+{
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://api.imgur.com/oauth/request_token";
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.imgur.com/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format("https://api.imgur.com/oauth/authorize?oauth_token=%s", requestToken.getToken());
+  }
+}
+
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi.java
new file mode 100644
index 0000000..1bf6bab
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi.java
@@ -0,0 +1,40 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class KaixinApi extends DefaultApi10a 
+{
+	private static final String REQUEST_TOKEN_URL = "http://api.kaixin001.com/oauth/request_token";
+	private static final String ACCESS_TOKEN_URL = "http://api.kaixin001.com/oauth/access_token";
+	private static final String AUTHORIZE_URL = "http://api.kaixin001.com/oauth/authorize?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint() 
+	{
+		return REQUEST_TOKEN_URL;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint() 
+	{
+		return ACCESS_TOKEN_URL;
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken) 
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+
+	@Override
+	public Verb getRequestTokenVerb() 
+	{
+		return Verb.GET;
+	}
+
+	@Override
+	public Verb getAccessTokenVerb() 
+	{
+		return Verb.GET;
+	}
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi20.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi20.java
new file mode 100644
index 0000000..9e27bcb
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/KaixinApi20.java
@@ -0,0 +1,41 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Kaixin(http://www.kaixin001.com/) open platform api based on OAuth 2.0.
+ */
+public class KaixinApi20 extends DefaultApi20
+{
+
+  private static final String AUTHORIZE_URL = "http://api.kaixin001.com/oauth2/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new JsonTokenExtractor();
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.kaixin001.com/oauth2/access_token?grant_type=authorization_code";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    // Append scope if present
+    if (config.hasScope())
+    {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    }
+    else
+    {
+      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/LinkedInApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/LinkedInApi.java
new file mode 100644
index 0000000..f459404
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/LinkedInApi.java
@@ -0,0 +1,27 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class LinkedInApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://api.linkedin.com/uas/oauth/authorize?oauth_token=%s";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.linkedin.com/uas/oauth/accessToken";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://api.linkedin.com/uas/oauth/requestToken";
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+  
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/LiveApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/LiveApi.java
new file mode 100644
index 0000000..18140f6
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/LiveApi.java
@@ -0,0 +1,40 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+public class LiveApi extends DefaultApi20
+{
+
+	private static final String AUTHORIZE_URL = "https://oauth.live.com/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+	private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return "https://oauth.live.com/token?grant_type=authorization_code";
+	}
+
+	@Override
+	public String getAuthorizationUrl(OAuthConfig config)
+	{
+		Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Live does not support OOB");
+
+		// Append scope if present
+		if (config.hasScope())
+		{
+			return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+		}
+    else
+		{
+			return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+		}
+	}
+
+	@Override
+	public AccessTokenExtractor getAccessTokenExtractor()
+	{
+		return new JsonTokenExtractor();
+	}
+}
\ No newline at end of file
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/LoveFilmApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/LoveFilmApi.java
new file mode 100644
index 0000000..81a5bb8
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/LoveFilmApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class LoveFilmApi extends DefaultApi10a
+{
+  private static final String REQUEST_TOKEN_URL = "http://openapi.lovefilm.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_URL = "http://openapi.lovefilm.com/oauth/access_token";
+  private static final String AUTHORIZE_URL = "https://www.lovefilm.com/activate?oauth_token=%s";
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_URL;
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_URL;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/MeetupApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/MeetupApi.java
new file mode 100644
index 0000000..8f63e39
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/MeetupApi.java
@@ -0,0 +1,30 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+/**
+ * OAuth access to the Meetup.com API.
+ * For more information visit http://www.meetup.com/api
+ */
+public class MeetupApi extends DefaultApi10a
+{
+	private static final String AUTHORIZE_URL = "http://www.meetup.com/authenticate?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint()
+	{
+		return "http://api.meetup.com/oauth/request/";
+	}
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return "http://api.meetup.com/oauth/access/";
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken)
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/MisoApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/MisoApi.java
new file mode 100644
index 0000000..a6d88d3
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/MisoApi.java
@@ -0,0 +1,29 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class MisoApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "http://gomiso.com/oauth/authorize?oauth_token=%s";
+  private static final String REQUEST_TOKEN_RESOURCE = "http://gomiso.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_RESOURCE = "http://gomiso.com/oauth/access_token";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/NetProspexApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/NetProspexApi.java
new file mode 100644
index 0000000..8257de7
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/NetProspexApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class NetProspexApi extends DefaultApi10a
+{
+  private static final String REQUEST_TOKEN_URL = "https://api.netprospex.com/1.0/oauth/request-token";
+  private static final String ACCESS_TOKEN_URL = "https://api.netprospex.com/1.0/oauth/access-token";
+  private static final String AUTHORIZE_URL = "https://api.netprospex.com/1.0/oauth/authorize?oauth_token=%s";
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_URL;
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_URL;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/NeteaseWeibooApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/NeteaseWeibooApi.java
new file mode 100644
index 0000000..fae38ac
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/NeteaseWeibooApi.java
@@ -0,0 +1,47 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class NeteaseWeibooApi extends DefaultApi10a
+{
+	private static final String REQUEST_TOKEN_URL = "http://api.t.163.com/oauth/request_token";
+	private static final String ACCESS_TOKEN_URL = "http://api.t.163.com/oauth/access_token";
+	private static final String AUTHORIZE_URL = "http://api.t.163.com/oauth/authorize?oauth_token=%s";
+	private static final String AUTHENTICATE_URL = "http://api.t.163.com/oauth/authenticate?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint() 
+	{
+		return REQUEST_TOKEN_URL;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return ACCESS_TOKEN_URL;
+	}
+
+	@Override
+	/**
+	 * this method will ignore your callback
+	 * if you're creating a desktop client please choose this url
+	 * else your can call getAuthenticateUrl
+	 * 
+	 * via http://open.t.163.com/wiki/index.php?title=%E8%AF%B7%E6%B1%82%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83Token(oauth/authorize)
+	 */
+	public String getAuthorizationUrl(Token requestToken)
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+
+	/**
+	 * this method is for web client with callback url
+	 * if you're creating a desktop client please call getAuthorizationUrl 
+	 * 
+	 * via http://open.t.163.com/wiki/index.php?title=%E8%AF%B7%E6%B1%82%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83Token(oauth/authenticate)
+	 */
+	public String getAuthenticateUrl(Token requestToken)
+	{
+		return String.format(AUTHENTICATE_URL, requestToken.getToken());
+	}
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/PlurkApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/PlurkApi.java
new file mode 100644
index 0000000..323ad2c
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/PlurkApi.java
@@ -0,0 +1,39 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class PlurkApi extends DefaultApi10a
+{
+  private static final String REQUEST_TOKEN_URL = "http://www.plurk.com/OAuth/request_token";
+  private static final String AUTHORIZATION_URL = "http://www.plurk.com/OAuth/authorize?oauth_token=%s";
+  private static final String ACCESS_TOKEN_URL = "http://www.plurk.com/OAuth/access_token";
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_URL;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_URL;
+  }
+
+  public class Mobile extends PlurkApi
+  {
+    private static final String AUTHORIZATION_URL = "http://www.plurk.com/m/authorize?oauth_token=%s";
+
+    @Override
+    public String getAuthorizationUrl(Token requestToken)
+    {
+      return String.format(AUTHORIZATION_URL, requestToken.getToken());
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/Px500Api.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/Px500Api.java
new file mode 100644
index 0000000..f7f3b0e
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/Px500Api.java
@@ -0,0 +1,26 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class Px500Api extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "https://api.500px.com/v1/oauth/authorize?oauth_token=%s";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.500px.com/v1/oauth/access_token";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://api.500px.com/v1/oauth/request_token";
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+}
\ No newline at end of file
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/QWeiboApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/QWeiboApi.java
new file mode 100644
index 0000000..c036bd5
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/QWeiboApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class QWeiboApi extends DefaultApi10a 
+{
+	private static final String REQUEST_TOKEN_URL = "https://open.t.qq.com/cgi-bin/request_token";
+	private static final String ACCESS_TOKEN_URL = "https://open.t.qq.com/cgi-bin/access_token";
+	private static final String AUTHORIZE_URL = "https://open.t.qq.com/cgi-bin/authorize?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint() 
+	{
+		return REQUEST_TOKEN_URL;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint() 
+	{
+		return ACCESS_TOKEN_URL;
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken) 
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/RenrenApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/RenrenApi.java
new file mode 100644
index 0000000..b31337b
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/RenrenApi.java
@@ -0,0 +1,40 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Renren(http://www.renren.com/) OAuth 2.0 based api.
+ */
+public class RenrenApi extends DefaultApi20
+{
+  private static final String AUTHORIZE_URL = "https://graph.renren.com/oauth/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new JsonTokenExtractor();
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://graph.renren.com/oauth/token?grant_type=authorization_code";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    // Append scope if present
+    if (config.hasScope())
+    {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    }
+    else
+    {
+      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SapoApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SapoApi.java
new file mode 100644
index 0000000..9771daf
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SapoApi.java
@@ -0,0 +1,40 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class SapoApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://id.sapo.pt/oauth/authorize?oauth_token=%s";
+  private static final String ACCESS_URL = "https://id.sapo.pt/oauth/access_token";
+  private static final String REQUEST_URL = "https://id.sapo.pt/oauth/request_token";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_URL;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_URL;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+
+  @Override
+  public Verb getRequestTokenVerb()
+  {
+    return Verb.GET;
+  }
+
+  @Override
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.GET;
+  }
+}
\ No newline at end of file
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SimpleGeoApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SimpleGeoApi.java
new file mode 100644
index 0000000..3e19df7
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SimpleGeoApi.java
@@ -0,0 +1,29 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class SimpleGeoApi extends DefaultApi10a
+{
+  private static final String ENDPOINT = "these are not used since SimpleGeo uses 2 legged OAuth";
+
+	@Override
+	public String getRequestTokenEndpoint()
+	{
+		return ENDPOINT;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return ENDPOINT;
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken)
+	{
+		return ENDPOINT;
+	}
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi.java
new file mode 100644
index 0000000..14951d3
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class SinaWeiboApi extends DefaultApi10a
+{
+	private static final String REQUEST_TOKEN_URL = "http://api.t.sina.com.cn/oauth/request_token";
+	private static final String ACCESS_TOKEN_URL = "http://api.t.sina.com.cn/oauth/access_token";
+	private static final String AUTHORIZE_URL = "http://api.t.sina.com.cn/oauth/authorize?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint()
+	{
+		return REQUEST_TOKEN_URL;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return ACCESS_TOKEN_URL;
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken)
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi20.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi20.java
new file mode 100644
index 0000000..e0744c4
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SinaWeiboApi20.java
@@ -0,0 +1,46 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * SinaWeibo OAuth 2.0 api.
+ */
+public class SinaWeiboApi20 extends DefaultApi20
+{
+  private static final String AUTHORIZE_URL = "https://api.weibo.com/oauth2/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+
+  @Override
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.POST;
+  }
+
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new JsonTokenExtractor();
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.weibo.com/oauth2/access_token?grant_type=authorization_code";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    // Append scope if present
+    if (config.hasScope())
+    {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    }
+    else
+    {
+      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SkyrockApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SkyrockApi.java
new file mode 100644
index 0000000..b0e76a3
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SkyrockApi.java
@@ -0,0 +1,35 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+/**
+ * OAuth API for Skyrock.
+ *
+ * @author Nicolas Quinot
+ * @see <a href="http://www.skyrock.com/developer/">Skyrock.com API</a>
+ */
+public class SkyrockApi extends DefaultApi10a
+{
+  private static final String API_ENDPOINT = "https://api.skyrock.com/v2";
+  private static final String REQUEST_TOKEN_RESOURCE = "/oauth/initiate";
+  private static final String AUTHORIZE_URL = "/oauth/authorize?oauth_token=%s";
+  private static final String ACCESS_TOKEN_RESOURCE = "/oauth/token";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return API_ENDPOINT + ACCESS_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return API_ENDPOINT + REQUEST_TOKEN_RESOURCE;
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(API_ENDPOINT + AUTHORIZE_URL, requestToken.getToken());
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/SohuWeiboApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/SohuWeiboApi.java
new file mode 100644
index 0000000..1f927b7
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/SohuWeiboApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class SohuWeiboApi extends DefaultApi10a
+{
+	private static final String REQUEST_TOKEN_URL = "http://api.t.sohu.com/oauth/request_token";
+	private static final String ACCESS_TOKEN_URL = "http://api.t.sohu.com/oauth/access_token";
+	private static final String AUTHORIZE_URL = "http://api.t.sohu.com/oauth/authorize?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint()
+	{
+		return REQUEST_TOKEN_URL;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return ACCESS_TOKEN_URL;
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken)
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/TumblrApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/TumblrApi.java
new file mode 100644
index 0000000..ee680ee
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/TumblrApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class TumblrApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://www.tumblr.com/oauth/authorize?oauth_token=%s";
+  private static final String REQUEST_TOKEN_RESOURCE = "http://www.tumblr.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_RESOURCE = "http://www.tumblr.com/oauth/access_token";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/TwitterApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/TwitterApi.java
new file mode 100644
index 0000000..a83c28e
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/TwitterApi.java
@@ -0,0 +1,66 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class TwitterApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize?oauth_token=%s";
+  private static final String REQUEST_TOKEN_RESOURCE = "api.twitter.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_RESOURCE = "api.twitter.com/oauth/access_token";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "http://" + ACCESS_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "http://" + REQUEST_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+
+  public static class SSL extends TwitterApi
+  {
+    @Override
+    public String getAccessTokenEndpoint()
+    {
+      return "https://" + ACCESS_TOKEN_RESOURCE;
+    }
+
+    @Override
+    public String getRequestTokenEndpoint()
+    {
+      return "https://" + REQUEST_TOKEN_RESOURCE;
+    }
+  }
+
+  /**
+   * Twitter 'friendlier' authorization endpoint for OAuth.
+   *
+   * Uses SSL.
+   */
+  public static class Authenticate extends SSL
+  {
+    private static final String AUTHENTICATE_URL = "https://api.twitter.com/oauth/authenticate?oauth_token=%s";
+
+    @Override
+    public String getAuthorizationUrl(Token requestToken)
+    {
+      return String.format(AUTHENTICATE_URL, requestToken.getToken());
+    }
+  }
+
+  /**
+   * Just an alias to the default (SSL) authorization endpoint.
+   *
+   * Need to include this for symmetry with 'Authenticate' only.
+   */
+  public static class Authorize extends SSL{}
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/VimeoApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/VimeoApi.java
new file mode 100644
index 0000000..231895d
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/VimeoApi.java
@@ -0,0 +1,26 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class VimeoApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "http://vimeo.com/oauth/authorize?oauth_token=%s";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "http://vimeo.com/oauth/access_token";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "http://vimeo.com/oauth/request_token";
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/VkontakteApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/VkontakteApi.java
new file mode 100644
index 0000000..83050e3
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/VkontakteApi.java
@@ -0,0 +1,41 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.utils.*;
+import org.scribe.model.*;
+
+/**
+ * @author Boris G. Tsirkin <mail@dotbg.name>
+ * @since 20.4.2011
+ */
+public class VkontakteApi extends DefaultApi20
+{
+  private static final String AUTHORIZE_URL = "https://api.vkontakte.ru/oauth/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+  private static final String SCOPED_AUTHORIZE_URL = String.format("%s&scope=%%s", AUTHORIZE_URL);
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.vkontakte.ru/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    Preconditions.checkValidUrl(config.getCallback(), "Valid url is required for a callback. Vkontakte does not support OOB");
+    if(config.hasScope())// Appending scope if present
+    {
+     return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    }
+    else
+    {
+      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    }
+  }
+
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new JsonTokenExtractor();
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/YahooApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/YahooApi.java
new file mode 100644
index 0000000..e8a29a7
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/YahooApi.java
@@ -0,0 +1,26 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class YahooApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://api.login.yahoo.com/oauth/v2/request_auth?oauth_token=%s";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.login.yahoo.com/oauth/v2/get_token";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://api.login.yahoo.com/oauth/v2/get_request_token";
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/builder/api/YammerApi.java b/Coacheller-AppEngine/shared/org/scribe/builder/api/YammerApi.java
new file mode 100644
index 0000000..e06543d
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/builder/api/YammerApi.java
@@ -0,0 +1,33 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+import org.scribe.services.*;
+
+public class YammerApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "https://www.yammer.com/oauth/authorize?oauth_token=%s";
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://www.yammer.com/oauth/request_token";
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://www.yammer.com/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+
+  @Override
+  public SignatureService getSignatureService()
+  {
+    return new PlaintextSignatureService();
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthConnectionException.java b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthConnectionException.java
new file mode 100644
index 0000000..918de81
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthConnectionException.java
@@ -0,0 +1,14 @@
+package org.scribe.exceptions;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class OAuthConnectionException extends OAuthException
+{
+  private static final String MSG = "There was a problem while creating a connection to the remote service.";
+
+  public OAuthConnectionException(Exception e)
+  {
+    super(MSG, e);
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthException.java b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthException.java
new file mode 100644
index 0000000..85f49d9
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthException.java
@@ -0,0 +1,33 @@
+package org.scribe.exceptions;
+
+/**
+ * Default scribe exception. 
+ * Represents a problem in the OAuth signing process
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthException extends RuntimeException
+{
+
+  /**
+   * Default constructor 
+   * @param message message explaining what went wrong
+   * @param e original exception
+   */
+  public OAuthException(String message, Exception e)
+  {
+    super(message, e);
+  }
+
+  /**
+   * No-exception constructor. Used when there is no original exception
+   *  
+   * @param message message explaining what went wrong
+   */
+  public OAuthException(String message)
+  {
+    super(message, null);
+  }
+
+  private static final long serialVersionUID = 1L;
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthParametersMissingException.java b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthParametersMissingException.java
new file mode 100644
index 0000000..8407ce4
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthParametersMissingException.java
@@ -0,0 +1,26 @@
+package org.scribe.exceptions;
+
+import org.scribe.model.*;
+
+/**
+ * Specialized exception that represents a missing OAuth parameter. 
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthParametersMissingException extends OAuthException
+{
+
+  private static final long serialVersionUID = 1745308760111976671L;
+  private static final String MSG = "Could not find oauth parameters in request: %s. "
+      + "OAuth parameters must be specified with the addOAuthParameter() method";
+
+  /**
+   * Default constructor.
+   * 
+   * @param request OAuthRequest that caused the error
+   */
+  public OAuthParametersMissingException(OAuthRequest request)
+  {
+    super(String.format(MSG, request));
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthSignatureException.java b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthSignatureException.java
new file mode 100644
index 0000000..94692be
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/exceptions/OAuthSignatureException.java
@@ -0,0 +1,24 @@
+package org.scribe.exceptions;
+
+/**
+ * Specialized exception that represents a problem in the signature
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthSignatureException extends OAuthException
+{
+  private static final long serialVersionUID = 1L;
+  private static final String MSG = "Error while signing string: %s";
+  
+  /**
+   * Default constructor
+   * 
+   * @param stringToSign plain string that gets signed (HMAC-SHA, etc)
+   * @param e original exception
+   */
+  public OAuthSignatureException(String stringToSign, Exception e)
+  {
+    super(String.format(MSG, stringToSign), e);
+  }
+
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/AccessTokenExtractor.java b/Coacheller-AppEngine/shared/org/scribe/extractors/AccessTokenExtractor.java
new file mode 100644
index 0000000..3c0dd34
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/AccessTokenExtractor.java
@@ -0,0 +1,19 @@
+package org.scribe.extractors;
+
+import org.scribe.model.*;
+
+/**
+ * Simple command object that extracts a {@link Token} from a String
+ * 
+ * @author Pablo Fernandez
+ */
+public interface AccessTokenExtractor
+{
+  /**
+   * Extracts the access token from the contents of an Http Response
+   *  
+   * @param response the contents of the response
+   * @return OAuth access token
+   */
+  public Token extract(String response);
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractor.java b/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractor.java
new file mode 100644
index 0000000..83ddd10
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractor.java
@@ -0,0 +1,21 @@
+package org.scribe.extractors;
+
+import org.scribe.model.*;
+
+/**
+ * Simple command object that extracts a base string from a {@link OAuthRequest}
+ * 
+ * @author Pablo Fernandez
+ */
+public interface BaseStringExtractor
+{
+  /**
+   * Extracts an url-encoded base string from the {@link OAuthRequest}.
+   * 
+   * See <a href="http://oauth.net/core/1.0/#anchor14">the oauth spec</a> for more info on this.
+   * 
+   * @param request the OAuthRequest
+   * @return the url-encoded base string
+   */
+  String extract(OAuthRequest request);
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractorImpl.java b/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractorImpl.java
new file mode 100644
index 0000000..ca21a0d
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/BaseStringExtractorImpl.java
@@ -0,0 +1,48 @@
+package org.scribe.extractors;
+
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Default implementation of {@link BaseStringExtractor}. Conforms to OAuth 1.0a
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public class BaseStringExtractorImpl implements BaseStringExtractor
+{
+
+  private static final String AMPERSAND_SEPARATED_STRING = "%s&%s&%s";
+
+  /**
+   * {@inheritDoc}
+   */
+  public String extract(OAuthRequest request)
+  {
+    checkPreconditions(request);
+    String verb = OAuthEncoder.encode(request.getVerb().name());
+    String url = OAuthEncoder.encode(request.getSanitizedUrl());
+    String params = getSortedAndEncodedParams(request);
+    return String.format(AMPERSAND_SEPARATED_STRING, verb, url, params);
+  }
+
+  private String getSortedAndEncodedParams(OAuthRequest request)
+  {
+    ParameterList params = new ParameterList();
+    params.addAll(request.getQueryStringParams());
+    params.addAll(request.getBodyParams());
+    params.addAll(new ParameterList(request.getOauthParameters()));
+    return params.sort().asOauthBaseString();
+  }
+
+  private void checkPreconditions(OAuthRequest request)
+  {
+    Preconditions.checkNotNull(request, "Cannot extract base string from null object");
+
+    if (request.getOauthParameters() == null || request.getOauthParameters().size() <= 0)
+    {
+      throw new OAuthParametersMissingException(request);
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractor.java b/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractor.java
new file mode 100644
index 0000000..2bc1f8b
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractor.java
@@ -0,0 +1,19 @@
+package org.scribe.extractors;
+
+import org.scribe.model.*;
+
+/**
+ * Simple command object that generates an OAuth Authorization header to include in the request.
+ * 
+ * @author Pablo Fernandez
+ */
+public interface HeaderExtractor
+{
+  /**
+   * Generates an OAuth 'Authorization' Http header to include in requests as the signature.
+   * 
+   * @param request the OAuthRequest to inspect and generate the header
+   * @return the Http header value
+   */
+  String extract(OAuthRequest request);
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractorImpl.java b/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractorImpl.java
new file mode 100644
index 0000000..73c4ada
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/HeaderExtractorImpl.java
@@ -0,0 +1,50 @@
+package org.scribe.extractors;
+
+import java.util.*;
+
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Default implementation of {@link HeaderExtractor}. Conforms to OAuth 1.0a
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public class HeaderExtractorImpl implements HeaderExtractor
+{
+  private static final String PARAM_SEPARATOR = ", ";
+  private static final String PREAMBLE = "OAuth ";
+
+  /**
+   * {@inheritDoc}
+   */
+  public String extract(OAuthRequest request)
+  {
+    checkPreconditions(request);
+    Map<String, String> parameters = request.getOauthParameters();
+    StringBuffer header = new StringBuffer(parameters.size() * 20);
+    header.append(PREAMBLE);
+    for (String key : parameters.keySet())
+    {
+      if(header.length() > PREAMBLE.length())
+      { 
+        header.append(PARAM_SEPARATOR);
+      }
+      header.append(String.format("%s=\"%s\"", key, OAuthEncoder.encode(parameters.get(key))));
+    }
+    return header.toString();
+  }
+
+  private void checkPreconditions(OAuthRequest request)
+  {
+    Preconditions.checkNotNull(request, "Cannot extract a header from a null object");
+
+    if (request.getOauthParameters() == null || request.getOauthParameters().size() <= 0)
+    {
+      throw new OAuthParametersMissingException(request);
+    }
+  }
+
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/JsonTokenExtractor.java b/Coacheller-AppEngine/shared/org/scribe/extractors/JsonTokenExtractor.java
new file mode 100644
index 0000000..9344a21
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/JsonTokenExtractor.java
@@ -0,0 +1,28 @@
+package org.scribe.extractors;
+
+import java.util.regex.*;
+
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+public class JsonTokenExtractor implements AccessTokenExtractor
+{
+  private Pattern accessTokenPattern = Pattern.compile("\"access_token\":\\s*\"(\\S*?)\"");
+
+  @Override
+  public Token extract(String response)
+  {
+    Preconditions.checkEmptyString(response, "Cannot extract a token from a null or empty String");
+    Matcher matcher = accessTokenPattern.matcher(response);
+    if(matcher.find())
+    {
+      return new Token(matcher.group(1), "", response);
+    }
+    else
+    {
+      throw new OAuthException("Cannot extract an acces token. Response was: " + response);
+    }
+  }
+
+}
\ No newline at end of file
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/RequestTokenExtractor.java b/Coacheller-AppEngine/shared/org/scribe/extractors/RequestTokenExtractor.java
new file mode 100644
index 0000000..1830212
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/RequestTokenExtractor.java
@@ -0,0 +1,19 @@
+package org.scribe.extractors;
+
+import org.scribe.model.*;
+
+/**
+ * Simple command object that extracts a {@link Token} from a String
+ * 
+ * @author Pablo Fernandez
+ */
+public interface RequestTokenExtractor
+{
+  /**
+   * Extracts the request token from the contents of an Http Response
+   *  
+   * @param response the contents of the response
+   * @return OAuth access token
+   */
+  public Token extract(String response);
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractor20Impl.java b/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractor20Impl.java
new file mode 100644
index 0000000..1eb22ad
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractor20Impl.java
@@ -0,0 +1,36 @@
+package org.scribe.extractors;
+
+import java.util.regex.*;
+
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Default implementation of {@AccessTokenExtractor}. Conforms to OAuth 2.0
+ *
+ */
+public class TokenExtractor20Impl implements AccessTokenExtractor
+{
+  private static final String TOKEN_REGEX = "access_token=([^&]+)";
+  private static final String EMPTY_SECRET = "";
+
+  /**
+   * {@inheritDoc} 
+   */
+  public Token extract(String response)
+  {
+    Preconditions.checkEmptyString(response, "Response body is incorrect. Can't extract a token from an empty string");
+
+    Matcher matcher = Pattern.compile(TOKEN_REGEX).matcher(response);
+    if (matcher.find())
+    {
+      String token = OAuthEncoder.decode(matcher.group(1));
+      return new Token(token, EMPTY_SECRET, response);
+    } 
+    else
+    {
+      throw new OAuthException("Response body is incorrect. Can't extract a token from this: '" + response + "'", null);
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractorImpl.java b/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractorImpl.java
new file mode 100644
index 0000000..ba1784b
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/extractors/TokenExtractorImpl.java
@@ -0,0 +1,44 @@
+package org.scribe.extractors;
+
+import java.util.regex.*;
+
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Default implementation of {@RequestTokenExtractor} and {@AccessTokenExtractor}. Conforms to OAuth 1.0a
+ *
+ * The process for extracting access and request tokens is similar so this class can do both things.
+ * 
+ * @author Pablo Fernandez
+ */
+public class TokenExtractorImpl implements RequestTokenExtractor, AccessTokenExtractor
+{
+  private static final Pattern TOKEN_REGEX = Pattern.compile("oauth_token=([^&]+)");
+  private static final Pattern SECRET_REGEX = Pattern.compile("oauth_token_secret=([^&]*)");
+
+  /**
+   * {@inheritDoc} 
+   */
+  public Token extract(String response)
+  {
+    Preconditions.checkEmptyString(response, "Response body is incorrect. Can't extract a token from an empty string");
+    String token = extract(response, TOKEN_REGEX);
+    String secret = extract(response, SECRET_REGEX);
+    return new Token(token, secret, response);
+  }
+
+  private String extract(String response, Pattern p)
+  {
+    Matcher matcher = p.matcher(response);
+    if (matcher.find() && matcher.groupCount() >= 1)
+    {
+      return OAuthEncoder.decode(matcher.group(1));
+    }
+    else
+    {
+      throw new OAuthException("Response body is incorrect. Can't extract token and secret from this: '" + response + "'", null);
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/OAuthConfig.java b/Coacheller-AppEngine/shared/org/scribe/model/OAuthConfig.java
new file mode 100644
index 0000000..374c958
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/OAuthConfig.java
@@ -0,0 +1,79 @@
+package org.scribe.model;
+
+import java.io.*;
+
+/**
+ * Parameter object that groups OAuth config values
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthConfig
+{
+  private final String apiKey;
+  private final String apiSecret;
+  private final String callback;
+  private final SignatureType signatureType;
+  private final String scope;
+  private final OutputStream debugStream;
+  
+  public OAuthConfig(String key, String secret)
+  {
+    this(key, secret, null, null, null, null);
+  }
+
+  public OAuthConfig(String key, String secret, String callback, SignatureType type, String scope, OutputStream stream)
+  {
+    this.apiKey = key;
+    this.apiSecret = secret;
+    this.callback = callback;
+    this.signatureType = type;
+    this.scope = scope;
+    this.debugStream = stream;
+  }
+
+  public String getApiKey()
+  {
+    return apiKey;
+  }
+
+  public String getApiSecret()
+  {
+    return apiSecret;
+  }
+
+  public String getCallback()
+  {
+    return callback;
+  }
+
+  public SignatureType getSignatureType()
+  {
+    return signatureType;
+  }
+
+  public String getScope()
+  {
+    return scope;
+  }
+
+  public boolean hasScope()
+  {
+    return scope != null;
+  }
+
+  public void log(String message)
+  {
+    if (debugStream != null)
+    {
+      message = message + "\n";
+      try
+      {
+        debugStream.write(message.getBytes("UTF8"));
+      }
+      catch (Exception e)
+      {
+        throw new RuntimeException("there were problems while writting to the debug stream", e);
+      }
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/OAuthConstants.java b/Coacheller-AppEngine/shared/org/scribe/model/OAuthConstants.java
new file mode 100644
index 0000000..c93c31c
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/OAuthConstants.java
@@ -0,0 +1,49 @@
+/* 
+Copyright 2010 Pablo Fernandez
+
+Licensed under the Apache License, Version 2.0 (the "License");
+you may not use this file except in compliance with the License.
+You may obtain a copy of the License at
+
+http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing, software
+distributed under the License is distributed on an "AS IS" BASIS,
+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+See the License for the specific language governing permissions and
+limitations under the License.
+ */
+package org.scribe.model;
+
+/**
+ * This class contains OAuth constants, used project-wide
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthConstants
+{
+  public static final String TIMESTAMP = "oauth_timestamp";
+  public static final String SIGN_METHOD = "oauth_signature_method";
+  public static final String SIGNATURE = "oauth_signature";
+  public static final String CONSUMER_SECRET = "oauth_consumer_secret";
+  public static final String CONSUMER_KEY = "oauth_consumer_key";
+  public static final String CALLBACK = "oauth_callback";
+  public static final String VERSION = "oauth_version";
+  public static final String NONCE = "oauth_nonce";
+  public static final String PARAM_PREFIX = "oauth_";
+  public static final String TOKEN = "oauth_token";
+  public static final String TOKEN_SECRET = "oauth_token_secret";
+  public static final String OUT_OF_BAND = "oob";
+  public static final String VERIFIER = "oauth_verifier";
+  public static final String HEADER = "Authorization";
+  public static final Token EMPTY_TOKEN = new Token("", "");
+  public static final String SCOPE = "scope";
+
+  //OAuth 2.0
+  public static final String ACCESS_TOKEN = "access_token";
+  public static final String CLIENT_ID = "client_id";
+  public static final String CLIENT_SECRET = "client_secret";
+  public static final String REDIRECT_URI = "redirect_uri";
+  public static final String CODE = "code";
+  
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/OAuthRequest.java b/Coacheller-AppEngine/shared/org/scribe/model/OAuthRequest.java
new file mode 100644
index 0000000..4389227
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/OAuthRequest.java
@@ -0,0 +1,69 @@
+package org.scribe.model;
+
+import java.util.*;
+
+/**
+ * The representation of an OAuth HttpRequest.
+ * 
+ * Adds OAuth-related functionality to the {@link Request}  
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthRequest extends Request
+{
+  private static final String OAUTH_PREFIX = "oauth_";
+  private Map<String, String> oauthParameters;
+
+  /**
+   * Default constructor.
+   * 
+   * @param verb Http verb/method
+   * @param url resource URL
+   */
+  public OAuthRequest(Verb verb, String url)
+  {
+    super(verb, url);
+    this.oauthParameters = new HashMap<String, String>();
+  }
+
+  /**
+   * Adds an OAuth parameter.
+   * 
+   * @param key name of the parameter
+   * @param value value of the parameter
+   * 
+   * @throws IllegalArgumentException if the parameter is not an OAuth parameter
+   */
+  public void addOAuthParameter(String key, String value)
+  {
+    oauthParameters.put(checkKey(key), value);
+  }
+
+  private String checkKey(String key)
+  {
+    if (key.startsWith(OAUTH_PREFIX) || key.equals(OAuthConstants.SCOPE))
+    {
+      return key;
+    } 
+    else
+    {
+      throw new IllegalArgumentException(String.format("OAuth parameters must either be '%s' or start with '%s'", OAuthConstants.SCOPE, OAUTH_PREFIX));
+    }
+  }
+
+  /**
+   * Returns the {@link Map} containing the key-value pair of parameters.
+   * 
+   * @return parameters as map
+   */
+  public Map<String, String> getOauthParameters()
+  {
+    return oauthParameters;
+  }
+
+  @Override
+  public String toString()
+  {
+    return String.format("@OAuthRequest(%s, %s)", getVerb(), getUrl());
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Parameter.java b/Coacheller-AppEngine/shared/org/scribe/model/Parameter.java
new file mode 100644
index 0000000..9fe610b
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Parameter.java
@@ -0,0 +1,50 @@
+package org.scribe.model;
+
+import java.io.UnsupportedEncodingException;
+import java.net.URLEncoder;
+import org.scribe.exceptions.OAuthException;
+import org.scribe.utils.OAuthEncoder;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class Parameter implements Comparable<Parameter>
+{
+  private static final String UTF = "UTF8";
+
+  private final String key;
+  private final String value;
+
+  public Parameter(String key, String value)
+  {
+    this.key = key;
+    this.value = value;
+  }
+
+  public String asUrlEncodedPair()
+  {
+    return OAuthEncoder.encode(key).concat("=").concat(OAuthEncoder.encode(value));
+  }
+  
+  public boolean equals(Object other)
+  {
+    if(other == null) return false;
+    if(other == this) return true;
+    if(!(other instanceof Parameter)) return false;
+    
+    Parameter otherParam = (Parameter) other;
+    return otherParam.key.equals(key) && otherParam.value.equals(value);
+  }
+
+  public int hashCode()
+  {
+    return key.hashCode() + value.hashCode();
+  }
+
+  public int compareTo(Parameter parameter)
+  {
+    int keyDiff = key.compareTo(parameter.key);
+
+    return keyDiff != 0 ? keyDiff : value.compareTo(parameter.value);
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/ParameterList.java b/Coacheller-AppEngine/shared/org/scribe/model/ParameterList.java
new file mode 100644
index 0000000..b365cba
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/ParameterList.java
@@ -0,0 +1,114 @@
+package org.scribe.model;
+
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.List;
+import java.util.Map;
+import org.scribe.utils.OAuthEncoder;
+import org.scribe.utils.Preconditions;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class ParameterList
+{
+  private static final char QUERY_STRING_SEPARATOR = '?';
+  private static final String PARAM_SEPARATOR = "&";
+  private static final String PAIR_SEPARATOR = "=";
+  private static final String EMPTY_STRING = "";
+
+  private final List<Parameter> params;
+
+  public ParameterList()
+  {
+    params = new ArrayList<Parameter>();
+  }
+
+  ParameterList(List<Parameter> params)
+  {
+    this.params = new ArrayList<Parameter>(params);
+  }
+
+  public ParameterList(Map<String, String> map)
+  {
+    this();
+    for(Map.Entry<String, String> entry : map.entrySet())
+    {
+      params.add(new Parameter(entry.getKey(), entry.getValue()));
+    }
+  }
+  
+  public void add(String key, String value)
+  {
+    params.add(new Parameter(key, value));
+  }
+
+  public String appendTo(String url)
+  {
+    Preconditions.checkNotNull(url, "Cannot append to null URL");
+    String queryString = asFormUrlEncodedString();
+    if (queryString.equals(EMPTY_STRING))
+    {
+      return url;
+    }
+    else
+    {
+      url += url.indexOf(QUERY_STRING_SEPARATOR) != -1 ? PARAM_SEPARATOR : QUERY_STRING_SEPARATOR;
+      url += queryString;
+      return url;
+    }
+  }
+
+  public String asOauthBaseString()
+  {
+    return OAuthEncoder.encode(asFormUrlEncodedString());
+  }
+
+  public String asFormUrlEncodedString()
+  {
+    if (params.size() == 0) return EMPTY_STRING;
+
+    StringBuilder builder = new StringBuilder();
+    for(Parameter p : params)
+    {
+      builder.append('&').append(p.asUrlEncodedPair());
+    }
+    return builder.toString().substring(1);
+  }
+
+  public void addAll(ParameterList other)
+  {
+    params.addAll(other.params);
+  }
+
+  public void addQuerystring(String queryString)
+  {
+    if (queryString != null && queryString.length() > 0)
+    {
+      for (String param : queryString.split(PARAM_SEPARATOR))
+      {
+        String pair[] = param.split(PAIR_SEPARATOR);
+        String key = OAuthEncoder.decode(pair[0]);
+        String value = pair.length > 1 ? OAuthEncoder.decode(pair[1]) : EMPTY_STRING;
+        params.add(new Parameter(key, value));
+      }
+    }
+  }
+
+  public boolean contains(Parameter param)
+  {
+    return params.contains(param);
+  }
+
+  public int size()
+  {
+    return params.size();
+  }
+
+  public ParameterList sort()
+  {
+    ParameterList sorted = new ParameterList(params);
+    Collections.sort(sorted.params);
+    return sorted;
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Request.java b/Coacheller-AppEngine/shared/org/scribe/model/Request.java
new file mode 100644
index 0000000..81db94e
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Request.java
@@ -0,0 +1,358 @@
+package org.scribe.model;
+
+import java.io.*;
+import java.net.*;
+import java.nio.charset.*;
+import java.util.*;
+import java.util.concurrent.TimeUnit;
+
+import org.scribe.exceptions.*;
+
+/**
+ * Represents an HTTP Request object
+ * 
+ * @author Pablo Fernandez
+ */
+class Request
+{
+  private static final String CONTENT_LENGTH = "Content-Length";
+  private static final String CONTENT_TYPE = "Content-Type";
+  public static final String DEFAULT_CONTENT_TYPE = "application/x-www-form-urlencoded";
+
+  private String url;
+  private Verb verb;
+  private ParameterList querystringParams;
+  private ParameterList bodyParams;
+  private Map<String, String> headers;
+  private String payload = null;
+  private HttpURLConnection connection;
+  private String charset;
+  private byte[] bytePayload = null;
+  private boolean connectionKeepAlive = false;
+  private Long connectTimeout = null;
+  private Long readTimeout = null;
+
+  /**
+   * Creates a new Http Request
+   * 
+   * @param verb Http Verb (GET, POST, etc)
+   * @param url url with optional querystring parameters.
+   */
+  public Request(Verb verb, String url)
+  {
+    this.verb = verb;
+    this.url = url;
+    this.querystringParams = new ParameterList();
+    this.bodyParams = new ParameterList();
+    this.headers = new HashMap<String, String>();
+  }
+
+  /**
+   * Execute the request and return a {@link Response}
+   * 
+   * @return Http Response
+   * @throws RuntimeException
+   *           if the connection cannot be created.
+   */
+  public Response send()
+  {
+    try
+    {
+      createConnection();
+      return doSend();
+    }
+    catch (Exception e)
+    {
+      throw new OAuthConnectionException(e);
+    }
+  }
+
+  private void createConnection() throws IOException
+  {
+    String completeUrl = getCompleteUrl();
+    if (connection == null)
+    {
+      System.setProperty("http.keepAlive", connectionKeepAlive ? "true" : "false");
+      connection = (HttpURLConnection) new URL(completeUrl).openConnection();
+    }
+  }
+
+  /**
+   * Returns the complete url (host + resource + encoded querystring parameters).
+   *
+   * @return the complete url.
+   */
+  public String getCompleteUrl()
+  {
+    return querystringParams.appendTo(url);
+  }
+
+  Response doSend() throws IOException
+  {
+    connection.setRequestMethod(this.verb.name());
+    if (connectTimeout != null) 
+    {
+      connection.setConnectTimeout(connectTimeout.intValue());
+    }
+    if (readTimeout != null)
+    {
+      connection.setReadTimeout(readTimeout.intValue());
+    }
+    addHeaders(connection);
+    if (verb.equals(Verb.PUT) || verb.equals(Verb.POST))
+    {
+      addBody(connection, getByteBodyContents());
+    }
+    return new Response(connection);
+  }
+
+  void addHeaders(HttpURLConnection conn)
+  {
+    for (String key : headers.keySet())
+      conn.setRequestProperty(key, headers.get(key));
+  }
+
+  void addBody(HttpURLConnection conn, byte[] content) throws IOException
+  {
+    conn.setRequestProperty(CONTENT_LENGTH, String.valueOf(content.length));
+
+    // Set default content type if none is set.
+    if (conn.getRequestProperty(CONTENT_TYPE) == null)
+    {
+      conn.setRequestProperty(CONTENT_TYPE, DEFAULT_CONTENT_TYPE);
+    }
+    conn.setDoOutput(true);
+    conn.getOutputStream().write(content);
+  }
+
+  /**
+   * Add an HTTP Header to the Request
+   * 
+   * @param key the header name
+   * @param value the header value
+   */
+  public void addHeader(String key, String value)
+  {
+    this.headers.put(key, value);
+  }
+
+  /**
+   * Add a body Parameter (for POST/ PUT Requests)
+   * 
+   * @param key the parameter name
+   * @param value the parameter value
+   */
+  public void addBodyParameter(String key, String value)
+  {
+    this.bodyParams.add(key, value);
+  }
+
+  /**
+   * Add a QueryString parameter
+   *
+   * @param key the parameter name
+   * @param value the parameter value
+   */
+  public void addQuerystringParameter(String key, String value)
+  {
+    this.querystringParams.add(key, value);
+  }
+
+  /**
+   * Add body payload.
+   * 
+   * This method is used when the HTTP body is not a form-url-encoded string,
+   * but another thing. Like for example XML.
+   * 
+   * Note: The contents are not part of the OAuth signature
+   * 
+   * @param payload the body of the request
+   */
+  public void addPayload(String payload)
+  {
+    this.payload = payload;
+  }
+
+  /**
+   * Overloaded version for byte arrays
+   *
+   * @param payload
+   */
+  public void addPayload(byte[] payload)
+  {
+    this.bytePayload = payload;
+  }
+
+  /**
+   * Get a {@link ParameterList} with the query string parameters.
+   * 
+   * @return a {@link ParameterList} containing the query string parameters.
+   * @throws OAuthException if the request URL is not valid.
+   */
+  public ParameterList getQueryStringParams()
+  {
+    try
+    {
+      ParameterList result = new ParameterList();
+      String queryString = new URL(url).getQuery();
+      result.addQuerystring(queryString);
+      result.addAll(querystringParams);
+      return result;
+    }
+    catch (MalformedURLException mue)
+    {
+      throw new OAuthException("Malformed URL", mue);
+    }
+  }
+
+  /**
+   * Obtains a {@link ParameterList} of the body parameters.
+   * 
+   * @return a {@link ParameterList}containing the body parameters.
+   */
+  public ParameterList getBodyParams()
+  {
+    return bodyParams;
+  }
+
+  /**
+   * Obtains the URL of the HTTP Request.
+   * 
+   * @return the original URL of the HTTP Request
+   */
+  public String getUrl()
+  {
+    return url;
+  }
+
+  /**
+   * Returns the URL without the port and the query string part.
+   * 
+   * @return the OAuth-sanitized URL
+   */
+  public String getSanitizedUrl()
+  {
+    return url.replaceAll("\\?.*", "").replace("\\:\\d{4}", "");
+  }
+
+  /**
+   * Returns the body of the request
+   * 
+   * @return form encoded string
+   * @throws OAuthException if the charset chosen is not supported
+   */
+  public String getBodyContents()
+  {
+    try
+    {
+      return new String(getByteBodyContents(),getCharset());
+    }
+    catch(UnsupportedEncodingException uee)
+    {
+      throw new OAuthException("Unsupported Charset: "+charset, uee);
+    }
+  }
+
+  byte[] getByteBodyContents()
+  {
+    if (bytePayload != null) return bytePayload;
+    String body = (payload != null) ? payload : bodyParams.asFormUrlEncodedString();
+    try
+    {
+      return body.getBytes(getCharset());
+    }
+    catch(UnsupportedEncodingException uee)
+    {
+      throw new OAuthException("Unsupported Charset: "+getCharset(), uee);
+    }
+  }
+
+  /**
+   * Returns the HTTP Verb
+   * 
+   * @return the verb
+   */
+  public Verb getVerb()
+  {
+    return verb;
+  }
+  
+  /**
+   * Returns the connection headers as a {@link Map}
+   * 
+   * @return map of headers
+   */
+  public Map<String, String> getHeaders()
+  {
+    return headers;
+  }
+
+  /**
+   * Returns the connection charset. Defaults to {@link Charset} defaultCharset if not set
+   *
+   * @return charset
+   */
+  public String getCharset()
+  {
+    return charset == null ? Charset.defaultCharset().name() : charset;
+  }
+
+  /**
+   * Sets the connect timeout for the underlying {@link HttpURLConnection}
+   * 
+   * @param duration duration of the timeout
+   * 
+   * @param unit unit of time (milliseconds, seconds, etc)
+   */
+  public void setConnectTimeout(int duration, TimeUnit unit)
+  {
+    this.connectTimeout = unit.toMillis(duration);
+  }
+
+  /**
+   * Sets the read timeout for the underlying {@link HttpURLConnection}
+   * 
+   * @param duration duration of the timeout
+   * 
+   * @param unit unit of time (milliseconds, seconds, etc)
+   */
+  public void setReadTimeout(int duration, TimeUnit unit)
+  {
+    this.readTimeout = unit.toMillis(duration);
+  }
+
+  /**
+   * Set the charset of the body of the request
+   *
+   * @param charsetName name of the charset of the request
+   */
+  public void setCharset(String charsetName)
+  {
+    this.charset = charsetName;
+  }
+
+  /**
+   * Sets whether the underlying Http Connection is persistent or not.
+   *
+   * @see http://download.oracle.com/javase/1.5.0/docs/guide/net/http-keepalive.html
+   * @param connectionKeepAlive
+   */
+  public void setConnectionKeepAlive(boolean connectionKeepAlive)
+  {
+    this.connectionKeepAlive = connectionKeepAlive;
+  }
+
+  /*
+   * We need this in order to stub the connection object for test cases
+   */
+  void setConnection(HttpURLConnection connection)
+  {
+    this.connection = connection;
+  }
+
+  @Override
+  public String toString()
+  {
+    return String.format("@Request(%s %s)", getVerb(), getUrl());
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Response.java b/Coacheller-AppEngine/shared/org/scribe/model/Response.java
new file mode 100644
index 0000000..9835a05
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Response.java
@@ -0,0 +1,113 @@
+package org.scribe.model;
+
+import java.io.*;
+import java.net.*;
+import java.util.*;
+
+import org.scribe.exceptions.*;
+import org.scribe.utils.*;
+
+/**
+ * Represents an HTTP Response.
+ * 
+ * @author Pablo Fernandez
+ */
+public class Response
+{
+  private static final String EMPTY = "";
+
+  private int code;
+  private String body;
+  private InputStream stream;
+  private Map<String, String> headers;
+
+  Response(HttpURLConnection connection) throws IOException
+  {
+    try
+    {
+      connection.connect();
+      code = connection.getResponseCode();
+      headers = parseHeaders(connection);
+      stream = isSuccessful() ? connection.getInputStream() : connection.getErrorStream();
+    }
+    catch (UnknownHostException e)
+    {
+      throw new OAuthException("The IP address of a host could not be determined.", e);
+    }
+  }
+
+  private String parseBodyContents()
+  {
+    body = StreamUtils.getStreamContents(getStream());
+    return body;
+  }
+
+  private Map<String, String> parseHeaders(HttpURLConnection conn)
+  {
+    Map<String, String> headers = new HashMap<String, String>();
+    for (String key : conn.getHeaderFields().keySet())
+    {
+      headers.put(key, conn.getHeaderFields().get(key).get(0));
+    }
+    return headers;
+  }
+
+  public boolean isSuccessful()
+  {
+    return getCode() >= 200 && getCode() < 400;
+  }
+
+  /**
+   * Obtains the HTTP Response body
+   * 
+   * @return response body
+   */
+  public String getBody()
+  {
+    return body != null ? body : parseBodyContents();
+  }
+
+  /**
+   * Obtains the meaningful stream of the HttpUrlConnection, either inputStream
+   * or errorInputStream, depending on the status code
+   * 
+   * @return input stream / error stream
+   */
+  public InputStream getStream()
+  {
+    return stream;
+  }
+
+  /**
+   * Obtains the HTTP status code
+   * 
+   * @return the status code
+   */
+  public int getCode()
+  {
+    return code;
+  }
+
+  /**
+   * Obtains a {@link Map} containing the HTTP Response Headers
+   * 
+   * @return headers
+   */
+  public Map<String, String> getHeaders()
+  {
+    return headers;
+  }
+
+  /**
+   * Obtains a single HTTP Header value, or null if undefined
+   * 
+   * @param name the header name.
+   * 
+   * @return header value or null.
+   */
+  public String getHeader(String name)
+  {
+    return headers.get(name);
+  }
+
+}
\ No newline at end of file
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/SignatureType.java b/Coacheller-AppEngine/shared/org/scribe/model/SignatureType.java
new file mode 100644
index 0000000..3440a36
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/SignatureType.java
@@ -0,0 +1,7 @@
+package org.scribe.model;
+
+public enum SignatureType
+{
+  Header,
+  QueryString
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Token.java b/Coacheller-AppEngine/shared/org/scribe/model/Token.java
new file mode 100644
index 0000000..286fec6
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Token.java
@@ -0,0 +1,60 @@
+package org.scribe.model;
+
+import java.io.Serializable;
+
+/**
+ * Represents an OAuth token (either request or access token) and its secret
+ * 
+ * @author Pablo Fernandez
+ */
+public class Token implements Serializable
+{
+  private static final long serialVersionUID = 715000866082812683L;
+	
+  private final String token;
+  private final String secret;
+  private final String rawResponse;
+
+  /**
+   * Default constructor
+   * 
+   * @param token token value
+   * @param secret token secret
+   */
+  public Token(String token, String secret)
+  {
+    this(token, secret, null);
+  }
+
+  public Token(String token, String secret, String rawResponse)
+  {
+    this.token = token;
+    this.secret = secret;
+    this.rawResponse = rawResponse;
+  }
+
+  public String getToken()
+  {
+    return token;
+  }
+
+  public String getSecret()
+  {
+    return secret;
+  }
+
+  public String getRawResponse()
+  {
+    if (rawResponse == null)
+    {
+      throw new IllegalStateException("This token object was not constructed by scribe and does not have a rawResponse");
+    }
+    return rawResponse;
+  }
+
+  @Override
+  public String toString()
+  {
+    return String.format("Token[%s , %s]", token, secret);
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Verb.java b/Coacheller-AppEngine/shared/org/scribe/model/Verb.java
new file mode 100644
index 0000000..b370791
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Verb.java
@@ -0,0 +1,11 @@
+package org.scribe.model;
+
+/**
+ * An enumeration containing the most common HTTP Verbs.
+ * 
+ * @author Pablo Fernandez
+ */
+public enum Verb
+{
+  GET, POST, PUT, DELETE
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/model/Verifier.java b/Coacheller-AppEngine/shared/org/scribe/model/Verifier.java
new file mode 100644
index 0000000..45f0e4e
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/model/Verifier.java
@@ -0,0 +1,30 @@
+package org.scribe.model;
+
+import org.scribe.utils.*;
+
+/**
+ * Represents an OAuth verifier code.
+ * 
+ * @author Pablo Fernandez
+ */
+public class Verifier
+{
+
+  private final String value;
+
+  /**
+   * Default constructor.
+   * 
+   * @param value verifier value
+   */
+  public Verifier(String value)
+  {
+    Preconditions.checkNotNull(value, "Must provide a valid string as verifier");
+    this.value = value;
+  }
+
+  public String getValue()
+  {
+    return value;
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth10aServiceImpl.java b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth10aServiceImpl.java
new file mode 100644
index 0000000..b847b2d
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth10aServiceImpl.java
@@ -0,0 +1,145 @@
+package org.scribe.oauth;
+
+import java.util.*;
+
+import org.scribe.builder.api.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * OAuth 1.0a implementation of {@link OAuthService}
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuth10aServiceImpl implements OAuthService
+{
+  private static final String VERSION = "1.0";
+
+  private OAuthConfig config;
+  private DefaultApi10a api;
+
+  /**
+   * Default constructor
+   * 
+   * @param api OAuth1.0a api information
+   * @param config OAuth 1.0a configuration param object
+   */
+  public OAuth10aServiceImpl(DefaultApi10a api, OAuthConfig config)
+  {
+    this.api = api;
+    this.config = config;
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public Token getRequestToken()
+  {
+    config.log("obtaining request token from " + api.getRequestTokenEndpoint());
+    OAuthRequest request = new OAuthRequest(api.getRequestTokenVerb(), api.getRequestTokenEndpoint());
+
+    config.log("setting oauth_callback to " + config.getCallback());
+    request.addOAuthParameter(OAuthConstants.CALLBACK, config.getCallback());
+    addOAuthParams(request, OAuthConstants.EMPTY_TOKEN);
+    appendSignature(request);
+
+    config.log("sending request...");
+    Response response = request.send();
+    String body = response.getBody();
+
+    config.log("response status code: " + response.getCode());
+    config.log("response body: " + body);
+    return api.getRequestTokenExtractor().extract(body);
+  }
+
+  private void addOAuthParams(OAuthRequest request, Token token)
+  {
+    request.addOAuthParameter(OAuthConstants.TIMESTAMP, api.getTimestampService().getTimestampInSeconds());
+    request.addOAuthParameter(OAuthConstants.NONCE, api.getTimestampService().getNonce());
+    request.addOAuthParameter(OAuthConstants.CONSUMER_KEY, config.getApiKey());
+    request.addOAuthParameter(OAuthConstants.SIGN_METHOD, api.getSignatureService().getSignatureMethod());
+    request.addOAuthParameter(OAuthConstants.VERSION, getVersion());
+    if(config.hasScope()) request.addOAuthParameter(OAuthConstants.SCOPE, config.getScope());
+    request.addOAuthParameter(OAuthConstants.SIGNATURE, getSignature(request, token));
+
+    config.log("appended additional OAuth parameters: " + MapUtils.toString(request.getOauthParameters()));
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public Token getAccessToken(Token requestToken, Verifier verifier)
+  {
+    config.log("obtaining access token from " + api.getAccessTokenEndpoint());
+    OAuthRequest request = new OAuthRequest(api.getAccessTokenVerb(), api.getAccessTokenEndpoint());
+    request.addOAuthParameter(OAuthConstants.TOKEN, requestToken.getToken());
+    request.addOAuthParameter(OAuthConstants.VERIFIER, verifier.getValue());
+
+    config.log("setting token to: " + requestToken + " and verifier to: " + verifier);
+    addOAuthParams(request, requestToken);
+    appendSignature(request);
+    Response response = request.send();
+    return api.getAccessTokenExtractor().extract(response.getBody());
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public void signRequest(Token token, OAuthRequest request)
+  {
+    config.log("signing request: " + request.getCompleteUrl());
+    request.addOAuthParameter(OAuthConstants.TOKEN, token.getToken());
+
+    config.log("setting token to: " + token);
+    addOAuthParams(request, token);
+    appendSignature(request);
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getVersion()
+  {
+    return VERSION;
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return api.getAuthorizationUrl(requestToken);
+  }
+  
+  private String getSignature(OAuthRequest request, Token token)
+  {
+    config.log("generating signature...");
+    String baseString = api.getBaseStringExtractor().extract(request);
+    String signature = api.getSignatureService().getSignature(baseString, config.getApiSecret(), token.getSecret());
+
+    config.log("base string is: " + baseString);
+    config.log("signature is: " + signature);
+    return signature;
+  }
+
+  private void appendSignature(OAuthRequest request)
+  {
+    switch (config.getSignatureType())
+    {
+      case Header:
+        config.log("using Http Header signature");
+
+        String oauthHeader = api.getHeaderExtractor().extract(request);
+        request.addHeader(OAuthConstants.HEADER, oauthHeader);
+        break;
+      case QueryString:
+        config.log("using Querystring signature");
+
+        for (Map.Entry<String, String> entry : request.getOauthParameters().entrySet())
+        {
+          request.addQuerystringParameter(entry.getKey(), entry.getValue());
+        }
+        break;
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth20ServiceImpl.java b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth20ServiceImpl.java
new file mode 100644
index 0000000..6262c37
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuth20ServiceImpl.java
@@ -0,0 +1,72 @@
+package org.scribe.oauth;
+
+import org.scribe.builder.api.*;
+import org.scribe.model.*;
+
+public class OAuth20ServiceImpl implements OAuthService
+{
+  private static final String VERSION = "2.0";
+  
+  private final DefaultApi20 api;
+  private final OAuthConfig config;
+  
+  /**
+   * Default constructor
+   * 
+   * @param api OAuth2.0 api information
+   * @param config OAuth 2.0 configuration param object
+   */
+  public OAuth20ServiceImpl(DefaultApi20 api, OAuthConfig config)
+  {
+    this.api = api;
+    this.config = config;
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public Token getAccessToken(Token requestToken, Verifier verifier)
+  {
+    OAuthRequest request = new OAuthRequest(api.getAccessTokenVerb(), api.getAccessTokenEndpoint());
+    request.addQuerystringParameter(OAuthConstants.CLIENT_ID, config.getApiKey());
+    request.addQuerystringParameter(OAuthConstants.CLIENT_SECRET, config.getApiSecret());
+    request.addQuerystringParameter(OAuthConstants.CODE, verifier.getValue());
+    request.addQuerystringParameter(OAuthConstants.REDIRECT_URI, config.getCallback());
+    if(config.hasScope()) request.addQuerystringParameter(OAuthConstants.SCOPE, config.getScope());
+    Response response = request.send();
+    return api.getAccessTokenExtractor().extract(response.getBody());
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public Token getRequestToken()
+  {
+    throw new UnsupportedOperationException("Unsupported operation, please use 'getAuthorizationUrl' and redirect your users there");
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getVersion()
+  {
+    return VERSION;
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public void signRequest(Token accessToken, OAuthRequest request)
+  {
+    request.addQuerystringParameter(OAuthConstants.ACCESS_TOKEN, accessToken.getToken());
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return api.getAuthorizationUrl(config);
+  }
+
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/oauth/OAuthService.java b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuthService.java
new file mode 100644
index 0000000..0c9c57e
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/oauth/OAuthService.java
@@ -0,0 +1,53 @@
+package org.scribe.oauth;
+
+import org.scribe.model.*;
+
+/**
+ * The main Scribe object. 
+ * 
+ * A facade responsible for the retrieval of request and access tokens and for the signing of HTTP requests.  
+ * 
+ * @author Pablo Fernandez
+ */
+public interface OAuthService
+{
+  /**
+   * Retrieve the request token.
+   * 
+   * @return request token
+   */
+  public Token getRequestToken();
+
+  /**
+   * Retrieve the access token
+   * 
+   * @param requestToken request token (obtained previously)
+   * @param verifier verifier code
+   * @return access token
+   */
+  public Token getAccessToken(Token requestToken, Verifier verifier);
+
+  /**
+   * Signs am OAuth request
+   * 
+   * @param accessToken access token (obtained previously)
+   * @param request request to sign
+   */
+  public void signRequest(Token accessToken, OAuthRequest request);
+
+  /**
+   * Returns the OAuth version of the service.
+   * 
+   * @return oauth version as string
+   */
+  public String getVersion();
+  
+  /**
+   * Returns the URL where you should redirect your users to authenticate
+   * your application.
+   * 
+   * @param requestToken the request token you need to authorize
+   * @return the URL where you should redirect your users
+   */
+  public String getAuthorizationUrl(Token requestToken);
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/services/HMACSha1SignatureService.java b/Coacheller-AppEngine/shared/org/scribe/services/HMACSha1SignatureService.java
new file mode 100644
index 0000000..45800ca
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/services/HMACSha1SignatureService.java
@@ -0,0 +1,58 @@
+package org.scribe.services;
+
+import javax.crypto.*;
+import javax.crypto.spec.*;
+
+import org.apache.commons.codec.binary.Base64;
+import org.scribe.exceptions.*;
+import org.scribe.utils.*;
+
+
+/**
+ * HMAC-SHA1 implementation of {@SignatureService}
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public class HMACSha1SignatureService implements SignatureService
+{
+  private static final String EMPTY_STRING = "";
+  private static final String CARRIAGE_RETURN = "\r\n";
+  private static final String UTF8 = "UTF-8";
+  private static final String HMAC_SHA1 = "HmacSHA1";
+  private static final String METHOD = "HMAC-SHA1";
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getSignature(String baseString, String apiSecret, String tokenSecret)
+  {
+    try
+    {
+      Preconditions.checkEmptyString(baseString, "Base string cant be null or empty string");
+      Preconditions.checkEmptyString(apiSecret, "Api secret cant be null or empty string");
+      return doSign(baseString, OAuthEncoder.encode(apiSecret) + '&' + OAuthEncoder.encode(tokenSecret));
+    } 
+    catch (Exception e)
+    {
+      throw new OAuthSignatureException(baseString, e);
+    }
+  }
+
+  private String doSign(String toSign, String keyString) throws Exception
+  {
+    SecretKeySpec key = new SecretKeySpec((keyString).getBytes(UTF8), HMAC_SHA1);
+    Mac mac = Mac.getInstance(HMAC_SHA1);
+    mac.init(key);
+    byte[] bytes = mac.doFinal(toSign.getBytes(UTF8));
+    return new String(Base64.encodeBase64(bytes)).replace(CARRIAGE_RETURN, EMPTY_STRING);
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getSignatureMethod()
+  {
+    return METHOD;
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/services/PlaintextSignatureService.java b/Coacheller-AppEngine/shared/org/scribe/services/PlaintextSignatureService.java
new file mode 100644
index 0000000..b71ca97
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/services/PlaintextSignatureService.java
@@ -0,0 +1,40 @@
+package org.scribe.services;
+
+import org.scribe.exceptions.*;
+import org.scribe.utils.*;
+
+/**
+ * plaintext implementation of {@SignatureService}
+ *
+ * @author Pablo Fernandez
+ *
+ */
+public class PlaintextSignatureService implements SignatureService
+{
+  private static final String METHOD = "plaintext";
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getSignature(String baseString, String apiSecret, String tokenSecret)
+  {
+    try
+    {
+      Preconditions.checkEmptyString(apiSecret, "Api secret cant be null or empty string");
+      return OAuthEncoder.encode(apiSecret) + '&' + OAuthEncoder.encode(tokenSecret);
+    }
+    catch (Exception e)
+    {
+      throw new OAuthSignatureException(baseString, e);
+    }
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getSignatureMethod()
+  {
+    return METHOD;
+  }
+}
+
diff --git a/Coacheller-AppEngine/shared/org/scribe/services/SignatureService.java b/Coacheller-AppEngine/shared/org/scribe/services/SignatureService.java
new file mode 100644
index 0000000..229c2f6
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/services/SignatureService.java
@@ -0,0 +1,28 @@
+package org.scribe.services;
+
+/**
+ * Signs a base string, returning the OAuth signature
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public interface SignatureService
+{
+  /**
+   * Returns the signature
+   * 
+   * @param baseString url-encoded string to sign
+   * @param apiSecret api secret for your app
+   * @param tokenSecret token secret (empty string for the request token step)
+   * 
+   * @return signature
+   */
+  public String getSignature(String baseString, String apiSecret, String tokenSecret);
+
+  /**
+   * Returns the signature method/algorithm
+   * 
+   * @return
+   */
+  public String getSignatureMethod();
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/services/TimestampService.java b/Coacheller-AppEngine/shared/org/scribe/services/TimestampService.java
new file mode 100644
index 0000000..221a226
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/services/TimestampService.java
@@ -0,0 +1,25 @@
+package org.scribe.services;
+
+/**
+ * Unix epoch timestamp generator.
+ * 
+ * This class is useful for stubbing in tests. 
+ * 
+ * @author Pablo Fernandez
+ */
+public interface TimestampService
+{
+  /**
+   * Returns the unix epoch timestamp in seconds
+   * 
+   * @return timestamp
+   */
+  public String getTimestampInSeconds();
+
+  /**
+   * Returns a nonce (unique value for each request)
+   * 
+   * @return nonce
+   */
+  public String getNonce();
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/services/TimestampServiceImpl.java b/Coacheller-AppEngine/shared/org/scribe/services/TimestampServiceImpl.java
new file mode 100644
index 0000000..4aa27e0
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/services/TimestampServiceImpl.java
@@ -0,0 +1,67 @@
+package org.scribe.services;
+
+import java.util.*;
+
+/**
+ * Implementation of {@link TimestampService} using plain java classes.
+ * 
+ * @author Pablo Fernandez
+ */
+public class TimestampServiceImpl implements TimestampService
+{
+  private Timer timer;
+
+  /**
+   * Default constructor. 
+   */
+  public TimestampServiceImpl()
+  {
+    timer = new Timer();
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getNonce()
+  {
+    Long ts = getTs();
+    return String.valueOf(ts + timer.getRandomInteger());
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getTimestampInSeconds()
+  {
+    return String.valueOf(getTs());
+  }
+
+  private Long getTs()
+  {
+    return timer.getMilis() / 1000;
+  }
+
+  void setTimer(Timer timer)
+  {
+    this.timer = timer;
+  }
+
+  /**
+   * Inner class that uses {@link System} for generating the timestamps.
+   * 
+   * @author Pablo Fernandez
+   */
+  static class Timer
+  {
+    Long getMilis()
+    {
+      return System.currentTimeMillis();
+    }
+
+    Integer getRandomInteger()
+    {
+      return new Random().nextInt();
+    }
+  }
+
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/utils/MapUtils.java b/Coacheller-AppEngine/shared/org/scribe/utils/MapUtils.java
new file mode 100644
index 0000000..9e461b8
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/utils/MapUtils.java
@@ -0,0 +1,22 @@
+package org.scribe.utils;
+
+import java.util.Map;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class MapUtils
+{
+  public static <K,V> String toString(Map<K,V> map)
+  {
+    if (map == null) return "";
+    if (map.isEmpty()) return "{}";
+
+    StringBuilder result = new StringBuilder();
+    for(Map.Entry<K,V> entry : map.entrySet())
+    {
+      result.append(String.format(", %s -> %s ", entry.getKey().toString(), entry.getValue().toString()));
+    }
+    return "{" + result.substring(1) + "}";
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/utils/OAuthEncoder.java b/Coacheller-AppEngine/shared/org/scribe/utils/OAuthEncoder.java
new file mode 100644
index 0000000..10beabd
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/utils/OAuthEncoder.java
@@ -0,0 +1,62 @@
+package org.scribe.utils;
+
+import java.io.*;
+import java.net.*;
+import java.util.*;
+import java.util.regex.*;
+import org.scribe.exceptions.*;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class OAuthEncoder
+{
+  private static String CHARSET = "UTF-8";
+  private static final Map<String, String> ENCODING_RULES;
+
+  static
+  {
+    Map<String, String> rules = new HashMap<String, String>();
+    rules.put("*", "%2A");
+    rules.put("+", "%20");
+    rules.put("%7E", "~");
+    ENCODING_RULES = Collections.unmodifiableMap(rules);
+  }
+
+  public static String encode(String plain)
+  {
+    Preconditions.checkNotNull(plain, "Cannot encode null object");
+    String encoded = "";
+    try
+    {
+      encoded = URLEncoder.encode(plain, CHARSET);
+    }
+    catch (UnsupportedEncodingException uee)
+    {
+      throw new OAuthException("Charset not found while encoding string: " + CHARSET, uee);
+    }
+    for(Map.Entry<String, String> rule : ENCODING_RULES.entrySet())
+    {
+      encoded = applyRule(encoded, rule.getKey(), rule.getValue());
+    }
+    return encoded;
+  }
+
+  private static String applyRule(String encoded, String toReplace, String replacement)
+  {
+    return encoded.replaceAll(Pattern.quote(toReplace), replacement);
+  }
+
+  public static String decode(String encoded)
+  {
+    Preconditions.checkNotNull(encoded, "Cannot decode null object");
+    try
+    {
+      return URLDecoder.decode(encoded, CHARSET);
+    }
+    catch(UnsupportedEncodingException uee)
+    {
+      throw new OAuthException("Charset not found while decoding string: " + CHARSET, uee);
+    }
+  }
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/utils/Preconditions.java b/Coacheller-AppEngine/shared/org/scribe/utils/Preconditions.java
new file mode 100644
index 0000000..0ac134e
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/utils/Preconditions.java
@@ -0,0 +1,86 @@
+package org.scribe.utils;
+
+import java.util.regex.Pattern;
+
+import org.scribe.model.OAuthConstants;
+
+/**
+ * Utils for checking preconditions and invariants
+ * 
+ * @author Pablo Fernandez
+ */
+public class Preconditions
+{
+  private static final String DEFAULT_MESSAGE = "Received an invalid parameter";
+  
+  // scheme = alpha *( alpha | digit | "+" | "-" | "." )
+  private static final Pattern URL_PATTERN = Pattern.compile("^[a-zA-Z][a-zA-Z0-9+.-]*://\\S+");
+
+  /**
+   * Checks that an object is not null.
+   * 
+   * @param object any object
+   * @param errorMsg error message
+   * 
+   * @throws IllegalArgumentException if the object is null
+   */
+  public static void checkNotNull(Object object, String errorMsg)
+  {
+    check(object != null, errorMsg);
+  }
+
+  /**
+   * Checks that a string is not null or empty
+   * 
+   * @param string any string
+   * @param errorMsg error message
+   * 
+   * @throws IllegalArgumentException if the string is null or empty
+   */
+  public static void checkEmptyString(String string, String errorMsg)
+  {
+    check(string != null && !string.trim().equals(""), errorMsg);
+  }
+
+  /**
+   * Checks that a URL is valid
+   * 
+   * @param url any string
+   * @param errorMsg error message
+   */
+  public static void checkValidUrl(String url, String errorMsg)
+  {
+    checkEmptyString(url, errorMsg);
+    check(isUrl(url), errorMsg);
+  }
+  
+  /**
+   * Checks that a URL is a valid OAuth callback
+   *  
+   * @param url any string
+   * @param errorMsg error message
+   */
+  public static void checkValidOAuthCallback(String url, String errorMsg)
+  {
+    checkEmptyString(url, errorMsg);
+    if(url.toLowerCase().compareToIgnoreCase(OAuthConstants.OUT_OF_BAND) != 0)
+    {
+      check(isUrl(url), errorMsg);  
+    }
+  }
+  
+  private static boolean isUrl(String url)
+  {
+    return URL_PATTERN.matcher(url).matches();
+  }
+  
+  private static void check(boolean requirements, String error)
+  {
+    String message = (error == null || error.trim().length() <= 0) ? DEFAULT_MESSAGE : error;
+    if (!requirements)
+    {
+      throw new IllegalArgumentException(message);
+    }
+  }
+  
+}
diff --git a/Coacheller-AppEngine/shared/org/scribe/utils/StreamUtils.java b/Coacheller-AppEngine/shared/org/scribe/utils/StreamUtils.java
new file mode 100644
index 0000000..0799b9c
--- /dev/null
+++ b/Coacheller-AppEngine/shared/org/scribe/utils/StreamUtils.java
@@ -0,0 +1,42 @@
+package org.scribe.utils;
+
+import java.io.*;
+
+/**
+ * Utils to deal with Streams.
+ *  
+ * @author Pablo Fernandez
+ */
+public class StreamUtils
+{
+  /**
+   * Returns the stream contents as an UTF-8 encoded string
+   * 
+   * @param is input stream
+   * @return string contents
+   */
+  public static String getStreamContents(InputStream is)
+  {
+    Preconditions.checkNotNull(is, "Cannot get String from a null object");
+    try
+    {
+      final char[] buffer = new char[0x10000];
+      StringBuilder out = new StringBuilder();
+      Reader in = new InputStreamReader(is, "UTF-8");
+      int read;
+      do
+      {
+        read = in.read(buffer, 0, buffer.length);
+        if (read > 0)
+        {
+          out.append(buffer, 0, read);
+        }
+      } while (read >= 0);
+      in.close();
+      return out.toString();
+    } catch (IOException ioe)
+    {
+      throw new IllegalStateException("Error while reading response body", ioe);
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
index 0d02749..ec7d325 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
@@ -11 +11 @@ import com.lollapaloozer.R;
-import com.lollapaloozer.util.Constants;
+import com.ratethisfest.shared.Constants;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
index c56400f..d591868 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
@@ -7 +7 @@ import android.content.Intent;
-import com.lollapaloozer.util.Constants;
+import com.ratethisfest.shared.Constants;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index 40fffb3..ede25e9 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -11,0 +12 @@ import android.content.Intent;
+import com.lollapaloozer.auth.TwitterAuthProviderOAuth;
@@ -13,2 +14,2 @@ import com.lollapaloozer.auth.verify.TwitterVerifier;
-import com.lollapaloozer.util.Constants;
-import com.lollapaloozer.util.Helper;
+import com.ratethisfest.shared.Constants;
+import com.ratethisfest.shared.Helper;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProviderOAuth.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProviderOAuth.java
deleted file mode 100644
index c493f7f..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProviderOAuth.java
+++ /dev/null
@@ -1,80 +0,0 @@
-package com.lollapaloozer.auth.client;
-
-import org.scribe.builder.ServiceBuilder;
-import org.scribe.builder.api.TwitterApi;
-import org.scribe.model.OAuthRequest;
-import org.scribe.model.Response;
-import org.scribe.model.Token;
-import org.scribe.model.Verb;
-import org.scribe.model.Verifier;
-import org.scribe.oauth.OAuthService;
-
-public class TwitterAuthProviderOAuth {
-
-	private OAuthService _service;
-	private Token _requestToken;
-	private Token _accessToken;
-	private String _consumerKey;
-	private String _consumerSecret;
-	private String _callbackUrl;
-
-	public TwitterAuthProviderOAuth(String consumerKey, String consumerSecret,
-			String callbackUrl) {
-		_consumerKey = consumerKey;
-		_consumerSecret = consumerSecret;
-		_callbackUrl = callbackUrl;
-		
-		_service = getService();
-	}
-
-	public String getRequestTokenUrl() {
-		
-		_requestToken = _service.getRequestToken();
-
-		String authUrl = _service.getAuthorizationUrl(_requestToken);
-		System.out.println("Twitter OAuth request token URL:" + authUrl);
-		return authUrl;
-	}
-	
-	public OAuthService getService() {
-		return new ServiceBuilder().provider(TwitterApi.class)
-		.apiKey(_consumerKey).apiSecret(_consumerSecret)
-		.callback(_callbackUrl).build();
-	}
-
-	public void requestTokenResult(String token, String tokenVerify) {
-		Verifier verifier = new Verifier(tokenVerify);
-		_accessToken = _service.getAccessToken(_requestToken, verifier); // the
-																			// requestToken
-																			// you
-																			// had
-																			// from
-																			// step
-																			// 2
-																			// OAuthRequest
-																			// request
-
-	}
-
-	public Response accessResource(Verb httpVerb, String resourceUrl) {
-		
-		OAuthRequest request = new OAuthRequest(httpVerb, resourceUrl);
-		
-		_service.signRequest(_accessToken, request); // the access // token from
-														// // step 4 Response
-														// response =
-		return request.send();
-	}
-
-	public String getAccessToken() {
-		return _accessToken.getToken();
-	}
-	
-	public String getTokenSecret() {
-		return _accessToken.getSecret();
-	}
-	
-	public void setAccessTokenObject(String token, String secret) {
-		_accessToken = new Token(token, secret);
-	}
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
index 46b4b62..7470342 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
@@ -14 +14 @@ import com.lollapaloozer.R;
-import com.lollapaloozer.util.Constants;
+import com.ratethisfest.shared.Constants;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
index 4878354..ffc68d7 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
@@ -17 +16,0 @@ import com.lollapaloozer.ui.LollapaloozerActivity;
-import com.lollapaloozer.util.Constants;
@@ -18,0 +18 @@ import com.lollapaloozer.util.LollapaloozerHelper;
+import com.ratethisfest.shared.Constants;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 056ad11..0c6b203 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -41 +40,0 @@ import com.lollapaloozer.data.JSONArraySortMap;
-import com.lollapaloozer.util.Constants;
@@ -42,0 +42 @@ import com.lollapaloozer.util.LollapaloozerHelper;
+import com.ratethisfest.shared.Constants;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/util/Constants.java b/Lollapaloozer-Android/src/com/lollapaloozer/util/Constants.java
deleted file mode 100644
index bcb11d1..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/util/Constants.java
+++ /dev/null
@@ -1,52 +0,0 @@
-package com.lollapaloozer.util;
-
-public class Constants {
-	
-	//Data
-	public static final int DATA_NOTE_VISIBLE_MAX_LENGTH = 140;
-
-	// UI String
-	public static final String UI_STR_LOGIN_STATUS = "Login Status: ";
-
-	public static final String MSG_EMAIL_FORMAT = "Please enter your real email address.";
-	public static final String MSG_SIGNIN_REQUIRED = "Sign in so we can remember this for you.";
-	
-	public static final String DIALOG_TITLE_GET_EMAIL = "Keep Track of Everything";
-	public static final String DIALOG_TITLE_FIRST_USE = "Welcome, Fellow Lollapaloozer";
-
-	// User Authentication
-
-	public static final String CONSUMER_KEY = "yit4Mu71Mj93eNILUo3uCw";
-	public static final String CONSUMER_SECRET = "rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI";
-
-	public static final String REQUEST_URL = "https://api.twitter.com/oauth/request_token";
-	public static final String ACCESS_URL = "https://api.twitter.com/oauth/access_token";
-	public static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize";
-
-	public static final String OAUTH_CALLBACK_SCHEME = "http";
-	public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME
-			+ "://lollapaloozer.appspot.com/dummy"; // todo update this
-
-	// public static final String OAUTH_CALLBACK_SCHEME = "http";
-	// public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME +
-	// "://msnbc.com"; //todo update this
-
-	public static final String OAUTH_CALLBACK_PARAM_TOKEN = "oauth_token";
-	public static final String OAUTH_CALLBACK_PARAM_VERIFIER = "oauth_verifier";
-
-	public static final int DEFAULT_PORT_HTTP = 80;
-	public static final int DEFAULT_PORT_HTTPS = 443;
-	public static final String OAUTH_REQUEST_CONTENT_TYPE = "application/x-www-form-urlencoded";
-
-	
-	
-	public static final int INTENT_REQ_CHOOSE_LOGIN_TYPE = 2;
-	public static final int INTENT_REQ_TWITTER_LOGIN = 1;
-	
-	public static final String INTENT_EXTRA_ALIAS_TWITTER_AUTH = "intent.extra.twitter.auth";
-	public static final String INTENT_EXTRA_OAUTH1_TOKEN = "intent.extra.oauth1.token";
-	public static final String INTENT_EXTRA_OAUTH1_VERIFIER = "intent.extra.oauth1.verifier";
-	
-
-
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/util/Helper.java b/Lollapaloozer-Android/src/com/lollapaloozer/util/Helper.java
deleted file mode 100644
index a4017ca..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/util/Helper.java
+++ /dev/null
@@ -1,19 +0,0 @@
-package com.lollapaloozer.util;
-
-public class Helper {
-	public static String readXmlProperty(String propertyName, String xmlData) {
-		String xmlPropertyOpen = "<" + propertyName + ">";
-		String xmlPropertyClose = "</" + propertyName + ">";
-		int propertyOpenIndex = xmlData.indexOf(xmlPropertyOpen);
-		int propertyCloseIndex = xmlData.indexOf(xmlPropertyClose);
-		if (propertyOpenIndex == -1) {
-			System.out.println("Property not found in XML data");
-			return null;
-		} else if (propertyCloseIndex == -1) {
-			System.out.println("Property close tag not found in XML data");
-			return null;
-		}
-		return xmlData.substring(propertyOpenIndex + xmlPropertyOpen.length(),
-				propertyCloseIndex);
-	}
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/ServiceBuilder.java b/Lollapaloozer-Android/src/org/scribe/builder/ServiceBuilder.java
deleted file mode 100644
index 27f3c8f..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/ServiceBuilder.java
+++ /dev/null
@@ -1,169 +0,0 @@
-package org.scribe.builder;
-
-import java.io.*;
-import org.scribe.builder.api.*;
-import org.scribe.exceptions.*;
-import org.scribe.model.*;
-import org.scribe.oauth.*;
-import org.scribe.utils.*;
-
-/**
- * Implementation of the Builder pattern, with a fluent interface that creates a
- * {@link OAuthService}
- * 
- * @author Pablo Fernandez
- *
- */
-public class ServiceBuilder
-{
-  private String apiKey;
-  private String apiSecret;
-  private String callback;
-  private Api api;
-  private String scope;
-  private SignatureType signatureType;
-  private OutputStream debugStream;
-  
-  /**
-   * Default constructor
-   */
-  public ServiceBuilder()
-  {
-    this.callback = OAuthConstants.OUT_OF_BAND;
-    this.signatureType = SignatureType.Header;
-    this.debugStream = null;
-  }
-  
-  /**
-   * Configures the {@link Api}
-   * 
-   * @param apiClass the class of one of the existent {@link Api}s on org.scribe.api package
-   * @return the {@link ServiceBuilder} instance for method chaining
-   */
-  public ServiceBuilder provider(Class<? extends Api> apiClass)
-  {
-    this.api = createApi(apiClass);
-    return this;
-  }
-
-  private Api createApi(Class<? extends Api> apiClass)
-  {
-    Preconditions.checkNotNull(apiClass, "Api class cannot be null");
-    Api api;
-    try
-    {
-      api = apiClass.newInstance();  
-    }
-    catch(Exception e)
-    {
-      throw new OAuthException("Error while creating the Api object", e);
-    }
-    return api;
-  }
-
-  /**
-   * Configures the {@link Api}
-   *
-   * Overloaded version. Let's you use an instance instead of a class.
-   *
-   * @param api instance of {@link Api}s
-   * @return the {@link ServiceBuilder} instance for method chaining
-   */
-  public ServiceBuilder provider(Api api)
-  {
-	  Preconditions.checkNotNull(api, "Api cannot be null");
-	  this.api = api;
-	  return this;
-  }
-
-  /**
-   * Adds an OAuth callback url
-   * 
-   * @param callback callback url. Must be a valid url or 'oob' for out of band OAuth
-   * @return the {@link ServiceBuilder} instance for method chaining
-   */
-  public ServiceBuilder callback(String callback)
-  {
-    Preconditions.checkNotNull(callback, "Callback can't be null");
-    this.callback = callback;
-    return this;
-  }
-  
-  /**
-   * Configures the api key
-   * 
-   * @param apiKey The api key for your application
-   * @return the {@link ServiceBuilder} instance for method chaining
-   */
-  public ServiceBuilder apiKey(String apiKey)
-  {
-    Preconditions.checkEmptyString(apiKey, "Invalid Api key");
-    this.apiKey = apiKey;
-    return this;
-  }
-  
-  /**
-   * Configures the api secret
-   * 
-   * @param apiSecret The api secret for your application
-   * @return the {@link ServiceBuilder} instance for method chaining
-   */
-  public ServiceBuilder apiSecret(String apiSecret)
-  {
-    Preconditions.checkEmptyString(apiSecret, "Invalid Api secret");
-    this.apiSecret = apiSecret;
-    return this;
-  }
-  
-  /**
-   * Configures the OAuth scope. This is only necessary in some APIs (like Google's).
-   * 
-   * @param scope The OAuth scope
-   * @return the {@link ServiceBuilder} instance for method chaining
-   */
-  public ServiceBuilder scope(String scope)
-  {
-    Preconditions.checkEmptyString(scope, "Invalid OAuth scope");
-    this.scope = scope;
-    return this;
-  }
-
-  /**
-   * Configures the signature type, choose between header, querystring, etc. Defaults to Header
-   *
-   * @param scope The OAuth scope
-   * @return the {@link ServiceBuilder} instance for method chaining
-   */
-  public ServiceBuilder signatureType(SignatureType type)
-  {
-    Preconditions.checkNotNull(type, "Signature type can't be null");
-    this.signatureType = type;
-    return this;
-  }
-
-  public ServiceBuilder debugStream(OutputStream stream)
-  {
-    Preconditions.checkNotNull(stream, "debug stream can't be null");
-    this.debugStream = stream;
-    return this;
-  }
-
-  public ServiceBuilder debug()
-  {
-    this.debugStream(System.out);
-    return this;
-  }
-  
-  /**
-   * Returns the fully configured {@link OAuthService}
-   * 
-   * @return fully configured {@link OAuthService}
-   */
-  public OAuthService build()
-  {
-    Preconditions.checkNotNull(api, "You must specify a valid api through the provider() method");
-    Preconditions.checkEmptyString(apiKey, "You must provide an api key");
-    Preconditions.checkEmptyString(apiSecret, "You must provide an api secret");
-    return api.createService(new OAuthConfig(apiKey, apiSecret, callback, signatureType, scope, debugStream));
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/Api.java b/Lollapaloozer-Android/src/org/scribe/builder/api/Api.java
deleted file mode 100644
index 6664296..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/Api.java
+++ /dev/null
@@ -1,25 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-import org.scribe.oauth.*;
-
-/**
- * Contains all the configuration needed to instantiate a valid {@link OAuthService}
- * 
- * @author Pablo Fernandez
- *
- */
-public interface Api
-{  
-  /**
-   * Creates an {@link OAuthService}
-   * 
-   * @param apiKey your application api key
-   * @param apiSecret your application api secret
-   * @param callback the callback url (or 'oob' for out of band OAuth)
-   * @param scope the OAuth scope
-   * 
-   * @return fully configured {@link OAuthService}
-   */
-  OAuthService createService(OAuthConfig config);
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/ConstantContactApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/ConstantContactApi.java
deleted file mode 100644
index 0588bc4..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/ConstantContactApi.java
+++ /dev/null
@@ -1,26 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class ConstantContactApi extends DefaultApi10a
-{
-  private static final String AUTHORIZE_URL = "https://oauth.constantcontact.com/ws/oauth/confirm_access?oauth_token=%s";
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://oauth.constantcontact.com/ws/oauth/access_token";
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZE_URL, requestToken.getToken());
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "https://oauth.constantcontact.com/ws/oauth/request_token";
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi10a.java b/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi10a.java
deleted file mode 100644
index 7506986..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi10a.java
+++ /dev/null
@@ -1,141 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.extractors.*;
-import org.scribe.model.*;
-import org.scribe.oauth.*;
-import org.scribe.services.*;
-
-/**
- * Default implementation of the OAuth protocol, version 1.0a
- * 
- * This class is meant to be extended by concrete implementations of the API,
- * providing the endpoints and endpoint-http-verbs.
- * 
- * If your Api adheres to the 1.0a protocol correctly, you just need to extend 
- * this class and define the getters for your endpoints.
- * 
- * If your Api does something a bit different, you can override the different 
- * extractors or services, in order to fine-tune the process. Please read the 
- * javadocs of the interfaces to get an idea of what to do.
- * 
- * @author Pablo Fernandez
- *
- */
-public abstract class DefaultApi10a implements Api
-{
-  /**
-   * Returns the access token extractor.
-   * 
-   * @return access token extractor
-   */
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
-    return new TokenExtractorImpl();
-  }
-
-  /**
-   * Returns the base string extractor.
-   * 
-   * @return base string extractor
-   */
-  public BaseStringExtractor getBaseStringExtractor()
-  {
-    return new BaseStringExtractorImpl();
-  }
-
-  /**
-   * Returns the header extractor.
-   * 
-   * @return header extractor
-   */
-  public HeaderExtractor getHeaderExtractor()
-  {
-    return new HeaderExtractorImpl();
-  }
-
-  /**
-   * Returns the request token extractor.
-   * 
-   * @return request token extractor
-   */
-  public RequestTokenExtractor getRequestTokenExtractor()
-  {
-    return new TokenExtractorImpl();
-  }
-
-  /**
-   * Returns the signature service.
-   * 
-   * @return signature service
-   */
-  public SignatureService getSignatureService()
-  {
-    return new HMACSha1SignatureService(); 
-  }
-
-  /**
-   * Returns the timestamp service.
-   * 
-   * @return timestamp service
-   */
-  public TimestampService getTimestampService()
-  {
-    return new TimestampServiceImpl();
-  }
-  
-  /**
-   * Returns the verb for the access token endpoint (defaults to POST)
-   * 
-   * @return access token endpoint verb
-   */
-  public Verb getAccessTokenVerb()
-  {
-    return Verb.POST;
-  }
-  
-  /**
-   * Returns the verb for the request token endpoint (defaults to POST)
-   * 
-   * @return request token endpoint verb
-   */
-  public Verb getRequestTokenVerb()
-  {
-    return Verb.POST;
-  }
-  
-  /**
-   * Returns the URL that receives the request token requests.
-   * 
-   * @return request token URL
-   */
-  public abstract String getRequestTokenEndpoint();
-  
-  /**
-   * Returns the URL that receives the access token requests.
-   * 
-   * @return access token URL
-   */
-  public abstract String getAccessTokenEndpoint();
-  
-  /**
-   * Returns the URL where you should redirect your users to authenticate
-   * your application.
-   * 
-   * @param requestToken the request token you need to authorize
-   * @return the URL where you should redirect your users
-   */
-  public abstract String getAuthorizationUrl(Token requestToken);
-  
-  /**
-   * Returns the {@link OAuthService} for this Api
-   * 
-   * @param apiKey Key
-   * @param apiSecret Api Secret
-   * @param callback OAuth callback (either URL or 'oob')
-   * @param scope OAuth scope (optional) 
-   */
-  public OAuthService createService(OAuthConfig config)
-  {
-    return new OAuth10aServiceImpl(this, config);
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi20.java b/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi20.java
deleted file mode 100644
index ffb6207..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi20.java
+++ /dev/null
@@ -1,70 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.extractors.*;
-import org.scribe.model.*;
-import org.scribe.oauth.*;
-
-/**
- * Default implementation of the OAuth protocol, version 2.0 (draft 11)
- *
- * This class is meant to be extended by concrete implementations of the API,
- * providing the endpoints and endpoint-http-verbs.
- *
- * If your Api adheres to the 2.0 (draft 11) protocol correctly, you just need to extend
- * this class and define the getters for your endpoints.
- *
- * If your Api does something a bit different, you can override the different
- * extractors or services, in order to fine-tune the process. Please read the
- * javadocs of the interfaces to get an idea of what to do.
- *
- * @author Diego Silveira
- *
- */
-public abstract class DefaultApi20 implements Api
-{
-
-  /**
-   * Returns the access token extractor.
-   * 
-   * @return access token extractor
-   */
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
-    return new TokenExtractor20Impl();
-  }
-	
-  /**
-   * Returns the verb for the access token endpoint (defaults to GET)
-   * 
-   * @return access token endpoint verb
-   */
-  public Verb getAccessTokenVerb()
-  {
-    return Verb.GET;
-  }
-	
-  /**
-   * Returns the URL that receives the access token requests.
-   * 
-   * @return access token URL
-   */
-  public abstract String getAccessTokenEndpoint();
-	
-  /**
-   * Returns the URL where you should redirect your users to authenticate
-   * your application.
-   *
-   * @param config OAuth 2.0 configuration param object
-   * @return the URL where you should redirect your users
-   */
-  public abstract String getAuthorizationUrl(OAuthConfig config);
-
-  /**
-   * {@inheritDoc}
-   */
-  public OAuthService createService(OAuthConfig config)
-  {
-    return new OAuth20ServiceImpl(this, config);
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/DiggApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/DiggApi.java
deleted file mode 100644
index b69253e..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/DiggApi.java
+++ /dev/null
@@ -1,29 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class DiggApi extends DefaultApi10a 
-{
-
-  private static final String AUTHORIZATION_URL = "http://digg.com/oauth/authorize?oauth_token=%s";
-  private static final String BASE_URL = "http://services.digg.com/oauth/";
-
-  @Override
-  public String getRequestTokenEndpoint() 
-  {
-    return BASE_URL + "request_token";
-  }
-
-  @Override
-  public String getAccessTokenEndpoint() 
-  {
-    return BASE_URL + "access_token";
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken) 
-  {
-    return String.format(AUTHORIZATION_URL, requestToken.getToken());
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/DropBoxApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/DropBoxApi.java
deleted file mode 100644
index 86f4a71..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/DropBoxApi.java
+++ /dev/null
@@ -1,25 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class DropBoxApi extends DefaultApi10a
-{
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://api.dropbox.com/1/oauth/access_token";
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return "https://www.dropbox.com/1/oauth/authorize?oauth_token="+requestToken.getToken();
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "https://api.dropbox.com/1/oauth/request_token";
-  }
-
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/EvernoteApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/EvernoteApi.java
deleted file mode 100644
index 007f48b..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/EvernoteApi.java
+++ /dev/null
@@ -1,49 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class EvernoteApi extends DefaultApi10a
-{
-  private static final String AUTHORIZATION_URL = "https://www.evernote.com/OAuth.action?oauth_token=%s";
-
-  @Override
-	public String getRequestTokenEndpoint()
-  {
-    return "https://www.evernote.com/oauth";
-  }
-
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-	  return "https://www.evernote.com/oauth";
-	}
-	
-	@Override
-	public String getAuthorizationUrl(Token requestToken)
-	{
-	  return String.format(AUTHORIZATION_URL, requestToken.getToken());
-	}
-
-	public static class Sandbox extends EvernoteApi
-	{
-	  private static final String SANDBOX_URL = "https://sandbox.evernote.com";
-
-	  @Override
-	  public String getRequestTokenEndpoint()
-	  {
-	    return SANDBOX_URL + "/oauth";
-	  }
-
-	  @Override
-	  public String getAccessTokenEndpoint()
-	  {
-      return SANDBOX_URL + "/oauth";
-	  }
-
-	  @Override
-	  public String getAuthorizationUrl(Token requestToken)
-	  {
-	    return String.format(SANDBOX_URL + "/OAuth.action?oauth_token=%s", requestToken.getToken());
-	  }
-	}	
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/FacebookApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/FacebookApi.java
deleted file mode 100644
index 996a651..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/FacebookApi.java
+++ /dev/null
@@ -1,33 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-import org.scribe.utils.*;
-
-public class FacebookApi extends DefaultApi20
-{
-  private static final String AUTHORIZE_URL = "https://www.facebook.com/dialog/oauth?client_id=%s&redirect_uri=%s";
-  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://graph.facebook.com/oauth/access_token";
-  }
-
-  @Override
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
-    Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Facebook does not support OOB");
-
-    // Append scope if present
-    if(config.hasScope())
-    {
-     return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-    }
-    else
-    {
-      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/FlickrApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/FlickrApi.java
deleted file mode 100644
index a630436..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/FlickrApi.java
+++ /dev/null
@@ -1,40 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-/**
- * OAuth API for Flickr.
- * 
- * @author Darren Greaves
- * @see <a href="http://www.flickr.com/services/api/">Flickr API</a>
- */
-public class FlickrApi extends DefaultApi10a
-{
-
-  /**
-   * {@inheritDoc}
-   */
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "http://www.flickr.com/services/oauth/access_token";
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return "http://www.flickr.com/services/oauth/authorize?oauth_token=" + requestToken.getToken();
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "http://www.flickr.com/services/oauth/request_token";
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/Foursquare2Api.java b/Lollapaloozer-Android/src/org/scribe/builder/api/Foursquare2Api.java
deleted file mode 100644
index d11def9..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/Foursquare2Api.java
+++ /dev/null
@@ -1,29 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.extractors.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-public class Foursquare2Api extends DefaultApi20
-{
-  private static final String AUTHORIZATION_URL = "https://foursquare.com/oauth2/authenticate?client_id=%s&response_type=code&redirect_uri=%s";
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://foursquare.com/oauth2/access_token?grant_type=authorization_code";
-  }
-
-  @Override
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
-    Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Foursquare2 does not support OOB");
-    return String.format(AUTHORIZATION_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
-  }
-
-  @Override
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
-    return new JsonTokenExtractor();
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/FoursquareApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/FoursquareApi.java
deleted file mode 100644
index 060a76b..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/FoursquareApi.java
+++ /dev/null
@@ -1,26 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class FoursquareApi extends DefaultApi10a
-{
-  private static final String AUTHORIZATION_URL = "http://foursquare.com/oauth/authorize?oauth_token=%s";
-  
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "http://foursquare.com/oauth/access_token";
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "http://foursquare.com/oauth/request_token";
-  }
-  
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZATION_URL, requestToken.getToken());
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/FreelancerApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/FreelancerApi.java
deleted file mode 100644
index 482e66f..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/FreelancerApi.java
+++ /dev/null
@@ -1,61 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class FreelancerApi extends DefaultApi10a
-{
-  private static final String AUTHORIZATION_URL = "http://www.freelancer.com/users/api-token/auth.php?oauth_token=%s";
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "http://api.freelancer.com/RequestAccessToken/requestAccessToken.xml?";
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "http://api.freelancer.com/RequestRequestToken/requestRequestToken.xml";
-  }
-
-  @Override
-  public Verb getAccessTokenVerb()
-  {
-    return Verb.GET;
-  }
-
-  @Override
-  public Verb getRequestTokenVerb()
-  {
-    return Verb.GET;
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZATION_URL, requestToken.getToken());
-  }
-
-  public static class Sandbox extends FreelancerApi
-  {
-    private static final String SANDBOX_AUTHORIZATION_URL = "http://www.sandbox.freelancer.com/users/api-token/auth.php";
-
-    @Override
-    public String getRequestTokenEndpoint()
-    {
-      return "http://api.sandbox.freelancer.com/RequestRequestToken/requestRequestToken.xml";
-    }
-
-    @Override
-    public String getAccessTokenEndpoint()
-    {
-      return "http://api.sandbox.freelancer.com/RequestAccessToken/requestAccessToken.xml?";
-    }
-
-    @Override
-    public String getAuthorizationUrl(Token requestToken)
-    {
-      return String.format(SANDBOX_AUTHORIZATION_URL + "?oauth_token=%s", requestToken.getToken());
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/GetGlueApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/GetGlueApi.java
deleted file mode 100644
index 3a7560f..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/GetGlueApi.java
+++ /dev/null
@@ -1,29 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class GetGlueApi extends DefaultApi10a
-{
-  private static final String AUTHORIZE_URL = "http://getglue.com/oauth/authorize?oauth_token=%s";
-  private static final String REQUEST_TOKEN_RESOURCE = "https://api.getglue.com/oauth/request_token";
-  private static final String ACCESS_TOKEN_RESOURCE = "https://api.getglue.com/oauth/access_token";
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return ACCESS_TOKEN_RESOURCE;
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return REQUEST_TOKEN_RESOURCE;
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZE_URL, requestToken.getToken());
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/GoogleApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/GoogleApi.java
deleted file mode 100644
index 9c86e5e..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/GoogleApi.java
+++ /dev/null
@@ -1,38 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class GoogleApi extends DefaultApi10a
-{
-  private static final String AUTHORIZATION_URL = "https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=%s";
-  
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://www.google.com/accounts/OAuthGetAccessToken"; 
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "https://www.google.com/accounts/OAuthGetRequestToken";
-  }
-
-  @Override
-  public Verb getAccessTokenVerb()
-  {
-    return Verb.GET;
-  }
-
-  @Override
-  public Verb getRequestTokenVerb()
-  {
-    return Verb.GET;
-  }
-  
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZATION_URL, requestToken.getToken());
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/ImgUrApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/ImgUrApi.java
deleted file mode 100644
index 06dd691..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/ImgUrApi.java
+++ /dev/null
@@ -1,32 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-/**
- * OAuth API for ImgUr
- *
- * @author David Wursteisen
- * @see <a href="http://api.imgur.com/#authapi">ImgUr API</a>
- */
-public class ImgUrApi extends DefaultApi10a
-{
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "https://api.imgur.com/oauth/request_token";
-  }
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://api.imgur.com/oauth/access_token";
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format("https://api.imgur.com/oauth/authorize?oauth_token=%s", requestToken.getToken());
-  }
-}
-
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi.java
deleted file mode 100644
index 1bf6bab..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi.java
+++ /dev/null
@@ -1,40 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class KaixinApi extends DefaultApi10a 
-{
-	private static final String REQUEST_TOKEN_URL = "http://api.kaixin001.com/oauth/request_token";
-	private static final String ACCESS_TOKEN_URL = "http://api.kaixin001.com/oauth/access_token";
-	private static final String AUTHORIZE_URL = "http://api.kaixin001.com/oauth/authorize?oauth_token=%s";
-
-	@Override
-	public String getRequestTokenEndpoint() 
-	{
-		return REQUEST_TOKEN_URL;
-	}
-
-	@Override
-	public String getAccessTokenEndpoint() 
-	{
-		return ACCESS_TOKEN_URL;
-	}
-
-	@Override
-	public String getAuthorizationUrl(Token requestToken) 
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
-
-	@Override
-	public Verb getRequestTokenVerb() 
-	{
-		return Verb.GET;
-	}
-
-	@Override
-	public Verb getAccessTokenVerb() 
-	{
-		return Verb.GET;
-	}
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi20.java b/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi20.java
deleted file mode 100644
index 9e27bcb..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi20.java
+++ /dev/null
@@ -1,41 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.extractors.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-/**
- * Kaixin(http://www.kaixin001.com/) open platform api based on OAuth 2.0.
- */
-public class KaixinApi20 extends DefaultApi20
-{
-
-  private static final String AUTHORIZE_URL = "http://api.kaixin001.com/oauth2/authorize?client_id=%s&redirect_uri=%s&response_type=code";
-  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
-
-  @Override
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
-    return new JsonTokenExtractor();
-  }
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://api.kaixin001.com/oauth2/access_token?grant_type=authorization_code";
-  }
-
-  @Override
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
-    // Append scope if present
-    if (config.hasScope())
-    {
-      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-    }
-    else
-    {
-      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/LinkedInApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/LinkedInApi.java
deleted file mode 100644
index f459404..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/LinkedInApi.java
+++ /dev/null
@@ -1,27 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class LinkedInApi extends DefaultApi10a
-{
-  private static final String AUTHORIZE_URL = "https://api.linkedin.com/uas/oauth/authorize?oauth_token=%s";
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://api.linkedin.com/uas/oauth/accessToken";
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "https://api.linkedin.com/uas/oauth/requestToken";
-  }
-  
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZE_URL, requestToken.getToken());
-  }
-  
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/LiveApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/LiveApi.java
deleted file mode 100644
index 18140f6..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/LiveApi.java
+++ /dev/null
@@ -1,40 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.extractors.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-public class LiveApi extends DefaultApi20
-{
-
-	private static final String AUTHORIZE_URL = "https://oauth.live.com/authorize?client_id=%s&redirect_uri=%s&response_type=code";
-	private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
-
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return "https://oauth.live.com/token?grant_type=authorization_code";
-	}
-
-	@Override
-	public String getAuthorizationUrl(OAuthConfig config)
-	{
-		Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Live does not support OOB");
-
-		// Append scope if present
-		if (config.hasScope())
-		{
-			return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-		}
-    else
-		{
-			return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
-		}
-	}
-
-	@Override
-	public AccessTokenExtractor getAccessTokenExtractor()
-	{
-		return new JsonTokenExtractor();
-	}
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/LoveFilmApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/LoveFilmApi.java
deleted file mode 100644
index 81a5bb8..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/LoveFilmApi.java
+++ /dev/null
@@ -1,28 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class LoveFilmApi extends DefaultApi10a
-{
-  private static final String REQUEST_TOKEN_URL = "http://openapi.lovefilm.com/oauth/request_token";
-  private static final String ACCESS_TOKEN_URL = "http://openapi.lovefilm.com/oauth/access_token";
-  private static final String AUTHORIZE_URL = "https://www.lovefilm.com/activate?oauth_token=%s";
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return REQUEST_TOKEN_URL;
-  }
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return ACCESS_TOKEN_URL;
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZE_URL, requestToken.getToken());
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/MeetupApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/MeetupApi.java
deleted file mode 100644
index 8f63e39..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/MeetupApi.java
+++ /dev/null
@@ -1,30 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-/**
- * OAuth access to the Meetup.com API.
- * For more information visit http://www.meetup.com/api
- */
-public class MeetupApi extends DefaultApi10a
-{
-	private static final String AUTHORIZE_URL = "http://www.meetup.com/authenticate?oauth_token=%s";
-
-	@Override
-	public String getRequestTokenEndpoint()
-	{
-		return "http://api.meetup.com/oauth/request/";
-	}
-
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return "http://api.meetup.com/oauth/access/";
-	}
-
-	@Override
-	public String getAuthorizationUrl(Token requestToken)
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/MisoApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/MisoApi.java
deleted file mode 100644
index a6d88d3..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/MisoApi.java
+++ /dev/null
@@ -1,29 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class MisoApi extends DefaultApi10a
-{
-  private static final String AUTHORIZE_URL = "http://gomiso.com/oauth/authorize?oauth_token=%s";
-  private static final String REQUEST_TOKEN_RESOURCE = "http://gomiso.com/oauth/request_token";
-  private static final String ACCESS_TOKEN_RESOURCE = "http://gomiso.com/oauth/access_token";
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return ACCESS_TOKEN_RESOURCE;
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return REQUEST_TOKEN_RESOURCE;
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZE_URL, requestToken.getToken());
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/NetProspexApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/NetProspexApi.java
deleted file mode 100644
index 8257de7..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/NetProspexApi.java
+++ /dev/null
@@ -1,28 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class NetProspexApi extends DefaultApi10a
-{
-  private static final String REQUEST_TOKEN_URL = "https://api.netprospex.com/1.0/oauth/request-token";
-  private static final String ACCESS_TOKEN_URL = "https://api.netprospex.com/1.0/oauth/access-token";
-  private static final String AUTHORIZE_URL = "https://api.netprospex.com/1.0/oauth/authorize?oauth_token=%s";
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return REQUEST_TOKEN_URL;
-  }
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return ACCESS_TOKEN_URL;
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZE_URL, requestToken.getToken());
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/NeteaseWeibooApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/NeteaseWeibooApi.java
deleted file mode 100644
index fae38ac..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/NeteaseWeibooApi.java
+++ /dev/null
@@ -1,47 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class NeteaseWeibooApi extends DefaultApi10a
-{
-	private static final String REQUEST_TOKEN_URL = "http://api.t.163.com/oauth/request_token";
-	private static final String ACCESS_TOKEN_URL = "http://api.t.163.com/oauth/access_token";
-	private static final String AUTHORIZE_URL = "http://api.t.163.com/oauth/authorize?oauth_token=%s";
-	private static final String AUTHENTICATE_URL = "http://api.t.163.com/oauth/authenticate?oauth_token=%s";
-
-	@Override
-	public String getRequestTokenEndpoint() 
-	{
-		return REQUEST_TOKEN_URL;
-	}
-
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return ACCESS_TOKEN_URL;
-	}
-
-	@Override
-	/**
-	 * this method will ignore your callback
-	 * if you're creating a desktop client please choose this url
-	 * else your can call getAuthenticateUrl
-	 * 
-	 * via http://open.t.163.com/wiki/index.php?title=%E8%AF%B7%E6%B1%82%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83Token(oauth/authorize)
-	 */
-	public String getAuthorizationUrl(Token requestToken)
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
-
-	/**
-	 * this method is for web client with callback url
-	 * if you're creating a desktop client please call getAuthorizationUrl 
-	 * 
-	 * via http://open.t.163.com/wiki/index.php?title=%E8%AF%B7%E6%B1%82%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83Token(oauth/authenticate)
-	 */
-	public String getAuthenticateUrl(Token requestToken)
-	{
-		return String.format(AUTHENTICATE_URL, requestToken.getToken());
-	}
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/PlurkApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/PlurkApi.java
deleted file mode 100644
index 323ad2c..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/PlurkApi.java
+++ /dev/null
@@ -1,39 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class PlurkApi extends DefaultApi10a
-{
-  private static final String REQUEST_TOKEN_URL = "http://www.plurk.com/OAuth/request_token";
-  private static final String AUTHORIZATION_URL = "http://www.plurk.com/OAuth/authorize?oauth_token=%s";
-  private static final String ACCESS_TOKEN_URL = "http://www.plurk.com/OAuth/access_token";
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return REQUEST_TOKEN_URL;
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZATION_URL, requestToken.getToken());
-  }
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return ACCESS_TOKEN_URL;
-  }
-
-  public class Mobile extends PlurkApi
-  {
-    private static final String AUTHORIZATION_URL = "http://www.plurk.com/m/authorize?oauth_token=%s";
-
-    @Override
-    public String getAuthorizationUrl(Token requestToken)
-    {
-      return String.format(AUTHORIZATION_URL, requestToken.getToken());
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/Px500Api.java b/Lollapaloozer-Android/src/org/scribe/builder/api/Px500Api.java
deleted file mode 100644
index f7f3b0e..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/Px500Api.java
+++ /dev/null
@@ -1,26 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class Px500Api extends DefaultApi10a
-{
-  private static final String AUTHORIZATION_URL = "https://api.500px.com/v1/oauth/authorize?oauth_token=%s";
-  
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://api.500px.com/v1/oauth/access_token";
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "https://api.500px.com/v1/oauth/request_token";
-  }
-  
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZATION_URL, requestToken.getToken());
-  }
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/QWeiboApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/QWeiboApi.java
deleted file mode 100644
index c036bd5..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/QWeiboApi.java
+++ /dev/null
@@ -1,28 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class QWeiboApi extends DefaultApi10a 
-{
-	private static final String REQUEST_TOKEN_URL = "https://open.t.qq.com/cgi-bin/request_token";
-	private static final String ACCESS_TOKEN_URL = "https://open.t.qq.com/cgi-bin/access_token";
-	private static final String AUTHORIZE_URL = "https://open.t.qq.com/cgi-bin/authorize?oauth_token=%s";
-
-	@Override
-	public String getRequestTokenEndpoint() 
-	{
-		return REQUEST_TOKEN_URL;
-	}
-
-	@Override
-	public String getAccessTokenEndpoint() 
-	{
-		return ACCESS_TOKEN_URL;
-	}
-
-	@Override
-	public String getAuthorizationUrl(Token requestToken) 
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/RenrenApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/RenrenApi.java
deleted file mode 100644
index b31337b..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/RenrenApi.java
+++ /dev/null
@@ -1,40 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.extractors.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-/**
- * Renren(http://www.renren.com/) OAuth 2.0 based api.
- */
-public class RenrenApi extends DefaultApi20
-{
-  private static final String AUTHORIZE_URL = "https://graph.renren.com/oauth/authorize?client_id=%s&redirect_uri=%s&response_type=code";
-  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
-
-  @Override
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
-    return new JsonTokenExtractor();
-  }
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://graph.renren.com/oauth/token?grant_type=authorization_code";
-  }
-
-  @Override
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
-    // Append scope if present
-    if (config.hasScope())
-    {
-      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-    }
-    else
-    {
-      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SapoApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SapoApi.java
deleted file mode 100644
index 9771daf..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/SapoApi.java
+++ /dev/null
@@ -1,40 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class SapoApi extends DefaultApi10a
-{
-  private static final String AUTHORIZE_URL = "https://id.sapo.pt/oauth/authorize?oauth_token=%s";
-  private static final String ACCESS_URL = "https://id.sapo.pt/oauth/access_token";
-  private static final String REQUEST_URL = "https://id.sapo.pt/oauth/request_token";
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return ACCESS_URL;
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return REQUEST_URL;
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZE_URL, requestToken.getToken());
-  }
-
-  @Override
-  public Verb getRequestTokenVerb()
-  {
-    return Verb.GET;
-  }
-
-  @Override
-  public Verb getAccessTokenVerb()
-  {
-    return Verb.GET;
-  }
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SimpleGeoApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SimpleGeoApi.java
deleted file mode 100644
index 3e19df7..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/SimpleGeoApi.java
+++ /dev/null
@@ -1,29 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-/**
- * @author: Pablo Fernandez
- */
-public class SimpleGeoApi extends DefaultApi10a
-{
-  private static final String ENDPOINT = "these are not used since SimpleGeo uses 2 legged OAuth";
-
-	@Override
-	public String getRequestTokenEndpoint()
-	{
-		return ENDPOINT;
-	}
-
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return ENDPOINT;
-	}
-
-	@Override
-	public String getAuthorizationUrl(Token requestToken)
-	{
-		return ENDPOINT;
-	}
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi.java
deleted file mode 100644
index 14951d3..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi.java
+++ /dev/null
@@ -1,28 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class SinaWeiboApi extends DefaultApi10a
-{
-	private static final String REQUEST_TOKEN_URL = "http://api.t.sina.com.cn/oauth/request_token";
-	private static final String ACCESS_TOKEN_URL = "http://api.t.sina.com.cn/oauth/access_token";
-	private static final String AUTHORIZE_URL = "http://api.t.sina.com.cn/oauth/authorize?oauth_token=%s";
-
-	@Override
-	public String getRequestTokenEndpoint()
-	{
-		return REQUEST_TOKEN_URL;
-	}
-
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return ACCESS_TOKEN_URL;
-	}
-
-	@Override
-	public String getAuthorizationUrl(Token requestToken)
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi20.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi20.java
deleted file mode 100644
index e0744c4..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi20.java
+++ /dev/null
@@ -1,46 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.extractors.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-/**
- * SinaWeibo OAuth 2.0 api.
- */
-public class SinaWeiboApi20 extends DefaultApi20
-{
-  private static final String AUTHORIZE_URL = "https://api.weibo.com/oauth2/authorize?client_id=%s&redirect_uri=%s&response_type=code";
-  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
-
-  @Override
-  public Verb getAccessTokenVerb()
-  {
-    return Verb.POST;
-  }
-
-  @Override
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
-    return new JsonTokenExtractor();
-  }
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://api.weibo.com/oauth2/access_token?grant_type=authorization_code";
-  }
-
-  @Override
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
-    // Append scope if present
-    if (config.hasScope())
-    {
-      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-    }
-    else
-    {
-      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SkyrockApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SkyrockApi.java
deleted file mode 100644
index b0e76a3..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/SkyrockApi.java
+++ /dev/null
@@ -1,35 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-/**
- * OAuth API for Skyrock.
- *
- * @author Nicolas Quinot
- * @see <a href="http://www.skyrock.com/developer/">Skyrock.com API</a>
- */
-public class SkyrockApi extends DefaultApi10a
-{
-  private static final String API_ENDPOINT = "https://api.skyrock.com/v2";
-  private static final String REQUEST_TOKEN_RESOURCE = "/oauth/initiate";
-  private static final String AUTHORIZE_URL = "/oauth/authorize?oauth_token=%s";
-  private static final String ACCESS_TOKEN_RESOURCE = "/oauth/token";
-  
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return API_ENDPOINT + ACCESS_TOKEN_RESOURCE;
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return API_ENDPOINT + REQUEST_TOKEN_RESOURCE;
-  }
-  
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(API_ENDPOINT + AUTHORIZE_URL, requestToken.getToken());
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SohuWeiboApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SohuWeiboApi.java
deleted file mode 100644
index 1f927b7..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/SohuWeiboApi.java
+++ /dev/null
@@ -1,28 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-
-public class SohuWeiboApi extends DefaultApi10a
-{
-	private static final String REQUEST_TOKEN_URL = "http://api.t.sohu.com/oauth/request_token";
-	private static final String ACCESS_TOKEN_URL = "http://api.t.sohu.com/oauth/access_token";
-	private static final String AUTHORIZE_URL = "http://api.t.sohu.com/oauth/authorize?oauth_token=%s";
-
-	@Override
-	public String getRequestTokenEndpoint()
-	{
-		return REQUEST_TOKEN_URL;
-	}
-
-	@Override
-	public String getAccessTokenEndpoint()
-	{
-		return ACCESS_TOKEN_URL;
-	}
-
-	@Override
-	public String getAuthorizationUrl(Token requestToken)
-	{
-		return String.format(AUTHORIZE_URL, requestToken.getToken());
-	}
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/TumblrApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/TumblrApi.java
deleted file mode 100644
index ee680ee..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/TumblrApi.java
+++ /dev/null
@@ -1,28 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class TumblrApi extends DefaultApi10a
-{
-  private static final String AUTHORIZE_URL = "https://www.tumblr.com/oauth/authorize?oauth_token=%s";
-  private static final String REQUEST_TOKEN_RESOURCE = "http://www.tumblr.com/oauth/request_token";
-  private static final String ACCESS_TOKEN_RESOURCE = "http://www.tumblr.com/oauth/access_token";
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return ACCESS_TOKEN_RESOURCE;
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return REQUEST_TOKEN_RESOURCE;
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZE_URL, requestToken.getToken());
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/TwitterApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/TwitterApi.java
deleted file mode 100644
index a83c28e..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/TwitterApi.java
+++ /dev/null
@@ -1,66 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class TwitterApi extends DefaultApi10a
-{
-  private static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize?oauth_token=%s";
-  private static final String REQUEST_TOKEN_RESOURCE = "api.twitter.com/oauth/request_token";
-  private static final String ACCESS_TOKEN_RESOURCE = "api.twitter.com/oauth/access_token";
-  
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "http://" + ACCESS_TOKEN_RESOURCE;
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "http://" + REQUEST_TOKEN_RESOURCE;
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZE_URL, requestToken.getToken());
-  }
-
-  public static class SSL extends TwitterApi
-  {
-    @Override
-    public String getAccessTokenEndpoint()
-    {
-      return "https://" + ACCESS_TOKEN_RESOURCE;
-    }
-
-    @Override
-    public String getRequestTokenEndpoint()
-    {
-      return "https://" + REQUEST_TOKEN_RESOURCE;
-    }
-  }
-
-  /**
-   * Twitter 'friendlier' authorization endpoint for OAuth.
-   *
-   * Uses SSL.
-   */
-  public static class Authenticate extends SSL
-  {
-    private static final String AUTHENTICATE_URL = "https://api.twitter.com/oauth/authenticate?oauth_token=%s";
-
-    @Override
-    public String getAuthorizationUrl(Token requestToken)
-    {
-      return String.format(AUTHENTICATE_URL, requestToken.getToken());
-    }
-  }
-
-  /**
-   * Just an alias to the default (SSL) authorization endpoint.
-   *
-   * Need to include this for symmetry with 'Authenticate' only.
-   */
-  public static class Authorize extends SSL{}
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/VimeoApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/VimeoApi.java
deleted file mode 100644
index 231895d..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/VimeoApi.java
+++ /dev/null
@@ -1,26 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class VimeoApi extends DefaultApi10a
-{
-  private static final String AUTHORIZATION_URL = "http://vimeo.com/oauth/authorize?oauth_token=%s";
-  
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "http://vimeo.com/oauth/access_token";
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "http://vimeo.com/oauth/request_token";
-  }
-  
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZATION_URL, requestToken.getToken());
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/VkontakteApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/VkontakteApi.java
deleted file mode 100644
index 83050e3..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/VkontakteApi.java
+++ /dev/null
@@ -1,41 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.extractors.*;
-import org.scribe.utils.*;
-import org.scribe.model.*;
-
-/**
- * @author Boris G. Tsirkin <mail@dotbg.name>
- * @since 20.4.2011
- */
-public class VkontakteApi extends DefaultApi20
-{
-  private static final String AUTHORIZE_URL = "https://api.vkontakte.ru/oauth/authorize?client_id=%s&redirect_uri=%s&response_type=code";
-  private static final String SCOPED_AUTHORIZE_URL = String.format("%s&scope=%%s", AUTHORIZE_URL);
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://api.vkontakte.ru/oauth/access_token";
-  }
-
-  @Override
-  public String getAuthorizationUrl(OAuthConfig config)
-  {
-    Preconditions.checkValidUrl(config.getCallback(), "Valid url is required for a callback. Vkontakte does not support OOB");
-    if(config.hasScope())// Appending scope if present
-    {
-     return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
-    }
-    else
-    {
-      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
-    }
-  }
-
-  @Override
-  public AccessTokenExtractor getAccessTokenExtractor()
-  {
-    return new JsonTokenExtractor();
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/YahooApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/YahooApi.java
deleted file mode 100644
index e8a29a7..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/YahooApi.java
+++ /dev/null
@@ -1,26 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.Token;
-
-public class YahooApi extends DefaultApi10a
-{
-  private static final String AUTHORIZE_URL = "https://api.login.yahoo.com/oauth/v2/request_auth?oauth_token=%s";
-  
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://api.login.yahoo.com/oauth/v2/get_token";
-  }
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "https://api.login.yahoo.com/oauth/v2/get_request_token";
-  }
-  
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZE_URL, requestToken.getToken());
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/YammerApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/YammerApi.java
deleted file mode 100644
index e06543d..0000000
--- a/Lollapaloozer-Android/src/org/scribe/builder/api/YammerApi.java
+++ /dev/null
@@ -1,33 +0,0 @@
-package org.scribe.builder.api;
-
-import org.scribe.model.*;
-import org.scribe.services.*;
-
-public class YammerApi extends DefaultApi10a
-{
-  private static final String AUTHORIZATION_URL = "https://www.yammer.com/oauth/authorize?oauth_token=%s";
-
-  @Override
-  public String getRequestTokenEndpoint()
-  {
-    return "https://www.yammer.com/oauth/request_token";
-  }
-
-  @Override
-  public String getAccessTokenEndpoint()
-  {
-    return "https://www.yammer.com/oauth/access_token";
-  }
-
-  @Override
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return String.format(AUTHORIZATION_URL, requestToken.getToken());
-  }
-
-  @Override
-  public SignatureService getSignatureService()
-  {
-    return new PlaintextSignatureService();
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthConnectionException.java b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthConnectionException.java
deleted file mode 100644
index 918de81..0000000
--- a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthConnectionException.java
+++ /dev/null
@@ -1,14 +0,0 @@
-package org.scribe.exceptions;
-
-/**
- * @author: Pablo Fernandez
- */
-public class OAuthConnectionException extends OAuthException
-{
-  private static final String MSG = "There was a problem while creating a connection to the remote service.";
-
-  public OAuthConnectionException(Exception e)
-  {
-    super(MSG, e);
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthException.java b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthException.java
deleted file mode 100644
index 85f49d9..0000000
--- a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthException.java
+++ /dev/null
@@ -1,33 +0,0 @@
-package org.scribe.exceptions;
-
-/**
- * Default scribe exception. 
- * Represents a problem in the OAuth signing process
- * 
- * @author Pablo Fernandez
- */
-public class OAuthException extends RuntimeException
-{
-
-  /**
-   * Default constructor 
-   * @param message message explaining what went wrong
-   * @param e original exception
-   */
-  public OAuthException(String message, Exception e)
-  {
-    super(message, e);
-  }
-
-  /**
-   * No-exception constructor. Used when there is no original exception
-   *  
-   * @param message message explaining what went wrong
-   */
-  public OAuthException(String message)
-  {
-    super(message, null);
-  }
-
-  private static final long serialVersionUID = 1L;
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthParametersMissingException.java b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthParametersMissingException.java
deleted file mode 100644
index 8407ce4..0000000
--- a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthParametersMissingException.java
+++ /dev/null
@@ -1,26 +0,0 @@
-package org.scribe.exceptions;
-
-import org.scribe.model.*;
-
-/**
- * Specialized exception that represents a missing OAuth parameter. 
- * 
- * @author Pablo Fernandez
- */
-public class OAuthParametersMissingException extends OAuthException
-{
-
-  private static final long serialVersionUID = 1745308760111976671L;
-  private static final String MSG = "Could not find oauth parameters in request: %s. "
-      + "OAuth parameters must be specified with the addOAuthParameter() method";
-
-  /**
-   * Default constructor.
-   * 
-   * @param request OAuthRequest that caused the error
-   */
-  public OAuthParametersMissingException(OAuthRequest request)
-  {
-    super(String.format(MSG, request));
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthSignatureException.java b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthSignatureException.java
deleted file mode 100644
index 94692be..0000000
--- a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthSignatureException.java
+++ /dev/null
@@ -1,24 +0,0 @@
-package org.scribe.exceptions;
-
-/**
- * Specialized exception that represents a problem in the signature
- * 
- * @author Pablo Fernandez
- */
-public class OAuthSignatureException extends OAuthException
-{
-  private static final long serialVersionUID = 1L;
-  private static final String MSG = "Error while signing string: %s";
-  
-  /**
-   * Default constructor
-   * 
-   * @param stringToSign plain string that gets signed (HMAC-SHA, etc)
-   * @param e original exception
-   */
-  public OAuthSignatureException(String stringToSign, Exception e)
-  {
-    super(String.format(MSG, stringToSign), e);
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/AccessTokenExtractor.java b/Lollapaloozer-Android/src/org/scribe/extractors/AccessTokenExtractor.java
deleted file mode 100644
index 3c0dd34..0000000
--- a/Lollapaloozer-Android/src/org/scribe/extractors/AccessTokenExtractor.java
+++ /dev/null
@@ -1,19 +0,0 @@
-package org.scribe.extractors;
-
-import org.scribe.model.*;
-
-/**
- * Simple command object that extracts a {@link Token} from a String
- * 
- * @author Pablo Fernandez
- */
-public interface AccessTokenExtractor
-{
-  /**
-   * Extracts the access token from the contents of an Http Response
-   *  
-   * @param response the contents of the response
-   * @return OAuth access token
-   */
-  public Token extract(String response);
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractor.java b/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractor.java
deleted file mode 100644
index 83ddd10..0000000
--- a/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractor.java
+++ /dev/null
@@ -1,21 +0,0 @@
-package org.scribe.extractors;
-
-import org.scribe.model.*;
-
-/**
- * Simple command object that extracts a base string from a {@link OAuthRequest}
- * 
- * @author Pablo Fernandez
- */
-public interface BaseStringExtractor
-{
-  /**
-   * Extracts an url-encoded base string from the {@link OAuthRequest}.
-   * 
-   * See <a href="http://oauth.net/core/1.0/#anchor14">the oauth spec</a> for more info on this.
-   * 
-   * @param request the OAuthRequest
-   * @return the url-encoded base string
-   */
-  String extract(OAuthRequest request);
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractorImpl.java b/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractorImpl.java
deleted file mode 100644
index ca21a0d..0000000
--- a/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractorImpl.java
+++ /dev/null
@@ -1,48 +0,0 @@
-package org.scribe.extractors;
-
-import org.scribe.exceptions.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-/**
- * Default implementation of {@link BaseStringExtractor}. Conforms to OAuth 1.0a
- * 
- * @author Pablo Fernandez
- *
- */
-public class BaseStringExtractorImpl implements BaseStringExtractor
-{
-
-  private static final String AMPERSAND_SEPARATED_STRING = "%s&%s&%s";
-
-  /**
-   * {@inheritDoc}
-   */
-  public String extract(OAuthRequest request)
-  {
-    checkPreconditions(request);
-    String verb = OAuthEncoder.encode(request.getVerb().name());
-    String url = OAuthEncoder.encode(request.getSanitizedUrl());
-    String params = getSortedAndEncodedParams(request);
-    return String.format(AMPERSAND_SEPARATED_STRING, verb, url, params);
-  }
-
-  private String getSortedAndEncodedParams(OAuthRequest request)
-  {
-    ParameterList params = new ParameterList();
-    params.addAll(request.getQueryStringParams());
-    params.addAll(request.getBodyParams());
-    params.addAll(new ParameterList(request.getOauthParameters()));
-    return params.sort().asOauthBaseString();
-  }
-
-  private void checkPreconditions(OAuthRequest request)
-  {
-    Preconditions.checkNotNull(request, "Cannot extract base string from null object");
-
-    if (request.getOauthParameters() == null || request.getOauthParameters().size() <= 0)
-    {
-      throw new OAuthParametersMissingException(request);
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractor.java b/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractor.java
deleted file mode 100644
index 2bc1f8b..0000000
--- a/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractor.java
+++ /dev/null
@@ -1,19 +0,0 @@
-package org.scribe.extractors;
-
-import org.scribe.model.*;
-
-/**
- * Simple command object that generates an OAuth Authorization header to include in the request.
- * 
- * @author Pablo Fernandez
- */
-public interface HeaderExtractor
-{
-  /**
-   * Generates an OAuth 'Authorization' Http header to include in requests as the signature.
-   * 
-   * @param request the OAuthRequest to inspect and generate the header
-   * @return the Http header value
-   */
-  String extract(OAuthRequest request);
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractorImpl.java b/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractorImpl.java
deleted file mode 100644
index 73c4ada..0000000
--- a/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractorImpl.java
+++ /dev/null
@@ -1,50 +0,0 @@
-package org.scribe.extractors;
-
-import java.util.*;
-
-import org.scribe.exceptions.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-/**
- * Default implementation of {@link HeaderExtractor}. Conforms to OAuth 1.0a
- * 
- * @author Pablo Fernandez
- *
- */
-public class HeaderExtractorImpl implements HeaderExtractor
-{
-  private static final String PARAM_SEPARATOR = ", ";
-  private static final String PREAMBLE = "OAuth ";
-
-  /**
-   * {@inheritDoc}
-   */
-  public String extract(OAuthRequest request)
-  {
-    checkPreconditions(request);
-    Map<String, String> parameters = request.getOauthParameters();
-    StringBuffer header = new StringBuffer(parameters.size() * 20);
-    header.append(PREAMBLE);
-    for (String key : parameters.keySet())
-    {
-      if(header.length() > PREAMBLE.length())
-      { 
-        header.append(PARAM_SEPARATOR);
-      }
-      header.append(String.format("%s=\"%s\"", key, OAuthEncoder.encode(parameters.get(key))));
-    }
-    return header.toString();
-  }
-
-  private void checkPreconditions(OAuthRequest request)
-  {
-    Preconditions.checkNotNull(request, "Cannot extract a header from a null object");
-
-    if (request.getOauthParameters() == null || request.getOauthParameters().size() <= 0)
-    {
-      throw new OAuthParametersMissingException(request);
-    }
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/JsonTokenExtractor.java b/Lollapaloozer-Android/src/org/scribe/extractors/JsonTokenExtractor.java
deleted file mode 100644
index 9344a21..0000000
--- a/Lollapaloozer-Android/src/org/scribe/extractors/JsonTokenExtractor.java
+++ /dev/null
@@ -1,28 +0,0 @@
-package org.scribe.extractors;
-
-import java.util.regex.*;
-
-import org.scribe.exceptions.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-public class JsonTokenExtractor implements AccessTokenExtractor
-{
-  private Pattern accessTokenPattern = Pattern.compile("\"access_token\":\\s*\"(\\S*?)\"");
-
-  @Override
-  public Token extract(String response)
-  {
-    Preconditions.checkEmptyString(response, "Cannot extract a token from a null or empty String");
-    Matcher matcher = accessTokenPattern.matcher(response);
-    if(matcher.find())
-    {
-      return new Token(matcher.group(1), "", response);
-    }
-    else
-    {
-      throw new OAuthException("Cannot extract an acces token. Response was: " + response);
-    }
-  }
-
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/RequestTokenExtractor.java b/Lollapaloozer-Android/src/org/scribe/extractors/RequestTokenExtractor.java
deleted file mode 100644
index 1830212..0000000
--- a/Lollapaloozer-Android/src/org/scribe/extractors/RequestTokenExtractor.java
+++ /dev/null
@@ -1,19 +0,0 @@
-package org.scribe.extractors;
-
-import org.scribe.model.*;
-
-/**
- * Simple command object that extracts a {@link Token} from a String
- * 
- * @author Pablo Fernandez
- */
-public interface RequestTokenExtractor
-{
-  /**
-   * Extracts the request token from the contents of an Http Response
-   *  
-   * @param response the contents of the response
-   * @return OAuth access token
-   */
-  public Token extract(String response);
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractor20Impl.java b/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractor20Impl.java
deleted file mode 100644
index 1eb22ad..0000000
--- a/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractor20Impl.java
+++ /dev/null
@@ -1,36 +0,0 @@
-package org.scribe.extractors;
-
-import java.util.regex.*;
-
-import org.scribe.exceptions.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-/**
- * Default implementation of {@AccessTokenExtractor}. Conforms to OAuth 2.0
- *
- */
-public class TokenExtractor20Impl implements AccessTokenExtractor
-{
-  private static final String TOKEN_REGEX = "access_token=([^&]+)";
-  private static final String EMPTY_SECRET = "";
-
-  /**
-   * {@inheritDoc} 
-   */
-  public Token extract(String response)
-  {
-    Preconditions.checkEmptyString(response, "Response body is incorrect. Can't extract a token from an empty string");
-
-    Matcher matcher = Pattern.compile(TOKEN_REGEX).matcher(response);
-    if (matcher.find())
-    {
-      String token = OAuthEncoder.decode(matcher.group(1));
-      return new Token(token, EMPTY_SECRET, response);
-    } 
-    else
-    {
-      throw new OAuthException("Response body is incorrect. Can't extract a token from this: '" + response + "'", null);
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractorImpl.java b/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractorImpl.java
deleted file mode 100644
index ba1784b..0000000
--- a/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractorImpl.java
+++ /dev/null
@@ -1,44 +0,0 @@
-package org.scribe.extractors;
-
-import java.util.regex.*;
-
-import org.scribe.exceptions.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-/**
- * Default implementation of {@RequestTokenExtractor} and {@AccessTokenExtractor}. Conforms to OAuth 1.0a
- *
- * The process for extracting access and request tokens is similar so this class can do both things.
- * 
- * @author Pablo Fernandez
- */
-public class TokenExtractorImpl implements RequestTokenExtractor, AccessTokenExtractor
-{
-  private static final Pattern TOKEN_REGEX = Pattern.compile("oauth_token=([^&]+)");
-  private static final Pattern SECRET_REGEX = Pattern.compile("oauth_token_secret=([^&]*)");
-
-  /**
-   * {@inheritDoc} 
-   */
-  public Token extract(String response)
-  {
-    Preconditions.checkEmptyString(response, "Response body is incorrect. Can't extract a token from an empty string");
-    String token = extract(response, TOKEN_REGEX);
-    String secret = extract(response, SECRET_REGEX);
-    return new Token(token, secret, response);
-  }
-
-  private String extract(String response, Pattern p)
-  {
-    Matcher matcher = p.matcher(response);
-    if (matcher.find() && matcher.groupCount() >= 1)
-    {
-      return OAuthEncoder.decode(matcher.group(1));
-    }
-    else
-    {
-      throw new OAuthException("Response body is incorrect. Can't extract token and secret from this: '" + response + "'", null);
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/OAuthConfig.java b/Lollapaloozer-Android/src/org/scribe/model/OAuthConfig.java
deleted file mode 100644
index 374c958..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/OAuthConfig.java
+++ /dev/null
@@ -1,79 +0,0 @@
-package org.scribe.model;
-
-import java.io.*;
-
-/**
- * Parameter object that groups OAuth config values
- * 
- * @author Pablo Fernandez
- */
-public class OAuthConfig
-{
-  private final String apiKey;
-  private final String apiSecret;
-  private final String callback;
-  private final SignatureType signatureType;
-  private final String scope;
-  private final OutputStream debugStream;
-  
-  public OAuthConfig(String key, String secret)
-  {
-    this(key, secret, null, null, null, null);
-  }
-
-  public OAuthConfig(String key, String secret, String callback, SignatureType type, String scope, OutputStream stream)
-  {
-    this.apiKey = key;
-    this.apiSecret = secret;
-    this.callback = callback;
-    this.signatureType = type;
-    this.scope = scope;
-    this.debugStream = stream;
-  }
-
-  public String getApiKey()
-  {
-    return apiKey;
-  }
-
-  public String getApiSecret()
-  {
-    return apiSecret;
-  }
-
-  public String getCallback()
-  {
-    return callback;
-  }
-
-  public SignatureType getSignatureType()
-  {
-    return signatureType;
-  }
-
-  public String getScope()
-  {
-    return scope;
-  }
-
-  public boolean hasScope()
-  {
-    return scope != null;
-  }
-
-  public void log(String message)
-  {
-    if (debugStream != null)
-    {
-      message = message + "\n";
-      try
-      {
-        debugStream.write(message.getBytes("UTF8"));
-      }
-      catch (Exception e)
-      {
-        throw new RuntimeException("there were problems while writting to the debug stream", e);
-      }
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/OAuthConstants.java b/Lollapaloozer-Android/src/org/scribe/model/OAuthConstants.java
deleted file mode 100644
index c93c31c..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/OAuthConstants.java
+++ /dev/null
@@ -1,49 +0,0 @@
-/* 
-Copyright 2010 Pablo Fernandez
-
-Licensed under the Apache License, Version 2.0 (the "License");
-you may not use this file except in compliance with the License.
-You may obtain a copy of the License at
-
-http://www.apache.org/licenses/LICENSE-2.0
-
-Unless required by applicable law or agreed to in writing, software
-distributed under the License is distributed on an "AS IS" BASIS,
-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-See the License for the specific language governing permissions and
-limitations under the License.
- */
-package org.scribe.model;
-
-/**
- * This class contains OAuth constants, used project-wide
- * 
- * @author Pablo Fernandez
- */
-public class OAuthConstants
-{
-  public static final String TIMESTAMP = "oauth_timestamp";
-  public static final String SIGN_METHOD = "oauth_signature_method";
-  public static final String SIGNATURE = "oauth_signature";
-  public static final String CONSUMER_SECRET = "oauth_consumer_secret";
-  public static final String CONSUMER_KEY = "oauth_consumer_key";
-  public static final String CALLBACK = "oauth_callback";
-  public static final String VERSION = "oauth_version";
-  public static final String NONCE = "oauth_nonce";
-  public static final String PARAM_PREFIX = "oauth_";
-  public static final String TOKEN = "oauth_token";
-  public static final String TOKEN_SECRET = "oauth_token_secret";
-  public static final String OUT_OF_BAND = "oob";
-  public static final String VERIFIER = "oauth_verifier";
-  public static final String HEADER = "Authorization";
-  public static final Token EMPTY_TOKEN = new Token("", "");
-  public static final String SCOPE = "scope";
-
-  //OAuth 2.0
-  public static final String ACCESS_TOKEN = "access_token";
-  public static final String CLIENT_ID = "client_id";
-  public static final String CLIENT_SECRET = "client_secret";
-  public static final String REDIRECT_URI = "redirect_uri";
-  public static final String CODE = "code";
-  
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/OAuthRequest.java b/Lollapaloozer-Android/src/org/scribe/model/OAuthRequest.java
deleted file mode 100644
index 4389227..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/OAuthRequest.java
+++ /dev/null
@@ -1,69 +0,0 @@
-package org.scribe.model;
-
-import java.util.*;
-
-/**
- * The representation of an OAuth HttpRequest.
- * 
- * Adds OAuth-related functionality to the {@link Request}  
- * 
- * @author Pablo Fernandez
- */
-public class OAuthRequest extends Request
-{
-  private static final String OAUTH_PREFIX = "oauth_";
-  private Map<String, String> oauthParameters;
-
-  /**
-   * Default constructor.
-   * 
-   * @param verb Http verb/method
-   * @param url resource URL
-   */
-  public OAuthRequest(Verb verb, String url)
-  {
-    super(verb, url);
-    this.oauthParameters = new HashMap<String, String>();
-  }
-
-  /**
-   * Adds an OAuth parameter.
-   * 
-   * @param key name of the parameter
-   * @param value value of the parameter
-   * 
-   * @throws IllegalArgumentException if the parameter is not an OAuth parameter
-   */
-  public void addOAuthParameter(String key, String value)
-  {
-    oauthParameters.put(checkKey(key), value);
-  }
-
-  private String checkKey(String key)
-  {
-    if (key.startsWith(OAUTH_PREFIX) || key.equals(OAuthConstants.SCOPE))
-    {
-      return key;
-    } 
-    else
-    {
-      throw new IllegalArgumentException(String.format("OAuth parameters must either be '%s' or start with '%s'", OAuthConstants.SCOPE, OAUTH_PREFIX));
-    }
-  }
-
-  /**
-   * Returns the {@link Map} containing the key-value pair of parameters.
-   * 
-   * @return parameters as map
-   */
-  public Map<String, String> getOauthParameters()
-  {
-    return oauthParameters;
-  }
-
-  @Override
-  public String toString()
-  {
-    return String.format("@OAuthRequest(%s, %s)", getVerb(), getUrl());
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Parameter.java b/Lollapaloozer-Android/src/org/scribe/model/Parameter.java
deleted file mode 100644
index 9fe610b..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/Parameter.java
+++ /dev/null
@@ -1,50 +0,0 @@
-package org.scribe.model;
-
-import java.io.UnsupportedEncodingException;
-import java.net.URLEncoder;
-import org.scribe.exceptions.OAuthException;
-import org.scribe.utils.OAuthEncoder;
-
-/**
- * @author: Pablo Fernandez
- */
-public class Parameter implements Comparable<Parameter>
-{
-  private static final String UTF = "UTF8";
-
-  private final String key;
-  private final String value;
-
-  public Parameter(String key, String value)
-  {
-    this.key = key;
-    this.value = value;
-  }
-
-  public String asUrlEncodedPair()
-  {
-    return OAuthEncoder.encode(key).concat("=").concat(OAuthEncoder.encode(value));
-  }
-  
-  public boolean equals(Object other)
-  {
-    if(other == null) return false;
-    if(other == this) return true;
-    if(!(other instanceof Parameter)) return false;
-    
-    Parameter otherParam = (Parameter) other;
-    return otherParam.key.equals(key) && otherParam.value.equals(value);
-  }
-
-  public int hashCode()
-  {
-    return key.hashCode() + value.hashCode();
-  }
-
-  public int compareTo(Parameter parameter)
-  {
-    int keyDiff = key.compareTo(parameter.key);
-
-    return keyDiff != 0 ? keyDiff : value.compareTo(parameter.value);
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/ParameterList.java b/Lollapaloozer-Android/src/org/scribe/model/ParameterList.java
deleted file mode 100644
index b365cba..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/ParameterList.java
+++ /dev/null
@@ -1,114 +0,0 @@
-package org.scribe.model;
-
-import java.util.ArrayList;
-import java.util.Collections;
-import java.util.List;
-import java.util.Map;
-import org.scribe.utils.OAuthEncoder;
-import org.scribe.utils.Preconditions;
-
-/**
- * @author: Pablo Fernandez
- */
-public class ParameterList
-{
-  private static final char QUERY_STRING_SEPARATOR = '?';
-  private static final String PARAM_SEPARATOR = "&";
-  private static final String PAIR_SEPARATOR = "=";
-  private static final String EMPTY_STRING = "";
-
-  private final List<Parameter> params;
-
-  public ParameterList()
-  {
-    params = new ArrayList<Parameter>();
-  }
-
-  ParameterList(List<Parameter> params)
-  {
-    this.params = new ArrayList<Parameter>(params);
-  }
-
-  public ParameterList(Map<String, String> map)
-  {
-    this();
-    for(Map.Entry<String, String> entry : map.entrySet())
-    {
-      params.add(new Parameter(entry.getKey(), entry.getValue()));
-    }
-  }
-  
-  public void add(String key, String value)
-  {
-    params.add(new Parameter(key, value));
-  }
-
-  public String appendTo(String url)
-  {
-    Preconditions.checkNotNull(url, "Cannot append to null URL");
-    String queryString = asFormUrlEncodedString();
-    if (queryString.equals(EMPTY_STRING))
-    {
-      return url;
-    }
-    else
-    {
-      url += url.indexOf(QUERY_STRING_SEPARATOR) != -1 ? PARAM_SEPARATOR : QUERY_STRING_SEPARATOR;
-      url += queryString;
-      return url;
-    }
-  }
-
-  public String asOauthBaseString()
-  {
-    return OAuthEncoder.encode(asFormUrlEncodedString());
-  }
-
-  public String asFormUrlEncodedString()
-  {
-    if (params.size() == 0) return EMPTY_STRING;
-
-    StringBuilder builder = new StringBuilder();
-    for(Parameter p : params)
-    {
-      builder.append('&').append(p.asUrlEncodedPair());
-    }
-    return builder.toString().substring(1);
-  }
-
-  public void addAll(ParameterList other)
-  {
-    params.addAll(other.params);
-  }
-
-  public void addQuerystring(String queryString)
-  {
-    if (queryString != null && queryString.length() > 0)
-    {
-      for (String param : queryString.split(PARAM_SEPARATOR))
-      {
-        String pair[] = param.split(PAIR_SEPARATOR);
-        String key = OAuthEncoder.decode(pair[0]);
-        String value = pair.length > 1 ? OAuthEncoder.decode(pair[1]) : EMPTY_STRING;
-        params.add(new Parameter(key, value));
-      }
-    }
-  }
-
-  public boolean contains(Parameter param)
-  {
-    return params.contains(param);
-  }
-
-  public int size()
-  {
-    return params.size();
-  }
-
-  public ParameterList sort()
-  {
-    ParameterList sorted = new ParameterList(params);
-    Collections.sort(sorted.params);
-    return sorted;
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Request.java b/Lollapaloozer-Android/src/org/scribe/model/Request.java
deleted file mode 100644
index 81db94e..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/Request.java
+++ /dev/null
@@ -1,358 +0,0 @@
-package org.scribe.model;
-
-import java.io.*;
-import java.net.*;
-import java.nio.charset.*;
-import java.util.*;
-import java.util.concurrent.TimeUnit;
-
-import org.scribe.exceptions.*;
-
-/**
- * Represents an HTTP Request object
- * 
- * @author Pablo Fernandez
- */
-class Request
-{
-  private static final String CONTENT_LENGTH = "Content-Length";
-  private static final String CONTENT_TYPE = "Content-Type";
-  public static final String DEFAULT_CONTENT_TYPE = "application/x-www-form-urlencoded";
-
-  private String url;
-  private Verb verb;
-  private ParameterList querystringParams;
-  private ParameterList bodyParams;
-  private Map<String, String> headers;
-  private String payload = null;
-  private HttpURLConnection connection;
-  private String charset;
-  private byte[] bytePayload = null;
-  private boolean connectionKeepAlive = false;
-  private Long connectTimeout = null;
-  private Long readTimeout = null;
-
-  /**
-   * Creates a new Http Request
-   * 
-   * @param verb Http Verb (GET, POST, etc)
-   * @param url url with optional querystring parameters.
-   */
-  public Request(Verb verb, String url)
-  {
-    this.verb = verb;
-    this.url = url;
-    this.querystringParams = new ParameterList();
-    this.bodyParams = new ParameterList();
-    this.headers = new HashMap<String, String>();
-  }
-
-  /**
-   * Execute the request and return a {@link Response}
-   * 
-   * @return Http Response
-   * @throws RuntimeException
-   *           if the connection cannot be created.
-   */
-  public Response send()
-  {
-    try
-    {
-      createConnection();
-      return doSend();
-    }
-    catch (Exception e)
-    {
-      throw new OAuthConnectionException(e);
-    }
-  }
-
-  private void createConnection() throws IOException
-  {
-    String completeUrl = getCompleteUrl();
-    if (connection == null)
-    {
-      System.setProperty("http.keepAlive", connectionKeepAlive ? "true" : "false");
-      connection = (HttpURLConnection) new URL(completeUrl).openConnection();
-    }
-  }
-
-  /**
-   * Returns the complete url (host + resource + encoded querystring parameters).
-   *
-   * @return the complete url.
-   */
-  public String getCompleteUrl()
-  {
-    return querystringParams.appendTo(url);
-  }
-
-  Response doSend() throws IOException
-  {
-    connection.setRequestMethod(this.verb.name());
-    if (connectTimeout != null) 
-    {
-      connection.setConnectTimeout(connectTimeout.intValue());
-    }
-    if (readTimeout != null)
-    {
-      connection.setReadTimeout(readTimeout.intValue());
-    }
-    addHeaders(connection);
-    if (verb.equals(Verb.PUT) || verb.equals(Verb.POST))
-    {
-      addBody(connection, getByteBodyContents());
-    }
-    return new Response(connection);
-  }
-
-  void addHeaders(HttpURLConnection conn)
-  {
-    for (String key : headers.keySet())
-      conn.setRequestProperty(key, headers.get(key));
-  }
-
-  void addBody(HttpURLConnection conn, byte[] content) throws IOException
-  {
-    conn.setRequestProperty(CONTENT_LENGTH, String.valueOf(content.length));
-
-    // Set default content type if none is set.
-    if (conn.getRequestProperty(CONTENT_TYPE) == null)
-    {
-      conn.setRequestProperty(CONTENT_TYPE, DEFAULT_CONTENT_TYPE);
-    }
-    conn.setDoOutput(true);
-    conn.getOutputStream().write(content);
-  }
-
-  /**
-   * Add an HTTP Header to the Request
-   * 
-   * @param key the header name
-   * @param value the header value
-   */
-  public void addHeader(String key, String value)
-  {
-    this.headers.put(key, value);
-  }
-
-  /**
-   * Add a body Parameter (for POST/ PUT Requests)
-   * 
-   * @param key the parameter name
-   * @param value the parameter value
-   */
-  public void addBodyParameter(String key, String value)
-  {
-    this.bodyParams.add(key, value);
-  }
-
-  /**
-   * Add a QueryString parameter
-   *
-   * @param key the parameter name
-   * @param value the parameter value
-   */
-  public void addQuerystringParameter(String key, String value)
-  {
-    this.querystringParams.add(key, value);
-  }
-
-  /**
-   * Add body payload.
-   * 
-   * This method is used when the HTTP body is not a form-url-encoded string,
-   * but another thing. Like for example XML.
-   * 
-   * Note: The contents are not part of the OAuth signature
-   * 
-   * @param payload the body of the request
-   */
-  public void addPayload(String payload)
-  {
-    this.payload = payload;
-  }
-
-  /**
-   * Overloaded version for byte arrays
-   *
-   * @param payload
-   */
-  public void addPayload(byte[] payload)
-  {
-    this.bytePayload = payload;
-  }
-
-  /**
-   * Get a {@link ParameterList} with the query string parameters.
-   * 
-   * @return a {@link ParameterList} containing the query string parameters.
-   * @throws OAuthException if the request URL is not valid.
-   */
-  public ParameterList getQueryStringParams()
-  {
-    try
-    {
-      ParameterList result = new ParameterList();
-      String queryString = new URL(url).getQuery();
-      result.addQuerystring(queryString);
-      result.addAll(querystringParams);
-      return result;
-    }
-    catch (MalformedURLException mue)
-    {
-      throw new OAuthException("Malformed URL", mue);
-    }
-  }
-
-  /**
-   * Obtains a {@link ParameterList} of the body parameters.
-   * 
-   * @return a {@link ParameterList}containing the body parameters.
-   */
-  public ParameterList getBodyParams()
-  {
-    return bodyParams;
-  }
-
-  /**
-   * Obtains the URL of the HTTP Request.
-   * 
-   * @return the original URL of the HTTP Request
-   */
-  public String getUrl()
-  {
-    return url;
-  }
-
-  /**
-   * Returns the URL without the port and the query string part.
-   * 
-   * @return the OAuth-sanitized URL
-   */
-  public String getSanitizedUrl()
-  {
-    return url.replaceAll("\\?.*", "").replace("\\:\\d{4}", "");
-  }
-
-  /**
-   * Returns the body of the request
-   * 
-   * @return form encoded string
-   * @throws OAuthException if the charset chosen is not supported
-   */
-  public String getBodyContents()
-  {
-    try
-    {
-      return new String(getByteBodyContents(),getCharset());
-    }
-    catch(UnsupportedEncodingException uee)
-    {
-      throw new OAuthException("Unsupported Charset: "+charset, uee);
-    }
-  }
-
-  byte[] getByteBodyContents()
-  {
-    if (bytePayload != null) return bytePayload;
-    String body = (payload != null) ? payload : bodyParams.asFormUrlEncodedString();
-    try
-    {
-      return body.getBytes(getCharset());
-    }
-    catch(UnsupportedEncodingException uee)
-    {
-      throw new OAuthException("Unsupported Charset: "+getCharset(), uee);
-    }
-  }
-
-  /**
-   * Returns the HTTP Verb
-   * 
-   * @return the verb
-   */
-  public Verb getVerb()
-  {
-    return verb;
-  }
-  
-  /**
-   * Returns the connection headers as a {@link Map}
-   * 
-   * @return map of headers
-   */
-  public Map<String, String> getHeaders()
-  {
-    return headers;
-  }
-
-  /**
-   * Returns the connection charset. Defaults to {@link Charset} defaultCharset if not set
-   *
-   * @return charset
-   */
-  public String getCharset()
-  {
-    return charset == null ? Charset.defaultCharset().name() : charset;
-  }
-
-  /**
-   * Sets the connect timeout for the underlying {@link HttpURLConnection}
-   * 
-   * @param duration duration of the timeout
-   * 
-   * @param unit unit of time (milliseconds, seconds, etc)
-   */
-  public void setConnectTimeout(int duration, TimeUnit unit)
-  {
-    this.connectTimeout = unit.toMillis(duration);
-  }
-
-  /**
-   * Sets the read timeout for the underlying {@link HttpURLConnection}
-   * 
-   * @param duration duration of the timeout
-   * 
-   * @param unit unit of time (milliseconds, seconds, etc)
-   */
-  public void setReadTimeout(int duration, TimeUnit unit)
-  {
-    this.readTimeout = unit.toMillis(duration);
-  }
-
-  /**
-   * Set the charset of the body of the request
-   *
-   * @param charsetName name of the charset of the request
-   */
-  public void setCharset(String charsetName)
-  {
-    this.charset = charsetName;
-  }
-
-  /**
-   * Sets whether the underlying Http Connection is persistent or not.
-   *
-   * @see http://download.oracle.com/javase/1.5.0/docs/guide/net/http-keepalive.html
-   * @param connectionKeepAlive
-   */
-  public void setConnectionKeepAlive(boolean connectionKeepAlive)
-  {
-    this.connectionKeepAlive = connectionKeepAlive;
-  }
-
-  /*
-   * We need this in order to stub the connection object for test cases
-   */
-  void setConnection(HttpURLConnection connection)
-  {
-    this.connection = connection;
-  }
-
-  @Override
-  public String toString()
-  {
-    return String.format("@Request(%s %s)", getVerb(), getUrl());
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Response.java b/Lollapaloozer-Android/src/org/scribe/model/Response.java
deleted file mode 100644
index 9835a05..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/Response.java
+++ /dev/null
@@ -1,113 +0,0 @@
-package org.scribe.model;
-
-import java.io.*;
-import java.net.*;
-import java.util.*;
-
-import org.scribe.exceptions.*;
-import org.scribe.utils.*;
-
-/**
- * Represents an HTTP Response.
- * 
- * @author Pablo Fernandez
- */
-public class Response
-{
-  private static final String EMPTY = "";
-
-  private int code;
-  private String body;
-  private InputStream stream;
-  private Map<String, String> headers;
-
-  Response(HttpURLConnection connection) throws IOException
-  {
-    try
-    {
-      connection.connect();
-      code = connection.getResponseCode();
-      headers = parseHeaders(connection);
-      stream = isSuccessful() ? connection.getInputStream() : connection.getErrorStream();
-    }
-    catch (UnknownHostException e)
-    {
-      throw new OAuthException("The IP address of a host could not be determined.", e);
-    }
-  }
-
-  private String parseBodyContents()
-  {
-    body = StreamUtils.getStreamContents(getStream());
-    return body;
-  }
-
-  private Map<String, String> parseHeaders(HttpURLConnection conn)
-  {
-    Map<String, String> headers = new HashMap<String, String>();
-    for (String key : conn.getHeaderFields().keySet())
-    {
-      headers.put(key, conn.getHeaderFields().get(key).get(0));
-    }
-    return headers;
-  }
-
-  public boolean isSuccessful()
-  {
-    return getCode() >= 200 && getCode() < 400;
-  }
-
-  /**
-   * Obtains the HTTP Response body
-   * 
-   * @return response body
-   */
-  public String getBody()
-  {
-    return body != null ? body : parseBodyContents();
-  }
-
-  /**
-   * Obtains the meaningful stream of the HttpUrlConnection, either inputStream
-   * or errorInputStream, depending on the status code
-   * 
-   * @return input stream / error stream
-   */
-  public InputStream getStream()
-  {
-    return stream;
-  }
-
-  /**
-   * Obtains the HTTP status code
-   * 
-   * @return the status code
-   */
-  public int getCode()
-  {
-    return code;
-  }
-
-  /**
-   * Obtains a {@link Map} containing the HTTP Response Headers
-   * 
-   * @return headers
-   */
-  public Map<String, String> getHeaders()
-  {
-    return headers;
-  }
-
-  /**
-   * Obtains a single HTTP Header value, or null if undefined
-   * 
-   * @param name the header name.
-   * 
-   * @return header value or null.
-   */
-  public String getHeader(String name)
-  {
-    return headers.get(name);
-  }
-
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/model/SignatureType.java b/Lollapaloozer-Android/src/org/scribe/model/SignatureType.java
deleted file mode 100644
index 3440a36..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/SignatureType.java
+++ /dev/null
@@ -1,7 +0,0 @@
-package org.scribe.model;
-
-public enum SignatureType
-{
-  Header,
-  QueryString
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Token.java b/Lollapaloozer-Android/src/org/scribe/model/Token.java
deleted file mode 100644
index 286fec6..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/Token.java
+++ /dev/null
@@ -1,60 +0,0 @@
-package org.scribe.model;
-
-import java.io.Serializable;
-
-/**
- * Represents an OAuth token (either request or access token) and its secret
- * 
- * @author Pablo Fernandez
- */
-public class Token implements Serializable
-{
-  private static final long serialVersionUID = 715000866082812683L;
-	
-  private final String token;
-  private final String secret;
-  private final String rawResponse;
-
-  /**
-   * Default constructor
-   * 
-   * @param token token value
-   * @param secret token secret
-   */
-  public Token(String token, String secret)
-  {
-    this(token, secret, null);
-  }
-
-  public Token(String token, String secret, String rawResponse)
-  {
-    this.token = token;
-    this.secret = secret;
-    this.rawResponse = rawResponse;
-  }
-
-  public String getToken()
-  {
-    return token;
-  }
-
-  public String getSecret()
-  {
-    return secret;
-  }
-
-  public String getRawResponse()
-  {
-    if (rawResponse == null)
-    {
-      throw new IllegalStateException("This token object was not constructed by scribe and does not have a rawResponse");
-    }
-    return rawResponse;
-  }
-
-  @Override
-  public String toString()
-  {
-    return String.format("Token[%s , %s]", token, secret);
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Verb.java b/Lollapaloozer-Android/src/org/scribe/model/Verb.java
deleted file mode 100644
index b370791..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/Verb.java
+++ /dev/null
@@ -1,11 +0,0 @@
-package org.scribe.model;
-
-/**
- * An enumeration containing the most common HTTP Verbs.
- * 
- * @author Pablo Fernandez
- */
-public enum Verb
-{
-  GET, POST, PUT, DELETE
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Verifier.java b/Lollapaloozer-Android/src/org/scribe/model/Verifier.java
deleted file mode 100644
index 45f0e4e..0000000
--- a/Lollapaloozer-Android/src/org/scribe/model/Verifier.java
+++ /dev/null
@@ -1,30 +0,0 @@
-package org.scribe.model;
-
-import org.scribe.utils.*;
-
-/**
- * Represents an OAuth verifier code.
- * 
- * @author Pablo Fernandez
- */
-public class Verifier
-{
-
-  private final String value;
-
-  /**
-   * Default constructor.
-   * 
-   * @param value verifier value
-   */
-  public Verifier(String value)
-  {
-    Preconditions.checkNotNull(value, "Must provide a valid string as verifier");
-    this.value = value;
-  }
-
-  public String getValue()
-  {
-    return value;
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/oauth/OAuth10aServiceImpl.java b/Lollapaloozer-Android/src/org/scribe/oauth/OAuth10aServiceImpl.java
deleted file mode 100644
index b847b2d..0000000
--- a/Lollapaloozer-Android/src/org/scribe/oauth/OAuth10aServiceImpl.java
+++ /dev/null
@@ -1,145 +0,0 @@
-package org.scribe.oauth;
-
-import java.util.*;
-
-import org.scribe.builder.api.*;
-import org.scribe.model.*;
-import org.scribe.utils.*;
-
-/**
- * OAuth 1.0a implementation of {@link OAuthService}
- * 
- * @author Pablo Fernandez
- */
-public class OAuth10aServiceImpl implements OAuthService
-{
-  private static final String VERSION = "1.0";
-
-  private OAuthConfig config;
-  private DefaultApi10a api;
-
-  /**
-   * Default constructor
-   * 
-   * @param api OAuth1.0a api information
-   * @param config OAuth 1.0a configuration param object
-   */
-  public OAuth10aServiceImpl(DefaultApi10a api, OAuthConfig config)
-  {
-    this.api = api;
-    this.config = config;
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public Token getRequestToken()
-  {
-    config.log("obtaining request token from " + api.getRequestTokenEndpoint());
-    OAuthRequest request = new OAuthRequest(api.getRequestTokenVerb(), api.getRequestTokenEndpoint());
-
-    config.log("setting oauth_callback to " + config.getCallback());
-    request.addOAuthParameter(OAuthConstants.CALLBACK, config.getCallback());
-    addOAuthParams(request, OAuthConstants.EMPTY_TOKEN);
-    appendSignature(request);
-
-    config.log("sending request...");
-    Response response = request.send();
-    String body = response.getBody();
-
-    config.log("response status code: " + response.getCode());
-    config.log("response body: " + body);
-    return api.getRequestTokenExtractor().extract(body);
-  }
-
-  private void addOAuthParams(OAuthRequest request, Token token)
-  {
-    request.addOAuthParameter(OAuthConstants.TIMESTAMP, api.getTimestampService().getTimestampInSeconds());
-    request.addOAuthParameter(OAuthConstants.NONCE, api.getTimestampService().getNonce());
-    request.addOAuthParameter(OAuthConstants.CONSUMER_KEY, config.getApiKey());
-    request.addOAuthParameter(OAuthConstants.SIGN_METHOD, api.getSignatureService().getSignatureMethod());
-    request.addOAuthParameter(OAuthConstants.VERSION, getVersion());
-    if(config.hasScope()) request.addOAuthParameter(OAuthConstants.SCOPE, config.getScope());
-    request.addOAuthParameter(OAuthConstants.SIGNATURE, getSignature(request, token));
-
-    config.log("appended additional OAuth parameters: " + MapUtils.toString(request.getOauthParameters()));
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public Token getAccessToken(Token requestToken, Verifier verifier)
-  {
-    config.log("obtaining access token from " + api.getAccessTokenEndpoint());
-    OAuthRequest request = new OAuthRequest(api.getAccessTokenVerb(), api.getAccessTokenEndpoint());
-    request.addOAuthParameter(OAuthConstants.TOKEN, requestToken.getToken());
-    request.addOAuthParameter(OAuthConstants.VERIFIER, verifier.getValue());
-
-    config.log("setting token to: " + requestToken + " and verifier to: " + verifier);
-    addOAuthParams(request, requestToken);
-    appendSignature(request);
-    Response response = request.send();
-    return api.getAccessTokenExtractor().extract(response.getBody());
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public void signRequest(Token token, OAuthRequest request)
-  {
-    config.log("signing request: " + request.getCompleteUrl());
-    request.addOAuthParameter(OAuthConstants.TOKEN, token.getToken());
-
-    config.log("setting token to: " + token);
-    addOAuthParams(request, token);
-    appendSignature(request);
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public String getVersion()
-  {
-    return VERSION;
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return api.getAuthorizationUrl(requestToken);
-  }
-  
-  private String getSignature(OAuthRequest request, Token token)
-  {
-    config.log("generating signature...");
-    String baseString = api.getBaseStringExtractor().extract(request);
-    String signature = api.getSignatureService().getSignature(baseString, config.getApiSecret(), token.getSecret());
-
-    config.log("base string is: " + baseString);
-    config.log("signature is: " + signature);
-    return signature;
-  }
-
-  private void appendSignature(OAuthRequest request)
-  {
-    switch (config.getSignatureType())
-    {
-      case Header:
-        config.log("using Http Header signature");
-
-        String oauthHeader = api.getHeaderExtractor().extract(request);
-        request.addHeader(OAuthConstants.HEADER, oauthHeader);
-        break;
-      case QueryString:
-        config.log("using Querystring signature");
-
-        for (Map.Entry<String, String> entry : request.getOauthParameters().entrySet())
-        {
-          request.addQuerystringParameter(entry.getKey(), entry.getValue());
-        }
-        break;
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/oauth/OAuth20ServiceImpl.java b/Lollapaloozer-Android/src/org/scribe/oauth/OAuth20ServiceImpl.java
deleted file mode 100644
index 6262c37..0000000
--- a/Lollapaloozer-Android/src/org/scribe/oauth/OAuth20ServiceImpl.java
+++ /dev/null
@@ -1,72 +0,0 @@
-package org.scribe.oauth;
-
-import org.scribe.builder.api.*;
-import org.scribe.model.*;
-
-public class OAuth20ServiceImpl implements OAuthService
-{
-  private static final String VERSION = "2.0";
-  
-  private final DefaultApi20 api;
-  private final OAuthConfig config;
-  
-  /**
-   * Default constructor
-   * 
-   * @param api OAuth2.0 api information
-   * @param config OAuth 2.0 configuration param object
-   */
-  public OAuth20ServiceImpl(DefaultApi20 api, OAuthConfig config)
-  {
-    this.api = api;
-    this.config = config;
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public Token getAccessToken(Token requestToken, Verifier verifier)
-  {
-    OAuthRequest request = new OAuthRequest(api.getAccessTokenVerb(), api.getAccessTokenEndpoint());
-    request.addQuerystringParameter(OAuthConstants.CLIENT_ID, config.getApiKey());
-    request.addQuerystringParameter(OAuthConstants.CLIENT_SECRET, config.getApiSecret());
-    request.addQuerystringParameter(OAuthConstants.CODE, verifier.getValue());
-    request.addQuerystringParameter(OAuthConstants.REDIRECT_URI, config.getCallback());
-    if(config.hasScope()) request.addQuerystringParameter(OAuthConstants.SCOPE, config.getScope());
-    Response response = request.send();
-    return api.getAccessTokenExtractor().extract(response.getBody());
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public Token getRequestToken()
-  {
-    throw new UnsupportedOperationException("Unsupported operation, please use 'getAuthorizationUrl' and redirect your users there");
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public String getVersion()
-  {
-    return VERSION;
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public void signRequest(Token accessToken, OAuthRequest request)
-  {
-    request.addQuerystringParameter(OAuthConstants.ACCESS_TOKEN, accessToken.getToken());
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public String getAuthorizationUrl(Token requestToken)
-  {
-    return api.getAuthorizationUrl(config);
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/oauth/OAuthService.java b/Lollapaloozer-Android/src/org/scribe/oauth/OAuthService.java
deleted file mode 100644
index 0c9c57e..0000000
--- a/Lollapaloozer-Android/src/org/scribe/oauth/OAuthService.java
+++ /dev/null
@@ -1,53 +0,0 @@
-package org.scribe.oauth;
-
-import org.scribe.model.*;
-
-/**
- * The main Scribe object. 
- * 
- * A facade responsible for the retrieval of request and access tokens and for the signing of HTTP requests.  
- * 
- * @author Pablo Fernandez
- */
-public interface OAuthService
-{
-  /**
-   * Retrieve the request token.
-   * 
-   * @return request token
-   */
-  public Token getRequestToken();
-
-  /**
-   * Retrieve the access token
-   * 
-   * @param requestToken request token (obtained previously)
-   * @param verifier verifier code
-   * @return access token
-   */
-  public Token getAccessToken(Token requestToken, Verifier verifier);
-
-  /**
-   * Signs am OAuth request
-   * 
-   * @param accessToken access token (obtained previously)
-   * @param request request to sign
-   */
-  public void signRequest(Token accessToken, OAuthRequest request);
-
-  /**
-   * Returns the OAuth version of the service.
-   * 
-   * @return oauth version as string
-   */
-  public String getVersion();
-  
-  /**
-   * Returns the URL where you should redirect your users to authenticate
-   * your application.
-   * 
-   * @param requestToken the request token you need to authorize
-   * @return the URL where you should redirect your users
-   */
-  public String getAuthorizationUrl(Token requestToken);
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/services/HMACSha1SignatureService.java b/Lollapaloozer-Android/src/org/scribe/services/HMACSha1SignatureService.java
deleted file mode 100644
index 45800ca..0000000
--- a/Lollapaloozer-Android/src/org/scribe/services/HMACSha1SignatureService.java
+++ /dev/null
@@ -1,58 +0,0 @@
-package org.scribe.services;
-
-import javax.crypto.*;
-import javax.crypto.spec.*;
-
-import org.apache.commons.codec.binary.Base64;
-import org.scribe.exceptions.*;
-import org.scribe.utils.*;
-
-
-/**
- * HMAC-SHA1 implementation of {@SignatureService}
- * 
- * @author Pablo Fernandez
- *
- */
-public class HMACSha1SignatureService implements SignatureService
-{
-  private static final String EMPTY_STRING = "";
-  private static final String CARRIAGE_RETURN = "\r\n";
-  private static final String UTF8 = "UTF-8";
-  private static final String HMAC_SHA1 = "HmacSHA1";
-  private static final String METHOD = "HMAC-SHA1";
-
-  /**
-   * {@inheritDoc}
-   */
-  public String getSignature(String baseString, String apiSecret, String tokenSecret)
-  {
-    try
-    {
-      Preconditions.checkEmptyString(baseString, "Base string cant be null or empty string");
-      Preconditions.checkEmptyString(apiSecret, "Api secret cant be null or empty string");
-      return doSign(baseString, OAuthEncoder.encode(apiSecret) + '&' + OAuthEncoder.encode(tokenSecret));
-    } 
-    catch (Exception e)
-    {
-      throw new OAuthSignatureException(baseString, e);
-    }
-  }
-
-  private String doSign(String toSign, String keyString) throws Exception
-  {
-    SecretKeySpec key = new SecretKeySpec((keyString).getBytes(UTF8), HMAC_SHA1);
-    Mac mac = Mac.getInstance(HMAC_SHA1);
-    mac.init(key);
-    byte[] bytes = mac.doFinal(toSign.getBytes(UTF8));
-    return new String(Base64.encodeBase64(bytes)).replace(CARRIAGE_RETURN, EMPTY_STRING);
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public String getSignatureMethod()
-  {
-    return METHOD;
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/services/PlaintextSignatureService.java b/Lollapaloozer-Android/src/org/scribe/services/PlaintextSignatureService.java
deleted file mode 100644
index b71ca97..0000000
--- a/Lollapaloozer-Android/src/org/scribe/services/PlaintextSignatureService.java
+++ /dev/null
@@ -1,40 +0,0 @@
-package org.scribe.services;
-
-import org.scribe.exceptions.*;
-import org.scribe.utils.*;
-
-/**
- * plaintext implementation of {@SignatureService}
- *
- * @author Pablo Fernandez
- *
- */
-public class PlaintextSignatureService implements SignatureService
-{
-  private static final String METHOD = "plaintext";
-
-  /**
-   * {@inheritDoc}
-   */
-  public String getSignature(String baseString, String apiSecret, String tokenSecret)
-  {
-    try
-    {
-      Preconditions.checkEmptyString(apiSecret, "Api secret cant be null or empty string");
-      return OAuthEncoder.encode(apiSecret) + '&' + OAuthEncoder.encode(tokenSecret);
-    }
-    catch (Exception e)
-    {
-      throw new OAuthSignatureException(baseString, e);
-    }
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public String getSignatureMethod()
-  {
-    return METHOD;
-  }
-}
-
diff --git a/Lollapaloozer-Android/src/org/scribe/services/SignatureService.java b/Lollapaloozer-Android/src/org/scribe/services/SignatureService.java
deleted file mode 100644
index 229c2f6..0000000
--- a/Lollapaloozer-Android/src/org/scribe/services/SignatureService.java
+++ /dev/null
@@ -1,28 +0,0 @@
-package org.scribe.services;
-
-/**
- * Signs a base string, returning the OAuth signature
- * 
- * @author Pablo Fernandez
- *
- */
-public interface SignatureService
-{
-  /**
-   * Returns the signature
-   * 
-   * @param baseString url-encoded string to sign
-   * @param apiSecret api secret for your app
-   * @param tokenSecret token secret (empty string for the request token step)
-   * 
-   * @return signature
-   */
-  public String getSignature(String baseString, String apiSecret, String tokenSecret);
-
-  /**
-   * Returns the signature method/algorithm
-   * 
-   * @return
-   */
-  public String getSignatureMethod();
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/services/TimestampService.java b/Lollapaloozer-Android/src/org/scribe/services/TimestampService.java
deleted file mode 100644
index 221a226..0000000
--- a/Lollapaloozer-Android/src/org/scribe/services/TimestampService.java
+++ /dev/null
@@ -1,25 +0,0 @@
-package org.scribe.services;
-
-/**
- * Unix epoch timestamp generator.
- * 
- * This class is useful for stubbing in tests. 
- * 
- * @author Pablo Fernandez
- */
-public interface TimestampService
-{
-  /**
-   * Returns the unix epoch timestamp in seconds
-   * 
-   * @return timestamp
-   */
-  public String getTimestampInSeconds();
-
-  /**
-   * Returns a nonce (unique value for each request)
-   * 
-   * @return nonce
-   */
-  public String getNonce();
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/services/TimestampServiceImpl.java b/Lollapaloozer-Android/src/org/scribe/services/TimestampServiceImpl.java
deleted file mode 100644
index 4aa27e0..0000000
--- a/Lollapaloozer-Android/src/org/scribe/services/TimestampServiceImpl.java
+++ /dev/null
@@ -1,67 +0,0 @@
-package org.scribe.services;
-
-import java.util.*;
-
-/**
- * Implementation of {@link TimestampService} using plain java classes.
- * 
- * @author Pablo Fernandez
- */
-public class TimestampServiceImpl implements TimestampService
-{
-  private Timer timer;
-
-  /**
-   * Default constructor. 
-   */
-  public TimestampServiceImpl()
-  {
-    timer = new Timer();
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public String getNonce()
-  {
-    Long ts = getTs();
-    return String.valueOf(ts + timer.getRandomInteger());
-  }
-
-  /**
-   * {@inheritDoc}
-   */
-  public String getTimestampInSeconds()
-  {
-    return String.valueOf(getTs());
-  }
-
-  private Long getTs()
-  {
-    return timer.getMilis() / 1000;
-  }
-
-  void setTimer(Timer timer)
-  {
-    this.timer = timer;
-  }
-
-  /**
-   * Inner class that uses {@link System} for generating the timestamps.
-   * 
-   * @author Pablo Fernandez
-   */
-  static class Timer
-  {
-    Long getMilis()
-    {
-      return System.currentTimeMillis();
-    }
-
-    Integer getRandomInteger()
-    {
-      return new Random().nextInt();
-    }
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/utils/MapUtils.java b/Lollapaloozer-Android/src/org/scribe/utils/MapUtils.java
deleted file mode 100644
index 9e461b8..0000000
--- a/Lollapaloozer-Android/src/org/scribe/utils/MapUtils.java
+++ /dev/null
@@ -1,22 +0,0 @@
-package org.scribe.utils;
-
-import java.util.Map;
-
-/**
- * @author: Pablo Fernandez
- */
-public class MapUtils
-{
-  public static <K,V> String toString(Map<K,V> map)
-  {
-    if (map == null) return "";
-    if (map.isEmpty()) return "{}";
-
-    StringBuilder result = new StringBuilder();
-    for(Map.Entry<K,V> entry : map.entrySet())
-    {
-      result.append(String.format(", %s -> %s ", entry.getKey().toString(), entry.getValue().toString()));
-    }
-    return "{" + result.substring(1) + "}";
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/utils/OAuthEncoder.java b/Lollapaloozer-Android/src/org/scribe/utils/OAuthEncoder.java
deleted file mode 100644
index 10beabd..0000000
--- a/Lollapaloozer-Android/src/org/scribe/utils/OAuthEncoder.java
+++ /dev/null
@@ -1,62 +0,0 @@
-package org.scribe.utils;
-
-import java.io.*;
-import java.net.*;
-import java.util.*;
-import java.util.regex.*;
-import org.scribe.exceptions.*;
-
-/**
- * @author: Pablo Fernandez
- */
-public class OAuthEncoder
-{
-  private static String CHARSET = "UTF-8";
-  private static final Map<String, String> ENCODING_RULES;
-
-  static
-  {
-    Map<String, String> rules = new HashMap<String, String>();
-    rules.put("*", "%2A");
-    rules.put("+", "%20");
-    rules.put("%7E", "~");
-    ENCODING_RULES = Collections.unmodifiableMap(rules);
-  }
-
-  public static String encode(String plain)
-  {
-    Preconditions.checkNotNull(plain, "Cannot encode null object");
-    String encoded = "";
-    try
-    {
-      encoded = URLEncoder.encode(plain, CHARSET);
-    }
-    catch (UnsupportedEncodingException uee)
-    {
-      throw new OAuthException("Charset not found while encoding string: " + CHARSET, uee);
-    }
-    for(Map.Entry<String, String> rule : ENCODING_RULES.entrySet())
-    {
-      encoded = applyRule(encoded, rule.getKey(), rule.getValue());
-    }
-    return encoded;
-  }
-
-  private static String applyRule(String encoded, String toReplace, String replacement)
-  {
-    return encoded.replaceAll(Pattern.quote(toReplace), replacement);
-  }
-
-  public static String decode(String encoded)
-  {
-    Preconditions.checkNotNull(encoded, "Cannot decode null object");
-    try
-    {
-      return URLDecoder.decode(encoded, CHARSET);
-    }
-    catch(UnsupportedEncodingException uee)
-    {
-      throw new OAuthException("Charset not found while decoding string: " + CHARSET, uee);
-    }
-  }
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/utils/Preconditions.java b/Lollapaloozer-Android/src/org/scribe/utils/Preconditions.java
deleted file mode 100644
index 0ac134e..0000000
--- a/Lollapaloozer-Android/src/org/scribe/utils/Preconditions.java
+++ /dev/null
@@ -1,86 +0,0 @@
-package org.scribe.utils;
-
-import java.util.regex.Pattern;
-
-import org.scribe.model.OAuthConstants;
-
-/**
- * Utils for checking preconditions and invariants
- * 
- * @author Pablo Fernandez
- */
-public class Preconditions
-{
-  private static final String DEFAULT_MESSAGE = "Received an invalid parameter";
-  
-  // scheme = alpha *( alpha | digit | "+" | "-" | "." )
-  private static final Pattern URL_PATTERN = Pattern.compile("^[a-zA-Z][a-zA-Z0-9+.-]*://\\S+");
-
-  /**
-   * Checks that an object is not null.
-   * 
-   * @param object any object
-   * @param errorMsg error message
-   * 
-   * @throws IllegalArgumentException if the object is null
-   */
-  public static void checkNotNull(Object object, String errorMsg)
-  {
-    check(object != null, errorMsg);
-  }
-
-  /**
-   * Checks that a string is not null or empty
-   * 
-   * @param string any string
-   * @param errorMsg error message
-   * 
-   * @throws IllegalArgumentException if the string is null or empty
-   */
-  public static void checkEmptyString(String string, String errorMsg)
-  {
-    check(string != null && !string.trim().equals(""), errorMsg);
-  }
-
-  /**
-   * Checks that a URL is valid
-   * 
-   * @param url any string
-   * @param errorMsg error message
-   */
-  public static void checkValidUrl(String url, String errorMsg)
-  {
-    checkEmptyString(url, errorMsg);
-    check(isUrl(url), errorMsg);
-  }
-  
-  /**
-   * Checks that a URL is a valid OAuth callback
-   *  
-   * @param url any string
-   * @param errorMsg error message
-   */
-  public static void checkValidOAuthCallback(String url, String errorMsg)
-  {
-    checkEmptyString(url, errorMsg);
-    if(url.toLowerCase().compareToIgnoreCase(OAuthConstants.OUT_OF_BAND) != 0)
-    {
-      check(isUrl(url), errorMsg);  
-    }
-  }
-  
-  private static boolean isUrl(String url)
-  {
-    return URL_PATTERN.matcher(url).matches();
-  }
-  
-  private static void check(boolean requirements, String error)
-  {
-    String message = (error == null || error.trim().length() <= 0) ? DEFAULT_MESSAGE : error;
-    if (!requirements)
-    {
-      throw new IllegalArgumentException(message);
-    }
-  }
-  
-}
diff --git a/Lollapaloozer-Android/src/org/scribe/utils/StreamUtils.java b/Lollapaloozer-Android/src/org/scribe/utils/StreamUtils.java
deleted file mode 100644
index 0799b9c..0000000
--- a/Lollapaloozer-Android/src/org/scribe/utils/StreamUtils.java
+++ /dev/null
@@ -1,42 +0,0 @@
-package org.scribe.utils;
-
-import java.io.*;
-
-/**
- * Utils to deal with Streams.
- *  
- * @author Pablo Fernandez
- */
-public class StreamUtils
-{
-  /**
-   * Returns the stream contents as an UTF-8 encoded string
-   * 
-   * @param is input stream
-   * @return string contents
-   */
-  public static String getStreamContents(InputStream is)
-  {
-    Preconditions.checkNotNull(is, "Cannot get String from a null object");
-    try
-    {
-      final char[] buffer = new char[0x10000];
-      StringBuilder out = new StringBuilder();
-      Reader in = new InputStreamReader(is, "UTF-8");
-      int read;
-      do
-      {
-        read = in.read(buffer, 0, buffer.length);
-        if (read > 0)
-        {
-          out.append(buffer, 0, read);
-        }
-      } while (read >= 0);
-      in.close();
-      return out.toString();
-    } catch (IOException ioe)
-    {
-      throw new IllegalStateException("Error while reading response body", ioe);
-    }
-  }
-}
920c0084d381a28f696b34950ab418d6675112c3
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
new file mode 100644
index 0000000..8e57230
--- /dev/null
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/FacebookVerifier.java
@@ -0,0 +1,68 @@
+package com.lollapaloozer.auth.verify;
+
+import java.io.BufferedReader;
+import java.io.IOException;
+import java.io.InputStreamReader;
+
+import org.apache.http.HttpResponse;
+import org.apache.http.HttpStatus;
+import org.apache.http.client.ClientProtocolException;
+import org.apache.http.client.HttpClient;
+import org.apache.http.client.methods.HttpGet;
+import org.apache.http.impl.client.DefaultHttpClient;
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import com.facebook.android.FacebookError;
+import com.facebook.android.Util;
+import com.lollapaloozer.util.LollapaloozerHelper;
+
+public class FacebookVerifier implements AuthVerifier {
+
+	@Override
+	public boolean verify(String authToken, String identifier) {
+		
+		HttpClient hc = new DefaultHttpClient();
+		HttpGet req = new HttpGet("https://graph.facebook.com/me?access_token="+authToken);
+		
+		try {
+			HttpResponse response = hc.execute(req);
+			
+			
+
+			BufferedReader reader = new BufferedReader(
+					new InputStreamReader(
+							response.getEntity().getContent(), "UTF-8"));
+			StringBuilder builder = new StringBuilder();
+			for (String line = null; (line = reader.readLine()) != null;) {
+				builder.append(line).append("\n");
+			}
+
+			
+			JSONObject json = Util.parseJson(builder.toString());
+			String userID = json.getString("id");
+			String userName = json.getString("name");
+			String email = json.getString("email");
+			
+			if (identifier.equals(email)) {
+				return true;
+			}
+			
+		} catch (ClientProtocolException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		} catch (IOException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		} catch (FacebookError e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		} catch (JSONException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		}
+		
+		return false;
+	}
+
+}
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
new file mode 100644
index 0000000..489c792
--- /dev/null
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/TwitterVerifier.java
@@ -0,0 +1,57 @@
+package com.lollapaloozer.auth.verify;
+
+import java.util.HashMap;
+
+import org.scribe.builder.ServiceBuilder;
+import org.scribe.builder.api.TwitterApi;
+import org.scribe.model.OAuthRequest;
+import org.scribe.model.Response;
+import org.scribe.model.Verb;
+import org.scribe.oauth.OAuthService;
+
+import com.lollapaloozer.auth.client.TwitterAuthProviderOAuth;
+import com.lollapaloozer.util.Constants;
+import com.lollapaloozer.util.Helper;
+
+public class TwitterVerifier implements AuthVerifier {
+	
+	public final static String ACCOUNT_PROPERTY_ID = "id";
+	public final static String ACCOUNT_PROPERTY_NAME = "name";
+	public final static String ACCOUNT_PROPERTY_HANDLE = "screen_name";
+	
+	
+	private TwitterAuthProviderOAuth _oAuthProvider = new TwitterAuthProviderOAuth(Constants.CONSUMER_KEY, Constants.CONSUMER_SECRET, Constants.OAUTH_CALLBACK_URL);
+	
+	public TwitterVerifier(String accessToken, String accessTokenSecret) {
+		_oAuthProvider.setAccessTokenObject(accessToken, accessTokenSecret);
+	}
+
+	@Override
+	public boolean verify(String authToken, String identifier) {
+		//authToken is not used!!! value set in constructor
+		Response response = _oAuthProvider.accessResource(Verb.GET,
+		"http://api.twitter.com/1/account/verify_credentials.xml");
+		String responseBody = response.getBody();
+		// System.out.println(response.getBody());
+
+
+		String id = Helper.readXmlProperty(ACCOUNT_PROPERTY_ID, responseBody);
+		String handle = Helper.readXmlProperty(ACCOUNT_PROPERTY_HANDLE, responseBody);
+		String name = Helper.readXmlProperty(ACCOUNT_PROPERTY_NAME, responseBody);
+
+
+		// If data is meaningful, set logged in flag;
+		if (id != null  && handle.equals(identifier)) {
+			
+			System.out.println("Twitter Verification Successful using verifier");
+			return true;
+		} else {
+			System.out.println("Twitter Verification was not successful using verifier");
+		}
+		return false;
+	}
+	
+	
+
+
+}
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
index a48d5c1..131f496 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
@@ -78,0 +79 @@ public class LollapaloozerServlet extends HttpServlet {
+    //Value is not a string but rather an array of strings
@@ -80,2 +80,0 @@ public class LollapaloozerServlet extends HttpServlet {
-    Iterator<String> it = parameterMap.keySet().iterator();
-
@@ -83 +82 @@ public class LollapaloozerServlet extends HttpServlet {
-      out.println(s + " = " + parameterMap.get(s));
+      out.println(s + " = " + parameterMap.get(s)[0]);
diff --git a/Lollapaloozer-Android/AndroidManifest.xml b/Lollapaloozer-Android/AndroidManifest.xml
index f0aa12e..088c149 100644
--- a/Lollapaloozer-Android/AndroidManifest.xml
+++ b/Lollapaloozer-Android/AndroidManifest.xml
@@ -9,0 +10,3 @@
+    <uses-permission android:name="android.permission.GET_ACCOUNTS"/>
+    <uses-permission android:name="android.permission.USE_CREDENTIALS"/>
+    <uses-permission android:name="android.permission.AUTHENTICATE_ACCOUNTS"/>
@@ -25,0 +29,2 @@
+        <activity android:name=".auth.client.AuthChooseAccountActivity" android:launchMode="standard"></activity>
+        <activity android:launchMode="standard" android:name=".auth.client.TwitterAuthWebpageActivity"></activity>
diff --git a/Lollapaloozer-Android/facebook-android-sdk b/Lollapaloozer-Android/facebook-android-sdk
deleted file mode 160000
index 1e03bf9..0000000
--- a/Lollapaloozer-Android/facebook-android-sdk
+++ /dev/null
@@ -1 +0,0 @@
-Subproject commit 1e03bf9ea42eb663bf61eddac9d7b6bee3b6e69f
diff --git a/Lollapaloozer-Android/project.properties b/Lollapaloozer-Android/project.properties
index b00386b..d760f77 100644
--- a/Lollapaloozer-Android/project.properties
+++ b/Lollapaloozer-Android/project.properties
@@ -11,0 +12 @@ target=Google Inc.:Google APIs:8
+android.library.reference.1=../../../../facebook-android-sdk/facebook
diff --git a/Lollapaloozer-Android/res/drawable/close.png b/Lollapaloozer-Android/res/drawable/close.png
new file mode 100644
index 0000000..531a770
Binary files /dev/null and b/Lollapaloozer-Android/res/drawable/close.png differ
diff --git a/Lollapaloozer-Android/res/layout/auth_choose.xml b/Lollapaloozer-Android/res/layout/auth_choose.xml
index 195fa2c..19b2924 100644
--- a/Lollapaloozer-Android/res/layout/auth_choose.xml
+++ b/Lollapaloozer-Android/res/layout/auth_choose.xml
@@ -65,8 +64,0 @@
-            android:id="@+id/btn_invalidate_tokens"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_below="@+id/btn_login_twitter"
-            android:layout_centerHorizontal="true"
-            android:text="Invalidate access Tokens" />
-
-        <Button
@@ -86 +78,18 @@
-            android:text="Login with Facebook acct" />
+            android:text="Login with Facebook acct" />
+
+        <Button
+            android:id="@+id/btn_invalidate_tokens"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentLeft="true"
+            android:layout_below="@+id/btn_login_twitter"
+            android:text="Invalidate Tokens" />
+
+        <Button
+            android:id="@+id/btn_dismiss_activity"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_below="@+id/btn_login_twitter"
+            android:layout_toRightOf="@+id/btn_invalidate_tokens"
+            android:text="Dismiss Activity" />
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
new file mode 100644
index 0000000..0d02749
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthChooseAccountActivity.java
@@ -0,0 +1,171 @@
+package com.lollapaloozer.auth.client;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.widget.TextView;
+
+import com.lollapaloozer.R;
+import com.lollapaloozer.util.Constants;
+
+public class AuthChooseAccountActivity extends Activity implements OnClickListener {
+	
+	private boolean _DEBUG = true;
+
+	// Framework
+	private TextView _loginStatusText;
+	private TextView _accountNameText;
+	private TextView _tokenIdText;
+
+	// App
+	private AuthDemoModel _model;
+
+	/** Called when the activity is first created. */
+	@Override
+	public void onCreate(Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
+		setContentView(R.layout.auth_choose);
+		System.out.println("OnCreate starting");
+
+		// Framework
+		_loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
+		_accountNameText = (TextView) this.findViewById(R.id.text_account_name);
+		_tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
+
+		this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
+		this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
+		this.findViewById(R.id.btn_login_google).setOnClickListener(this);
+		this.findViewById(R.id.btn_invalidate_tokens).setOnClickListener(this);
+
+		// App
+		_model = new AuthDemoModel(this);
+		_model.checkAccounts();
+		System.out.println("OnCreate complete");
+	}
+
+	@Override
+	protected void onResume() {
+		super.onResume();
+
+		AuthProvider currentProvider = _model.getCurrentAuthProvider();
+		if (currentProvider != null) {
+			currentProvider.extendAccess();
+		}
+
+		_updateUI();
+
+	}
+
+	@Override
+	public void onClick(View arg0) {
+		String buttonClickedName = this.getResources().getResourceEntryName(
+				arg0.getId());
+		System.out.println("Button Click: " + buttonClickedName);
+
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_login_google))) {
+			_model.loginToGoogle(); // UI Update done on callback
+		}
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_login_twitter))) {
+			_model.loginToTwitter();
+
+		}
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_login_facebook))) {
+			_model.loginToFacebook();
+
+		}
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_invalidate_tokens))) {
+			_model.invalidateTokens();
+			_updateUI();
+		}
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_dismiss_activity))) {
+			_returnToMainActivity();
+		}
+	}
+
+	private void _returnToMainActivity() {
+		Intent returnIntent = getIntent();
+		
+		int result;
+		if (_model.isLoggedIn()) {
+			result = RESULT_OK;
+		} else {
+			result = RESULT_CANCELED;
+		}
+		
+		setResult(result, returnIntent);
+		finish();
+	}
+
+	private void _updateUI() {
+		if (_DEBUG) {
+
+			if (_model.isLoggedIn()) {
+				AuthProvider currentProvider = _model.getCurrentAuthProvider();
+				_setLoginStatus(currentProvider.getAccountType());
+				_accountNameText.setText("Account: "
+						+ currentProvider.getLocalAccountName() + "\r\n"
+						+ currentProvider.getAccountType()
+						+ " confirms you are the owner of "
+						+ currentProvider.getVerifiedAccountIdentifier());
+				_tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
+			} else {
+				_setLoginStatus("Not Logged In");
+				_accountNameText.setText("");
+				_tokenIdText.setText("");
+			}
+
+			if (this.findViewById(R.layout.auth_choose) != null) {
+				this.findViewById(R.layout.auth_choose).invalidate();
+			}
+		} else {
+			//Release version, hide debug UI elements
+
+		}
+
+	}
+
+	private void _setLoginStatus(String status) {
+		_loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
+	}
+
+	// For Facebook
+	@Override
+	public void onActivityResult(int requestCode, int resultCode, Intent data) {
+		super.onActivityResult(requestCode, resultCode, data);
+
+		System.out.println("onActivityResult(requestCode=[" + requestCode
+				+ "], resultCode=[" + resultCode + "] with data: "+ data);
+
+
+		switch (requestCode) {
+		case Constants.INTENT_REQ_TWITTER_LOGIN:
+			_model.twitterAuthCallback(requestCode, resultCode, data);
+			break;
+		default:
+			System.out.println("onACtivityResult called with unknown values: "
+					+ requestCode + "," + resultCode);
+			_model.getFacebookObject().authorizeCallback(requestCode,
+					resultCode, data);
+			break;
+		}
+	}
+
+	public void modelChanged() {
+		// Run method in main UI thread
+		View v = findViewById(android.R.id.content);
+		v.post(new Runnable() {
+			public void run() {
+				_updateUI();
+			}
+		});
+
+		// _updateUI();
+	}
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoActivity.java
deleted file mode 100644
index 10ac074..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoActivity.java
+++ /dev/null
@@ -1,146 +0,0 @@
-package com.lollapaloozer.auth.client;
-
-import com.lollapaloozer.R;
-import com.lollapaloozer.util.Constants;
-
-import android.app.Activity;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.View;
-import android.view.View.OnClickListener;
-import android.widget.TextView;
-
-public class AuthDemoActivity extends Activity implements OnClickListener {
-
-	// Framework
-	private TextView _loginStatusText;
-	private TextView _accountNameText;
-	private TextView _tokenIdText;
-
-	// App
-	private AuthDemoModel _model;
-
-	/** Called when the activity is first created. */
-	@Override
-	public void onCreate(Bundle savedInstanceState) {
-		super.onCreate(savedInstanceState);
-		setContentView(R.layout.auth_choose);
-		System.out.println("OnCreate starting");
-
-		// Framework
-		_loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
-		_accountNameText = (TextView) this.findViewById(R.id.text_account_name);
-		_tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
-
-		this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
-		this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
-		this.findViewById(R.id.btn_login_google).setOnClickListener(this);
-		this.findViewById(R.id.btn_invalidate_tokens).setOnClickListener(this);
-
-		// App
-		_model = new AuthDemoModel(this);
-		_model.checkAccounts();
-		System.out.println("OnCreate complete");
-	}
-
-	@Override
-	protected void onResume() {
-		super.onResume();
-
-		AuthProvider currentProvider = _model.getCurrentAuthProvider();
-		if (currentProvider != null) {
-			currentProvider.extendAccess();
-		}
-
-		_updateUI();
-
-	}
-
-	@Override
-	public void onClick(View arg0) {
-		String buttonClickedName = this.getResources().getResourceEntryName(
-				arg0.getId());
-		System.out.println("Button Click: " + buttonClickedName);
-
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_login_google))) {
-			_model.loginToGoogle(); // UI Update done on callback
-		}
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_login_twitter))) {
-			_model.loginToTwitter();
-
-		}
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_login_facebook))) {
-			_model.loginToFacebook();
-
-		}
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_invalidate_tokens))) {
-			_model.invalidateTokens();
-			_updateUI();
-		}
-	}
-
-	private void _updateUI() {
-
-		if (_model.isLoggedIn()) {
-			AuthProvider currentProvider = _model.getCurrentAuthProvider();
-			_setLoginStatus(currentProvider.getAccountType());
-			_accountNameText.setText("Account: "
-					+ currentProvider.getLocalAccountName() + "\r\n"
-					+ currentProvider.getAccountType()
-					+ " confirms you are the owner of "
-					+ currentProvider.getVerifiedAccountIdentifier());
-			_tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
-		} else {
-			_setLoginStatus("Not Logged In");
-			_accountNameText.setText("");
-			_tokenIdText.setText("");
-		}
-
-		if (this.findViewById(R.layout.auth_choose) != null) {
-			this.findViewById(R.layout.auth_choose).invalidate();
-		}
-
-	}
-
-	private void _setLoginStatus(String status) {
-		_loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
-	}
-
-	// For Facebook
-	@Override
-	public void onActivityResult(int requestCode, int resultCode, Intent data) {
-		super.onActivityResult(requestCode, resultCode, data);
-
-		System.out.println("onActivityResult(requestCode=[" + requestCode
-				+ "], resultCode=[" + resultCode + "]");
-
-		switch (requestCode) {
-		case Constants.INTENT_REQ_TWITTER_LOGIN:
-			_model.twitterAuthCallback(requestCode, resultCode, data);
-			break;
-		default:
-			System.out.println("onACtivityResult called with unknown values: "
-					+ requestCode + "," + resultCode);
-			_model.getFacebookObject().authorizeCallback(requestCode,
-					resultCode, data);
-			break;
-		}
-	}
-
-	public void modelChanged() {
-		// Run method in main UI thread
-		View v = findViewById(android.R.id.content);
-		v.post(new Runnable() {
-			public void run() {
-				_updateUI();
-			}
-		});
-
-		// _updateUI();
-	}
-
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
index 8af176c..fdfa477 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
@@ -3,20 +2,0 @@ package com.lollapaloozer.auth.client;
-import java.io.BufferedReader;
-import java.io.FileNotFoundException;
-import java.io.IOException;
-import java.io.InputStream;
-import java.io.InputStreamReader;
-import java.net.HttpURLConnection;
-import java.net.MalformedURLException;
-import java.net.URL;
-import java.net.URLConnection;
-
-import org.json.JSONArray;
-import org.json.JSONException;
-import org.json.JSONObject;
-import org.json.JSONTokener;
-
-import com.facebook.android.DialogError;
-import com.facebook.android.Facebook;
-import com.facebook.android.FacebookError;
-import com.facebook.android.Facebook.DialogListener;
-
@@ -25,2 +4,0 @@ import android.accounts.AccountManager;
-import android.accounts.AccountManagerCallback;
-import android.accounts.AccountManagerFuture;
@@ -28,3 +5,0 @@ import android.accounts.AuthenticatorDescription;
-import android.accounts.AuthenticatorException;
-import android.accounts.OperationCanceledException;
-import android.app.Activity;
@@ -32,3 +7,3 @@ import android.content.Intent;
-import android.os.Bundle;
-import android.util.Log;
-import android.util.Pair;
+
+import com.facebook.android.Facebook;
+
@@ -40 +15 @@ public class AuthDemoModel {
-	private AuthDemoActivity _activity;
+	private AuthChooseAccountActivity _activity;
@@ -45 +20 @@ public class AuthDemoModel {
-	public AuthDemoModel(AuthDemoActivity activity) {
+	public AuthDemoModel(AuthChooseAccountActivity activity) {
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
index 4f7add3..c0d7018 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -12 +11,0 @@ import android.util.Log;
-import android.widget.ProgressBar;
@@ -18,0 +18 @@ import com.facebook.android.Facebook.DialogListener;
+
@@ -20,0 +21 @@ import com.facebook.android.Util;
+import com.lollapaloozer.auth.verify.FacebookVerifier;
@@ -24 +25 @@ public class FacebookAuthProvider implements AuthProvider {
-	private AuthDemoActivity _activity;
+	private AuthChooseAccountActivity _activity;
@@ -34 +35 @@ public class FacebookAuthProvider implements AuthProvider {
-	public FacebookAuthProvider(AuthDemoActivity activity) {
+	public FacebookAuthProvider(AuthChooseAccountActivity activity) {
@@ -44 +45,10 @@ public class FacebookAuthProvider implements AuthProvider {
-		return _facebook.isSessionValid();
+		if (_userInfo == null) {
+			return false;
+			}
+		
+		FacebookVerifier verifier = new FacebookVerifier();
+		return verifier.verify(getAuthToken(), getVerifiedAccountIdentifier());
+		
+		
+		
+		//return _facebook.isSessionValid();
@@ -47,3 +56,0 @@ public class FacebookAuthProvider implements AuthProvider {
-	private void _getUserData() {
-		mAsyncRunner.request("me", new IDRequestListener());
-	}
@@ -52,0 +60 @@ public class FacebookAuthProvider implements AuthProvider {
+		
@@ -62 +70,2 @@ public class FacebookAuthProvider implements AuthProvider {
-						_getUserData();
+						mAsyncRunner.request("me", new IDRequestListener()); //get user info from facebook
+						_activity.modelChanged();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
index eb5a822..bae6911 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -4 +3,0 @@ import java.io.IOException;
-import java.net.MalformedURLException;
@@ -6 +4,0 @@ import java.net.MalformedURLException;
-import org.json.JSONException;
@@ -9,2 +6,0 @@ import org.json.JSONObject;
-import com.lollapaloozer.auth.verify.GoogleAuthVerifier;
-
@@ -16 +11,0 @@ import android.accounts.OperationCanceledException;
-import android.app.Activity;
@@ -19,0 +15,2 @@ import android.util.Log;
+import com.lollapaloozer.auth.verify.GoogleAuthVerifier;
+
@@ -24 +21 @@ public class GoogleAuthProvider implements AuthProvider {
-	private AuthDemoActivity _activity;
+	private AuthChooseAccountActivity _activity;
@@ -33 +30 @@ public class GoogleAuthProvider implements AuthProvider {
-	public GoogleAuthProvider(AuthDemoActivity activity) {
+	public GoogleAuthProvider(AuthChooseAccountActivity activity) {
@@ -59 +56 @@ public class GoogleAuthProvider implements AuthProvider {
-
+						System.out.println("AccountManagerCallback executing");
@@ -89,4 +86,2 @@ public class GoogleAuthProvider implements AuthProvider {
-						_confirmedAuthorizedGoogle = googleVerifier.verify(
-								_currentGoogleLoginTokenBundle
-										.getString(AccountManager.KEY_AUTHTOKEN),
-								getLocalAccountName());
+						_confirmedAuthorizedGoogle = 
+							googleVerifier.verify(_currentGoogleLoginTokenBundle.getString(AccountManager.KEY_AUTHTOKEN), getLocalAccountName());
@@ -97,0 +93 @@ public class GoogleAuthProvider implements AuthProvider {
+	
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
index c1eb7ce..c56400f 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
@@ -3,2 +2,0 @@ package com.lollapaloozer.auth.client;
-import com.lollapaloozer.util.Constants;
-
@@ -8,0 +7,2 @@ import android.content.Intent;
+import com.lollapaloozer.util.Constants;
+
@@ -29,0 +30 @@ public class TwitterAuthDialogPresenter {
+	// This class contributes nothing useful now.
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
index 2f7cff3..40fffb3 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -11,0 +12 @@ import android.content.Intent;
+import com.lollapaloozer.auth.verify.TwitterVerifier;
@@ -16 +17 @@ public class TwitterAuthProvider implements AuthProvider {
-	private AuthDemoActivity _activity;
+	private AuthChooseAccountActivity _activity;
@@ -19 +20 @@ public class TwitterAuthProvider implements AuthProvider {
-	private HashMap<String, String> _twitterAccountProperties;
+	private HashMap<String, String> _twitterAccountProperties  = new HashMap<String, String>();
@@ -21 +21,0 @@ public class TwitterAuthProvider implements AuthProvider {
-	private boolean _isLoggedIn;
@@ -23,3 +23 @@ public class TwitterAuthProvider implements AuthProvider {
-	private final String ACCOUNT_PROPERTY_ID = "id";
-	private final String ACCOUNT_PROPERTY_NAME = "name";
-	private final String ACCOUNT_PROPERTY_HANDLE = "screen_name";
+
@@ -32 +30 @@ public class TwitterAuthProvider implements AuthProvider {
-	public TwitterAuthProvider(AuthDemoActivity activity) {
+	public TwitterAuthProvider(AuthChooseAccountActivity activity) {
@@ -37,4 +35,3 @@ public class TwitterAuthProvider implements AuthProvider {
-		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_ID);
-		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_NAME);
-		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_HANDLE);
-		_isLoggedIn = false;
+		_twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_ID);
+		_twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_NAME);
+		_twitterAccountPropertyNames.add(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE);
@@ -95 +92,8 @@ public class TwitterAuthProvider implements AuthProvider {
-		return _isLoggedIn;
+		
+		if (_twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE) == null) {
+			return false;
+		}
+		
+		TwitterVerifier verifier = new TwitterVerifier(_oAuthProvider.getAccessToken(), _oAuthProvider.getTokenSecret());
+		return verifier.verify("", _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE));
+		
@@ -101,2 +105 @@ public class TwitterAuthProvider implements AuthProvider {
-		TwitterAuthDialogPresenter twitterAuthDialog = new TwitterAuthDialogPresenter(
-				_activity);
+		TwitterAuthDialogPresenter twitterAuthDialog = new TwitterAuthDialogPresenter(_activity);
@@ -109 +112 @@ public class TwitterAuthProvider implements AuthProvider {
-		_isLoggedIn = false;
+		_twitterAccountProperties.clear();
@@ -119,2 +122,2 @@ public class TwitterAuthProvider implements AuthProvider {
-		return _twitterAccountProperties.get(ACCOUNT_PROPERTY_HANDLE) + "("
-				+ _twitterAccountProperties.get(ACCOUNT_PROPERTY_NAME) + ")";
+		return _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_HANDLE) + "("
+				+ _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_NAME) + ")";
@@ -126 +129 @@ public class TwitterAuthProvider implements AuthProvider {
-		return _twitterAccountProperties.get(ACCOUNT_PROPERTY_ID);
+		return _twitterAccountProperties.get(TwitterVerifier.ACCOUNT_PROPERTY_ID);
@@ -149,0 +153 @@ public class TwitterAuthProvider implements AuthProvider {
+		
@@ -155 +159 @@ public class TwitterAuthProvider implements AuthProvider {
-		_twitterAccountProperties = new HashMap<String, String>();
+		_twitterAccountProperties.clear();
@@ -165 +169 @@ public class TwitterAuthProvider implements AuthProvider {
-			_isLoggedIn = true;
+		
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProviderOAuth.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProviderOAuth.java
index 8e1190e..c493f7f 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProviderOAuth.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProviderOAuth.java
@@ -12,6 +11,0 @@ import org.scribe.oauth.OAuthService;
-import android.graphics.Bitmap;
-import android.net.Uri;
-import android.view.View;
-import android.webkit.WebView;
-import android.webkit.WebViewClient;
-
@@ -31,0 +26,2 @@ public class TwitterAuthProviderOAuth {
+		
+		_service = getService();
@@ -35,3 +31 @@ public class TwitterAuthProviderOAuth {
-		_service = new ServiceBuilder().provider(TwitterApi.class)
-				.apiKey(_consumerKey).apiSecret(_consumerSecret)
-				.callback(_callbackUrl).build();
+		
@@ -43,0 +38,6 @@ public class TwitterAuthProviderOAuth {
+	
+	public OAuthService getService() {
+		return new ServiceBuilder().provider(TwitterApi.class)
+		.apiKey(_consumerKey).apiSecret(_consumerSecret)
+		.callback(_callbackUrl).build();
+	}
@@ -59,0 +60 @@ public class TwitterAuthProviderOAuth {
+		
@@ -60,0 +62 @@ public class TwitterAuthProviderOAuth {
+		
@@ -69,0 +72,8 @@ public class TwitterAuthProviderOAuth {
+	
+	public String getTokenSecret() {
+		return _accessToken.getSecret();
+	}
+	
+	public void setAccessTokenObject(String token, String secret) {
+		_accessToken = new Token(token, secret);
+	}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
index 828c8e1..46b4b62 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
@@ -3,3 +2,0 @@ package com.lollapaloozer.auth.client;
-import com.lollapaloozer.R;
-import com.lollapaloozer.util.Constants;
-
@@ -11 +7,0 @@ import android.os.Bundle;
-import android.view.MotionEvent;
@@ -15 +10,0 @@ import android.webkit.WebViewClient;
-import android.widget.EditText;
@@ -17,0 +13,3 @@ import android.widget.ImageView;
+import com.lollapaloozer.R;
+import com.lollapaloozer.util.Constants;
+
@@ -99 +97 @@ public class TwitterAuthWebpageActivity extends Activity {
-
+			
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index d42ce37..056ad11 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -34,0 +35,2 @@ import com.lollapaloozer.LollapaloozerServiceUtils;
+import com.lollapaloozer.auth.client.AuthChooseAccountActivity;
+import com.lollapaloozer.auth.client.TwitterAuthWebpageActivity;
@@ -642,0 +645 @@ public class LollapaloozerActivity extends Activity implements
+	
@@ -648,3 +651 @@ public class LollapaloozerActivity extends Activity implements
-		
-
-		// This shows the 'enter email' dialog, no longer needed
+				// This shows the 'enter email' dialog, no longer needed
@@ -651,0 +653,6 @@ public class LollapaloozerActivity extends Activity implements
+		
+		Intent lollapaloozerAuthIntent = new Intent(this, AuthChooseAccountActivity.class);
+		//no extras needed here
+		//lollapaloozerAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH, "String");
+		startActivityForResult(lollapaloozerAuthIntent,
+				Constants.INTENT_REQ_CHOOSE_LOGIN_TYPE);
@@ -653,0 +661,7 @@ public class LollapaloozerActivity extends Activity implements
+	
+	@Override
+	protected void onActivityResult(int requestCode, int resultCode, Intent data) {
+		// TODO Auto-generated method stub
+		super.onActivityResult(requestCode, resultCode, data);
+	}
+
@@ -874,0 +889 @@ public class LollapaloozerActivity extends Activity implements
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/util/Constants.java b/Lollapaloozer-Android/src/com/lollapaloozer/util/Constants.java
index 3fa38a3..bcb11d1 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/util/Constants.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/util/Constants.java
@@ -40,0 +41,3 @@ public class Constants {
+	
+	
+	public static final int INTENT_REQ_CHOOSE_LOGIN_TYPE = 2;
@@ -41,0 +45 @@ public class Constants {
+	
@@ -44,0 +49 @@ public class Constants {
+	
diff --git a/facebook-android-sdk b/facebook-android-sdk
new file mode 160000
index 0000000..1e03bf9
--- /dev/null
+++ b/facebook-android-sdk
@@ -0,0 +1 @@
+Subproject commit 1e03bf9ea42eb663bf61eddac9d7b6bee3b6e69f
d060b15274ebd31ea7538b8c332e8c316672ea6a
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/NameValue.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/NameValue.java
new file mode 100644
index 0000000..6e113d1
--- /dev/null
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/NameValue.java
@@ -0,0 +1,12 @@
+package com.lollapaloozer.auth;
+
+public class NameValue {
+	public String _name;
+	public String _value;
+
+	public NameValue(String name, String value) {
+		_name = name;
+		_value = value;
+	}
+
+}
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java
new file mode 100644
index 0000000..ea899ee
--- /dev/null
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/OAuthHTTP.java
@@ -0,0 +1,115 @@
+package com.lollapaloozer.auth;
+
+import java.io.BufferedReader;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.InputStreamReader;
+import java.net.HttpURLConnection;
+import java.net.MalformedURLException;
+import java.net.URL;
+import java.util.ArrayList;
+import java.util.Vector;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+import org.json.JSONTokener;
+
+
+
+public class OAuthHTTP {
+
+	private URL _url;
+	private HttpURLConnection _urlConnection;
+	private JSONObject _JSONResult;
+	private ArrayList<NameValue> _reqProperties = new ArrayList<NameValue>();
+
+	public OAuthHTTP(String url) throws MalformedURLException {
+		_url = new URL(url);
+
+	}
+
+	public boolean execute() throws JSONException, IOException {
+		try {
+			_urlConnection = (HttpURLConnection) _url.openConnection();
+			System.out.println(_urlConnection.getURL());
+
+			for (NameValue nv : _reqProperties) {
+				_urlConnection.setRequestProperty(nv._name, nv._value);
+			}
+
+			_urlConnection.connect();
+			// Better way to do this?
+			_JSONResult = _parseJSONResponse(_urlConnection.getInputStream());
+			return true; // success
+		} catch (IOException e) {
+			// TODO Auto-generated catch block
+			_JSONResult = _parseJSONResponse(_urlConnection.getErrorStream());
+			e.printStackTrace();
+			return false; // request completed without success
+		}
+	}
+
+	public boolean executeDebug() throws IOException {
+		try {
+			_urlConnection = (HttpURLConnection) _url.openConnection();
+			System.out.println(_urlConnection.getURL());
+
+			for (NameValue nv : _reqProperties) {
+				_urlConnection.setRequestProperty(nv._name, nv._value);
+			}
+
+			_urlConnection.connect();
+			// Better way to do this?
+
+			_readStream(_urlConnection.getInputStream(), true);
+			return true; // success
+		} catch (IOException e) {
+			// TODO Auto-generated catch block
+			_readStream(_urlConnection.getErrorStream(), true);
+			e.printStackTrace();
+			return false; // request completed without success
+		}
+	}
+
+	public void setRequestProperty(String name, String value) {
+		_reqProperties.add(new NameValue(name, value));
+	}
+
+	public String getJSONResultString(String propertyName) throws JSONException {
+		return _JSONResult.getString(propertyName);
+	}
+
+	public boolean getJSONResultBoolean(String propertyName)
+			throws JSONException {
+		return _JSONResult.getBoolean(propertyName);
+	}
+
+	private JSONObject _parseJSONResponse(InputStream inputStream)
+			throws IOException, JSONException {
+		StringBuilder builder = _readStream(inputStream, true);
+
+		JSONTokener tokener = new JSONTokener(builder.toString());
+
+		// JSONArray finalResult = new JSONArray(tokener);
+		return new JSONObject(tokener);
+	}
+
+	private StringBuilder _readStream(InputStream inStream, boolean output)
+			throws IOException {
+		BufferedReader reader = new BufferedReader(new InputStreamReader(
+				inStream));
+		StringBuilder builder = new StringBuilder();
+
+		for (String line = null; (line = reader.readLine()) != null;) {
+			if (output) {
+				System.out.println(line);
+			}
+
+			builder.append(line).append("\n");
+		}
+		reader.close();
+		return builder;
+
+	}
+
+}
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
index e79b9f1..0962488 100644
--- a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
@@ -8,3 +8 @@ import org.json.JSONException;
-import android.accounts.AccountManager;
-
-import com.lollapaloozer.auth.client.OAuthHTTP;
+import com.lollapaloozer.auth.OAuthHTTP;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/NameValue.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/NameValue.java
deleted file mode 100644
index ba063d4..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/NameValue.java
+++ /dev/null
@@ -1,12 +0,0 @@
-package com.lollapaloozer.auth.client;
-
-public class NameValue {
-	public String _name;
-	public String _value;
-
-	public NameValue(String name, String value) {
-		_name = name;
-		_value = value;
-	}
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/OAuthHTTP.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/OAuthHTTP.java
deleted file mode 100644
index b7b3796..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/OAuthHTTP.java
+++ /dev/null
@@ -1,115 +0,0 @@
-package com.lollapaloozer.auth.client;
-
-import java.io.BufferedReader;
-import java.io.IOException;
-import java.io.InputStream;
-import java.io.InputStreamReader;
-import java.net.HttpURLConnection;
-import java.net.MalformedURLException;
-import java.net.URL;
-import java.util.ArrayList;
-import java.util.Vector;
-
-import org.json.JSONException;
-import org.json.JSONObject;
-import org.json.JSONTokener;
-
-import android.accounts.AccountManager;
-
-public class OAuthHTTP {
-
-	private URL _url;
-	private HttpURLConnection _urlConnection;
-	private JSONObject _JSONResult;
-	private ArrayList<NameValue> _reqProperties = new ArrayList<NameValue>();
-
-	public OAuthHTTP(String url) throws MalformedURLException {
-		_url = new URL(url);
-
-	}
-
-	public boolean execute() throws JSONException, IOException {
-		try {
-			_urlConnection = (HttpURLConnection) _url.openConnection();
-			System.out.println(_urlConnection.getURL());
-
-			for (NameValue nv : _reqProperties) {
-				_urlConnection.setRequestProperty(nv._name, nv._value);
-			}
-
-			_urlConnection.connect();
-			// Better way to do this?
-			_JSONResult = _parseJSONResponse(_urlConnection.getInputStream());
-			return true; // success
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			_JSONResult = _parseJSONResponse(_urlConnection.getErrorStream());
-			e.printStackTrace();
-			return false; // request completed without success
-		}
-	}
-
-	public boolean executeDebug() throws IOException {
-		try {
-			_urlConnection = (HttpURLConnection) _url.openConnection();
-			System.out.println(_urlConnection.getURL());
-
-			for (NameValue nv : _reqProperties) {
-				_urlConnection.setRequestProperty(nv._name, nv._value);
-			}
-
-			_urlConnection.connect();
-			// Better way to do this?
-
-			_readStream(_urlConnection.getInputStream(), true);
-			return true; // success
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			_readStream(_urlConnection.getErrorStream(), true);
-			e.printStackTrace();
-			return false; // request completed without success
-		}
-	}
-
-	public void setRequestProperty(String name, String value) {
-		_reqProperties.add(new NameValue(name, value));
-	}
-
-	public String getJSONResultString(String propertyName) throws JSONException {
-		return _JSONResult.getString(propertyName);
-	}
-
-	public boolean getJSONResultBoolean(String propertyName)
-			throws JSONException {
-		return _JSONResult.getBoolean(propertyName);
-	}
-
-	private JSONObject _parseJSONResponse(InputStream inputStream)
-			throws IOException, JSONException {
-		StringBuilder builder = _readStream(inputStream, true);
-
-		JSONTokener tokener = new JSONTokener(builder.toString());
-
-		// JSONArray finalResult = new JSONArray(tokener);
-		return new JSONObject(tokener);
-	}
-
-	private StringBuilder _readStream(InputStream inStream, boolean output)
-			throws IOException {
-		BufferedReader reader = new BufferedReader(new InputStreamReader(
-				inStream));
-		StringBuilder builder = new StringBuilder();
-
-		for (String line = null; (line = reader.readLine()) != null;) {
-			if (output) {
-				System.out.println(line);
-			}
-
-			builder.append(line).append("\n");
-		}
-		reader.close();
-		return builder;
-
-	}
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 214709c..d42ce37 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -323 +323 @@ public class LollapaloozerActivity extends Activity implements
-		if (_obtained_email != null) { // Get my ratings
+		if (_isLoggedIn()) { // Get my ratings
@@ -629 +629 @@ public class LollapaloozerActivity extends Activity implements
-		if (_obtained_email == null) {
+		if (!_isLoggedIn()) {
@@ -632 +631,0 @@ public class LollapaloozerActivity extends Activity implements
-
@@ -636,0 +636,7 @@ public class LollapaloozerActivity extends Activity implements
+	private boolean _isLoggedIn() {
+		if (_obtained_email == null) {
+			return false;
+		} else {
+			return true;
+		}
+	}
@@ -640,0 +647,2 @@ public class LollapaloozerActivity extends Activity implements
+		
+		
@@ -643 +651 @@ public class LollapaloozerActivity extends Activity implements
-		showDialog(DIALOG_GETEMAIL);
+		//showDialog(DIALOG_GETEMAIL);
3479c352facf989b4b47bbfdcb7c4ff6a64b5ed7
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java
new file mode 100644
index 0000000..eb82403
--- /dev/null
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/AuthVerifier.java
@@ -0,0 +1,7 @@
+package com.lollapaloozer.auth.verify;
+
+public interface AuthVerifier {
+
+	public boolean verify(String authToken, String identifier);
+
+}
diff --git a/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
new file mode 100644
index 0000000..e79b9f1
--- /dev/null
+++ b/Coacheller-AppEngine/shared/com/lollapaloozer/auth/verify/GoogleAuthVerifier.java
@@ -0,0 +1,57 @@
+package com.lollapaloozer.auth.verify;
+
+import java.io.IOException;
+import java.net.MalformedURLException;
+
+import org.json.JSONException;
+
+import android.accounts.AccountManager;
+
+import com.lollapaloozer.auth.client.OAuthHTTP;
+
+public class GoogleAuthVerifier implements AuthVerifier {
+
+	public boolean verify(String authToken, String identifier) {
+
+		// url = new URL("https://www.googleapis.com/oauth2/v2/userinfo");
+
+		try {
+			OAuthHTTP oauthreq;
+			oauthreq = new OAuthHTTP(
+					"https://www.googleapis.com/oauth2/v1/userinfo?alt=json");
+			oauthreq.setRequestProperty("client_id",
+					"253259340939.apps.googleusercontent.com");
+			oauthreq.setRequestProperty("client_secret",
+					"3HqdJ51XXYc6Px83sZuJlfmI");
+			oauthreq.setRequestProperty("Authorization", "OAuth " + authToken);
+			// conn.setRequestProperty("User-Agent","Mozilla/5.0 ( compatible ) ");
+			// conn.setRequestProperty("Accept","[star]/[star]");
+
+			boolean oauthSuccess = oauthreq.execute();
+
+			if (oauthSuccess) {
+				boolean tokenOpSuccess = oauthreq
+						.getJSONResultBoolean("verified_email");
+				String verifiedAccountName = oauthreq
+						.getJSONResultString("email");
+
+				if (verifiedAccountName.equals(identifier)) {
+					return true;
+				}
+			} else {
+				System.out.println("OAuth request completed unsuccesfully");
+				// TODO probably need to expire token
+			}
+
+		} catch (MalformedURLException e) {
+			e.printStackTrace();
+		} catch (JSONException e) {
+			e.printStackTrace();
+		} catch (IOException e) {
+			e.printStackTrace();
+		}
+
+		return false;
+	}
+
+}
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
index 102c215..a48d5c1 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
@@ -3,0 +4 @@ import java.io.IOException;
+import java.io.PrintWriter;
@@ -6,0 +8 @@ import java.util.Enumeration;
+import java.util.Iterator;
@@ -7,0 +10 @@ import java.util.List;
+import java.util.Map;
@@ -42,14 +45,2 @@ public class LollapaloozerServlet extends HttpServlet {
-    req.setCharacterEncoding("UTF-8");
-   
-
-    // Helpful in debugging
-    // String queryString = req.getQueryString();
-    //
-    // ArrayList<String> parameters = new ArrayList<String>();
-    // for (Enumeration<String> e = req.getParameterNames();
-    // e.hasMoreElements();) {
-    // String value = e.nextElement();
-    // parameters.add(value);
-    // }
-    
-    
+    String methodName = "doGet";
+
@@ -64,2 +54,0 @@ public class LollapaloozerServlet extends HttpServlet {
-    
-
@@ -85,3 +74,12 @@ public class LollapaloozerServlet extends HttpServlet {
-    
-    
-    
+    String methodName = "doPost";
+    PrintWriter out = resp.getWriter();
+
+    out.println(methodName + " handling request for the following parameters:");
+
+    Map<String, String[]> parameterMap = req.getParameterMap();
+    Iterator<String> it = parameterMap.keySet().iterator();
+
+    for (String s : parameterMap.keySet()) {
+      out.println(s + " = " + parameterMap.get(s));
+    }
+
@@ -98,0 +97 @@ public class LollapaloozerServlet extends HttpServlet {
+      out.println("Calling addRating()");
@@ -100,0 +100 @@ public class LollapaloozerServlet extends HttpServlet {
+      out.println("Calling emailRatings()");
@@ -103 +103,2 @@ public class LollapaloozerServlet extends HttpServlet {
-
+    out.println("Done!");
+    out.close();
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
index b2aa498..bf4844d 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
@@ -8,0 +9,2 @@ import java.net.URLEncoder;
+import java.util.ArrayList;
+import java.util.List;
@@ -11,0 +14 @@ import org.apache.http.HttpStatus;
+import org.apache.http.NameValuePair;
@@ -13,0 +17 @@ import org.apache.http.client.HttpClient;
+import org.apache.http.client.entity.UrlEncodedFormEntity;
@@ -16,0 +21 @@ import org.apache.http.impl.client.DefaultHttpClient;
+import org.apache.http.message.BasicNameValuePair;
@@ -28,260 +33,289 @@ public class LollapaloozerServiceUtils {
-  private final static String HTTP_SUCCESS = "Received HTTP Response";
-  private final static String HTTP_FAILURE = "HTTP Response was not OK: ";
-
-  /**
-   * 
-   * @param year
-   * @param day
-   * @param context
-   * @return
-   * @throws Exception
-   */
-  public static JSONArray getSets(String year, String day, Context context) throws Exception {
-    try {
-      // Returning FAKE DATA
-      // if (1 < 3) {
-      // return FakeDataSource.getData();
-      // }
-
-      StringBuilder requestString = new StringBuilder();
-      requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-      requestString.append(HttpConstants.PARAM_YEAR);
-      requestString.append("=");
-      requestString.append(year);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_DAY);
-      requestString.append("=");
-      requestString.append(day);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_ACTION);
-      requestString.append("=");
-      requestString.append(HttpConstants.ACTION_GET_SETS);
-
-      LollapaloozerHelper.debug(context, "HTTPGet = " + requestString.toString());
-      HttpGet get = new HttpGet(requestString.toString());
-      HttpClient hc = new DefaultHttpClient();
-      HttpResponse response = hc.execute(get);
-
-      // get the response from GAE server, should be in JSON format
-      if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
-        LollapaloozerHelper.debug(context, HTTP_SUCCESS);
-
-        BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity()
-            .getContent(), "UTF-8"));
-        StringBuilder builder = new StringBuilder();
-        for (String line = null; (line = reader.readLine()) != null;) {
-          builder.append(line).append("\n");
-        }
-        JSONTokener tokener = new JSONTokener(builder.toString());
-        JSONArray finalResult = new JSONArray(tokener);
-        return finalResult;
-
-      } else {
-        LollapaloozerHelper.debug(context, HTTP_FAILURE
-            + response.getStatusLine().getStatusCode());
-        throw new Exception();
-      }
-
-    } catch (ClientProtocolException e) { // TODO: Could have created a custom
-                                          // Exception class
-      e.printStackTrace();
-      throw new Exception();
-    } catch (IOException e) {
-      e.printStackTrace();
-      throw new Exception();
-    } catch (JSONException e) {
-      e.printStackTrace();
-      throw new Exception();
-    }
-  }
-
-  // Sample of working URL
-  // http://ratethisfest.appspot.com/coachellerServlet?email=testing@this.com&action=get_sets&year=2012&day=Friday
-  public static JSONArray getRatings(String email, String year, String day, Context context)
-      throws Exception {
-
-    /**
-     * 
-     * @param email
-     * @param context
-     * @return
-     */
-
-    try {
-      StringBuilder requestString = new StringBuilder();
-      requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-      requestString.append(HttpConstants.PARAM_EMAIL);
-      requestString.append("=");
-      requestString.append(email);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_YEAR);
-      requestString.append("=");
-      requestString.append(year);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_DAY);
-      requestString.append("=");
-      requestString.append(day);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_ACTION);
-      requestString.append("=");
-      requestString.append(HttpConstants.ACTION_GET_RATINGS);
-
-      LollapaloozerHelper.debug(context, "HTTPGet = " + requestString.toString());
-      HttpGet get = new HttpGet(requestString.toString());
-      HttpClient hc = new DefaultHttpClient();
-      HttpResponse response = hc.execute(get);
-
-      // get the response from GAE server, should be in JSON format
-      if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
-        LollapaloozerHelper.debug(context, HTTP_SUCCESS);
-
-        BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity()
-            .getContent(), "UTF-8"));
-        StringBuilder builder = new StringBuilder();
-        for (String line = null; (line = reader.readLine()) != null;) {
-          builder.append(line).append("\n");
-        }
-        JSONTokener tokener = new JSONTokener(builder.toString());
-        JSONArray finalResult = new JSONArray(tokener);
-        return finalResult;
-
-      } else {
-        LollapaloozerHelper.debug(context, HTTP_FAILURE
-            + response.getStatusLine().getStatusCode());
-        throw new Exception();
-      }
-
-    } catch (ClientProtocolException e) { // TODO: Could have created a custom
-                                          // Exception class
-      e.printStackTrace();
-      throw new Exception();
-    } catch (IOException e) {
-      e.printStackTrace();
-      throw new Exception();
-    } catch (JSONException e) {
-      e.printStackTrace();
-      throw new Exception();
-    }
-  }
-
-  /**
-   * @param email
-   * @param artist
-   * @param year
-   * @param score
-   * @param context
-   * @return
-   * @throws Exception
-   */
-
-  // TODO returns JSONArray which is probably null - is this correct?
-  public static String addRating(String email, String setId, String score, String comments, Context context)
-      throws Exception {
-    try {
-      // TODO: pass in PARAM_NOTES here
-      StringBuilder requestStringb = new StringBuilder();
-      requestStringb.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-       requestStringb.append(HttpConstants.PARAM_EMAIL).append("=").append(email);
-       requestStringb.append("&").append(HttpConstants.PARAM_SET_ID).append("=").append(URLEncoder.encode(setId));
-       requestStringb.append("&").append(HttpConstants.PARAM_SCORE).append("=").append(URLEncoder.encode(score));
-       requestStringb.append("&").append(HttpConstants.PARAM_NOTES).append("=").append(URLEncoder.encode(comments));
-       requestStringb.append("&").append(HttpConstants.PARAM_ACTION).append("=").append(URLEncoder.encode(HttpConstants.ACTION_ADD_RATING));
-       
-       String requestString =  requestStringb.toString();
-      
-      LollapaloozerHelper.debug(context, "HTTPPost = " + requestString);
-       
-      HttpPost post = new HttpPost(requestString);
-      HttpParams params = post.getParams();
-      params.setParameter(HttpConstants.PARAM_EMAIL, email);
-      params.setParameter(HttpConstants.PARAM_SET_ID, setId);
-      params.setParameter(HttpConstants.PARAM_SCORE, score);
-      params.setParameter(HttpConstants.PARAM_ACTION, HttpConstants.ACTION_ADD_RATING);
-      params.setParameter(HttpConstants.PARAM_NOTES, comments);
-      post.setParams(params);
-
-      HttpClient hc = new DefaultHttpClient();
-      
-      HttpResponse response = hc.execute(post);
-
-      // get the response from GAE server, should be in JSON format
-      if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
-        LollapaloozerHelper.debug(context, HTTP_SUCCESS);
-
-        BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity()
-            .getContent(), "UTF-8"));
-        StringBuilder builder = new StringBuilder();
-        for (String line = null; (line = reader.readLine()) != null;) {
-          builder.append(line).append("\n");
-        }
-
-        return builder.toString();
-
-      } else {
-        LollapaloozerHelper.debug(context, HTTP_FAILURE
-            + response.getStatusLine().getStatusCode());
-        throw new Exception();
-      }
-
-    } catch (UnsupportedEncodingException e) {
-      e.printStackTrace();
-      throw new Exception();
-    } catch (IllegalStateException e) {
-      e.printStackTrace();
-      throw new Exception();
-    } catch (IOException e) {
-      e.printStackTrace();
-      throw new Exception();
-    }
-  }
-
-  // This may have a bug or 3, I was getting tired
-  public static String sendMyRatings(Context context, String email) throws Exception {
-    try {
-      StringBuilder requestString = new StringBuilder();
-      requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-      requestString.append(HttpConstants.PARAM_EMAIL);
-      requestString.append("=");
-      requestString.append(email);
-      requestString.append("&");
-      requestString.append(HttpConstants.PARAM_ACTION);
-      requestString.append("=");
-
-      // TODO fix this for email feature
-      requestString.append(HttpConstants.ACTION_ADD_RATING);
-
-      LollapaloozerHelper.debug(context, "HTTPPost = " + requestString.toString());
-      HttpPost post = new HttpPost(requestString.toString());
-      HttpClient hc = new DefaultHttpClient();
-      HttpResponse response = hc.execute(post);
-
-      // get the response from GAE server, should be in JSON format
-      if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
-        LollapaloozerHelper.debug(context, HTTP_SUCCESS);
-
-        BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity()
-            .getContent(), "UTF-8"));
-        StringBuilder builder = new StringBuilder();
-        for (String line = null; (line = reader.readLine()) != null;) {
-          builder.append(line).append("\n");
-        }
-
-        return builder.toString();
-
-      } else {
-        LollapaloozerHelper.debug(context, HTTP_FAILURE
-            + response.getStatusLine().getStatusCode());
-        throw new Exception();
-      }
-
-    } catch (UnsupportedEncodingException e) {
-      e.printStackTrace();
-      throw new Exception();
-    } catch (IllegalStateException e) {
-      e.printStackTrace();
-      throw new Exception();
-    } catch (IOException e) {
-      e.printStackTrace();
-      throw new Exception();
-    }
-  }
+	private final static String HTTP_SUCCESS = "Received HTTP Response";
+	private final static String HTTP_FAILURE = "HTTP Response was not OK: ";
+
+	/**
+	 * 
+	 * @param year
+	 * @param day
+	 * @param context
+	 * @return
+	 * @throws Exception
+	 */
+	public static JSONArray getSets(String year, String day, Context context)
+			throws Exception {
+		try {
+			// Returning FAKE DATA
+			// if (1 < 3) {
+			// return FakeDataSource.getData();
+			// }
+
+			StringBuilder requestString = new StringBuilder();
+			requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+			requestString.append(HttpConstants.PARAM_YEAR);
+			requestString.append("=");
+			requestString.append(year);
+			requestString.append("&");
+			requestString.append(HttpConstants.PARAM_DAY);
+			requestString.append("=");
+			requestString.append(day);
+			requestString.append("&");
+			requestString.append(HttpConstants.PARAM_ACTION);
+			requestString.append("=");
+			requestString.append(HttpConstants.ACTION_GET_SETS);
+
+			LollapaloozerHelper.debug(context,
+					"HTTPGet = " + requestString.toString());
+			HttpGet get = new HttpGet(requestString.toString());
+			HttpClient hc = new DefaultHttpClient();
+			HttpResponse response = hc.execute(get);
+
+			// get the response from GAE server, should be in JSON format
+			if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
+				LollapaloozerHelper.debug(context, HTTP_SUCCESS);
+
+				BufferedReader reader = new BufferedReader(
+						new InputStreamReader(
+								response.getEntity().getContent(), "UTF-8"));
+				StringBuilder builder = new StringBuilder();
+				for (String line = null; (line = reader.readLine()) != null;) {
+					builder.append(line).append("\n");
+				}
+				JSONTokener tokener = new JSONTokener(builder.toString());
+				JSONArray finalResult = new JSONArray(tokener);
+				return finalResult;
+
+			} else {
+				LollapaloozerHelper.debug(context, HTTP_FAILURE
+						+ response.getStatusLine().getStatusCode());
+				throw new Exception();
+			}
+
+		} catch (ClientProtocolException e) { // TODO: Could have created a
+												// custom
+												// Exception class
+			e.printStackTrace();
+			throw new Exception();
+		} catch (IOException e) {
+			e.printStackTrace();
+			throw new Exception();
+		} catch (JSONException e) {
+			e.printStackTrace();
+			throw new Exception();
+		}
+	}
+
+	// Sample of working URL
+	// http://ratethisfest.appspot.com/coachellerServlet?email=testing@this.com&action=get_sets&year=2012&day=Friday
+	public static JSONArray getRatings(String email, String year, String day,
+			Context context) throws Exception {
+
+		/**
+		 * 
+		 * @param email
+		 * @param context
+		 * @return
+		 */
+
+		try {
+			StringBuilder requestString = new StringBuilder();
+			requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+			requestString.append(HttpConstants.PARAM_EMAIL);
+			requestString.append("=");
+			requestString.append(email);
+			requestString.append("&");
+			requestString.append(HttpConstants.PARAM_YEAR);
+			requestString.append("=");
+			requestString.append(year);
+			requestString.append("&");
+			requestString.append(HttpConstants.PARAM_DAY);
+			requestString.append("=");
+			requestString.append(day);
+			requestString.append("&");
+			requestString.append(HttpConstants.PARAM_ACTION);
+			requestString.append("=");
+			requestString.append(HttpConstants.ACTION_GET_RATINGS);
+
+			LollapaloozerHelper.debug(context,
+					"HTTPGet = " + requestString.toString());
+			HttpGet get = new HttpGet(requestString.toString());
+			HttpClient hc = new DefaultHttpClient();
+			HttpResponse response = hc.execute(get);
+
+			// get the response from GAE server, should be in JSON format
+			if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
+				LollapaloozerHelper.debug(context, HTTP_SUCCESS);
+
+				BufferedReader reader = new BufferedReader(
+						new InputStreamReader(
+								response.getEntity().getContent(), "UTF-8"));
+				StringBuilder builder = new StringBuilder();
+				for (String line = null; (line = reader.readLine()) != null;) {
+					builder.append(line).append("\n");
+				}
+				JSONTokener tokener = new JSONTokener(builder.toString());
+				JSONArray finalResult = new JSONArray(tokener);
+				return finalResult;
+
+			} else {
+				LollapaloozerHelper.debug(context, HTTP_FAILURE
+						+ response.getStatusLine().getStatusCode());
+				throw new Exception();
+			}
+
+		} catch (ClientProtocolException e) { // TODO: Could have created a
+												// custom
+												// Exception class
+			e.printStackTrace();
+			throw new Exception();
+		} catch (IOException e) {
+			e.printStackTrace();
+			throw new Exception();
+		} catch (JSONException e) {
+			e.printStackTrace();
+			throw new Exception();
+		}
+	}
+
+	/**
+	 * @param email
+	 * @param artist
+	 * @param year
+	 * @param score
+	 * @param context
+	 * @return
+	 * @throws Exception
+	 */
+
+	// TODO returns JSONArray which is probably null - is this correct?
+	public static String addRating(String email, String setId, String score,
+			String comments, Context context) throws Exception {
+		try {
+			// // TODO: pass in PARAM_NOTES here
+			// StringBuilder requestStringb = new StringBuilder();
+			// requestStringb.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+			// requestStringb.append(HttpConstants.PARAM_EMAIL).append("=").append(email);
+			// requestStringb.append("&").append(HttpConstants.PARAM_SET_ID).append("=").append(URLEncoder.encode(setId));
+			// requestStringb.append("&").append(HttpConstants.PARAM_SCORE).append("=").append(URLEncoder.encode(score));
+			// requestStringb.append("&").append(HttpConstants.PARAM_NOTES).append("=").append(URLEncoder.encode(comments));
+			// requestStringb.append("&").append(HttpConstants.PARAM_ACTION).append("=").append(URLEncoder.encode(HttpConstants.ACTION_ADD_RATING));
+			//
+			// String requestString = requestStringb.toString();
+			//
+			// LollapaloozerHelper.debug(context, "HTTPPost = " +
+			// requestString);
+
+			//
+			// HttpParams params = post.getParams();
+			// params.setParameter(HttpConstants.PARAM_EMAIL, email);
+			// params.setParameter(HttpConstants.PARAM_SET_ID, setId);
+			// params.setParameter(HttpConstants.PARAM_SCORE, score);
+			// params.setParameter(HttpConstants.PARAM_ACTION,
+			// HttpConstants.ACTION_ADD_RATING);
+			// params.setParameter(HttpConstants.PARAM_NOTES, comments);
+			// post.setParams(params);
+
+			HttpPost post = new HttpPost(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+
+			List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
+
+			nameValuePairs.add(new BasicNameValuePair(
+					HttpConstants.PARAM_EMAIL, email));
+			nameValuePairs.add(new BasicNameValuePair(
+					HttpConstants.PARAM_SET_ID, setId));
+			nameValuePairs.add(new BasicNameValuePair(
+					HttpConstants.PARAM_SCORE, score));
+			nameValuePairs.add(new BasicNameValuePair(
+					HttpConstants.PARAM_NOTES, comments));
+			nameValuePairs
+					.add(new BasicNameValuePair(HttpConstants.PARAM_ACTION,
+							HttpConstants.ACTION_ADD_RATING));
+
+			post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
+			HttpClient hc = new DefaultHttpClient();
+			HttpResponse response = hc.execute(post);
+
+			// get the response from GAE server, should be in JSON format
+			if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
+				LollapaloozerHelper.debug(context, HTTP_SUCCESS);
+
+				BufferedReader reader = new BufferedReader(
+						new InputStreamReader(
+								response.getEntity().getContent(), "UTF-8"));
+				StringBuilder builder = new StringBuilder();
+				for (String line = null; (line = reader.readLine()) != null;) {
+					builder.append(line).append("\n");
+				}
+
+				return builder.toString();
+
+			} else {
+				LollapaloozerHelper.debug(context, HTTP_FAILURE
+						+ response.getStatusLine().getStatusCode());
+				throw new Exception();
+			}
+
+		} catch (UnsupportedEncodingException e) {
+			e.printStackTrace();
+			throw new Exception();
+		} catch (IllegalStateException e) {
+			e.printStackTrace();
+			throw new Exception();
+		} catch (IOException e) {
+			e.printStackTrace();
+			throw new Exception();
+		}
+	}
+
+	// This may have a bug or 3, I was getting tired
+	public static String sendMyRatings(Context context, String email)
+			throws Exception {
+		try {
+			StringBuilder requestString = new StringBuilder();
+			requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+			requestString.append(HttpConstants.PARAM_EMAIL);
+			requestString.append("=");
+			requestString.append(email);
+			requestString.append("&");
+			requestString.append(HttpConstants.PARAM_ACTION);
+			requestString.append("=");
+
+			// TODO fix this for email feature
+			requestString.append(HttpConstants.ACTION_ADD_RATING);
+
+			LollapaloozerHelper.debug(context,
+					"HTTPPost = " + requestString.toString());
+			HttpPost post = new HttpPost(requestString.toString());
+			HttpClient hc = new DefaultHttpClient();
+			HttpResponse response = hc.execute(post);
+
+			// get the response from GAE server, should be in JSON format
+			if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
+				LollapaloozerHelper.debug(context, HTTP_SUCCESS);
+
+				BufferedReader reader = new BufferedReader(
+						new InputStreamReader(
+								response.getEntity().getContent(), "UTF-8"));
+				StringBuilder builder = new StringBuilder();
+				for (String line = null; (line = reader.readLine()) != null;) {
+					builder.append(line).append("\n");
+				}
+
+				return builder.toString();
+
+			} else {
+				LollapaloozerHelper.debug(context, HTTP_FAILURE
+						+ response.getStatusLine().getStatusCode());
+				throw new Exception();
+			}
+
+		} catch (UnsupportedEncodingException e) {
+			e.printStackTrace();
+			throw new Exception();
+		} catch (IllegalStateException e) {
+			e.printStackTrace();
+			throw new Exception();
+		} catch (IOException e) {
+			e.printStackTrace();
+			throw new Exception();
+		}
+	}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java
deleted file mode 100644
index 446c1c8..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java
+++ /dev/null
@@ -1,146 +0,0 @@
-package com.lollapaloozer.auth;
-
-import com.lollapaloozer.R;
-import com.lollapaloozer.util.Constants;
-
-import android.app.Activity;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.View;
-import android.view.View.OnClickListener;
-import android.widget.TextView;
-
-public class AuthDemoActivity extends Activity implements OnClickListener {
-
-	// Framework
-	private TextView _loginStatusText;
-	private TextView _accountNameText;
-	private TextView _tokenIdText;
-
-	// App
-	private AuthDemoModel _model;
-
-	/** Called when the activity is first created. */
-	@Override
-	public void onCreate(Bundle savedInstanceState) {
-		super.onCreate(savedInstanceState);
-		setContentView(R.layout.auth_choose);
-		System.out.println("OnCreate starting");
-
-		// Framework
-		_loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
-		_accountNameText = (TextView) this.findViewById(R.id.text_account_name);
-		_tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
-
-		this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
-		this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
-		this.findViewById(R.id.btn_login_google).setOnClickListener(this);
-		this.findViewById(R.id.btn_invalidate_tokens).setOnClickListener(this);
-
-		// App
-		_model = new AuthDemoModel(this);
-		_model.checkAccounts();
-		System.out.println("OnCreate complete");
-	}
-
-	@Override
-	protected void onResume() {
-		super.onResume();
-
-		AuthProvider currentProvider = _model.getCurrentAuthProvider();
-		if (currentProvider != null) {
-			currentProvider.extendAccess();
-		}
-
-		_updateUI();
-
-	}
-
-	@Override
-	public void onClick(View arg0) {
-		String buttonClickedName = this.getResources().getResourceEntryName(
-				arg0.getId());
-		System.out.println("Button Click: " + buttonClickedName);
-
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_login_google))) {
-			_model.loginToGoogle(); // UI Update done on callback
-		}
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_login_twitter))) {
-			_model.loginToTwitter();
-
-		}
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_login_facebook))) {
-			_model.loginToFacebook();
-
-		}
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
-				R.id.btn_invalidate_tokens))) {
-			_model.invalidateTokens();
-			_updateUI();
-		}
-	}
-
-	private void _updateUI() {
-
-		if (_model.isLoggedIn()) {
-			AuthProvider currentProvider = _model.getCurrentAuthProvider();
-			_setLoginStatus(currentProvider.getAccountType());
-			_accountNameText.setText("Account: "
-					+ currentProvider.getLocalAccountName() + "\r\n"
-					+ currentProvider.getAccountType()
-					+ " confirms you are the owner of "
-					+ currentProvider.getVerifiedAccountIdentifier());
-			_tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
-		} else {
-			_setLoginStatus("Not Logged In");
-			_accountNameText.setText("");
-			_tokenIdText.setText("");
-		}
-
-		if (this.findViewById(R.layout.auth_choose) != null) {
-			this.findViewById(R.layout.auth_choose).invalidate();
-		}
-
-	}
-
-	private void _setLoginStatus(String status) {
-		_loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
-	}
-
-	// For Facebook
-	@Override
-	public void onActivityResult(int requestCode, int resultCode, Intent data) {
-		super.onActivityResult(requestCode, resultCode, data);
-
-		System.out.println("onActivityResult(requestCode=[" + requestCode
-				+ "], resultCode=[" + resultCode + "]");
-
-		switch (requestCode) {
-		case Constants.INTENT_REQ_TWITTER_LOGIN:
-			_model.twitterAuthCallback(requestCode, resultCode, data);
-			break;
-		default:
-			System.out.println("onACtivityResult called with unknown values: "
-					+ requestCode + "," + resultCode);
-			_model.getFacebookObject().authorizeCallback(requestCode,
-					resultCode, data);
-			break;
-		}
-	}
-
-	public void modelChanged() {
-		// Run method in main UI thread
-		View v = findViewById(android.R.id.content);
-		v.post(new Runnable() {
-			public void run() {
-				_updateUI();
-			}
-		});
-
-		// _updateUI();
-	}
-
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoModel.java
deleted file mode 100644
index c65eb67..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoModel.java
+++ /dev/null
@@ -1,138 +0,0 @@
-package com.lollapaloozer.auth;
-
-import java.io.BufferedReader;
-import java.io.FileNotFoundException;
-import java.io.IOException;
-import java.io.InputStream;
-import java.io.InputStreamReader;
-import java.net.HttpURLConnection;
-import java.net.MalformedURLException;
-import java.net.URL;
-import java.net.URLConnection;
-
-import org.json.JSONArray;
-import org.json.JSONException;
-import org.json.JSONObject;
-import org.json.JSONTokener;
-
-import com.facebook.android.DialogError;
-import com.facebook.android.Facebook;
-import com.facebook.android.FacebookError;
-import com.facebook.android.Facebook.DialogListener;
-
-import android.accounts.Account;
-import android.accounts.AccountManager;
-import android.accounts.AccountManagerCallback;
-import android.accounts.AccountManagerFuture;
-import android.accounts.AuthenticatorDescription;
-import android.accounts.AuthenticatorException;
-import android.accounts.OperationCanceledException;
-import android.app.Activity;
-import android.content.Intent;
-import android.os.Bundle;
-import android.util.Log;
-import android.util.Pair;
-
-public class AuthDemoModel {
-
-	private GoogleAuthProvider _authProviderGoogle;
-	private FacebookAuthProvider _authProviderFacebook;
-	private AuthDemoActivity _activity;
-
-	private String _verifiedAccountName = null;
-	private TwitterAuthProvider _authProviderTwitter;
-
-	public AuthDemoModel(AuthDemoActivity activity) {
-		_activity = activity;
-		_authProviderGoogle = new GoogleAuthProvider(_activity);
-		_authProviderFacebook = new FacebookAuthProvider(_activity);
-		_authProviderTwitter = new TwitterAuthProvider(_activity);
-	}
-
-	public boolean isLoggedIn() {
-		int numLogins = 0;
-		if (_authProviderGoogle.isLoggedIn()) {
-			numLogins++;
-		}
-
-		if (_authProviderFacebook.isLoggedIn()) {
-			numLogins++;
-		}
-
-		if (_authProviderTwitter.isLoggedIn()) {
-			numLogins++;
-		}
-
-		if (numLogins > 1) {
-			System.out
-					.println("WARNING: Multiple concurrent login types detected");
-		}
-
-		if (numLogins > 0) {
-			return true;
-		} else {
-			return false;
-		}
-	}
-
-	public AuthProvider getCurrentAuthProvider() {
-		if (_authProviderGoogle.isLoggedIn()) {
-			return _authProviderGoogle;
-		}
-
-		if (_authProviderFacebook.isLoggedIn()) {
-			return _authProviderFacebook;
-		}
-
-		if (_authProviderTwitter.isLoggedIn()) {
-			return _authProviderTwitter;
-		}
-
-		return null;
-	}
-
-	public void checkAccounts() {
-		AccountManager aMgr = AccountManager.get(_activity);
-
-		System.out
-				.println("Warning: The following requires permission GET_ACCOUNTS");
-		for (Account a : aMgr.getAccounts()) {
-			System.out.println(a.name + " " + a.type + " " + a.toString());
-		}
-
-		System.out.println("Installed Authenticators: ");
-		for (AuthenticatorDescription d : aMgr.getAuthenticatorTypes()) {
-			System.out.print(d.type);
-			System.out.print("/ ");
-		}
-		System.out.println();
-	}
-
-	public Facebook getFacebookObject() {
-		return _authProviderFacebook.getFacebookObject();
-	}
-
-	public void invalidateTokens() {
-		_authProviderGoogle.logout();
-		_authProviderFacebook.logout();
-		_authProviderTwitter.logout();
-	}
-
-	public void loginToGoogle() {
-		_authProviderGoogle.login();
-	}
-
-	public void loginToFacebook() {
-		_authProviderFacebook.login();
-	}
-
-	public void loginToTwitter() {
-		_authProviderTwitter.login();
-	}
-
-	public void twitterAuthCallback(int requestCode, int resultCode, Intent data) {
-		_authProviderTwitter
-				.requestTokenCallback(requestCode, resultCode, data);
-	}
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthProvider.java
deleted file mode 100644
index 491ecf9..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthProvider.java
+++ /dev/null
@@ -1,21 +0,0 @@
-package com.lollapaloozer.auth;
-
-public interface AuthProvider {
-
-	public boolean isLoggedIn();
-
-	public void login();
-
-	public void logout();
-
-	public String getAccountType();
-
-	public String getLocalAccountName();
-
-	public String getVerifiedAccountIdentifier();
-
-	public String getAuthToken();
-
-	public void extendAccess();
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/FacebookAuthProvider.java
deleted file mode 100644
index 97462d8..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/FacebookAuthProvider.java
+++ /dev/null
@@ -1,191 +0,0 @@
-package com.lollapaloozer.auth;
-
-import java.io.FileNotFoundException;
-import java.io.IOException;
-import java.net.MalformedURLException;
-
-import org.json.JSONException;
-import org.json.JSONObject;
-
-import android.os.Bundle;
-import android.util.Log;
-import android.widget.ProgressBar;
-
-import com.facebook.android.AsyncFacebookRunner;
-import com.facebook.android.AsyncFacebookRunner.RequestListener;
-import com.facebook.android.DialogError;
-import com.facebook.android.Facebook;
-import com.facebook.android.Facebook.DialogListener;
-import com.facebook.android.FacebookError;
-import com.facebook.android.Util;
-
-public class FacebookAuthProvider implements AuthProvider {
-
-	private AuthDemoActivity _activity;
-	private Facebook _facebook = new Facebook("186287061500005");
-	private AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(
-			_facebook);
-
-	private JSONObject _userInfo;
-
-	private FacebookAuthProvider() {
-	}
-
-	public FacebookAuthProvider(AuthDemoActivity activity) {
-		_activity = activity;
-	}
-
-	private void setLastInfoResponse(JSONObject json) {
-		_userInfo = json;
-	}
-
-	@Override
-	public boolean isLoggedIn() {
-		return _facebook.isSessionValid();
-	}
-
-	private void _getUserData() {
-		mAsyncRunner.request("me", new IDRequestListener());
-	}
-
-	@Override
-	public void login() {
-		_facebook.authorize(_activity, new String[] { "email" },
-				new DialogListener() {
-					@Override
-					public void onComplete(Bundle values) {
-						System.out
-								.println("Facebook authorization completed, token: "
-										+ _facebook.getAccessToken()
-										+ " valid until "
-										+ _facebook.getAccessExpires());
-						_getUserData();
-						// TODO should lock UI here
-					}
-
-					@Override
-					public void onFacebookError(FacebookError error) {
-						System.out
-								.println("Facebook platform error during authorization");
-					}
-
-					@Override
-					public void onError(DialogError e) {
-						System.out
-								.println("Error with facebook authorization dialog");
-					}
-
-					@Override
-					public void onCancel() {
-						System.out
-								.println("Facebook authorization dialog cancelled by user");
-					}
-				});
-
-	}
-
-	public Facebook getFacebookObject() {
-		return _facebook;
-	}
-
-	@Override
-	public void logout() {
-		try {
-			_facebook.logout(_activity);
-		} catch (MalformedURLException e) {
-			e.printStackTrace();
-		} catch (IOException e) {
-			e.printStackTrace();
-		}
-	}
-
-	@Override
-	public String getAccountType() {
-		return _facebook.getClass().toString();
-	}
-
-	@Override
-	public String getLocalAccountName() {
-		try {
-			return _userInfo.getString("name");
-		} catch (JSONException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-		return null;
-	}
-
-	@Override
-	public String getVerifiedAccountIdentifier() {
-		try {
-			return _userInfo.getString("email");
-		} catch (JSONException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-		return null;
-	}
-
-	@Override
-	public String getAuthToken() {
-		return _facebook.getAccessToken();
-	}
-
-	@Override
-	public void extendAccess() {
-		_facebook.extendAccessTokenIfNeeded(_activity, null);
-	}
-
-	private class IDRequestListener implements RequestListener {
-
-		private String TAG = "fbDemo";
-
-		@Override
-		public void onComplete(String response, Object state) {
-			try {
-
-				Log.d(TAG, "IDRequestONComplete");
-				Log.d(TAG, "Response: " + response.toString());
-				JSONObject json = Util.parseJson(response);
-				String userID = json.getString("id");
-				String userName = json.getString("name");
-				// fbEmail = json.getString("email");
-
-				System.out.println("Retrieved from Facebook userID[" + userID
-						+ "] username [" + userName + "]");
-				setLastInfoResponse(json);
-				_activity.modelChanged();
-
-			} catch (JSONException e) {
-				Log.d(TAG, "JSONException: " + e.getMessage());
-			} catch (FacebookError e) {
-				Log.d(TAG, "FacebookError: " + e.getMessage());
-			}
-			// TODO Unlock UI here
-		}
-
-		@Override
-		public void onIOException(IOException e, Object state) {
-			Log.d(TAG, "IOException: " + e.getMessage());
-		}
-
-		@Override
-		public void onFileNotFoundException(FileNotFoundException e,
-				Object state) {
-			Log.d(TAG, "FileNotFoundException: " + e.getMessage());
-		}
-
-		@Override
-		public void onMalformedURLException(MalformedURLException e,
-				Object state) {
-			Log.d(TAG, "MalformedURLException: " + e.getMessage());
-		}
-
-		@Override
-		public void onFacebookError(FacebookError e, Object state) {
-			Log.d(TAG, "FacebookError: " + e.getMessage());
-		}
-
-	}
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/GoogleAuthProvider.java
deleted file mode 100644
index f59720e..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/GoogleAuthProvider.java
+++ /dev/null
@@ -1,169 +0,0 @@
-package com.lollapaloozer.auth;
-
-import java.io.IOException;
-import java.net.MalformedURLException;
-
-import org.json.JSONException;
-import org.json.JSONObject;
-
-import android.accounts.AccountManager;
-import android.accounts.AccountManagerCallback;
-import android.accounts.AccountManagerFuture;
-import android.accounts.AuthenticatorException;
-import android.accounts.OperationCanceledException;
-import android.app.Activity;
-import android.os.Bundle;
-import android.util.Log;
-
-public class GoogleAuthProvider implements AuthProvider {
-
-	private final String ACCOUNT_TYPE_REQUESTED = "com.google";
-
-	private AuthDemoActivity _activity;
-	private Bundle _currentGoogleLoginTokenBundle = null;
-	private JSONObject _currentAuthResult;
-	private boolean _confirmedAuthorizedGoogle;
-	private String _verifiedAccountName = null;
-
-	private GoogleAuthProvider() {
-	}
-
-	public GoogleAuthProvider(AuthDemoActivity activity) {
-		_activity = activity;
-	}
-
-	@Override
-	public boolean isLoggedIn() {
-		return _confirmedAuthorizedGoogle;
-	}
-
-	@Override
-	public void login() {
-
-		System.out.println("Starting");
-		AccountManagerFuture<Bundle> bundleFuture = AccountManager.get(
-				_activity).getAuthTokenByFeatures(
-				ACCOUNT_TYPE_REQUESTED,
-				// "Manage your tasks"
-				// "https://www.googleapis.com/auth/userinfo.email"
-				// "https://www.googleapis.com/auth/userinfo.profile"
-				"oauth2:https://www.googleapis.com/auth/userinfo.email"
-				// "View your email address"
-				// "Steal all of your stuff"
-				, null, _activity, null, null,
-				new AccountManagerCallback<Bundle>() {
-
-					public void run(AccountManagerFuture<Bundle> future) {
-
-						try {
-							_currentGoogleLoginTokenBundle = future.getResult();
-							System.out
-									.println("Received token bundle from AccountManagerCallback");
-						} catch (OperationCanceledException e) {
-							Log.e("e", e.getMessage(), e);
-							System.out
-									.println("User appears to have denied auth request");
-						} catch (AuthenticatorException e) {
-							Log.e("e", e.getMessage(), e);
-						} catch (IOException e) {
-							Log.e("e", e.getMessage(), e);
-						}
-						_useBundle();
-						_activity.modelChanged();
-					}
-				}, null);
-		System.out.println("Done with AccountManager call");
-	}
-
-	private void _useBundle() {
-
-		for (String s : _currentGoogleLoginTokenBundle.keySet()) {
-			System.out.println("Found key/value: " + s + "="
-					+ _currentGoogleLoginTokenBundle.getString(s));
-		}
-
-		if (_currentGoogleLoginTokenBundle
-				.containsKey(AccountManager.KEY_INTENT)) {
-			throw new RuntimeException("Unexpected Code Path");
-			// TODO return to account selection or something...
-		}
-
-		// url = new URL("https://www.googleapis.com/oauth2/v2/userinfo");
-
-		try {
-			OAuthHTTP oauthreq;
-			oauthreq = new OAuthHTTP(
-					"https://www.googleapis.com/oauth2/v1/userinfo?alt=json");
-			oauthreq.setRequestProperty("client_id",
-					"253259340939.apps.googleusercontent.com");
-			oauthreq.setRequestProperty("client_secret",
-					"3HqdJ51XXYc6Px83sZuJlfmI");
-			oauthreq.setRequestProperty(
-					"Authorization",
-					"OAuth "
-							+ _currentGoogleLoginTokenBundle
-									.getString(AccountManager.KEY_AUTHTOKEN));
-			// conn.setRequestProperty("User-Agent","Mozilla/5.0 ( compatible ) ");
-			// conn.setRequestProperty("Accept","[star]/[star]");
-
-			boolean oauthSuccess = oauthreq.execute();
-
-			if (oauthSuccess) {
-				_confirmedAuthorizedGoogle = oauthreq
-						.getJSONResultBoolean("verified_email");
-				_verifiedAccountName = oauthreq.getJSONResultString("email");
-			} else {
-				System.out.println("OAuth request completed unsuccesfully");
-				// TODO probably need to expire token
-			}
-
-		} catch (MalformedURLException e) {
-			e.printStackTrace();
-		} catch (JSONException e) {
-			e.printStackTrace();
-		} catch (IOException e) {
-			e.printStackTrace();
-		}
-	}
-
-	@Override
-	public void logout() {
-		if (_currentGoogleLoginTokenBundle != null) {
-			AccountManager aMgr = AccountManager.get(_activity);
-			aMgr.invalidateAuthToken(getAccountType(), getAuthToken());
-		}
-
-		// Wipe login status
-		_currentGoogleLoginTokenBundle = null;
-		_confirmedAuthorizedGoogle = false; // Not authenticated
-		_verifiedAccountName = null;
-	}
-
-	public String getAuthToken() {
-		return _currentGoogleLoginTokenBundle
-				.getString(AccountManager.KEY_AUTHTOKEN);
-	}
-
-	public String getAccountType() {
-		return _currentGoogleLoginTokenBundle
-				.getString(AccountManager.KEY_ACCOUNT_TYPE);
-	}
-
-	public String getLocalAccountName() {
-		return _currentGoogleLoginTokenBundle
-				.getString(AccountManager.KEY_ACCOUNT_NAME);
-	}
-
-	@Override
-	public String getVerifiedAccountIdentifier() {
-		return _verifiedAccountName;
-	}
-
-	@Override
-	public void extendAccess() {
-
-		System.out
-				.println("Activity resumed.  Not sure if google auth token is automatically extended.");
-	}
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/NameValue.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/NameValue.java
deleted file mode 100644
index 6e113d1..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/NameValue.java
+++ /dev/null
@@ -1,12 +0,0 @@
-package com.lollapaloozer.auth;
-
-public class NameValue {
-	public String _name;
-	public String _value;
-
-	public NameValue(String name, String value) {
-		_name = name;
-		_value = value;
-	}
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/OAuthHTTP.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/OAuthHTTP.java
deleted file mode 100644
index e730cb6..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/OAuthHTTP.java
+++ /dev/null
@@ -1,115 +0,0 @@
-package com.lollapaloozer.auth;
-
-import java.io.BufferedReader;
-import java.io.IOException;
-import java.io.InputStream;
-import java.io.InputStreamReader;
-import java.net.HttpURLConnection;
-import java.net.MalformedURLException;
-import java.net.URL;
-import java.util.ArrayList;
-import java.util.Vector;
-
-import org.json.JSONException;
-import org.json.JSONObject;
-import org.json.JSONTokener;
-
-import android.accounts.AccountManager;
-
-public class OAuthHTTP {
-
-	private URL _url;
-	private HttpURLConnection _urlConnection;
-	private JSONObject _JSONResult;
-	private ArrayList<NameValue> _reqProperties = new ArrayList<NameValue>();
-
-	public OAuthHTTP(String url) throws MalformedURLException {
-		_url = new URL(url);
-
-	}
-
-	public boolean execute() throws JSONException, IOException {
-		try {
-			_urlConnection = (HttpURLConnection) _url.openConnection();
-			System.out.println(_urlConnection.getURL());
-
-			for (NameValue nv : _reqProperties) {
-				_urlConnection.setRequestProperty(nv._name, nv._value);
-			}
-
-			_urlConnection.connect();
-			// Better way to do this?
-			_JSONResult = _parseJSONResponse(_urlConnection.getInputStream());
-			return true; // success
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			_JSONResult = _parseJSONResponse(_urlConnection.getErrorStream());
-			e.printStackTrace();
-			return false; // request completed without success
-		}
-	}
-
-	public boolean executeDebug() throws IOException {
-		try {
-			_urlConnection = (HttpURLConnection) _url.openConnection();
-			System.out.println(_urlConnection.getURL());
-
-			for (NameValue nv : _reqProperties) {
-				_urlConnection.setRequestProperty(nv._name, nv._value);
-			}
-
-			_urlConnection.connect();
-			// Better way to do this?
-
-			_readStream(_urlConnection.getInputStream(), true);
-			return true; // success
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			_readStream(_urlConnection.getErrorStream(), true);
-			e.printStackTrace();
-			return false; // request completed without success
-		}
-	}
-
-	public void setRequestProperty(String name, String value) {
-		_reqProperties.add(new NameValue(name, value));
-	}
-
-	public String getJSONResultString(String propertyName) throws JSONException {
-		return _JSONResult.getString(propertyName);
-	}
-
-	public boolean getJSONResultBoolean(String propertyName)
-			throws JSONException {
-		return _JSONResult.getBoolean(propertyName);
-	}
-
-	private JSONObject _parseJSONResponse(InputStream inputStream)
-			throws IOException, JSONException {
-		StringBuilder builder = _readStream(inputStream, true);
-
-		JSONTokener tokener = new JSONTokener(builder.toString());
-
-		// JSONArray finalResult = new JSONArray(tokener);
-		return new JSONObject(tokener);
-	}
-
-	private StringBuilder _readStream(InputStream inStream, boolean output)
-			throws IOException {
-		BufferedReader reader = new BufferedReader(new InputStreamReader(
-				inStream));
-		StringBuilder builder = new StringBuilder();
-
-		for (String line = null; (line = reader.readLine()) != null;) {
-			if (output) {
-				System.out.println(line);
-			}
-
-			builder.append(line).append("\n");
-		}
-		reader.close();
-		return builder;
-
-	}
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java
deleted file mode 100644
index 4af7d18..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java
+++ /dev/null
@@ -1,129 +0,0 @@
-package com.lollapaloozer.auth;
-
-import com.lollapaloozer.util.Constants;
-
-import android.app.Activity;
-import android.app.AlertDialog;
-import android.content.Intent;
-
-public class TwitterAuthDialogPresenter {
-
-	private Activity _activity;
-	private AlertDialog _alertDialog;
-	private String _requestTokenString;
-	private String _requestTokenVerifierString;
-
-	public TwitterAuthDialogPresenter(Activity activity) {
-		_activity = activity;
-	}
-
-	public void showDialog(String authUrl) {
-		Intent twitterAuthIntent = new Intent(_activity,
-				TwitterAuthWebpageActivity.class);
-		twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH,
-				authUrl);
-		_activity.startActivityForResult(twitterAuthIntent,
-				Constants.INTENT_REQ_TWITTER_LOGIN);
-	}
-
-	// Dialog implementation has been abandoned due to bugs in Android framework
-
-	// AlertDialog.Builder builder;
-	// builder = new AlertDialog.Builder(_activity);
-	// LayoutInflater inflater = (LayoutInflater)
-	// _activity.getSystemService(_activity.LAYOUT_INFLATER_SERVICE);
-	// final View layout = inflater.inflate(R.layout.twitter_auth_dialog,
-	// (ViewGroup) _activity.findViewById(R.id.layout_root));
-	// builder.setView(layout);
-
-	// _alertDialog = builder.create();
-
-	// ImageView close_dialog = (ImageView)
-	// layout.findViewById(R.id.imageView_custom_dialog_close);
-
-	// close_dialog.setOnClickListener(new View.OnClickListener() {
-	// public void onClick(View v) {
-	// _alertDialog.dismiss();
-	// }
-	// });
-
-	/*
-	 * final WebView webview = (WebView) layout.findViewById(R.id.webView1); //
-	 * webview = new WebView(this);
-	 * webview.getSettings().setJavaScriptEnabled(true);
-	 * webview.setVerticalScrollBarEnabled(false);
-	 * webview.setHorizontalScrollBarEnabled(false);
-	 * webview.setVisibility(View.VISIBLE);
-	 * 
-	 * System.out.println("webview requesting focus ("+ webview.hasFocus()+")");
-	 * webview.requestFocusFromTouch();
-	 * System.out.println("webview requested focus ("+ webview.hasFocus()+")");
-	 * 
-	 * webview.setOnTouchListener(new View.OnTouchListener() {
-	 * 
-	 * @Override public boolean onTouch(View v, MotionEvent event) { switch
-	 * (event.getAction()) { case MotionEvent.ACTION_DOWN:
-	 * System.out.println("MotionEvent Action Down"+ webview.hasFocus()); case
-	 * MotionEvent.ACTION_UP: System.out.println("MotionEvent Action Up"+
-	 * webview.hasFocus()); if (!v.hasFocus()) {
-	 * //webview.requestFocus(View.FOCUS_DOWN); v.requestFocusFromTouch(); }
-	 * 
-	 * if (v instanceof EditText) { System.out.println("EditText touched"); }
-	 * break; } return false; } });
-	 */
-	// webview.requestFocus(View.FOCUS_DOWN);
-	// webview.requestFocusFromTouch();
-	/*
-	 * webview.setWebViewClient(new WebViewClient() {
-	 * 
-	 * private boolean shown = false;
-	 * 
-	 * @Override public void onPageFinished(WebView view, String url) { if
-	 * (!shown) { System.out.println("onPageFinished showing dialog: " + url);
-	 * // _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
-	 * LayoutParams.FILL_PARENT); //todo try commenting this
-	 * 
-	 * //layout.requestFocus(View.FOCUS_DOWN);
-	 * 
-	 * 
-	 * //_alertDialog.show(); shown = true; _activity.setContentView(layout); }
-	 * }
-	 * 
-	 * @Override public void onPageStarted(WebView view, String url, Bitmap
-	 * favicon) { System.out.println("onPageStarted : " + url); Uri uri =
-	 * Uri.parse(url);
-	 * 
-	 * if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
-	 * System.out.println("Special callback URL was detected");
-	 * _requestTokenString = uri
-	 * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
-	 * _requestTokenVerifierString = uri
-	 * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
-	 * 
-	 * System.out.println("OAuth token: " + _requestTokenString);
-	 * System.out.println("OAuth verifier: " + _requestTokenVerifierString); //
-	 * webview.setVisibility(View.GONE); // webview.destroy();
-	 * _alertDialog.dismiss(); // maybe use OnCancelListener?
-	 * 
-	 * // todo MOVE OAUTH CODE
-	 * 
-	 * Verifier verifier = new Verifier(_requestTokenVerifierString); Token
-	 * accessToken = _service.getAccessToken(_requestToken, verifier); // the
-	 * requestToken you had from step 2 OAuthRequest request = new
-	 * OAuthRequest(Verb.GET,
-	 * "http://api.twitter.com/1/account/verify_credentials.xml" );
-	 * _service.signRequest(accessToken, request); // the access // token from
-	 * // step 4 Response response = request.send();
-	 * 
-	 * System.out.println(response.getBody());
-	 * 
-	 * } }
-	 * 
-	 * });
-	 */
-	// webview.requestFocus(View.FOCUS_DOWN);
-	// _alertDialog.show();
-
-	// webview.loadUrl(authUrl);
-
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java
deleted file mode 100644
index 155d0bb..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java
+++ /dev/null
@@ -1,173 +0,0 @@
-package com.lollapaloozer.auth;
-
-import java.util.ArrayList;
-import java.util.HashMap;
-
-import org.scribe.model.Response;
-import org.scribe.model.Verb;
-
-import android.app.Activity;
-import android.content.Intent;
-
-import com.lollapaloozer.util.Constants;
-import com.lollapaloozer.util.Helper;
-
-public class TwitterAuthProvider implements AuthProvider {
-	private AuthDemoActivity _activity;
-
-	private TwitterAuthProviderOAuth _oAuthProvider;
-	private HashMap<String, String> _twitterAccountProperties;
-	private ArrayList<String> _twitterAccountPropertyNames;
-	private boolean _isLoggedIn;
-
-	private final String ACCOUNT_PROPERTY_ID = "id";
-	private final String ACCOUNT_PROPERTY_NAME = "name";
-	private final String ACCOUNT_PROPERTY_HANDLE = "screen_name";
-
-	// private String _key;
-	// private String _secret;
-	// Consumer key yit4Mu71Mj93eNILUo3uCw
-	// Consumer secret rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI
-
-	public TwitterAuthProvider(AuthDemoActivity activity) {
-		_activity = activity;
-		_oAuthProvider = new TwitterAuthProviderOAuth(Constants.CONSUMER_KEY,
-				Constants.CONSUMER_SECRET, Constants.OAUTH_CALLBACK_URL);
-		_twitterAccountPropertyNames = new ArrayList<String>();
-		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_ID);
-		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_NAME);
-		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_HANDLE);
-		_isLoggedIn = false;
-	}
-
-	// //This does work, although it launches the device browser directly
-	// @Override
-	// public void login() {
-	// try {
-	// CommonsHttpOAuthConsumer consumer = new CommonsHttpOAuthConsumer(_key,
-	// _secret);
-	// DefaultOAuthProvider provider = new
-	// DefaultOAuthProvider("https://twitter.com/oauth/request_token",
-	// "https://twitter.com/oauth/access_token",
-	// "https://twitter.com/oauth/authorize");
-	// String authUrl = provider.retrieveRequestToken(consumer,
-	// "http://callback_url"); //todo fix this
-	// Toast.makeText(_activity, "Please authorize this app!",
-	// Toast.LENGTH_LONG).show();
-	// //setConsumerProvider();
-	// _activity.startActivity(new Intent(Intent.ACTION_VIEW,
-	// Uri.parse(authUrl)));
-	// } catch (Exception e) {
-	// Toast.makeText(_activity, e.getMessage(), Toast.LENGTH_LONG).show();
-	// }
-	// }
-
-	// //Copied from library example page, this could not be made to work
-	// @Override
-	// public void login() {
-	// TwitterFactory factory = new TwitterFactory();
-	// Twitter twitter = factory.getInstance();
-	//
-	// RequestToken requestToken;
-	// try {
-	// twitter.setOAuthConsumer("_key", "_secret");
-	// requestToken = twitter.getOAuthRequestToken(); //throws TwitterException
-	// System.out.println("Open the following URL and grant access to your account:");
-	// System.out.println(requestToken.getAuthorizationURL());
-	//
-	//
-	// //twitter.setOAuthAccessToken(accessToken);
-	//
-	//
-	//
-	// } catch (TwitterException e) {
-	// // TODO Auto-generated catch block
-	// int statusCode = e.getStatusCode();
-	// String exceptionCode = e.getExceptionCode();
-	// String exceptionMessage = e.getMessage();
-	// e.printStackTrace();
-	// }
-	//
-	// }
-
-	@Override
-	public boolean isLoggedIn() {
-		return _isLoggedIn;
-	}
-
-	@Override
-	public void login() {
-		String authReqTokenUrl = _oAuthProvider.getRequestTokenUrl();
-		TwitterAuthDialogPresenter twitterAuthDialog = new TwitterAuthDialogPresenter(
-				_activity);
-		twitterAuthDialog.showDialog(authReqTokenUrl);
-
-	}
-
-	@Override
-	public void logout() {
-		_isLoggedIn = false;
-	}
-
-	@Override
-	public String getAccountType() {
-		return "twitter (custom implementation)";
-	}
-
-	@Override
-	public String getLocalAccountName() {
-		return _twitterAccountProperties.get(ACCOUNT_PROPERTY_HANDLE) + "("
-				+ _twitterAccountProperties.get(ACCOUNT_PROPERTY_NAME) + ")";
-	}
-
-	@Override
-	public String getVerifiedAccountIdentifier() {
-		// Not available through twitter
-		return _twitterAccountProperties.get(ACCOUNT_PROPERTY_ID);
-	}
-
-	@Override
-	public String getAuthToken() {
-		return _oAuthProvider.getAccessToken();
-	}
-
-	@Override
-	public void extendAccess() {
-		// TODO Auto-generated method stub
-
-	}
-
-	public void requestTokenCallback(int requestCode, int resultCode,
-			Intent data) {
-		if (resultCode == Activity.RESULT_OK) {
-			String token = data
-					.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN);
-			String verifier = data
-					.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_VERIFIER);
-			_oAuthProvider.requestTokenResult(token, verifier);
-		}
-
-		Response response = _oAuthProvider.accessResource(Verb.GET,
-				"http://api.twitter.com/1/account/verify_credentials.xml");
-		String responseBody = response.getBody();
-		// System.out.println(response.getBody());
-
-		_twitterAccountProperties = new HashMap<String, String>();
-
-		for (String s : _twitterAccountPropertyNames) {
-			_twitterAccountProperties.put(s,
-					Helper.readXmlProperty(s, responseBody));
-		}
-
-		// If data is meaningful, set logged in flag;
-		if (getLocalAccountName() != null
-				&& getVerifiedAccountIdentifier() != null) {
-			_isLoggedIn = true;
-			System.out.println("Twitter Authentication Successful");
-			_activity.modelChanged();
-		} else {
-			System.out.println("Twitter Authentication was not successful");
-		}
-	}
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
deleted file mode 100644
index 6f96ff5..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
+++ /dev/null
@@ -1,70 +0,0 @@
-package com.lollapaloozer.auth;
-
-import org.scribe.builder.ServiceBuilder;
-import org.scribe.builder.api.TwitterApi;
-import org.scribe.model.OAuthRequest;
-import org.scribe.model.Response;
-import org.scribe.model.Token;
-import org.scribe.model.Verb;
-import org.scribe.model.Verifier;
-import org.scribe.oauth.OAuthService;
-
-import android.graphics.Bitmap;
-import android.net.Uri;
-import android.view.View;
-import android.webkit.WebView;
-import android.webkit.WebViewClient;
-
-public class TwitterAuthProviderOAuth {
-
-	private OAuthService _service;
-	private Token _requestToken;
-	private Token _accessToken;
-	private String _consumerKey;
-	private String _consumerSecret;
-	private String _callbackUrl;
-
-	public TwitterAuthProviderOAuth(String consumerKey, String consumerSecret,
-			String callbackUrl) {
-		_consumerKey = consumerKey;
-		_consumerSecret = consumerSecret;
-		_callbackUrl = callbackUrl;
-	}
-
-	public String getRequestTokenUrl() {
-		_service = new ServiceBuilder().provider(TwitterApi.class)
-				.apiKey(_consumerKey).apiSecret(_consumerSecret)
-				.callback(_callbackUrl).build();
-		_requestToken = _service.getRequestToken();
-
-		String authUrl = _service.getAuthorizationUrl(_requestToken);
-		System.out.println("Twitter OAuth request token URL:" + authUrl);
-		return authUrl;
-	}
-
-	public void requestTokenResult(String token, String tokenVerify) {
-		Verifier verifier = new Verifier(tokenVerify);
-		_accessToken = _service.getAccessToken(_requestToken, verifier); // the
-																			// requestToken
-																			// you
-																			// had
-																			// from
-																			// step
-																			// 2
-																			// OAuthRequest
-																			// request
-
-	}
-
-	public Response accessResource(Verb httpVerb, String resourceUrl) {
-		OAuthRequest request = new OAuthRequest(httpVerb, resourceUrl);
-		_service.signRequest(_accessToken, request); // the access // token from
-														// // step 4 Response
-														// response =
-		return request.send();
-	}
-
-	public String getAccessToken() {
-		return _accessToken.getToken();
-	}
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java
deleted file mode 100644
index 102223c..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java
+++ /dev/null
@@ -1,112 +0,0 @@
-package com.lollapaloozer.auth;
-
-import com.lollapaloozer.R;
-import com.lollapaloozer.util.Constants;
-
-import android.app.Activity;
-import android.content.Intent;
-import android.graphics.Bitmap;
-import android.net.Uri;
-import android.os.Bundle;
-import android.view.MotionEvent;
-import android.view.View;
-import android.webkit.WebView;
-import android.webkit.WebViewClient;
-import android.widget.EditText;
-import android.widget.ImageView;
-
-public class TwitterAuthWebpageActivity extends Activity {
-
-	@Override
-	protected void onCreate(Bundle savedInstanceState) {
-		super.onCreate(savedInstanceState);
-		setContentView(R.layout.twitter_auth_dialog);
-
-		Intent callingIntent = getIntent();
-		String authUrl = callingIntent
-				.getStringExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH);
-
-		ImageView close_dialog = (ImageView) findViewById(R.id.imageView_custom_dialog_close);
-
-		close_dialog.setOnClickListener(new View.OnClickListener() {
-			public void onClick(View v) {
-				setResult(Activity.RESULT_CANCELED);
-				finish();
-			}
-		});
-
-		WebView webview = (WebView) findViewById(R.id.webView1);
-		// webview = new WebView(this);
-		webview.getSettings().setJavaScriptEnabled(true);
-		webview.setVerticalScrollBarEnabled(false);
-		webview.setHorizontalScrollBarEnabled(false);
-		webview.setVisibility(View.VISIBLE);
-
-		// System.out.println("webview requesting focus ("+
-		// webview.hasFocus()+")");
-		// webview.requestFocusFromTouch();
-		// System.out.println("webview requested focus ("+
-		// webview.hasFocus()+")");
-
-		webview.setWebViewClient(new WebViewClient() {
-
-			private boolean shown = false;
-			private String _requestTokenString;
-			private String _requestTokenVerifierString;
-
-			@Override
-			public void onPageFinished(WebView view, String url) {
-				// if (!shown) {
-				System.out.println("onPageFinished showing dialog: " + url);
-				// _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
-				// LayoutParams.FILL_PARENT); //todo try commenting this
-
-				// _alertDialog.show();
-				// shown = true;
-				// _activity.setContentView(layout);
-				// }
-			}
-
-			@Override
-			public void onPageStarted(WebView view, String url, Bitmap favicon) {
-				System.out.println("onPageStarted : " + url);
-				Uri uri = Uri.parse(url);
-
-				if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
-					System.out.println("Special callback URL was detected");
-					_requestTokenString = uri
-							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
-					_requestTokenVerifierString = uri
-							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
-
-					System.out.println("OAuth token: " + _requestTokenString);
-					System.out.println("OAuth verifier: "
-							+ _requestTokenVerifierString);
-					// webview.setVisibility(View.GONE);
-					// webview.destroy();
-
-					Intent resultIntent = new Intent();
-					resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN,
-							_requestTokenString);
-					resultIntent.putExtra(
-							Constants.INTENT_EXTRA_OAUTH1_VERIFIER,
-							_requestTokenVerifierString);
-					setResult(RESULT_OK, resultIntent);
-					finish();
-
-				}
-			}
-
-		});
-		// webview.requestFocus(View.FOCUS_DOWN);
-		// _alertDialog.show();
-		webview.loadUrl(authUrl);
-	}
-
-	@Override
-	protected void onResume() {
-		// TODO Auto-generated method stub
-		super.onResume();
-	}
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoActivity.java
new file mode 100644
index 0000000..10ac074
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoActivity.java
@@ -0,0 +1,146 @@
+package com.lollapaloozer.auth.client;
+
+import com.lollapaloozer.R;
+import com.lollapaloozer.util.Constants;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.widget.TextView;
+
+public class AuthDemoActivity extends Activity implements OnClickListener {
+
+	// Framework
+	private TextView _loginStatusText;
+	private TextView _accountNameText;
+	private TextView _tokenIdText;
+
+	// App
+	private AuthDemoModel _model;
+
+	/** Called when the activity is first created. */
+	@Override
+	public void onCreate(Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
+		setContentView(R.layout.auth_choose);
+		System.out.println("OnCreate starting");
+
+		// Framework
+		_loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
+		_accountNameText = (TextView) this.findViewById(R.id.text_account_name);
+		_tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
+
+		this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
+		this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
+		this.findViewById(R.id.btn_login_google).setOnClickListener(this);
+		this.findViewById(R.id.btn_invalidate_tokens).setOnClickListener(this);
+
+		// App
+		_model = new AuthDemoModel(this);
+		_model.checkAccounts();
+		System.out.println("OnCreate complete");
+	}
+
+	@Override
+	protected void onResume() {
+		super.onResume();
+
+		AuthProvider currentProvider = _model.getCurrentAuthProvider();
+		if (currentProvider != null) {
+			currentProvider.extendAccess();
+		}
+
+		_updateUI();
+
+	}
+
+	@Override
+	public void onClick(View arg0) {
+		String buttonClickedName = this.getResources().getResourceEntryName(
+				arg0.getId());
+		System.out.println("Button Click: " + buttonClickedName);
+
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_login_google))) {
+			_model.loginToGoogle(); // UI Update done on callback
+		}
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_login_twitter))) {
+			_model.loginToTwitter();
+
+		}
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_login_facebook))) {
+			_model.loginToFacebook();
+
+		}
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_invalidate_tokens))) {
+			_model.invalidateTokens();
+			_updateUI();
+		}
+	}
+
+	private void _updateUI() {
+
+		if (_model.isLoggedIn()) {
+			AuthProvider currentProvider = _model.getCurrentAuthProvider();
+			_setLoginStatus(currentProvider.getAccountType());
+			_accountNameText.setText("Account: "
+					+ currentProvider.getLocalAccountName() + "\r\n"
+					+ currentProvider.getAccountType()
+					+ " confirms you are the owner of "
+					+ currentProvider.getVerifiedAccountIdentifier());
+			_tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
+		} else {
+			_setLoginStatus("Not Logged In");
+			_accountNameText.setText("");
+			_tokenIdText.setText("");
+		}
+
+		if (this.findViewById(R.layout.auth_choose) != null) {
+			this.findViewById(R.layout.auth_choose).invalidate();
+		}
+
+	}
+
+	private void _setLoginStatus(String status) {
+		_loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
+	}
+
+	// For Facebook
+	@Override
+	public void onActivityResult(int requestCode, int resultCode, Intent data) {
+		super.onActivityResult(requestCode, resultCode, data);
+
+		System.out.println("onActivityResult(requestCode=[" + requestCode
+				+ "], resultCode=[" + resultCode + "]");
+
+		switch (requestCode) {
+		case Constants.INTENT_REQ_TWITTER_LOGIN:
+			_model.twitterAuthCallback(requestCode, resultCode, data);
+			break;
+		default:
+			System.out.println("onACtivityResult called with unknown values: "
+					+ requestCode + "," + resultCode);
+			_model.getFacebookObject().authorizeCallback(requestCode,
+					resultCode, data);
+			break;
+		}
+	}
+
+	public void modelChanged() {
+		// Run method in main UI thread
+		View v = findViewById(android.R.id.content);
+		v.post(new Runnable() {
+			public void run() {
+				_updateUI();
+			}
+		});
+
+		// _updateUI();
+	}
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
new file mode 100644
index 0000000..8af176c
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthDemoModel.java
@@ -0,0 +1,138 @@
+package com.lollapaloozer.auth.client;
+
+import java.io.BufferedReader;
+import java.io.FileNotFoundException;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.InputStreamReader;
+import java.net.HttpURLConnection;
+import java.net.MalformedURLException;
+import java.net.URL;
+import java.net.URLConnection;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+import org.json.JSONTokener;
+
+import com.facebook.android.DialogError;
+import com.facebook.android.Facebook;
+import com.facebook.android.FacebookError;
+import com.facebook.android.Facebook.DialogListener;
+
+import android.accounts.Account;
+import android.accounts.AccountManager;
+import android.accounts.AccountManagerCallback;
+import android.accounts.AccountManagerFuture;
+import android.accounts.AuthenticatorDescription;
+import android.accounts.AuthenticatorException;
+import android.accounts.OperationCanceledException;
+import android.app.Activity;
+import android.content.Intent;
+import android.os.Bundle;
+import android.util.Log;
+import android.util.Pair;
+
+public class AuthDemoModel {
+
+	private GoogleAuthProvider _authProviderGoogle;
+	private FacebookAuthProvider _authProviderFacebook;
+	private AuthDemoActivity _activity;
+
+	private String _verifiedAccountName = null;
+	private TwitterAuthProvider _authProviderTwitter;
+
+	public AuthDemoModel(AuthDemoActivity activity) {
+		_activity = activity;
+		_authProviderGoogle = new GoogleAuthProvider(_activity);
+		_authProviderFacebook = new FacebookAuthProvider(_activity);
+		_authProviderTwitter = new TwitterAuthProvider(_activity);
+	}
+
+	public boolean isLoggedIn() {
+		int numLogins = 0;
+		if (_authProviderGoogle.isLoggedIn()) {
+			numLogins++;
+		}
+
+		if (_authProviderFacebook.isLoggedIn()) {
+			numLogins++;
+		}
+
+		if (_authProviderTwitter.isLoggedIn()) {
+			numLogins++;
+		}
+
+		if (numLogins > 1) {
+			System.out
+					.println("WARNING: Multiple concurrent login types detected");
+		}
+
+		if (numLogins > 0) {
+			return true;
+		} else {
+			return false;
+		}
+	}
+
+	public AuthProvider getCurrentAuthProvider() {
+		if (_authProviderGoogle.isLoggedIn()) {
+			return _authProviderGoogle;
+		}
+
+		if (_authProviderFacebook.isLoggedIn()) {
+			return _authProviderFacebook;
+		}
+
+		if (_authProviderTwitter.isLoggedIn()) {
+			return _authProviderTwitter;
+		}
+
+		return null;
+	}
+
+	public void checkAccounts() {
+		AccountManager aMgr = AccountManager.get(_activity);
+
+		System.out
+				.println("Warning: The following requires permission GET_ACCOUNTS");
+		for (Account a : aMgr.getAccounts()) {
+			System.out.println(a.name + " " + a.type + " " + a.toString());
+		}
+
+		System.out.println("Installed Authenticators: ");
+		for (AuthenticatorDescription d : aMgr.getAuthenticatorTypes()) {
+			System.out.print(d.type);
+			System.out.print("/ ");
+		}
+		System.out.println();
+	}
+
+	public Facebook getFacebookObject() {
+		return _authProviderFacebook.getFacebookObject();
+	}
+
+	public void invalidateTokens() {
+		_authProviderGoogle.logout();
+		_authProviderFacebook.logout();
+		_authProviderTwitter.logout();
+	}
+
+	public void loginToGoogle() {
+		_authProviderGoogle.login();
+	}
+
+	public void loginToFacebook() {
+		_authProviderFacebook.login();
+	}
+
+	public void loginToTwitter() {
+		_authProviderTwitter.login();
+	}
+
+	public void twitterAuthCallback(int requestCode, int resultCode, Intent data) {
+		_authProviderTwitter
+				.requestTokenCallback(requestCode, resultCode, data);
+	}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthProvider.java
new file mode 100644
index 0000000..338a972
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/AuthProvider.java
@@ -0,0 +1,21 @@
+package com.lollapaloozer.auth.client;
+
+public interface AuthProvider {
+
+	public boolean isLoggedIn();
+
+	public void login();
+
+	public void logout();
+
+	public String getAccountType();
+
+	public String getLocalAccountName();
+
+	public String getVerifiedAccountIdentifier();
+
+	public String getAuthToken();
+
+	public void extendAccess();
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
new file mode 100644
index 0000000..4f7add3
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/FacebookAuthProvider.java
@@ -0,0 +1,191 @@
+package com.lollapaloozer.auth.client;
+
+import java.io.FileNotFoundException;
+import java.io.IOException;
+import java.net.MalformedURLException;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import android.os.Bundle;
+import android.util.Log;
+import android.widget.ProgressBar;
+
+import com.facebook.android.AsyncFacebookRunner;
+import com.facebook.android.AsyncFacebookRunner.RequestListener;
+import com.facebook.android.DialogError;
+import com.facebook.android.Facebook;
+import com.facebook.android.Facebook.DialogListener;
+import com.facebook.android.FacebookError;
+import com.facebook.android.Util;
+
+public class FacebookAuthProvider implements AuthProvider {
+
+	private AuthDemoActivity _activity;
+	private Facebook _facebook = new Facebook("186287061500005");
+	private AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(
+			_facebook);
+
+	private JSONObject _userInfo;
+
+	private FacebookAuthProvider() {
+	}
+
+	public FacebookAuthProvider(AuthDemoActivity activity) {
+		_activity = activity;
+	}
+
+	private void setLastInfoResponse(JSONObject json) {
+		_userInfo = json;
+	}
+
+	@Override
+	public boolean isLoggedIn() {
+		return _facebook.isSessionValid();
+	}
+
+	private void _getUserData() {
+		mAsyncRunner.request("me", new IDRequestListener());
+	}
+
+	@Override
+	public void login() {
+		_facebook.authorize(_activity, new String[] { "email" },
+				new DialogListener() {
+					@Override
+					public void onComplete(Bundle values) {
+						System.out
+								.println("Facebook authorization completed, token: "
+										+ _facebook.getAccessToken()
+										+ " valid until "
+										+ _facebook.getAccessExpires());
+						_getUserData();
+						// TODO should lock UI here
+					}
+
+					@Override
+					public void onFacebookError(FacebookError error) {
+						System.out
+								.println("Facebook platform error during authorization");
+					}
+
+					@Override
+					public void onError(DialogError e) {
+						System.out
+								.println("Error with facebook authorization dialog");
+					}
+
+					@Override
+					public void onCancel() {
+						System.out
+								.println("Facebook authorization dialog cancelled by user");
+					}
+				});
+
+	}
+
+	public Facebook getFacebookObject() {
+		return _facebook;
+	}
+
+	@Override
+	public void logout() {
+		try {
+			_facebook.logout(_activity);
+		} catch (MalformedURLException e) {
+			e.printStackTrace();
+		} catch (IOException e) {
+			e.printStackTrace();
+		}
+	}
+
+	@Override
+	public String getAccountType() {
+		return _facebook.getClass().toString();
+	}
+
+	@Override
+	public String getLocalAccountName() {
+		try {
+			return _userInfo.getString("name");
+		} catch (JSONException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		}
+		return null;
+	}
+
+	@Override
+	public String getVerifiedAccountIdentifier() {
+		try {
+			return _userInfo.getString("email");
+		} catch (JSONException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		}
+		return null;
+	}
+
+	@Override
+	public String getAuthToken() {
+		return _facebook.getAccessToken();
+	}
+
+	@Override
+	public void extendAccess() {
+		_facebook.extendAccessTokenIfNeeded(_activity, null);
+	}
+
+	private class IDRequestListener implements RequestListener {
+
+		private String TAG = "fbDemo";
+
+		@Override
+		public void onComplete(String response, Object state) {
+			try {
+
+				Log.d(TAG, "IDRequestONComplete");
+				Log.d(TAG, "Response: " + response.toString());
+				JSONObject json = Util.parseJson(response);
+				String userID = json.getString("id");
+				String userName = json.getString("name");
+				// fbEmail = json.getString("email");
+
+				System.out.println("Retrieved from Facebook userID[" + userID
+						+ "] username [" + userName + "]");
+				setLastInfoResponse(json);
+				_activity.modelChanged();
+
+			} catch (JSONException e) {
+				Log.d(TAG, "JSONException: " + e.getMessage());
+			} catch (FacebookError e) {
+				Log.d(TAG, "FacebookError: " + e.getMessage());
+			}
+			// TODO Unlock UI here
+		}
+
+		@Override
+		public void onIOException(IOException e, Object state) {
+			Log.d(TAG, "IOException: " + e.getMessage());
+		}
+
+		@Override
+		public void onFileNotFoundException(FileNotFoundException e,
+				Object state) {
+			Log.d(TAG, "FileNotFoundException: " + e.getMessage());
+		}
+
+		@Override
+		public void onMalformedURLException(MalformedURLException e,
+				Object state) {
+			Log.d(TAG, "MalformedURLException: " + e.getMessage());
+		}
+
+		@Override
+		public void onFacebookError(FacebookError e, Object state) {
+			Log.d(TAG, "FacebookError: " + e.getMessage());
+		}
+
+	}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
new file mode 100644
index 0000000..eb5a822
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/GoogleAuthProvider.java
@@ -0,0 +1,139 @@
+package com.lollapaloozer.auth.client;
+
+import java.io.IOException;
+import java.net.MalformedURLException;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import com.lollapaloozer.auth.verify.GoogleAuthVerifier;
+
+import android.accounts.AccountManager;
+import android.accounts.AccountManagerCallback;
+import android.accounts.AccountManagerFuture;
+import android.accounts.AuthenticatorException;
+import android.accounts.OperationCanceledException;
+import android.app.Activity;
+import android.os.Bundle;
+import android.util.Log;
+
+public class GoogleAuthProvider implements AuthProvider {
+
+	private final String ACCOUNT_TYPE_REQUESTED = "com.google";
+
+	private AuthDemoActivity _activity;
+	private Bundle _currentGoogleLoginTokenBundle = null;
+	private JSONObject _currentAuthResult;
+	private boolean _confirmedAuthorizedGoogle;
+	private String _verifiedAccountName = null;
+
+	private GoogleAuthProvider() {
+	}
+
+	public GoogleAuthProvider(AuthDemoActivity activity) {
+		_activity = activity;
+	}
+
+	@Override
+	public boolean isLoggedIn() {
+		return _confirmedAuthorizedGoogle;
+	}
+
+	@Override
+	public void login() {
+
+		System.out.println("Starting");
+		AccountManagerFuture<Bundle> bundleFuture = AccountManager.get(
+				_activity).getAuthTokenByFeatures(
+				ACCOUNT_TYPE_REQUESTED,
+				// "Manage your tasks"
+				// "https://www.googleapis.com/auth/userinfo.email"
+				// "https://www.googleapis.com/auth/userinfo.profile"
+				"oauth2:https://www.googleapis.com/auth/userinfo.email"
+				// "View your email address"
+				// "Steal all of your stuff"
+				, null, _activity, null, null,
+				new AccountManagerCallback<Bundle>() {
+
+					public void run(AccountManagerFuture<Bundle> future) {
+
+						try {
+							_currentGoogleLoginTokenBundle = future.getResult();
+							System.out
+									.println("Received token bundle from AccountManagerCallback");
+						} catch (OperationCanceledException e) {
+							Log.e("e", e.getMessage(), e);
+							System.out
+									.println("User appears to have denied auth request");
+						} catch (AuthenticatorException e) {
+							Log.e("e", e.getMessage(), e);
+						} catch (IOException e) {
+							Log.e("e", e.getMessage(), e);
+						}
+
+						for (String s : _currentGoogleLoginTokenBundle.keySet()) {
+							System.out.println("Found key/value: "
+									+ s
+									+ "="
+									+ _currentGoogleLoginTokenBundle
+											.getString(s));
+						}
+
+						if (_currentGoogleLoginTokenBundle
+								.containsKey(AccountManager.KEY_INTENT)) {
+							throw new RuntimeException("Unexpected Code Path");
+							// TODO return to account selection or something...
+						}
+
+						GoogleAuthVerifier googleVerifier = new GoogleAuthVerifier();
+						_confirmedAuthorizedGoogle = googleVerifier.verify(
+								_currentGoogleLoginTokenBundle
+										.getString(AccountManager.KEY_AUTHTOKEN),
+								getLocalAccountName());
+						_activity.modelChanged();
+					}
+				}, null);
+		System.out.println("Done with AccountManager call");
+	}
+
+	@Override
+	public void logout() {
+		if (_currentGoogleLoginTokenBundle != null) {
+			AccountManager aMgr = AccountManager.get(_activity);
+			aMgr.invalidateAuthToken(getAccountType(), getAuthToken());
+		}
+
+		// Wipe login status
+		_currentGoogleLoginTokenBundle = null;
+		_confirmedAuthorizedGoogle = false; // Not authenticated
+		_verifiedAccountName = null;
+	}
+
+	public String getAuthToken() {
+		return _currentGoogleLoginTokenBundle
+				.getString(AccountManager.KEY_AUTHTOKEN);
+	}
+
+	public String getAccountType() {
+		return _currentGoogleLoginTokenBundle
+				.getString(AccountManager.KEY_ACCOUNT_TYPE);
+	}
+
+	public String getLocalAccountName() {
+		return _currentGoogleLoginTokenBundle
+				.getString(AccountManager.KEY_ACCOUNT_NAME);
+	}
+
+	@Override
+	public String getVerifiedAccountIdentifier() {
+		return _verifiedAccountName;
+	}
+
+	@Override
+	public void extendAccess() {
+
+		System.out
+				.println("Activity resumed.  Not sure if google auth token is automatically extended.");
+	}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/NameValue.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/NameValue.java
new file mode 100644
index 0000000..ba063d4
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/NameValue.java
@@ -0,0 +1,12 @@
+package com.lollapaloozer.auth.client;
+
+public class NameValue {
+	public String _name;
+	public String _value;
+
+	public NameValue(String name, String value) {
+		_name = name;
+		_value = value;
+	}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/OAuthHTTP.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/OAuthHTTP.java
new file mode 100644
index 0000000..b7b3796
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/OAuthHTTP.java
@@ -0,0 +1,115 @@
+package com.lollapaloozer.auth.client;
+
+import java.io.BufferedReader;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.InputStreamReader;
+import java.net.HttpURLConnection;
+import java.net.MalformedURLException;
+import java.net.URL;
+import java.util.ArrayList;
+import java.util.Vector;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+import org.json.JSONTokener;
+
+import android.accounts.AccountManager;
+
+public class OAuthHTTP {
+
+	private URL _url;
+	private HttpURLConnection _urlConnection;
+	private JSONObject _JSONResult;
+	private ArrayList<NameValue> _reqProperties = new ArrayList<NameValue>();
+
+	public OAuthHTTP(String url) throws MalformedURLException {
+		_url = new URL(url);
+
+	}
+
+	public boolean execute() throws JSONException, IOException {
+		try {
+			_urlConnection = (HttpURLConnection) _url.openConnection();
+			System.out.println(_urlConnection.getURL());
+
+			for (NameValue nv : _reqProperties) {
+				_urlConnection.setRequestProperty(nv._name, nv._value);
+			}
+
+			_urlConnection.connect();
+			// Better way to do this?
+			_JSONResult = _parseJSONResponse(_urlConnection.getInputStream());
+			return true; // success
+		} catch (IOException e) {
+			// TODO Auto-generated catch block
+			_JSONResult = _parseJSONResponse(_urlConnection.getErrorStream());
+			e.printStackTrace();
+			return false; // request completed without success
+		}
+	}
+
+	public boolean executeDebug() throws IOException {
+		try {
+			_urlConnection = (HttpURLConnection) _url.openConnection();
+			System.out.println(_urlConnection.getURL());
+
+			for (NameValue nv : _reqProperties) {
+				_urlConnection.setRequestProperty(nv._name, nv._value);
+			}
+
+			_urlConnection.connect();
+			// Better way to do this?
+
+			_readStream(_urlConnection.getInputStream(), true);
+			return true; // success
+		} catch (IOException e) {
+			// TODO Auto-generated catch block
+			_readStream(_urlConnection.getErrorStream(), true);
+			e.printStackTrace();
+			return false; // request completed without success
+		}
+	}
+
+	public void setRequestProperty(String name, String value) {
+		_reqProperties.add(new NameValue(name, value));
+	}
+
+	public String getJSONResultString(String propertyName) throws JSONException {
+		return _JSONResult.getString(propertyName);
+	}
+
+	public boolean getJSONResultBoolean(String propertyName)
+			throws JSONException {
+		return _JSONResult.getBoolean(propertyName);
+	}
+
+	private JSONObject _parseJSONResponse(InputStream inputStream)
+			throws IOException, JSONException {
+		StringBuilder builder = _readStream(inputStream, true);
+
+		JSONTokener tokener = new JSONTokener(builder.toString());
+
+		// JSONArray finalResult = new JSONArray(tokener);
+		return new JSONObject(tokener);
+	}
+
+	private StringBuilder _readStream(InputStream inStream, boolean output)
+			throws IOException {
+		BufferedReader reader = new BufferedReader(new InputStreamReader(
+				inStream));
+		StringBuilder builder = new StringBuilder();
+
+		for (String line = null; (line = reader.readLine()) != null;) {
+			if (output) {
+				System.out.println(line);
+			}
+
+			builder.append(line).append("\n");
+		}
+		reader.close();
+		return builder;
+
+	}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
new file mode 100644
index 0000000..c1eb7ce
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthDialogPresenter.java
@@ -0,0 +1,129 @@
+package com.lollapaloozer.auth.client;
+
+import com.lollapaloozer.util.Constants;
+
+import android.app.Activity;
+import android.app.AlertDialog;
+import android.content.Intent;
+
+public class TwitterAuthDialogPresenter {
+
+	private Activity _activity;
+	private AlertDialog _alertDialog;
+	private String _requestTokenString;
+	private String _requestTokenVerifierString;
+
+	public TwitterAuthDialogPresenter(Activity activity) {
+		_activity = activity;
+	}
+
+	public void showDialog(String authUrl) {
+		Intent twitterAuthIntent = new Intent(_activity,
+				TwitterAuthWebpageActivity.class);
+		twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH,
+				authUrl);
+		_activity.startActivityForResult(twitterAuthIntent,
+				Constants.INTENT_REQ_TWITTER_LOGIN);
+	}
+
+	// Dialog implementation has been abandoned due to bugs in Android framework
+
+	// AlertDialog.Builder builder;
+	// builder = new AlertDialog.Builder(_activity);
+	// LayoutInflater inflater = (LayoutInflater)
+	// _activity.getSystemService(_activity.LAYOUT_INFLATER_SERVICE);
+	// final View layout = inflater.inflate(R.layout.twitter_auth_dialog,
+	// (ViewGroup) _activity.findViewById(R.id.layout_root));
+	// builder.setView(layout);
+
+	// _alertDialog = builder.create();
+
+	// ImageView close_dialog = (ImageView)
+	// layout.findViewById(R.id.imageView_custom_dialog_close);
+
+	// close_dialog.setOnClickListener(new View.OnClickListener() {
+	// public void onClick(View v) {
+	// _alertDialog.dismiss();
+	// }
+	// });
+
+	/*
+	 * final WebView webview = (WebView) layout.findViewById(R.id.webView1); //
+	 * webview = new WebView(this);
+	 * webview.getSettings().setJavaScriptEnabled(true);
+	 * webview.setVerticalScrollBarEnabled(false);
+	 * webview.setHorizontalScrollBarEnabled(false);
+	 * webview.setVisibility(View.VISIBLE);
+	 * 
+	 * System.out.println("webview requesting focus ("+ webview.hasFocus()+")");
+	 * webview.requestFocusFromTouch();
+	 * System.out.println("webview requested focus ("+ webview.hasFocus()+")");
+	 * 
+	 * webview.setOnTouchListener(new View.OnTouchListener() {
+	 * 
+	 * @Override public boolean onTouch(View v, MotionEvent event) { switch
+	 * (event.getAction()) { case MotionEvent.ACTION_DOWN:
+	 * System.out.println("MotionEvent Action Down"+ webview.hasFocus()); case
+	 * MotionEvent.ACTION_UP: System.out.println("MotionEvent Action Up"+
+	 * webview.hasFocus()); if (!v.hasFocus()) {
+	 * //webview.requestFocus(View.FOCUS_DOWN); v.requestFocusFromTouch(); }
+	 * 
+	 * if (v instanceof EditText) { System.out.println("EditText touched"); }
+	 * break; } return false; } });
+	 */
+	// webview.requestFocus(View.FOCUS_DOWN);
+	// webview.requestFocusFromTouch();
+	/*
+	 * webview.setWebViewClient(new WebViewClient() {
+	 * 
+	 * private boolean shown = false;
+	 * 
+	 * @Override public void onPageFinished(WebView view, String url) { if
+	 * (!shown) { System.out.println("onPageFinished showing dialog: " + url);
+	 * // _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
+	 * LayoutParams.FILL_PARENT); //todo try commenting this
+	 * 
+	 * //layout.requestFocus(View.FOCUS_DOWN);
+	 * 
+	 * 
+	 * //_alertDialog.show(); shown = true; _activity.setContentView(layout); }
+	 * }
+	 * 
+	 * @Override public void onPageStarted(WebView view, String url, Bitmap
+	 * favicon) { System.out.println("onPageStarted : " + url); Uri uri =
+	 * Uri.parse(url);
+	 * 
+	 * if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
+	 * System.out.println("Special callback URL was detected");
+	 * _requestTokenString = uri
+	 * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
+	 * _requestTokenVerifierString = uri
+	 * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
+	 * 
+	 * System.out.println("OAuth token: " + _requestTokenString);
+	 * System.out.println("OAuth verifier: " + _requestTokenVerifierString); //
+	 * webview.setVisibility(View.GONE); // webview.destroy();
+	 * _alertDialog.dismiss(); // maybe use OnCancelListener?
+	 * 
+	 * // todo MOVE OAUTH CODE
+	 * 
+	 * Verifier verifier = new Verifier(_requestTokenVerifierString); Token
+	 * accessToken = _service.getAccessToken(_requestToken, verifier); // the
+	 * requestToken you had from step 2 OAuthRequest request = new
+	 * OAuthRequest(Verb.GET,
+	 * "http://api.twitter.com/1/account/verify_credentials.xml" );
+	 * _service.signRequest(accessToken, request); // the access // token from
+	 * // step 4 Response response = request.send();
+	 * 
+	 * System.out.println(response.getBody());
+	 * 
+	 * } }
+	 * 
+	 * });
+	 */
+	// webview.requestFocus(View.FOCUS_DOWN);
+	// _alertDialog.show();
+
+	// webview.loadUrl(authUrl);
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
new file mode 100644
index 0000000..2f7cff3
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProvider.java
@@ -0,0 +1,173 @@
+package com.lollapaloozer.auth.client;
+
+import java.util.ArrayList;
+import java.util.HashMap;
+
+import org.scribe.model.Response;
+import org.scribe.model.Verb;
+
+import android.app.Activity;
+import android.content.Intent;
+
+import com.lollapaloozer.util.Constants;
+import com.lollapaloozer.util.Helper;
+
+public class TwitterAuthProvider implements AuthProvider {
+	private AuthDemoActivity _activity;
+
+	private TwitterAuthProviderOAuth _oAuthProvider;
+	private HashMap<String, String> _twitterAccountProperties;
+	private ArrayList<String> _twitterAccountPropertyNames;
+	private boolean _isLoggedIn;
+
+	private final String ACCOUNT_PROPERTY_ID = "id";
+	private final String ACCOUNT_PROPERTY_NAME = "name";
+	private final String ACCOUNT_PROPERTY_HANDLE = "screen_name";
+
+	// private String _key;
+	// private String _secret;
+	// Consumer key yit4Mu71Mj93eNILUo3uCw
+	// Consumer secret rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI
+
+	public TwitterAuthProvider(AuthDemoActivity activity) {
+		_activity = activity;
+		_oAuthProvider = new TwitterAuthProviderOAuth(Constants.CONSUMER_KEY,
+				Constants.CONSUMER_SECRET, Constants.OAUTH_CALLBACK_URL);
+		_twitterAccountPropertyNames = new ArrayList<String>();
+		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_ID);
+		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_NAME);
+		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_HANDLE);
+		_isLoggedIn = false;
+	}
+
+	// //This does work, although it launches the device browser directly
+	// @Override
+	// public void login() {
+	// try {
+	// CommonsHttpOAuthConsumer consumer = new CommonsHttpOAuthConsumer(_key,
+	// _secret);
+	// DefaultOAuthProvider provider = new
+	// DefaultOAuthProvider("https://twitter.com/oauth/request_token",
+	// "https://twitter.com/oauth/access_token",
+	// "https://twitter.com/oauth/authorize");
+	// String authUrl = provider.retrieveRequestToken(consumer,
+	// "http://callback_url"); //todo fix this
+	// Toast.makeText(_activity, "Please authorize this app!",
+	// Toast.LENGTH_LONG).show();
+	// //setConsumerProvider();
+	// _activity.startActivity(new Intent(Intent.ACTION_VIEW,
+	// Uri.parse(authUrl)));
+	// } catch (Exception e) {
+	// Toast.makeText(_activity, e.getMessage(), Toast.LENGTH_LONG).show();
+	// }
+	// }
+
+	// //Copied from library example page, this could not be made to work
+	// @Override
+	// public void login() {
+	// TwitterFactory factory = new TwitterFactory();
+	// Twitter twitter = factory.getInstance();
+	//
+	// RequestToken requestToken;
+	// try {
+	// twitter.setOAuthConsumer("_key", "_secret");
+	// requestToken = twitter.getOAuthRequestToken(); //throws TwitterException
+	// System.out.println("Open the following URL and grant access to your account:");
+	// System.out.println(requestToken.getAuthorizationURL());
+	//
+	//
+	// //twitter.setOAuthAccessToken(accessToken);
+	//
+	//
+	//
+	// } catch (TwitterException e) {
+	// // TODO Auto-generated catch block
+	// int statusCode = e.getStatusCode();
+	// String exceptionCode = e.getExceptionCode();
+	// String exceptionMessage = e.getMessage();
+	// e.printStackTrace();
+	// }
+	//
+	// }
+
+	@Override
+	public boolean isLoggedIn() {
+		return _isLoggedIn;
+	}
+
+	@Override
+	public void login() {
+		String authReqTokenUrl = _oAuthProvider.getRequestTokenUrl();
+		TwitterAuthDialogPresenter twitterAuthDialog = new TwitterAuthDialogPresenter(
+				_activity);
+		twitterAuthDialog.showDialog(authReqTokenUrl);
+
+	}
+
+	@Override
+	public void logout() {
+		_isLoggedIn = false;
+	}
+
+	@Override
+	public String getAccountType() {
+		return "twitter (custom implementation)";
+	}
+
+	@Override
+	public String getLocalAccountName() {
+		return _twitterAccountProperties.get(ACCOUNT_PROPERTY_HANDLE) + "("
+				+ _twitterAccountProperties.get(ACCOUNT_PROPERTY_NAME) + ")";
+	}
+
+	@Override
+	public String getVerifiedAccountIdentifier() {
+		// Not available through twitter
+		return _twitterAccountProperties.get(ACCOUNT_PROPERTY_ID);
+	}
+
+	@Override
+	public String getAuthToken() {
+		return _oAuthProvider.getAccessToken();
+	}
+
+	@Override
+	public void extendAccess() {
+		// TODO Auto-generated method stub
+
+	}
+
+	public void requestTokenCallback(int requestCode, int resultCode,
+			Intent data) {
+		if (resultCode == Activity.RESULT_OK) {
+			String token = data
+					.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN);
+			String verifier = data
+					.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_VERIFIER);
+			_oAuthProvider.requestTokenResult(token, verifier);
+		}
+
+		Response response = _oAuthProvider.accessResource(Verb.GET,
+				"http://api.twitter.com/1/account/verify_credentials.xml");
+		String responseBody = response.getBody();
+		// System.out.println(response.getBody());
+
+		_twitterAccountProperties = new HashMap<String, String>();
+
+		for (String s : _twitterAccountPropertyNames) {
+			_twitterAccountProperties.put(s,
+					Helper.readXmlProperty(s, responseBody));
+		}
+
+		// If data is meaningful, set logged in flag;
+		if (getLocalAccountName() != null
+				&& getVerifiedAccountIdentifier() != null) {
+			_isLoggedIn = true;
+			System.out.println("Twitter Authentication Successful");
+			_activity.modelChanged();
+		} else {
+			System.out.println("Twitter Authentication was not successful");
+		}
+	}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProviderOAuth.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProviderOAuth.java
new file mode 100644
index 0000000..8e1190e
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthProviderOAuth.java
@@ -0,0 +1,70 @@
+package com.lollapaloozer.auth.client;
+
+import org.scribe.builder.ServiceBuilder;
+import org.scribe.builder.api.TwitterApi;
+import org.scribe.model.OAuthRequest;
+import org.scribe.model.Response;
+import org.scribe.model.Token;
+import org.scribe.model.Verb;
+import org.scribe.model.Verifier;
+import org.scribe.oauth.OAuthService;
+
+import android.graphics.Bitmap;
+import android.net.Uri;
+import android.view.View;
+import android.webkit.WebView;
+import android.webkit.WebViewClient;
+
+public class TwitterAuthProviderOAuth {
+
+	private OAuthService _service;
+	private Token _requestToken;
+	private Token _accessToken;
+	private String _consumerKey;
+	private String _consumerSecret;
+	private String _callbackUrl;
+
+	public TwitterAuthProviderOAuth(String consumerKey, String consumerSecret,
+			String callbackUrl) {
+		_consumerKey = consumerKey;
+		_consumerSecret = consumerSecret;
+		_callbackUrl = callbackUrl;
+	}
+
+	public String getRequestTokenUrl() {
+		_service = new ServiceBuilder().provider(TwitterApi.class)
+				.apiKey(_consumerKey).apiSecret(_consumerSecret)
+				.callback(_callbackUrl).build();
+		_requestToken = _service.getRequestToken();
+
+		String authUrl = _service.getAuthorizationUrl(_requestToken);
+		System.out.println("Twitter OAuth request token URL:" + authUrl);
+		return authUrl;
+	}
+
+	public void requestTokenResult(String token, String tokenVerify) {
+		Verifier verifier = new Verifier(tokenVerify);
+		_accessToken = _service.getAccessToken(_requestToken, verifier); // the
+																			// requestToken
+																			// you
+																			// had
+																			// from
+																			// step
+																			// 2
+																			// OAuthRequest
+																			// request
+
+	}
+
+	public Response accessResource(Verb httpVerb, String resourceUrl) {
+		OAuthRequest request = new OAuthRequest(httpVerb, resourceUrl);
+		_service.signRequest(_accessToken, request); // the access // token from
+														// // step 4 Response
+														// response =
+		return request.send();
+	}
+
+	public String getAccessToken() {
+		return _accessToken.getToken();
+	}
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
new file mode 100644
index 0000000..828c8e1
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/client/TwitterAuthWebpageActivity.java
@@ -0,0 +1,112 @@
+package com.lollapaloozer.auth.client;
+
+import com.lollapaloozer.R;
+import com.lollapaloozer.util.Constants;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.graphics.Bitmap;
+import android.net.Uri;
+import android.os.Bundle;
+import android.view.MotionEvent;
+import android.view.View;
+import android.webkit.WebView;
+import android.webkit.WebViewClient;
+import android.widget.EditText;
+import android.widget.ImageView;
+
+public class TwitterAuthWebpageActivity extends Activity {
+
+	@Override
+	protected void onCreate(Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
+		setContentView(R.layout.twitter_auth_dialog);
+
+		Intent callingIntent = getIntent();
+		String authUrl = callingIntent
+				.getStringExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH);
+
+		ImageView close_dialog = (ImageView) findViewById(R.id.imageView_custom_dialog_close);
+
+		close_dialog.setOnClickListener(new View.OnClickListener() {
+			public void onClick(View v) {
+				setResult(Activity.RESULT_CANCELED);
+				finish();
+			}
+		});
+
+		WebView webview = (WebView) findViewById(R.id.webView1);
+		// webview = new WebView(this);
+		webview.getSettings().setJavaScriptEnabled(true);
+		webview.setVerticalScrollBarEnabled(false);
+		webview.setHorizontalScrollBarEnabled(false);
+		webview.setVisibility(View.VISIBLE);
+
+		// System.out.println("webview requesting focus ("+
+		// webview.hasFocus()+")");
+		// webview.requestFocusFromTouch();
+		// System.out.println("webview requested focus ("+
+		// webview.hasFocus()+")");
+
+		webview.setWebViewClient(new WebViewClient() {
+
+			private boolean shown = false;
+			private String _requestTokenString;
+			private String _requestTokenVerifierString;
+
+			@Override
+			public void onPageFinished(WebView view, String url) {
+				// if (!shown) {
+				System.out.println("onPageFinished showing dialog: " + url);
+				// _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
+				// LayoutParams.FILL_PARENT); //todo try commenting this
+
+				// _alertDialog.show();
+				// shown = true;
+				// _activity.setContentView(layout);
+				// }
+			}
+
+			@Override
+			public void onPageStarted(WebView view, String url, Bitmap favicon) {
+				System.out.println("onPageStarted : " + url);
+				Uri uri = Uri.parse(url);
+
+				if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
+					System.out.println("Special callback URL was detected");
+					_requestTokenString = uri
+							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
+					_requestTokenVerifierString = uri
+							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
+
+					System.out.println("OAuth token: " + _requestTokenString);
+					System.out.println("OAuth verifier: "
+							+ _requestTokenVerifierString);
+					// webview.setVisibility(View.GONE);
+					// webview.destroy();
+
+					Intent resultIntent = new Intent();
+					resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN,
+							_requestTokenString);
+					resultIntent.putExtra(
+							Constants.INTENT_EXTRA_OAUTH1_VERIFIER,
+							_requestTokenVerifierString);
+					setResult(RESULT_OK, resultIntent);
+					finish();
+
+				}
+			}
+
+		});
+		// webview.requestFocus(View.FOCUS_DOWN);
+		// _alertDialog.show();
+		webview.loadUrl(authUrl);
+	}
+
+	@Override
+	protected void onResume() {
+		// TODO Auto-generated method stub
+		super.onResume();
+	}
+
+}
87a277d3f8faeb77daa86c6580e8ab33b7c58468
diff --git a/Coacheller-AppEngine/shared/com/ratethisfest/shared/HttpConstants.java b/Coacheller-AppEngine/shared/com/ratethisfest/shared/HttpConstants.java
index 20ca5ee..a7bdfae 100644
--- a/Coacheller-AppEngine/shared/com/ratethisfest/shared/HttpConstants.java
+++ b/Coacheller-AppEngine/shared/com/ratethisfest/shared/HttpConstants.java
@@ -5,2 +5,2 @@ public class HttpConstants {
-  public static final String SERVER_URL_COACHELLER = "http://ratethisfest.appspot.com/coachellerServlet?";
-  public static final String SERVER_URL_LOLLAPALOOZER = "http://ratethisfest.appspot.com/lollapaloozerServlet?";
+  public static final String SERVER_URL_COACHELLER = "https://ratethisfest.appspot.com/coachellerServlet?";
+  public static final String SERVER_URL_LOLLAPALOOZER = "https://ratethisfest.appspot.com/lollapaloozerServlet?";
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
index 0c038ec..102c215 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/server/service/LollapaloozerServlet.java
@@ -3,0 +4,3 @@ import java.io.IOException;
+import java.util.ArrayList;
+import java.util.Collection;
+import java.util.Enumeration;
@@ -38,0 +42,14 @@ public class LollapaloozerServlet extends HttpServlet {
+    req.setCharacterEncoding("UTF-8");
+   
+
+    // Helpful in debugging
+    // String queryString = req.getQueryString();
+    //
+    // ArrayList<String> parameters = new ArrayList<String>();
+    // for (Enumeration<String> e = req.getParameterNames();
+    // e.hasMoreElements();) {
+    // String value = e.nextElement();
+    // parameters.add(value);
+    // }
+    
+    
@@ -46,0 +64,2 @@ public class LollapaloozerServlet extends HttpServlet {
+    
+
@@ -65,0 +85,3 @@ public class LollapaloozerServlet extends HttpServlet {
+    
+    
+    
diff --git a/Coacheller-AppEngine/war/WEB-INF/appengine-generated/datastore-indexes-auto.xml b/Coacheller-AppEngine/war/WEB-INF/appengine-generated/datastore-indexes-auto.xml
index 91ab7af..35c1605 100644
--- a/Coacheller-AppEngine/war/WEB-INF/appengine-generated/datastore-indexes-auto.xml
+++ b/Coacheller-AppEngine/war/WEB-INF/appengine-generated/datastore-indexes-auto.xml
@@ -1 +1 @@
-<!-- Indices written at Fri, 22 Jun 2012 02:05:59 UTC -->
+<!-- Indices written at Sun, 24 Jun 2012 08:37:18 UTC -->
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
index 95d2283..b2aa498 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
@@ -6,0 +7,2 @@ import java.io.UnsupportedEncodingException;
+import java.net.URLDecoder;
+import java.net.URLEncoder;
@@ -176 +178 @@ public class LollapaloozerServiceUtils {
-  public static String addRating(String email, String setId, String score, Context context)
+  public static String addRating(String email, String setId, String score, String comments, Context context)
@@ -180,20 +182,13 @@ public class LollapaloozerServiceUtils {
-      StringBuilder requestString = new StringBuilder();
-      requestString.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
-       requestString.append(HttpConstants.PARAM_EMAIL);
-       requestString.append("=");
-       requestString.append(email);
-       requestString.append("&");
-       requestString.append(HttpConstants.PARAM_SET_ID);
-       requestString.append("=");
-       requestString.append(setId);
-       requestString.append("&");
-       requestString.append(HttpConstants.PARAM_SCORE);
-       requestString.append("=");
-       requestString.append(score);
-       requestString.append("&");
-      requestString.append(HttpConstants.PARAM_ACTION);
-      requestString.append("=");
-      requestString.append(HttpConstants.ACTION_ADD_RATING);
-
-      LollapaloozerHelper.debug(context, "HTTPPost = " + requestString.toString());
-      HttpPost post = new HttpPost(requestString.toString());
+      StringBuilder requestStringb = new StringBuilder();
+      requestStringb.append(HttpConstants.SERVER_URL_LOLLAPALOOZER);
+       requestStringb.append(HttpConstants.PARAM_EMAIL).append("=").append(email);
+       requestStringb.append("&").append(HttpConstants.PARAM_SET_ID).append("=").append(URLEncoder.encode(setId));
+       requestStringb.append("&").append(HttpConstants.PARAM_SCORE).append("=").append(URLEncoder.encode(score));
+       requestStringb.append("&").append(HttpConstants.PARAM_NOTES).append("=").append(URLEncoder.encode(comments));
+       requestStringb.append("&").append(HttpConstants.PARAM_ACTION).append("=").append(URLEncoder.encode(HttpConstants.ACTION_ADD_RATING));
+       
+       String requestString =  requestStringb.toString();
+      
+      LollapaloozerHelper.debug(context, "HTTPPost = " + requestString);
+       
+      HttpPost post = new HttpPost(requestString);
@@ -205 +200 @@ public class LollapaloozerServiceUtils {
-      // params.setParameter(HttpConstants.PARAM_NOTES, notes);
+      params.setParameter(HttpConstants.PARAM_NOTES, comments);
@@ -208,0 +204 @@ public class LollapaloozerServiceUtils {
+      
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 76f63a2..e716993 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -173 +173,11 @@ public class LollapaloozerActivity extends Activity implements
-					doSubmitRating(_ratingSelectedScore + "");
+					String lastNote = "";
+					
+					try {
+						if (_lastRatings.has(QUERY_RATINGS__NOTES)) {
+							lastNote = _lastRatings.getString(QUERY_RATINGS__NOTES);
+						}
+							doSubmitRating(_lastRatings.get(QUERY_RATINGS__RATING)+"", lastNote);
+					} catch (JSONException e) {
+						// TODO Auto-generated catch block
+						e.printStackTrace();
+					}
@@ -396 +406 @@ public class LollapaloozerActivity extends Activity implements
-	public void doSubmitRating(String scoreSelectedValue) {
+	public void doSubmitRating(String scoreSelectedValue, String notes) {
@@ -400 +410,2 @@ public class LollapaloozerActivity extends Activity implements
-			String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
+			String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) +"";
+			
@@ -404 +415 @@ public class LollapaloozerActivity extends Activity implements
-					scoreSelectedValue, this);
+					scoreSelectedValue, notes, this);
@@ -409,7 +419,0 @@ public class LollapaloozerActivity extends Activity implements
-				JSONObject newObj = new JSONObject();
-				newObj.put(QUERY_RATINGS__SET_ID, set_id);
-				newObj.put(QUERY_RATINGS__WEEK, "1"); // TODO leave in
-														// hard-coded for
-														// now
-				newObj.put(QUERY_RATINGS__RATING, scoreSelectedValue);
-
@@ -418 +422 @@ public class LollapaloozerActivity extends Activity implements
-						QUERY_RATINGS__WEEK, newObj);
+						QUERY_RATINGS__WEEK, _lastRatings);
@@ -544,2 +548 @@ public class LollapaloozerActivity extends Activity implements
-			RadioGroup scoreGroup = (RadioGroup) _rateDialog
-					.findViewById(R.id.radio_pick_score);
+			RadioGroup scoreGroup = (RadioGroup) _rateDialog.findViewById(R.id.radio_pick_score);
@@ -549,2 +552 @@ public class LollapaloozerActivity extends Activity implements
-				Toast selectEverything = Toast.makeText(this,
-						"Please select a rating for this Set", 25);
+				Toast selectEverything = Toast.makeText(this, "Please select a rating for this Set", 25);
@@ -554,2 +556,2 @@ public class LollapaloozerActivity extends Activity implements
-				_ratingSelectedScore = _ratingSelectedIdToValue
-						.get(scoreSelectedId);
+				
+				//_ratingSelectedScore = _ratingSelectedIdToValue.get(scoreSelectedId);
@@ -557,2 +559 @@ public class LollapaloozerActivity extends Activity implements
-				LollapaloozerHelper.debug(this, "Score[" + _ratingSelectedScore
-						+ "] ScoreId[" + scoreSelectedId + "]");
+				//LollapaloozerHelper.debug(this, "Score[" + _ratingSelectedScore + "] ScoreId[" + scoreSelectedId + "]");
@@ -561,3 +562,30 @@ public class LollapaloozerActivity extends Activity implements
-				_rateDialog.dismiss();
-
-				launchSubmitRatingThread();
+				
+							String submittedRating = _ratingSelectedIdToValue.get(scoreGroup.getCheckedRadioButtonId()).toString();
+				
+				EditText noteWidget = (EditText) _rateDialog.findViewById(R.id.editText_commentsForSet);
+				String submittedNote =  noteWidget.getText().toString();
+				
+				
+				try {
+					if (_lastRatings == null) {
+						JSONObject newObj = new JSONObject();
+						newObj.put(QUERY_RATINGS__SET_ID, _lastItemSelected.get(QUERY_SETS__SET_ID));
+						newObj.put(QUERY_RATINGS__WEEK, "1"); // TODO leave in
+						// hard-coded for
+						// now
+						//newObj.put(QUERY_RATINGS__RATING, submittedRating);
+						//newObj.put(QUERY_RATINGS__NOTES, notes);
+						_lastRatings = newObj;
+					}
+		
+					_lastRatings.put(QUERY_RATINGS__RATING, submittedRating);
+					_lastRatings.put(QUERY_RATINGS__NOTES, submittedNote);
+					launchSubmitRatingThread();
+					_rateDialog.dismiss();
+				} catch (JSONException e) {
+					// TODO Auto-generated catch block
+					e.printStackTrace();
+				}
+				
+				
+						
8400a33627e18aa79277728cebdc78fb66f0b80e
diff --git a/Lollapaloozer-Android/res/layout/dialog_rate_set.xml b/Lollapaloozer-Android/res/layout/dialog_rate_set.xml
index 166d41d..f577732 100644
--- a/Lollapaloozer-Android/res/layout/dialog_rate_set.xml
+++ b/Lollapaloozer-Android/res/layout/dialog_rate_set.xml
@@ -37 +37 @@
-
+
@@ -41 +41 @@
-        android:layout_height="70dp"
+        android:layout_height="wrap_content"
@@ -102,0 +103,13 @@
+
+    <EditText
+        android:id="@+id/editText_commentsForSet"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:ems="10"
+        android:hint="Write any comments here"
+        android:inputType="textMultiLine"
+        android:singleLine="false" android:maxLines="4" android:scrollbars="vertical">
+
+        <requestFocus />
+
+    </EditText>
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
index c67a9e7..95d2283 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
@@ -182,12 +182,12 @@ public class LollapaloozerServiceUtils {
-      // requestString.append(HttpConstants.PARAM_EMAIL);
-      // requestString.append("=");
-      // requestString.append(email);
-      // requestString.append("&");
-      // requestString.append(HttpConstants.PARAM_SET_ID);
-      // requestString.append("=");
-      // requestString.append(setId);
-      // requestString.append("&");
-      // requestString.append(HttpConstants.PARAM_SCORE);
-      // requestString.append("=");
-      // requestString.append(score);
-      // requestString.append("&");
+       requestString.append(HttpConstants.PARAM_EMAIL);
+       requestString.append("=");
+       requestString.append(email);
+       requestString.append("&");
+       requestString.append(HttpConstants.PARAM_SET_ID);
+       requestString.append("=");
+       requestString.append(setId);
+       requestString.append("&");
+       requestString.append(HttpConstants.PARAM_SCORE);
+       requestString.append("=");
+       requestString.append(score);
+       requestString.append("&");
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
index 1ff1f72..4878354 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
@@ -163,3 +163,6 @@ public class CustomSetListAdapter implements ListAdapter {
-      String myNote = ratingsObjWk1.get(LollapaloozerActivity.QUERY_RATINGS__NOTES).toString();
-      LollapaloozerHelper.debug(_context, "Found note: "+ myNote);
-      
+      String myNote = "";
+      if (ratingsObjWk1 != null && ratingsObjWk1.has(LollapaloozerActivity.QUERY_RATINGS__NOTES)) {
+    	  myNote = ratingsObjWk1.get(LollapaloozerActivity.QUERY_RATINGS__NOTES).toString();
+    	  LollapaloozerHelper.debug(_context, "Found note: "+ myNote);
+      }
+       
@@ -168,4 +171,3 @@ public class CustomSetListAdapter implements ListAdapter {
-      } else {
-    	  
-    	  if (myNote.length() > Constants.DATA_NOTE_MAX_LENGTH) {
-    		  
+      } else {	  
+    	  if (myNote.length() > Constants.DATA_NOTE_VISIBLE_MAX_LENGTH) {
+    		  myNote = myNote.substring(0, Constants.DATA_NOTE_VISIBLE_MAX_LENGTH) + "...";
@@ -175 +176,0 @@ public class CustomSetListAdapter implements ListAdapter {
-    	  
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 6db7524..76f63a2 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -24,0 +25 @@ import android.widget.ListView;
+import android.widget.RadioButton;
@@ -91,2 +92,6 @@ public class LollapaloozerActivity extends Activity implements
-	private CustomPair<String, String> _lastRatings = new CustomPair<String, String>(
-			null, null);
+	// private CustomPair<String, String> _lastRatings = new CustomPair<String,
+	// String>(
+	// null, null);
+
+	private JSONObject _lastRatings;
+
@@ -212 +216,0 @@ public class LollapaloozerActivity extends Activity implements
-		
@@ -396 +400 @@ public class LollapaloozerActivity extends Activity implements
-			String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) +"";
+			String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
@@ -490 +494 @@ public class LollapaloozerActivity extends Activity implements
-		
+
@@ -493 +497 @@ public class LollapaloozerActivity extends Activity implements
-			_storageManager.putString(DATA_FIRST_USE, false+"");
+			_storageManager.putString(DATA_FIRST_USE, false + "");
@@ -496 +500 @@ public class LollapaloozerActivity extends Activity implements
-			_showClickToRate();  //display 'tap set to rate it' toast
+			_showClickToRate(); // display 'tap set to rate it' toast
@@ -498 +502 @@ public class LollapaloozerActivity extends Activity implements
-		
+
@@ -581,2 +584,0 @@ public class LollapaloozerActivity extends Activity implements
-		JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
-		_lastItemSelected = obj;
@@ -585,3 +587,2 @@ public class LollapaloozerActivity extends Activity implements
-			String setId = _lastItemSelected.getString(QUERY_SETS__SET_ID);
-			JSONObject lastRatingWeek1 = _myRatings_JAHM.getJSONObject(setId,
-					"1");
+			JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
+			_lastItemSelected = obj;
@@ -589,6 +590,2 @@ public class LollapaloozerActivity extends Activity implements
-			if (lastRatingWeek1 != null) {
-				_lastRatings.first = lastRatingWeek1
-						.getString(QUERY_RATINGS__RATING);
-			} else {
-				_lastRatings.first = null;
-			}
+			String setId = _lastItemSelected.getString(QUERY_SETS__SET_ID);
+			_lastRatings = _myRatings_JAHM.getJSONObject(setId, "1");
@@ -595,0 +593,2 @@ public class LollapaloozerActivity extends Activity implements
+			LollapaloozerHelper.debug(this, "You Clicked On: " + obj
+					+ " previous ratings " + _lastRatings);
@@ -601,3 +599,0 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerHelper.debug(this, "You Clicked On: " + obj
-				+ " previous ratings " + _lastRatings.first + "/"
-				+ _lastRatings.second);
@@ -644 +640,49 @@ public class LollapaloozerActivity extends Activity implements
-		}
+			// This checks the appropriate radio button based on the score set
+			// in _lastRatings
+			// _lastRatings is set by onItemClick not to be confused with
+			// onClick
+
+			RadioGroup scoreGroup = (RadioGroup) _rateDialog
+					.findViewById(R.id.radio_pick_score);
+			EditText noteWidget = (EditText) _rateDialog
+					.findViewById(R.id.editText_commentsForSet);
+			if (_lastRatings == null) {
+
+				scoreGroup.clearCheck();
+				noteWidget.setText("");
+
+				return; // Abandon if there is no previous data
+			}
+			try {
+				int selectedItemScore = _lastRatings
+						.getInt(QUERY_RATINGS__RATING);
+				int buttonIdToCheck;
+				buttonIdToCheck = _ratingSelectedScoreToId
+						.get(selectedItemScore + "");
+				scoreGroup.check(buttonIdToCheck);
+				// RadioButton buttonToCheck = (RadioButton) _rateDialog
+				// .findViewById(buttonIdToCheck);
+				// buttonToCheck.setChecked(true);
+
+			} catch (JSONException e) {
+				// TODO Auto-generated catch block
+				e.printStackTrace();
+			}
+
+			try {
+				// Ratings might not include notes
+				if (_lastRatings.has(QUERY_RATINGS__NOTES)) {
+					String selectedItemNote = _lastRatings
+							.getString(QUERY_RATINGS__NOTES);
+					noteWidget = (EditText) _rateDialog
+							.findViewById(R.id.editText_commentsForSet);
+					noteWidget.setText(selectedItemNote);
+				} else {
+					noteWidget.setText("");
+				}
+			} catch (JSONException e) {
+				// TODO Auto-generated catch block
+				e.printStackTrace();
+			}
+
+		} // end if rating dialog
@@ -784,37 +828,8 @@ public class LollapaloozerActivity extends Activity implements
-		// TODO should use switch
-		// RadioGroup scoreGroup = (RadioGroup)
-		// _rateDialog.findViewById(R.id.radio_pick_score);
-		// if (clickedGroup ==
-		// _rateDialog.findViewById(R.id.radio_pick_week)) {
-		//
-		// if (checkedId == R.id.radio_button_week1 && _lastRatings.first !=
-		// null) {
-		// int buttonIdToCheck =
-		// _ratingSelectedScoreToId.get(_lastRatings.first);
-		// RadioButton buttonToCheck = (RadioButton)
-		// _rateDialog.findViewById(buttonIdToCheck);
-		// buttonToCheck.setChecked(true);
-		//
-		// } else if (checkedId == R.id.radio_button_week2 &&
-		// _lastRatings.second !=
-		// null) {
-		// LollapaloozerHelper.debug(this, "Last Rating " +
-		// _lastRatings.second);
-		// int buttonIdToCheck =
-		// _ratingSelectedScoreToId.get(_lastRatings.second);
-		// LollapaloozerHelper.debug(this, "Button id to check " +
-		// buttonIdToCheck);
-		// RadioButton buttonToCheck = (RadioButton)
-		// _rateDialog.findViewById(buttonIdToCheck); // TODO
-		// // duplicate
-		// // code
-		// buttonToCheck.setChecked(true);
-		//
-		// } else { // Not sure what is selected, clear rating check
-		//
-		// scoreGroup.clearCheck();
-		// }
-		//
-		// scoreGroup.invalidate();
-		//
-		// }
+		// This is only useful when we want to act based on a user changing
+		// radio selection i.e. week1/week2.
+		RadioGroup scoreGroup = (RadioGroup) _rateDialog
+				.findViewById(R.id.radio_pick_score);
+
+		// Formerly used to select week, now always true
+		// if (clickedGroup == _rateDialog.findViewById(R.id.radio_pick_score))
+		// {
@@ -824 +839 @@ public class LollapaloozerActivity extends Activity implements
-}
\ No newline at end of file
+}
97c1ed232e7fec2c8e6c82a1d7207df4d874f54d
diff --git a/Lollapaloozer-Android/res/layout/first_use_dialog.xml b/Lollapaloozer-Android/res/layout/first_use_dialog.xml
new file mode 100644
index 0000000..cf245ba
--- /dev/null
+++ b/Lollapaloozer-Android/res/layout/first_use_dialog.xml
@@ -0,0 +1,35 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/RelativeLayout1"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent" >
+
+    <TextView
+        android:id="@+id/text_1"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_alignParentLeft="true"
+        android:layout_alignParentTop="true"
+        android:text="This Dialog only shows the first time the app is launched."
+        android:textAppearance="?android:attr/textAppearanceLarge" />
+
+    <TextView
+        android:id="@+id/text_2"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_alignParentLeft="true"
+        android:layout_below="@+id/text_1"
+        android:layout_marginTop="21dp"
+        android:text="It tells you all about what you can do with this awesome app, so you should read it."
+        android:textAppearance="?android:attr/textAppearanceLarge" />
+
+    <Button
+        android:id="@+id/button_firstuse_ok"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_below="@+id/text_2"
+        android:layout_centerHorizontal="true"
+        android:layout_marginTop="25dp"
+        android:text="- OK! -" />
+
+</RelativeLayout>
\ No newline at end of file
diff --git a/Lollapaloozer-Android/res/layout/row_set_info.xml b/Lollapaloozer-Android/res/layout/row_set_info.xml
index d1b6bf9..74743e3 100644
--- a/Lollapaloozer-Android/res/layout/row_set_info.xml
+++ b/Lollapaloozer-Android/res/layout/row_set_info.xml
@@ -64,0 +65,7 @@
+
+    <TextView
+        android:id="@+id/text_noteGoesHere"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="Note goes here"
+        android:textAppearance="?android:attr/textAppearanceLarge" />
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/Constants.java b/Lollapaloozer-Android/src/com/lollapaloozer/Constants.java
deleted file mode 100644
index e5691d0..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/Constants.java
+++ /dev/null
@@ -1,40 +0,0 @@
-package com.lollapaloozer;
-
-public class Constants {
-
-	// UI String
-	public static final String UI_STR_LOGIN_STATUS = "Login Status: ";
-
-	public static final String MSG_EMAIL_FORMAT = "Please enter your real email address.";
-	public static final String MSG_SIGNIN_REQUIRED = "Sign in so we can remember this for you.";
-
-	// User Authentication
-
-	public static final String CONSUMER_KEY = "yit4Mu71Mj93eNILUo3uCw";
-	public static final String CONSUMER_SECRET = "rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI";
-
-	public static final String REQUEST_URL = "https://api.twitter.com/oauth/request_token";
-	public static final String ACCESS_URL = "https://api.twitter.com/oauth/access_token";
-	public static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize";
-
-	public static final String OAUTH_CALLBACK_SCHEME = "http";
-	public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME
-			+ "://lollapaloozer.appspot.com/dummy"; // todo update this
-
-	// public static final String OAUTH_CALLBACK_SCHEME = "http";
-	// public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME +
-	// "://msnbc.com"; //todo update this
-
-	public static final String OAUTH_CALLBACK_PARAM_TOKEN = "oauth_token";
-	public static final String OAUTH_CALLBACK_PARAM_VERIFIER = "oauth_verifier";
-
-	public static final int DEFAULT_PORT_HTTP = 80;
-	public static final int DEFAULT_PORT_HTTPS = 443;
-	public static final String OAUTH_REQUEST_CONTENT_TYPE = "application/x-www-form-urlencoded";
-
-	public static final int INTENT_REQ_TWITTER_LOGIN = 1;
-	public static final String INTENT_EXTRA_ALIAS_TWITTER_AUTH = "intent.extra.twitter.auth";
-	public static final String INTENT_EXTRA_OAUTH1_TOKEN = "intent.extra.oauth1.token";
-	public static final String INTENT_EXTRA_OAUTH1_VERIFIER = "intent.extra.oauth1.verifier";
-
-}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java
deleted file mode 100644
index c2b7eee..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerApplication.java
+++ /dev/null
@@ -1,67 +0,0 @@
-package com.lollapaloozer;
-
-import java.util.Calendar;
-
-import android.app.Application;
-import android.content.Context;
-import android.util.Log;
-import android.widget.ArrayAdapter;
-import android.widget.Spinner;
-
-public class LollapaloozerApplication extends Application {
-
-  private static Calendar _cal;
-
-  public static void debug(Context context, String out) {
-    Log.d(context.getString(R.string.app_name), out);
-  }
-
-  /**
-   * populateSpinnerWithArray Populates dropdown boxes with options, based on
-   * string arrays.
-   * 
-   * @param spinner
-   * @param stringArrayResId
-   */
-  public static void populateSpinnerWithArray(Spinner spinner, int stringArrayResId) {
-    ArrayAdapter<String> adapter = new ArrayAdapter<String>(spinner.getContext(),
-        android.R.layout.simple_spinner_item, spinner.getContext().getResources()
-            .getStringArray(stringArrayResId));
-    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-    spinner.setAdapter(adapter);
-  }
-
-  public static void initCalendar() {
-    if (_cal == null) {
-      _cal = Calendar.getInstance();
-    }
-  }
-
-  public static int whatYearIsToday() {
-    initCalendar();
-    return _cal.get(Calendar.YEAR);
-  }
-
-  // App and Database use strings in English so this time it is better to do it
-  // this way:
-  public static String whatDayIsToday() {
-    initCalendar();
-    if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.SUNDAY) {
-      return "Sunday";
-    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY) {
-      return "Monday";
-    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY) {
-      return "Tuesday";
-    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.WEDNESDAY) {
-      return "Wednesday";
-    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.THURSDAY) {
-      return "Thursday";
-    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.FRIDAY) {
-      return "Friday";
-    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.SATURDAY) {
-      return "Saturday";
-    }
-    return "";
-  }
-
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
index 92b1992..8f16254 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerServiceUtils.java
@@ -20,0 +21 @@ import android.content.Context;
+import com.lollapaloozer.util.LollapaloozerHelper;
@@ -56 +57 @@ public class LollapaloozerServiceUtils {
-      LollapaloozerApplication.debug(context, "HTTPGet = " + requestString.toString());
+      LollapaloozerHelper.debug(context, "HTTPGet = " + requestString.toString());
@@ -63 +64 @@ public class LollapaloozerServiceUtils {
-        LollapaloozerApplication.debug(context, HTTP_SUCCESS);
+        LollapaloozerHelper.debug(context, HTTP_SUCCESS);
@@ -76 +77 @@ public class LollapaloozerServiceUtils {
-        LollapaloozerApplication.debug(context, HTTP_FAILURE
+        LollapaloozerHelper.debug(context, HTTP_FAILURE
@@ -124 +125 @@ public class LollapaloozerServiceUtils {
-      LollapaloozerApplication.debug(context, "HTTPGet = " + requestString.toString());
+      LollapaloozerHelper.debug(context, "HTTPGet = " + requestString.toString());
@@ -131 +132 @@ public class LollapaloozerServiceUtils {
-        LollapaloozerApplication.debug(context, HTTP_SUCCESS);
+        LollapaloozerHelper.debug(context, HTTP_SUCCESS);
@@ -144 +145 @@ public class LollapaloozerServiceUtils {
-        LollapaloozerApplication.debug(context, HTTP_FAILURE
+        LollapaloozerHelper.debug(context, HTTP_FAILURE
@@ -195 +196 @@ public class LollapaloozerServiceUtils {
-      LollapaloozerApplication.debug(context, "HTTPPost = " + requestString.toString());
+      LollapaloozerHelper.debug(context, "HTTPPost = " + requestString.toString());
@@ -202 +203 @@ public class LollapaloozerServiceUtils {
-        LollapaloozerApplication.debug(context, HTTP_SUCCESS);
+        LollapaloozerHelper.debug(context, HTTP_SUCCESS);
@@ -214 +215 @@ public class LollapaloozerServiceUtils {
-        LollapaloozerApplication.debug(context, HTTP_FAILURE
+        LollapaloozerHelper.debug(context, HTTP_FAILURE
@@ -246 +247 @@ public class LollapaloozerServiceUtils {
-      LollapaloozerApplication.debug(context, "HTTPPost = " + requestString.toString());
+      LollapaloozerHelper.debug(context, "HTTPPost = " + requestString.toString());
@@ -253 +254 @@ public class LollapaloozerServiceUtils {
-        LollapaloozerApplication.debug(context, HTTP_SUCCESS);
+        LollapaloozerHelper.debug(context, HTTP_SUCCESS);
@@ -265 +266 @@ public class LollapaloozerServiceUtils {
-        LollapaloozerApplication.debug(context, HTTP_FAILURE
+        LollapaloozerHelper.debug(context, HTTP_FAILURE
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java
index e2bfdae..bcbaa1d 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/LollapaloozerUIWorker.java
@@ -24 +24 @@ public class LollapaloozerUIWorker extends Thread {
-    LollapaloozerApplication.debug(this, "rebuildJAHM()");
+    LollapaloozerHelper.debug(this, "rebuildJAHM()");
@@ -33 +33 @@ public class LollapaloozerUIWorker extends Thread {
-        LollapaloozerApplication.debug(this,
+        LollapaloozerHelper.debug(this,
@@ -39 +39 @@ public class LollapaloozerUIWorker extends Thread {
-          LollapaloozerApplication.debug(this, "JSONException loading ratings from storage");
+          LollapaloozerHelper.debug(this, "JSONException loading ratings from storage");
@@ -49 +49 @@ public class LollapaloozerUIWorker extends Thread {
-          LollapaloozerApplication.debug(this, "Had to initialize ratings data JSONArray");
+          LollapaloozerHelper.debug(this, "Had to initialize ratings data JSONArray");
@@ -77 +77 @@ public class LollapaloozerUIWorker extends Thread {
-      LollapaloozerApplication.debug(this,
+      LollapaloozerHelper.debug(this,
@@ -83 +83 @@ public class LollapaloozerUIWorker extends Thread {
-      LollapaloozerApplication.debug(this, "Had to initialize set data JSONArray");
+      LollapaloozerHelper.debug(this, "Had to initialize set data JSONArray");
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java
index 0c9b80c..446c1c8 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java
@@ -3 +2,0 @@ package com.lollapaloozer.auth;
-import com.lollapaloozer.Constants;
@@ -4,0 +4 @@ import com.lollapaloozer.R;
+import com.lollapaloozer.util.Constants;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/Helper.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/Helper.java
deleted file mode 100644
index 64879cb..0000000
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/Helper.java
+++ /dev/null
@@ -1,19 +0,0 @@
-package com.lollapaloozer.auth;
-
-public class Helper {
-	public static String readXmlProperty(String propertyName, String xmlData) {
-		String xmlPropertyOpen = "<" + propertyName + ">";
-		String xmlPropertyClose = "</" + propertyName + ">";
-		int propertyOpenIndex = xmlData.indexOf(xmlPropertyOpen);
-		int propertyCloseIndex = xmlData.indexOf(xmlPropertyClose);
-		if (propertyOpenIndex == -1) {
-			System.out.println("Property not found in XML data");
-			return null;
-		} else if (propertyCloseIndex == -1) {
-			System.out.println("Property close tag not found in XML data");
-			return null;
-		}
-		return xmlData.substring(propertyOpenIndex + xmlPropertyOpen.length(),
-				propertyCloseIndex);
-	}
-}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java
index 2225a0e..4af7d18 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java
@@ -3 +3 @@ package com.lollapaloozer.auth;
-import com.lollapaloozer.Constants;
+import com.lollapaloozer.util.Constants;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java
index 5efe216..155d0bb 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java
@@ -12 +12,2 @@ import android.content.Intent;
-import com.lollapaloozer.Constants;
+import com.lollapaloozer.util.Constants;
+import com.lollapaloozer.util.Helper;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java
index 24d7e01..102223c 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java
@@ -3 +2,0 @@ package com.lollapaloozer.auth;
-import com.lollapaloozer.Constants;
@@ -4,0 +4 @@ import com.lollapaloozer.R;
+import com.lollapaloozer.util.Constants;
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java b/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
index a49b2f9..1ff1f72 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/data/CustomSetListAdapter.java
@@ -16,0 +17,2 @@ import com.lollapaloozer.ui.LollapaloozerActivity;
+import com.lollapaloozer.util.Constants;
+import com.lollapaloozer.util.LollapaloozerHelper;
@@ -33,0 +36 @@ public class CustomSetListAdapter implements ListAdapter {
+    public TextView myComment;
@@ -113,0 +117 @@ public class CustomSetListAdapter implements ListAdapter {
+      viewHolder.myComment = (TextView) rowView.findViewById(R.id.text_noteGoesHere);
@@ -117,0 +122 @@ public class CustomSetListAdapter implements ListAdapter {
+    	//Important to avoid crashes
@@ -156,0 +162,15 @@ public class CustomSetListAdapter implements ListAdapter {
+      
+      String myNote = ratingsObjWk1.get(LollapaloozerActivity.QUERY_RATINGS__NOTES).toString();
+      LollapaloozerHelper.debug(_context, "Found note: "+ myNote);
+      
+      if (myNote.equals("")) {
+    	  holder.myComment.setVisibility(View.GONE);
+      } else {
+    	  
+    	  if (myNote.length() > Constants.DATA_NOTE_MAX_LENGTH) {
+    		  
+    	  }
+    	  holder.myComment.setText(myNote);
+    	  holder.myComment.setVisibility(View.VISIBLE);
+    	  
+      }
@@ -159 +179 @@ public class CustomSetListAdapter implements ListAdapter {
-      // LollapaloozerApplication.debug(_context,"Artist["+
+      // LollapaloozerHelper.debug(_context,"Artist["+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
index 3549a8d..31015fe 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/ActivitySetsSearch.java
@@ -15 +14,0 @@ import android.widget.Toast;
-import com.lollapaloozer.LollapaloozerApplication;
@@ -16,0 +16 @@ import com.lollapaloozer.R;
+import com.lollapaloozer.util.LollapaloozerHelper;
@@ -27 +27 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-      LollapaloozerApplication.debug(this, "Search Sets Activity Launched");
+      LollapaloozerHelper.debug(this, "Search Sets Activity Launched");
@@ -37 +37 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-    LollapaloozerApplication.populateSpinnerWithArray(daySpinner, R.array.names_day);
+    LollapaloozerHelper.populateSpinnerWithArray(daySpinner, R.array.names_day);
@@ -42 +42 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        LollapaloozerApplication.debug(parent.getContext(),
+        LollapaloozerHelper.debug(parent.getContext(),
@@ -50 +50 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        LollapaloozerApplication.debug(parent.getContext(), "No Day Selected - Unexpected condition");
+        LollapaloozerHelper.debug(parent.getContext(), "No Day Selected - Unexpected condition");
@@ -81 +81 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-      LollapaloozerApplication.debug(this, "Search button pressed");
+      LollapaloozerHelper.debug(this, "Search button pressed");
@@ -99 +99 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-      LollapaloozerApplication.debug(this, "An unknown button was pressed - Unexpected");
+      LollapaloozerHelper.debug(this, "An unknown button was pressed - Unexpected");
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 28000aa..6db7524 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -31,2 +30,0 @@ import android.widget.Toast;
-import com.lollapaloozer.Constants;
-import com.lollapaloozer.LollapaloozerApplication;
@@ -39,0 +38,2 @@ import com.lollapaloozer.data.JSONArraySortMap;
+import com.lollapaloozer.util.Constants;
+import com.lollapaloozer.util.LollapaloozerHelper;
@@ -48,0 +49 @@ public class LollapaloozerActivity extends Activity implements
+	private static final int DIALOG_FIRST_USE = 4;
@@ -59,0 +61 @@ public class LollapaloozerActivity extends Activity implements
+	private static final String DATA_FIRST_USE = "DATA_FIRST_USE";
@@ -68,0 +71 @@ public class LollapaloozerActivity extends Activity implements
+	public static final String QUERY_RATINGS__NOTES = "notes";
@@ -80,3 +83,4 @@ public class LollapaloozerActivity extends Activity implements
-	private Dialog _lastRateDialog;
-	private Dialog _lastGetEmailDialog;
-	private Dialog _lastNetworkErrorDialog;
+	private Dialog _rateDialog;
+	private Dialog _getEmailDialog;
+	private Dialog _networkErrorDialog;
+	private Dialog _firstUseDialog;
@@ -107 +111 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this, "LollapaloozerActivity Launched");
+		LollapaloozerHelper.debug(this, "LollapaloozerActivity Launched");
@@ -140 +144 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.populateSpinnerWithArray(spinnerSortType,
+		LollapaloozerHelper.populateSpinnerWithArray(spinnerSortType,
@@ -144,2 +148,2 @@ public class LollapaloozerActivity extends Activity implements
-		_yearToQuery = LollapaloozerApplication.whatYearIsToday();
-		_dayToExamine = LollapaloozerApplication.whatDayIsToday();
+		_yearToQuery = LollapaloozerHelper.whatYearIsToday();
+		_dayToExamine = LollapaloozerHelper.whatDayIsToday();
@@ -186 +190 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this, "Data Refresh is complete");
+		LollapaloozerHelper.debug(this, "Data Refresh is complete");
@@ -201,0 +206,8 @@ public class LollapaloozerActivity extends Activity implements
+		String firstUse = _storageManager.getString("DATA_FIRST_USE");
+		if (firstUse == null || firstUse.equals("true")) {
+			showDialog(DIALOG_FIRST_USE);
+		} else {
+			_showClickToRate();
+		}
+		
+
@@ -205,0 +218,3 @@ public class LollapaloozerActivity extends Activity implements
+	}
+
+	private void _showClickToRate() {
@@ -217 +232 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this, "Using email: " + _obtained_email
+		LollapaloozerHelper.debug(this, "Using email: " + _obtained_email
@@ -224,3 +239,3 @@ public class LollapaloozerActivity extends Activity implements
-	 * private void initJAHM() { LollapaloozerApplication.debug(this,
-	 * "initJAHM()"); _myRatings_JAHM = new
-	 * JSONArrayHashMap(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK); }
+	 * private void initJAHM() { LollapaloozerHelper.debug(this, "initJAHM()");
+	 * _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID,
+	 * QUERY_RATINGS__WEEK); }
@@ -255 +270 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this, "Launching getData thread");
+		LollapaloozerHelper.debug(this, "Launching getData thread");
@@ -268 +283 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this, "getData thread launched");
+		LollapaloozerHelper.debug(this, "getData thread launched");
@@ -272 +287 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this, "Launching Rating thread");
+		LollapaloozerHelper.debug(this, "Launching Rating thread");
@@ -287 +302 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this, "Rating thread launched");
+		LollapaloozerHelper.debug(this, "Rating thread launched");
@@ -293 +308 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this, "rebuildJAHM()");
+		LollapaloozerHelper.debug(this, "rebuildJAHM()");
@@ -306 +321 @@ public class LollapaloozerActivity extends Activity implements
-				LollapaloozerApplication
+				LollapaloozerHelper
@@ -313 +328 @@ public class LollapaloozerActivity extends Activity implements
-					LollapaloozerApplication.debug(this,
+					LollapaloozerHelper.debug(this,
@@ -325 +340 @@ public class LollapaloozerActivity extends Activity implements
-					LollapaloozerApplication.debug(this,
+					LollapaloozerHelper.debug(this,
@@ -363 +378 @@ public class LollapaloozerActivity extends Activity implements
-			LollapaloozerApplication
+			LollapaloozerHelper
@@ -370 +385 @@ public class LollapaloozerActivity extends Activity implements
-			LollapaloozerApplication.debug(this,
+			LollapaloozerHelper.debug(this,
@@ -381 +396 @@ public class LollapaloozerActivity extends Activity implements
-			String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
+			String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) +"";
@@ -416 +431 @@ public class LollapaloozerActivity extends Activity implements
-			LollapaloozerApplication.debug(this, "Error submitting rating");
+			LollapaloozerHelper.debug(this, "Error submitting rating");
@@ -428,3 +443,2 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this,
-				"Search Type Spinner: Selected -> " + parent.getSelectedItem()
-						+ "(" + arg2 + ")");
+		LollapaloozerHelper.debug(this, "Search Type Spinner: Selected -> "
+				+ parent.getSelectedItem() + "(" + arg2 + ")");
@@ -446,2 +460 @@ public class LollapaloozerActivity extends Activity implements
-			LollapaloozerApplication.debug(this,
-					"JSONException re-sorting data");
+			LollapaloozerHelper.debug(this, "JSONException re-sorting data");
@@ -460 +473 @@ public class LollapaloozerActivity extends Activity implements
-			LollapaloozerApplication.debug(this, "Unexpected sort mode: "
+			LollapaloozerHelper.debug(this, "Unexpected sort mode: "
@@ -468,2 +481,2 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this,
-				"Search Type Spinner: Nothing Selected");
+		LollapaloozerHelper
+				.debug(this, "Search Type Spinner: Nothing Selected");
@@ -476,0 +490,9 @@ public class LollapaloozerActivity extends Activity implements
+		
+		// OK clicked on first use dialog
+		if (viewClicked.getId() == R.id.button_firstuse_ok) {
+			_storageManager.putString(DATA_FIRST_USE, false+"");
+			_storageManager.save();
+			_firstUseDialog.dismiss();
+			_showClickToRate();  //display 'tap set to rate it' toast
+		}
+		
@@ -479 +501 @@ public class LollapaloozerActivity extends Activity implements
-			EditText emailField = (EditText) _lastGetEmailDialog
+			EditText emailField = (EditText) _getEmailDialog
@@ -483,2 +505,2 @@ public class LollapaloozerActivity extends Activity implements
-			LollapaloozerApplication.debug(this,
-					"User provided email address: " + email);
+			LollapaloozerHelper.debug(this, "User provided email address: "
+					+ email);
@@ -498 +520 @@ public class LollapaloozerActivity extends Activity implements
-				_lastGetEmailDialog.dismiss();
+				_getEmailDialog.dismiss();
@@ -504 +526 @@ public class LollapaloozerActivity extends Activity implements
-			_lastGetEmailDialog.dismiss();
+			_getEmailDialog.dismiss();
@@ -518 +540 @@ public class LollapaloozerActivity extends Activity implements
-			RadioGroup scoreGroup = (RadioGroup) _lastRateDialog
+			RadioGroup scoreGroup = (RadioGroup) _rateDialog
@@ -531,3 +553,2 @@ public class LollapaloozerActivity extends Activity implements
-				LollapaloozerApplication.debug(this, "Score["
-						+ _ratingSelectedScore + "] ScoreId[" + scoreSelectedId
-						+ "]");
+				LollapaloozerHelper.debug(this, "Score[" + _ratingSelectedScore
+						+ "] ScoreId[" + scoreSelectedId + "]");
@@ -536 +557 @@ public class LollapaloozerActivity extends Activity implements
-				_lastRateDialog.dismiss();
+				_rateDialog.dismiss();
@@ -544 +565 @@ public class LollapaloozerActivity extends Activity implements
-			RadioGroup scoreGroup = (RadioGroup) _lastRateDialog
+			RadioGroup scoreGroup = (RadioGroup) _rateDialog
@@ -547 +568 @@ public class LollapaloozerActivity extends Activity implements
-			_lastRateDialog.dismiss();
+			_rateDialog.dismiss();
@@ -551 +572 @@ public class LollapaloozerActivity extends Activity implements
-			_lastNetworkErrorDialog.dismiss();
+			_networkErrorDialog.dismiss();
@@ -576 +597 @@ public class LollapaloozerActivity extends Activity implements
-			LollapaloozerApplication.debug(this,
+			LollapaloozerHelper.debug(this,
@@ -580 +601 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this, "You Clicked On: " + obj
+		LollapaloozerHelper.debug(this, "You Clicked On: " + obj
@@ -611 +632 @@ public class LollapaloozerActivity extends Activity implements
-			// _lastRateDialog.setTitle("Rate this Set!");
+			// _rateDialog.setTitle("Rate this Set!");
@@ -613 +634 @@ public class LollapaloozerActivity extends Activity implements
-				TextView subtitleText = (TextView) _lastRateDialog
+				TextView subtitleText = (TextView) _rateDialog
@@ -618 +639 @@ public class LollapaloozerActivity extends Activity implements
-				LollapaloozerApplication.debug(this,
+				LollapaloozerHelper.debug(this,
@@ -631,0 +653,10 @@ public class LollapaloozerActivity extends Activity implements
+		if (id == DIALOG_FIRST_USE) {
+			_firstUseDialog = new Dialog(this);
+			_firstUseDialog.setContentView(R.layout.first_use_dialog);
+			_firstUseDialog.setTitle(Constants.DIALOG_TITLE_FIRST_USE);
+
+			Button buttonOK = (Button) _firstUseDialog
+					.findViewById(R.id.button_firstuse_ok);
+			buttonOK.setOnClickListener(this);
+			return _firstUseDialog;
+		}
@@ -634,3 +665,3 @@ public class LollapaloozerActivity extends Activity implements
-			_lastGetEmailDialog = new Dialog(this);
-			_lastGetEmailDialog.setContentView(R.layout.get_email_address);
-			_lastGetEmailDialog.setTitle("Keep Track of Everything");
+			_getEmailDialog = new Dialog(this);
+			_getEmailDialog.setContentView(R.layout.get_email_address);
+			_getEmailDialog.setTitle(Constants.DIALOG_TITLE_GET_EMAIL);
@@ -638 +669 @@ public class LollapaloozerActivity extends Activity implements
-			EditText emailField = (EditText) _lastGetEmailDialog
+			EditText emailField = (EditText) _getEmailDialog
@@ -641 +672 @@ public class LollapaloozerActivity extends Activity implements
-			Button buttonOK = (Button) _lastGetEmailDialog
+			Button buttonOK = (Button) _getEmailDialog
@@ -645 +676 @@ public class LollapaloozerActivity extends Activity implements
-			Button buttonCancel = (Button) _lastGetEmailDialog
+			Button buttonCancel = (Button) _getEmailDialog
@@ -649 +680 @@ public class LollapaloozerActivity extends Activity implements
-			return _lastGetEmailDialog;
+			return _getEmailDialog;
@@ -653,3 +684,3 @@ public class LollapaloozerActivity extends Activity implements
-			_lastRateDialog = new Dialog(this);
-			_lastRateDialog.setContentView(R.layout.dialog_rate_set);
-			_lastRateDialog.setTitle("Rate This Set!");
+			_rateDialog = new Dialog(this);
+			_rateDialog.setContentView(R.layout.dialog_rate_set);
+			_rateDialog.setTitle("Rate This Set!");
@@ -657 +688 @@ public class LollapaloozerActivity extends Activity implements
-			Button buttonOK = (Button) _lastRateDialog
+			Button buttonOK = (Button) _rateDialog
@@ -661 +692 @@ public class LollapaloozerActivity extends Activity implements
-			Button buttonCancel = (Button) _lastRateDialog
+			Button buttonCancel = (Button) _rateDialog
@@ -664 +695 @@ public class LollapaloozerActivity extends Activity implements
-			return _lastRateDialog;
+			return _rateDialog;
@@ -668,4 +699,3 @@ public class LollapaloozerActivity extends Activity implements
-			_lastNetworkErrorDialog = new Dialog(this);
-			_lastNetworkErrorDialog
-					.setContentView(R.layout.dialog_network_error);
-			_lastNetworkErrorDialog.setTitle("Network Error");
+			_networkErrorDialog = new Dialog(this);
+			_networkErrorDialog.setContentView(R.layout.dialog_network_error);
+			_networkErrorDialog.setTitle("Network Error");
@@ -673 +703 @@ public class LollapaloozerActivity extends Activity implements
-			Button buttonOK = (Button) _lastNetworkErrorDialog
+			Button buttonOK = (Button) _networkErrorDialog
@@ -676 +706 @@ public class LollapaloozerActivity extends Activity implements
-			return _lastNetworkErrorDialog;
+			return _networkErrorDialog;
@@ -703 +733 @@ public class LollapaloozerActivity extends Activity implements
-		LollapaloozerApplication.debug(this, "Searching day[" + day + "]");
+		LollapaloozerHelper.debug(this, "Searching day[" + day + "]");
@@ -719,2 +749 @@ public class LollapaloozerActivity extends Activity implements
-			LollapaloozerApplication.debug(this,
-					"Menu button 'email me' pressed");
+			LollapaloozerHelper.debug(this, "Menu button 'email me' pressed");
@@ -732 +761 @@ public class LollapaloozerActivity extends Activity implements
-					LollapaloozerApplication.debug(this,
+					LollapaloozerHelper.debug(this,
@@ -740 +769 @@ public class LollapaloozerActivity extends Activity implements
-			LollapaloozerApplication.debug(this,
+			LollapaloozerHelper.debug(this,
@@ -757 +786 @@ public class LollapaloozerActivity extends Activity implements
-		// _lastRateDialog.findViewById(R.id.radio_pick_score);
+		// _rateDialog.findViewById(R.id.radio_pick_score);
@@ -759 +788 @@ public class LollapaloozerActivity extends Activity implements
-		// _lastRateDialog.findViewById(R.id.radio_pick_week)) {
+		// _rateDialog.findViewById(R.id.radio_pick_week)) {
@@ -766 +795 @@ public class LollapaloozerActivity extends Activity implements
-		// _lastRateDialog.findViewById(buttonIdToCheck);
+		// _rateDialog.findViewById(buttonIdToCheck);
@@ -772 +801 @@ public class LollapaloozerActivity extends Activity implements
-		// LollapaloozerApplication.debug(this, "Last Rating " +
+		// LollapaloozerHelper.debug(this, "Last Rating " +
@@ -776 +805 @@ public class LollapaloozerActivity extends Activity implements
-		// LollapaloozerApplication.debug(this, "Button id to check " +
+		// LollapaloozerHelper.debug(this, "Button id to check " +
@@ -779 +808 @@ public class LollapaloozerActivity extends Activity implements
-		// _lastRateDialog.findViewById(buttonIdToCheck); // TODO
+		// _rateDialog.findViewById(buttonIdToCheck); // TODO
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/util/Constants.java b/Lollapaloozer-Android/src/com/lollapaloozer/util/Constants.java
new file mode 100644
index 0000000..3fa38a3
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/util/Constants.java
@@ -0,0 +1,47 @@
+package com.lollapaloozer.util;
+
+public class Constants {
+	
+	//Data
+	public static final int DATA_NOTE_VISIBLE_MAX_LENGTH = 140;
+
+	// UI String
+	public static final String UI_STR_LOGIN_STATUS = "Login Status: ";
+
+	public static final String MSG_EMAIL_FORMAT = "Please enter your real email address.";
+	public static final String MSG_SIGNIN_REQUIRED = "Sign in so we can remember this for you.";
+	
+	public static final String DIALOG_TITLE_GET_EMAIL = "Keep Track of Everything";
+	public static final String DIALOG_TITLE_FIRST_USE = "Welcome, Fellow Lollapaloozer";
+
+	// User Authentication
+
+	public static final String CONSUMER_KEY = "yit4Mu71Mj93eNILUo3uCw";
+	public static final String CONSUMER_SECRET = "rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI";
+
+	public static final String REQUEST_URL = "https://api.twitter.com/oauth/request_token";
+	public static final String ACCESS_URL = "https://api.twitter.com/oauth/access_token";
+	public static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize";
+
+	public static final String OAUTH_CALLBACK_SCHEME = "http";
+	public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME
+			+ "://lollapaloozer.appspot.com/dummy"; // todo update this
+
+	// public static final String OAUTH_CALLBACK_SCHEME = "http";
+	// public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME +
+	// "://msnbc.com"; //todo update this
+
+	public static final String OAUTH_CALLBACK_PARAM_TOKEN = "oauth_token";
+	public static final String OAUTH_CALLBACK_PARAM_VERIFIER = "oauth_verifier";
+
+	public static final int DEFAULT_PORT_HTTP = 80;
+	public static final int DEFAULT_PORT_HTTPS = 443;
+	public static final String OAUTH_REQUEST_CONTENT_TYPE = "application/x-www-form-urlencoded";
+
+	public static final int INTENT_REQ_TWITTER_LOGIN = 1;
+	public static final String INTENT_EXTRA_ALIAS_TWITTER_AUTH = "intent.extra.twitter.auth";
+	public static final String INTENT_EXTRA_OAUTH1_TOKEN = "intent.extra.oauth1.token";
+	public static final String INTENT_EXTRA_OAUTH1_VERIFIER = "intent.extra.oauth1.verifier";
+
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/util/Helper.java b/Lollapaloozer-Android/src/com/lollapaloozer/util/Helper.java
new file mode 100644
index 0000000..a4017ca
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/util/Helper.java
@@ -0,0 +1,19 @@
+package com.lollapaloozer.util;
+
+public class Helper {
+	public static String readXmlProperty(String propertyName, String xmlData) {
+		String xmlPropertyOpen = "<" + propertyName + ">";
+		String xmlPropertyClose = "</" + propertyName + ">";
+		int propertyOpenIndex = xmlData.indexOf(xmlPropertyOpen);
+		int propertyCloseIndex = xmlData.indexOf(xmlPropertyClose);
+		if (propertyOpenIndex == -1) {
+			System.out.println("Property not found in XML data");
+			return null;
+		} else if (propertyCloseIndex == -1) {
+			System.out.println("Property close tag not found in XML data");
+			return null;
+		}
+		return xmlData.substring(propertyOpenIndex + xmlPropertyOpen.length(),
+				propertyCloseIndex);
+	}
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/util/LollapaloozerHelper.java b/Lollapaloozer-Android/src/com/lollapaloozer/util/LollapaloozerHelper.java
new file mode 100644
index 0000000..f95b5f7
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/util/LollapaloozerHelper.java
@@ -0,0 +1,70 @@
+package com.lollapaloozer.util;
+
+import java.util.Calendar;
+
+import com.lollapaloozer.R;
+import com.lollapaloozer.R.string;
+
+import android.app.Application;
+import android.content.Context;
+import android.util.Log;
+import android.widget.ArrayAdapter;
+import android.widget.Spinner;
+
+public class LollapaloozerHelper extends Application {
+
+  private static Calendar _cal;
+
+  public static void debug(Context context, String out) {
+    Log.d(context.getString(R.string.app_name), out);
+  }
+
+  /**
+   * populateSpinnerWithArray Populates dropdown boxes with options, based on
+   * string arrays.
+   * 
+   * @param spinner
+   * @param stringArrayResId
+   */
+  public static void populateSpinnerWithArray(Spinner spinner, int stringArrayResId) {
+    ArrayAdapter<String> adapter = new ArrayAdapter<String>(spinner.getContext(),
+        android.R.layout.simple_spinner_item, spinner.getContext().getResources()
+            .getStringArray(stringArrayResId));
+    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+    spinner.setAdapter(adapter);
+  }
+
+  public static void initCalendar() {
+    if (_cal == null) {
+      _cal = Calendar.getInstance();
+    }
+  }
+
+  public static int whatYearIsToday() {
+    initCalendar();
+    return _cal.get(Calendar.YEAR);
+  }
+
+  // App and Database use strings in English so this time it is better to do it
+  // this way:
+  public static String whatDayIsToday() {
+    initCalendar();
+    if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.SUNDAY) {
+      return "Sunday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY) {
+      return "Monday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY) {
+      return "Tuesday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.WEDNESDAY) {
+      return "Wednesday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.THURSDAY) {
+      return "Thursday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.FRIDAY) {
+      return "Friday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.SATURDAY) {
+      return "Saturday";
+    }
+    return "";
+  }
+
+}
6261ee3ffc170979757a8b69ef47cd52273cd3a9
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java
index f850551..0c9b80c 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java
@@ -3 +2,0 @@ package com.lollapaloozer.auth;
-
@@ -14 +12,0 @@ import android.widget.TextView;
-
@@ -16,2 +14,2 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-	
-	//Framework
+
+	// Framework
@@ -21,2 +19,2 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-	
-	//App
+
+	// App
@@ -24,25 +22,23 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-	
-	
-    /** Called when the activity is first created. */
-    @Override
-    public void onCreate(Bundle savedInstanceState) {
-        super.onCreate(savedInstanceState);
-        setContentView(R.layout.auth_choose);
-        System.out.println("OnCreate starting");
-        
-        //Framework	
-        _loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
-        _accountNameText = (TextView) this.findViewById(R.id.text_account_name);
-        _tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
-        
-        this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
-        this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
-        this.findViewById(R.id.btn_login_google).setOnClickListener(this);
-        this.findViewById(R.id.btn_invalidate_tokens).setOnClickListener(this);
-
-        
-        //App
-        _model = new AuthDemoModel(this);
-        _model.checkAccounts();
-        System.out.println("OnCreate complete");
-    }
+
+	/** Called when the activity is first created. */
+	@Override
+	public void onCreate(Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
+		setContentView(R.layout.auth_choose);
+		System.out.println("OnCreate starting");
+
+		// Framework
+		_loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
+		_accountNameText = (TextView) this.findViewById(R.id.text_account_name);
+		_tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
+
+		this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
+		this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
+		this.findViewById(R.id.btn_login_google).setOnClickListener(this);
+		this.findViewById(R.id.btn_invalidate_tokens).setOnClickListener(this);
+
+		// App
+		_model = new AuthDemoModel(this);
+		_model.checkAccounts();
+		System.out.println("OnCreate complete");
+	}
@@ -53 +49 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		
+
@@ -58 +54 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		
+
@@ -65,8 +61,10 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		String buttonClickedName = this.getResources().getResourceEntryName(arg0.getId());
-		System.out.println("Button Click: "+ buttonClickedName);
-		
-		
-		
-		if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_google))) {
-			_model.loginToGoogle();  //UI Update done on callback
-		} if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_twitter))) {
+		String buttonClickedName = this.getResources().getResourceEntryName(
+				arg0.getId());
+		System.out.println("Button Click: " + buttonClickedName);
+
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_login_google))) {
+			_model.loginToGoogle(); // UI Update done on callback
+		}
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_login_twitter))) {
@@ -74,2 +72,4 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		
-		} if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_facebook))) {
+
+		}
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_login_facebook))) {
@@ -77,2 +77,4 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-			
-		} if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_invalidate_tokens))) {
+
+		}
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(
+				R.id.btn_invalidate_tokens))) {
@@ -83 +85 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-	
+
@@ -85 +87 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		
+
@@ -89,2 +91,6 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-			_accountNameText.setText("Account: "+ currentProvider.getLocalAccountName() +"\r\n"+ currentProvider.getAccountType() +" confirms you are the owner of "+ currentProvider.getVerifiedAccountIdentifier());
-			_tokenIdText.setText("Token ID: "+ currentProvider.getAuthToken());
+			_accountNameText.setText("Account: "
+					+ currentProvider.getLocalAccountName() + "\r\n"
+					+ currentProvider.getAccountType()
+					+ " confirms you are the owner of "
+					+ currentProvider.getVerifiedAccountIdentifier());
+			_tokenIdText.setText("Token ID: " + currentProvider.getAuthToken());
@@ -96 +102 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		
+
@@ -100 +106 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		 	
+
@@ -102 +108 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-	
+
@@ -104 +110 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		_loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS +" "+ status);
+		_loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS + " " + status);
@@ -106,21 +112,22 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-	
-	//For Facebook	
-    @Override
-    public void onActivityResult(int requestCode, int resultCode, Intent data) {
-    	super.onActivityResult(requestCode, resultCode, data);
-    	
-    	System.out.println("onActivityResult(requestCode=["+ requestCode +"], resultCode=["+ resultCode +"]");
-    	
-    	switch (requestCode) {
-    	case Constants.INTENT_REQ_TWITTER_LOGIN:
-    		_model.twitterAuthCallback(requestCode, resultCode, data);
-    		break;
-    	default:
-    		System.out.println("onACtivityResult called with unknown values: "+ requestCode +","+ resultCode);
-    		_model.getFacebookObject().authorizeCallback(requestCode, resultCode, data);
-    		break;
-    	}
-    }
-    
-    
-	
+
+	// For Facebook
+	@Override
+	public void onActivityResult(int requestCode, int resultCode, Intent data) {
+		super.onActivityResult(requestCode, resultCode, data);
+
+		System.out.println("onActivityResult(requestCode=[" + requestCode
+				+ "], resultCode=[" + resultCode + "]");
+
+		switch (requestCode) {
+		case Constants.INTENT_REQ_TWITTER_LOGIN:
+			_model.twitterAuthCallback(requestCode, resultCode, data);
+			break;
+		default:
+			System.out.println("onACtivityResult called with unknown values: "
+					+ requestCode + "," + resultCode);
+			_model.getFacebookObject().authorizeCallback(requestCode,
+					resultCode, data);
+			break;
+		}
+	}
+
@@ -128 +135 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		//Run method in main UI thread
+		// Run method in main UI thread
@@ -130 +137,5 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		v.post(new Runnable(){ public void run(){ _updateUI(); } });
+		v.post(new Runnable() {
+			public void run() {
+				_updateUI();
+			}
+		});
@@ -132 +143 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-		//_updateUI();
+		// _updateUI();
@@ -135,5 +145,0 @@ public class AuthDemoActivity extends Activity implements OnClickListener {
-	
-	
-	
-    
-    
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoModel.java
index 9616445..c65eb67 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoModel.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoModel.java
@@ -36,2 +35,0 @@ import android.util.Pair;
-
-
@@ -39 +37 @@ public class AuthDemoModel {
-	
+
@@ -43 +41 @@ public class AuthDemoModel {
-	
+
@@ -46,4 +44,2 @@ public class AuthDemoModel {
-	
-	
-	
-	public AuthDemoModel (AuthDemoActivity activity) {
+
+	public AuthDemoModel(AuthDemoActivity activity) {
@@ -55 +51 @@ public class AuthDemoModel {
-	
+
@@ -61 +57 @@ public class AuthDemoModel {
-		
+
@@ -65 +61 @@ public class AuthDemoModel {
-		
+
@@ -69 +65 @@ public class AuthDemoModel {
-		
+
@@ -71 +67,2 @@ public class AuthDemoModel {
-			System.out.println("WARNING: Multiple concurrent login types detected");
+			System.out
+					.println("WARNING: Multiple concurrent login types detected");
@@ -73 +70 @@ public class AuthDemoModel {
-		
+
@@ -80 +77 @@ public class AuthDemoModel {
-	
+
@@ -85 +82 @@ public class AuthDemoModel {
-		
+
@@ -89 +86 @@ public class AuthDemoModel {
-		
+
@@ -93 +90 @@ public class AuthDemoModel {
-		
+
@@ -99,4 +96,5 @@ public class AuthDemoModel {
-		
-		System.out.println("Warning: The following requires permission GET_ACCOUNTS");
-		for (Account a: aMgr.getAccounts()) {
-			System.out.println(a.name +" "+ a.type  +" "+ a.toString());
+
+		System.out
+				.println("Warning: The following requires permission GET_ACCOUNTS");
+		for (Account a : aMgr.getAccounts()) {
+			System.out.println(a.name + " " + a.type + " " + a.toString());
@@ -104 +102 @@ public class AuthDemoModel {
-		
+
@@ -112,4 +109,0 @@ public class AuthDemoModel {
-	
-	
-
-
@@ -120 +114 @@ public class AuthDemoModel {
-	
+
@@ -132 +126 @@ public class AuthDemoModel {
-		_authProviderFacebook.login();	
+		_authProviderFacebook.login();
@@ -138 +132 @@ public class AuthDemoModel {
-	
+
@@ -140 +134,2 @@ public class AuthDemoModel {
-		_authProviderTwitter.requestTokenCallback(requestCode, resultCode, data);
+		_authProviderTwitter
+				.requestTokenCallback(requestCode, resultCode, data);
@@ -143,2 +137,0 @@ public class AuthDemoModel {
-
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthProvider.java
index b9c5ddd..491ecf9 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthProvider.java
@@ -4 +4 @@ public interface AuthProvider {
-	
+
@@ -6 +6 @@ public interface AuthProvider {
-	
+
@@ -8 +8 @@ public interface AuthProvider {
-	
+
@@ -10 +10 @@ public interface AuthProvider {
-	
+
@@ -11,0 +12 @@ public interface AuthProvider {
+
@@ -12,0 +14 @@ public interface AuthProvider {
+
@@ -13,0 +16 @@ public interface AuthProvider {
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/FacebookAuthProvider.java
index a3ad566..97462d8 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/FacebookAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/FacebookAuthProvider.java
@@ -23 +23 @@ public class FacebookAuthProvider implements AuthProvider {
-	
+
@@ -26,2 +26,3 @@ public class FacebookAuthProvider implements AuthProvider {
-	private AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(_facebook);
-	
+	private AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(
+			_facebook);
+
@@ -30,3 +31,3 @@ public class FacebookAuthProvider implements AuthProvider {
-	
-	private FacebookAuthProvider() {}
-	
+	private FacebookAuthProvider() {
+	}
+
@@ -36 +37 @@ public class FacebookAuthProvider implements AuthProvider {
-	
+
@@ -40 +41 @@ public class FacebookAuthProvider implements AuthProvider {
-	
+
@@ -45,3 +46,3 @@ public class FacebookAuthProvider implements AuthProvider {
-	
-    private void _getUserData() {
-    	 mAsyncRunner.request("me", new IDRequestListener());	
+
+	private void _getUserData() {
+		mAsyncRunner.request("me", new IDRequestListener());
@@ -52,23 +53,31 @@ public class FacebookAuthProvider implements AuthProvider {
-		_facebook.authorize(_activity, new String[] {"email"}, new DialogListener() {
-			@Override
-			public void onComplete(Bundle values) {
-				System.out.println("Facebook authorization completed, token: "+ _facebook.getAccessToken() +" valid until "+ _facebook.getAccessExpires());
-				_getUserData();
-				//TODO should lock UI here
-			}
-
-			@Override
-			public void onFacebookError(FacebookError error) {
-				System.out.println("Facebook platform error during authorization");
-			}
-
-			@Override
-			public void onError(DialogError e) {
-				System.out.println("Error with facebook authorization dialog");
-			}
-
-			@Override
-			public void onCancel() {
-				System.out.println("Facebook authorization dialog cancelled by user");
-			}
-		});
+		_facebook.authorize(_activity, new String[] { "email" },
+				new DialogListener() {
+					@Override
+					public void onComplete(Bundle values) {
+						System.out
+								.println("Facebook authorization completed, token: "
+										+ _facebook.getAccessToken()
+										+ " valid until "
+										+ _facebook.getAccessExpires());
+						_getUserData();
+						// TODO should lock UI here
+					}
+
+					@Override
+					public void onFacebookError(FacebookError error) {
+						System.out
+								.println("Facebook platform error during authorization");
+					}
+
+					@Override
+					public void onError(DialogError e) {
+						System.out
+								.println("Error with facebook authorization dialog");
+					}
+
+					@Override
+					public void onCancel() {
+						System.out
+								.println("Facebook authorization dialog cancelled by user");
+					}
+				});
@@ -77 +86 @@ public class FacebookAuthProvider implements AuthProvider {
-	
+
@@ -129,3 +138 @@ public class FacebookAuthProvider implements AuthProvider {
-	
-	
-	
+
@@ -133 +140 @@ public class FacebookAuthProvider implements AuthProvider {
-		
+
@@ -135 +142 @@ public class FacebookAuthProvider implements AuthProvider {
-		
+
@@ -139 +146 @@ public class FacebookAuthProvider implements AuthProvider {
-				
+
@@ -145,3 +152,4 @@ public class FacebookAuthProvider implements AuthProvider {
-				//fbEmail = json.getString("email");
-				
-				System.out.println("Retrieved from Facebook userID["+ userID +"] username ["+ userName +"]");
+				// fbEmail = json.getString("email");
+
+				System.out.println("Retrieved from Facebook userID[" + userID
+						+ "] username [" + userName + "]");
@@ -150,2 +158 @@ public class FacebookAuthProvider implements AuthProvider {
-				
-				
+
@@ -157 +164 @@ public class FacebookAuthProvider implements AuthProvider {
-			//TODO Unlock UI here
+			// TODO Unlock UI here
@@ -159,22 +165,0 @@ public class FacebookAuthProvider implements AuthProvider {
-		
-	@Override
-    public void onIOException(IOException e, Object state) {
-            Log.d(TAG, "IOException: " + e.getMessage());
-    }
-
-    @Override
-    public void onFileNotFoundException(FileNotFoundException e,
-                    Object state) {
-            Log.d(TAG, "FileNotFoundException: " + e.getMessage());
-    }
-
-    @Override
-    public void onMalformedURLException(MalformedURLException e,
-                    Object state) {
-            Log.d(TAG, "MalformedURLException: " + e.getMessage());
-    }
-
-    @Override
-    public void onFacebookError(FacebookError e, Object state) {
-            Log.d(TAG, "FacebookError: " + e.getMessage());
-    }
@@ -182 +167,23 @@ public class FacebookAuthProvider implements AuthProvider {
-}
+		@Override
+		public void onIOException(IOException e, Object state) {
+			Log.d(TAG, "IOException: " + e.getMessage());
+		}
+
+		@Override
+		public void onFileNotFoundException(FileNotFoundException e,
+				Object state) {
+			Log.d(TAG, "FileNotFoundException: " + e.getMessage());
+		}
+
+		@Override
+		public void onMalformedURLException(MalformedURLException e,
+				Object state) {
+			Log.d(TAG, "MalformedURLException: " + e.getMessage());
+		}
+
+		@Override
+		public void onFacebookError(FacebookError e, Object state) {
+			Log.d(TAG, "FacebookError: " + e.getMessage());
+		}
+
+	}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/GoogleAuthProvider.java
index 79e3926..f59720e 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/GoogleAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/GoogleAuthProvider.java
@@ -21 +21 @@ public class GoogleAuthProvider implements AuthProvider {
-	
+
@@ -27,5 +27,4 @@ public class GoogleAuthProvider implements AuthProvider {
-	
-	
-	
-	private GoogleAuthProvider() {}
-	
+
+	private GoogleAuthProvider() {
+	}
+
@@ -35,3 +34 @@ public class GoogleAuthProvider implements AuthProvider {
-	
-	
-	
+
@@ -43 +39,0 @@ public class GoogleAuthProvider implements AuthProvider {
-
@@ -46,39 +41,0 @@ public class GoogleAuthProvider implements AuthProvider {
-			
-			System.out.println("Starting");
-			AccountManagerFuture<Bundle> bundleFuture = 
-				AccountManager.get(_activity).getAuthTokenByFeatures(
-						ACCOUNT_TYPE_REQUESTED,
-						//"Manage your tasks"
-						//"https://www.googleapis.com/auth/userinfo.email"
-						//"https://www.googleapis.com/auth/userinfo.profile"
-						"oauth2:https://www.googleapis.com/auth/userinfo.email"
-						//"View your email address"
-						//"Steal all of your stuff"
-						, 
-						null, 
-						_activity, 
-						null, 
-						null, 
-						new AccountManagerCallback<Bundle>() {
-
-					          public void run(AccountManagerFuture<Bundle> future) {
-					            
-					            try {
-					              _currentGoogleLoginTokenBundle = future.getResult();
-					              System.out.println("Received token bundle from AccountManagerCallback");
-					            } catch (OperationCanceledException e) {
-					              Log.e("e", e.getMessage(), e);
-					              System.out.println("User appears to have denied auth request");
-					            } catch (AuthenticatorException e) {
-					              Log.e("e", e.getMessage(), e);
-					            } catch (IOException e) {
-					              Log.e("e", e.getMessage(), e);
-					            }
-					            _useBundle();
-					            _activity.modelChanged();
-					          }
-					        }, 
-					        null);
-			System.out.println("Done with AccountManager call");
-		}
-	
@@ -86 +43,35 @@ public class GoogleAuthProvider implements AuthProvider {
-	
+		System.out.println("Starting");
+		AccountManagerFuture<Bundle> bundleFuture = AccountManager.get(
+				_activity).getAuthTokenByFeatures(
+				ACCOUNT_TYPE_REQUESTED,
+				// "Manage your tasks"
+				// "https://www.googleapis.com/auth/userinfo.email"
+				// "https://www.googleapis.com/auth/userinfo.profile"
+				"oauth2:https://www.googleapis.com/auth/userinfo.email"
+				// "View your email address"
+				// "Steal all of your stuff"
+				, null, _activity, null, null,
+				new AccountManagerCallback<Bundle>() {
+
+					public void run(AccountManagerFuture<Bundle> future) {
+
+						try {
+							_currentGoogleLoginTokenBundle = future.getResult();
+							System.out
+									.println("Received token bundle from AccountManagerCallback");
+						} catch (OperationCanceledException e) {
+							Log.e("e", e.getMessage(), e);
+							System.out
+									.println("User appears to have denied auth request");
+						} catch (AuthenticatorException e) {
+							Log.e("e", e.getMessage(), e);
+						} catch (IOException e) {
+							Log.e("e", e.getMessage(), e);
+						}
+						_useBundle();
+						_activity.modelChanged();
+					}
+				}, null);
+		System.out.println("Done with AccountManager call");
+	}
+
@@ -88 +79 @@ public class GoogleAuthProvider implements AuthProvider {
-		
+
@@ -90 +81,2 @@ public class GoogleAuthProvider implements AuthProvider {
-			System.out.println("Found key/value: "+ s +"="+ _currentGoogleLoginTokenBundle.getString(s));
+			System.out.println("Found key/value: " + s + "="
+					+ _currentGoogleLoginTokenBundle.getString(s));
@@ -92,2 +84,3 @@ public class GoogleAuthProvider implements AuthProvider {
-		
-		if (_currentGoogleLoginTokenBundle.containsKey(AccountManager.KEY_INTENT)) {
+
+		if (_currentGoogleLoginTokenBundle
+				.containsKey(AccountManager.KEY_INTENT)) {
@@ -95 +88 @@ public class GoogleAuthProvider implements AuthProvider {
-			//TODO return to account selection or something...
+			// TODO return to account selection or something...
@@ -97,3 +90,3 @@ public class GoogleAuthProvider implements AuthProvider {
-		
-		//url = new URL("https://www.googleapis.com/oauth2/v2/userinfo");
-		
+
+		// url = new URL("https://www.googleapis.com/oauth2/v2/userinfo");
+
@@ -102,7 +95,14 @@ public class GoogleAuthProvider implements AuthProvider {
-			oauthreq = new OAuthHTTP("https://www.googleapis.com/oauth2/v1/userinfo?alt=json");
-			oauthreq.setRequestProperty("client_id", "253259340939.apps.googleusercontent.com");
-			oauthreq.setRequestProperty("client_secret", "3HqdJ51XXYc6Px83sZuJlfmI");
-			oauthreq.setRequestProperty("Authorization", "OAuth " + _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_AUTHTOKEN));
-			//conn.setRequestProperty("User-Agent","Mozilla/5.0 ( compatible ) ");
-			//conn.setRequestProperty("Accept","[star]/[star]");
-			
+			oauthreq = new OAuthHTTP(
+					"https://www.googleapis.com/oauth2/v1/userinfo?alt=json");
+			oauthreq.setRequestProperty("client_id",
+					"253259340939.apps.googleusercontent.com");
+			oauthreq.setRequestProperty("client_secret",
+					"3HqdJ51XXYc6Px83sZuJlfmI");
+			oauthreq.setRequestProperty(
+					"Authorization",
+					"OAuth "
+							+ _currentGoogleLoginTokenBundle
+									.getString(AccountManager.KEY_AUTHTOKEN));
+			// conn.setRequestProperty("User-Agent","Mozilla/5.0 ( compatible ) ");
+			// conn.setRequestProperty("Accept","[star]/[star]");
+
@@ -110 +110 @@ public class GoogleAuthProvider implements AuthProvider {
-			
+
@@ -112 +112,2 @@ public class GoogleAuthProvider implements AuthProvider {
-				_confirmedAuthorizedGoogle = oauthreq.getJSONResultBoolean("verified_email");
+				_confirmedAuthorizedGoogle = oauthreq
+						.getJSONResultBoolean("verified_email");
@@ -116 +117 @@ public class GoogleAuthProvider implements AuthProvider {
-				//TODO probably need to expire token
+				// TODO probably need to expire token
@@ -118 +119 @@ public class GoogleAuthProvider implements AuthProvider {
-			
+
@@ -134,2 +135,2 @@ public class GoogleAuthProvider implements AuthProvider {
-		
-		//Wipe login status
+
+		// Wipe login status
@@ -137 +138 @@ public class GoogleAuthProvider implements AuthProvider {
-		_confirmedAuthorizedGoogle = false; //Not authenticated
+		_confirmedAuthorizedGoogle = false; // Not authenticated
@@ -140 +141 @@ public class GoogleAuthProvider implements AuthProvider {
-	
+
@@ -142 +143,2 @@ public class GoogleAuthProvider implements AuthProvider {
-		return _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_AUTHTOKEN);
+		return _currentGoogleLoginTokenBundle
+				.getString(AccountManager.KEY_AUTHTOKEN);
@@ -143,0 +146 @@ public class GoogleAuthProvider implements AuthProvider {
+
@@ -145 +148,2 @@ public class GoogleAuthProvider implements AuthProvider {
-		return _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_ACCOUNT_TYPE);
+		return _currentGoogleLoginTokenBundle
+				.getString(AccountManager.KEY_ACCOUNT_TYPE);
@@ -147 +151 @@ public class GoogleAuthProvider implements AuthProvider {
-	
+
@@ -149 +153,2 @@ public class GoogleAuthProvider implements AuthProvider {
-		return _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_ACCOUNT_NAME);
+		return _currentGoogleLoginTokenBundle
+				.getString(AccountManager.KEY_ACCOUNT_NAME);
@@ -159,2 +164,3 @@ public class GoogleAuthProvider implements AuthProvider {
-		
-		System.out.println("Activity resumed.  Not sure if google auth token is automatically extended.");
+
+		System.out
+				.println("Activity resumed.  Not sure if google auth token is automatically extended.");
@@ -162 +167,0 @@ public class GoogleAuthProvider implements AuthProvider {
-	
@@ -164,2 +168,0 @@ public class GoogleAuthProvider implements AuthProvider {
-	
-	
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/Helper.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/Helper.java
index 0089bea..64879cb 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/Helper.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/Helper.java
@@ -5,2 +5,2 @@ public class Helper {
-		String xmlPropertyOpen = "<"+ propertyName +">";
-		String xmlPropertyClose = "</"+ propertyName +">";
+		String xmlPropertyOpen = "<" + propertyName + ">";
+		String xmlPropertyClose = "</" + propertyName + ">";
@@ -15,2 +15,3 @@ public class Helper {
-		} 
-		return xmlData.substring(propertyOpenIndex+xmlPropertyOpen.length(), propertyCloseIndex);
+		}
+		return xmlData.substring(propertyOpenIndex + xmlPropertyOpen.length(),
+				propertyCloseIndex);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/NameValue.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/NameValue.java
index 46b5364..6e113d1 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/NameValue.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/NameValue.java
@@ -6 +6 @@ public class NameValue {
-	
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/OAuthHTTP.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/OAuthHTTP.java
index 69585de..e730cb6 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/OAuthHTTP.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/OAuthHTTP.java
@@ -17,3 +16,0 @@ import org.json.JSONTokener;
-
-
-
@@ -23 +20 @@ public class OAuthHTTP {
-	
+
@@ -28 +25 @@ public class OAuthHTTP {
-	
+
@@ -31 +28 @@ public class OAuthHTTP {
-		
+
@@ -33 +30 @@ public class OAuthHTTP {
-	
+
@@ -38 +35 @@ public class OAuthHTTP {
-			
+
@@ -42 +39 @@ public class OAuthHTTP {
-			
+
@@ -44 +41 @@ public class OAuthHTTP {
-			//Better way to do this?
+			// Better way to do this?
@@ -46 +43 @@ public class OAuthHTTP {
-			return true; //success
+			return true; // success
@@ -51 +48 @@ public class OAuthHTTP {
-			return false; //request completed without success	
+			return false; // request completed without success
@@ -59 +56 @@ public class OAuthHTTP {
-			
+
@@ -63 +60 @@ public class OAuthHTTP {
-			
+
@@ -65 +62 @@ public class OAuthHTTP {
-			//Better way to do this?
+			// Better way to do this?
@@ -68 +65 @@ public class OAuthHTTP {
-			return true; //success
+			return true; // success
@@ -73 +70 @@ public class OAuthHTTP {
-			return false; //request completed without success	
+			return false; // request completed without success
@@ -80 +77 @@ public class OAuthHTTP {
-	
+
@@ -84,2 +81,3 @@ public class OAuthHTTP {
-	
-	public boolean getJSONResultBoolean(String propertyName) throws JSONException {
+
+	public boolean getJSONResultBoolean(String propertyName)
+			throws JSONException {
@@ -88,2 +86,3 @@ public class OAuthHTTP {
-	
-	private JSONObject _parseJSONResponse(InputStream inputStream) throws IOException, JSONException {
+
+	private JSONObject _parseJSONResponse(InputStream inputStream)
+			throws IOException, JSONException {
@@ -91 +90 @@ public class OAuthHTTP {
-		
+
@@ -93,2 +92,2 @@ public class OAuthHTTP {
-		
-		//JSONArray finalResult = new JSONArray(tokener);
+
+		// JSONArray finalResult = new JSONArray(tokener);
@@ -97,3 +96,5 @@ public class OAuthHTTP {
-	
-	private StringBuilder _readStream(InputStream inStream, boolean output) throws IOException {
-		BufferedReader reader = new BufferedReader(new InputStreamReader(inStream));
+
+	private StringBuilder _readStream(InputStream inStream, boolean output)
+			throws IOException {
+		BufferedReader reader = new BufferedReader(new InputStreamReader(
+				inStream));
@@ -101 +102 @@ public class OAuthHTTP {
-		
+
@@ -104 +105 @@ public class OAuthHTTP {
-							System.out.println(line);
+				System.out.println(line);
@@ -111 +112 @@ public class OAuthHTTP {
-			
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java
index 01e1aa1..2225a0e 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java
@@ -3 +2,0 @@ package com.lollapaloozer.auth;
-
@@ -13 +12 @@ public class TwitterAuthDialogPresenter {
-	 private AlertDialog _alertDialog;
+	private AlertDialog _alertDialog;
@@ -21,4 +20,7 @@ public class TwitterAuthDialogPresenter {
-	public void showDialog(String authUrl) {	
-		Intent twitterAuthIntent = new Intent(_activity, TwitterAuthWebpageActivity.class);
-		twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH, authUrl);
-		_activity.startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
+	public void showDialog(String authUrl) {
+		Intent twitterAuthIntent = new Intent(_activity,
+				TwitterAuthWebpageActivity.class);
+		twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH,
+				authUrl);
+		_activity.startActivityForResult(twitterAuthIntent,
+				Constants.INTENT_REQ_TWITTER_LOGIN);
@@ -26,113 +27,0 @@ public class TwitterAuthDialogPresenter {
-	
-		//Dialog implementation has been abandoned due to bugs in Android framework
-		
-
-		//AlertDialog.Builder builder;
-		//builder = new AlertDialog.Builder(_activity);
-		//LayoutInflater inflater = (LayoutInflater) _activity.getSystemService(_activity.LAYOUT_INFLATER_SERVICE);
-		//final View layout = inflater.inflate(R.layout.twitter_auth_dialog, (ViewGroup) _activity.findViewById(R.id.layout_root));
-		//builder.setView(layout);
-
-		 
-		//_alertDialog = builder.create();
-		
-		//ImageView close_dialog = (ImageView) layout.findViewById(R.id.imageView_custom_dialog_close);
-		
-		//close_dialog.setOnClickListener(new View.OnClickListener() {
-			//public void onClick(View v) {
-			//	_alertDialog.dismiss();
-			//}
-		//});
-
-		 
-	
-/*
-		final WebView webview = (WebView) layout.findViewById(R.id.webView1);
-		// webview = new WebView(this);
-		webview.getSettings().setJavaScriptEnabled(true);
-		webview.setVerticalScrollBarEnabled(false);
-		webview.setHorizontalScrollBarEnabled(false);
-		webview.setVisibility(View.VISIBLE);
-		
-		System.out.println("webview requesting focus ("+ webview.hasFocus()+")");
-		webview.requestFocusFromTouch();
-		System.out.println("webview requested focus ("+ webview.hasFocus()+")");
-		
-        webview.setOnTouchListener(new View.OnTouchListener() {
-            @Override
-            public boolean onTouch(View v, MotionEvent event) {
-                switch (event.getAction()) {
-                    case MotionEvent.ACTION_DOWN:
-                    	System.out.println("MotionEvent Action Down"+ webview.hasFocus());
-                    case MotionEvent.ACTION_UP:
-                    	System.out.println("MotionEvent Action Up"+ webview.hasFocus());
-                        if (!v.hasFocus()) {
-                            //webview.requestFocus(View.FOCUS_DOWN);
-                            v.requestFocusFromTouch();
-                        }
-                        
-                        if (v instanceof EditText) {
-                        	System.out.println("EditText touched");
-                        }
-                        break;
-                }
-                return false;
-            }
-        });*/
-        //webview.requestFocus(View.FOCUS_DOWN);
-        //webview.requestFocusFromTouch();
-		/*
-		webview.setWebViewClient(new WebViewClient() {
-
-			private boolean shown = false;
-
-			@Override
-			public void onPageFinished(WebView view, String url) {
-				if (!shown) {
-					System.out.println("onPageFinished showing dialog: " + url);
-					// _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT); //todo try commenting this
-
-					//layout.requestFocus(View.FOCUS_DOWN);
-
-					
-					//_alertDialog.show();
-					shown = true;
-					_activity.setContentView(layout);
-				}
-			}
-
-			@Override
-			public void onPageStarted(WebView view, String url, Bitmap favicon) {
-				System.out.println("onPageStarted : " + url);
-				Uri uri = Uri.parse(url);
-
-				if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
-					System.out.println("Special callback URL was detected");
-					_requestTokenString = uri
-							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
-					_requestTokenVerifierString = uri
-							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
-
-					System.out.println("OAuth token: " + _requestTokenString);
-					System.out.println("OAuth verifier: "
-							+ _requestTokenVerifierString);
-					// webview.setVisibility(View.GONE);
-					// webview.destroy();
-					_alertDialog.dismiss(); // maybe use OnCancelListener?
-
-					// todo MOVE OAUTH CODE
-					
-					 * Verifier verifier = new
-					 * Verifier(_requestTokenVerifierString); Token accessToken
-					 * = _service.getAccessToken(_requestToken, verifier); //
-					 * the requestToken you had from step 2 OAuthRequest request
-					 * = new OAuthRequest(Verb.GET,
-					 * "http://api.twitter.com/1/account/verify_credentials.xml"
-					 * ); _service.signRequest(accessToken, request); // the
-					 * access // token from // step 4 Response response =
-					 * request.send();
-					 * 
-					 * System.out.println(response.getBody());
-					 
-				}
-			}
@@ -140,6 +29,99 @@ public class TwitterAuthDialogPresenter {
-		});*/
-		 //webview.requestFocus(View.FOCUS_DOWN);
-		//_alertDialog.show();
-		
-		
-		//webview.loadUrl(authUrl);
+	// Dialog implementation has been abandoned due to bugs in Android framework
+
+	// AlertDialog.Builder builder;
+	// builder = new AlertDialog.Builder(_activity);
+	// LayoutInflater inflater = (LayoutInflater)
+	// _activity.getSystemService(_activity.LAYOUT_INFLATER_SERVICE);
+	// final View layout = inflater.inflate(R.layout.twitter_auth_dialog,
+	// (ViewGroup) _activity.findViewById(R.id.layout_root));
+	// builder.setView(layout);
+
+	// _alertDialog = builder.create();
+
+	// ImageView close_dialog = (ImageView)
+	// layout.findViewById(R.id.imageView_custom_dialog_close);
+
+	// close_dialog.setOnClickListener(new View.OnClickListener() {
+	// public void onClick(View v) {
+	// _alertDialog.dismiss();
+	// }
+	// });
+
+	/*
+	 * final WebView webview = (WebView) layout.findViewById(R.id.webView1); //
+	 * webview = new WebView(this);
+	 * webview.getSettings().setJavaScriptEnabled(true);
+	 * webview.setVerticalScrollBarEnabled(false);
+	 * webview.setHorizontalScrollBarEnabled(false);
+	 * webview.setVisibility(View.VISIBLE);
+	 * 
+	 * System.out.println("webview requesting focus ("+ webview.hasFocus()+")");
+	 * webview.requestFocusFromTouch();
+	 * System.out.println("webview requested focus ("+ webview.hasFocus()+")");
+	 * 
+	 * webview.setOnTouchListener(new View.OnTouchListener() {
+	 * 
+	 * @Override public boolean onTouch(View v, MotionEvent event) { switch
+	 * (event.getAction()) { case MotionEvent.ACTION_DOWN:
+	 * System.out.println("MotionEvent Action Down"+ webview.hasFocus()); case
+	 * MotionEvent.ACTION_UP: System.out.println("MotionEvent Action Up"+
+	 * webview.hasFocus()); if (!v.hasFocus()) {
+	 * //webview.requestFocus(View.FOCUS_DOWN); v.requestFocusFromTouch(); }
+	 * 
+	 * if (v instanceof EditText) { System.out.println("EditText touched"); }
+	 * break; } return false; } });
+	 */
+	// webview.requestFocus(View.FOCUS_DOWN);
+	// webview.requestFocusFromTouch();
+	/*
+	 * webview.setWebViewClient(new WebViewClient() {
+	 * 
+	 * private boolean shown = false;
+	 * 
+	 * @Override public void onPageFinished(WebView view, String url) { if
+	 * (!shown) { System.out.println("onPageFinished showing dialog: " + url);
+	 * // _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
+	 * LayoutParams.FILL_PARENT); //todo try commenting this
+	 * 
+	 * //layout.requestFocus(View.FOCUS_DOWN);
+	 * 
+	 * 
+	 * //_alertDialog.show(); shown = true; _activity.setContentView(layout); }
+	 * }
+	 * 
+	 * @Override public void onPageStarted(WebView view, String url, Bitmap
+	 * favicon) { System.out.println("onPageStarted : " + url); Uri uri =
+	 * Uri.parse(url);
+	 * 
+	 * if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
+	 * System.out.println("Special callback URL was detected");
+	 * _requestTokenString = uri
+	 * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
+	 * _requestTokenVerifierString = uri
+	 * .getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
+	 * 
+	 * System.out.println("OAuth token: " + _requestTokenString);
+	 * System.out.println("OAuth verifier: " + _requestTokenVerifierString); //
+	 * webview.setVisibility(View.GONE); // webview.destroy();
+	 * _alertDialog.dismiss(); // maybe use OnCancelListener?
+	 * 
+	 * // todo MOVE OAUTH CODE
+	 * 
+	 * Verifier verifier = new Verifier(_requestTokenVerifierString); Token
+	 * accessToken = _service.getAccessToken(_requestToken, verifier); // the
+	 * requestToken you had from step 2 OAuthRequest request = new
+	 * OAuthRequest(Verb.GET,
+	 * "http://api.twitter.com/1/account/verify_credentials.xml" );
+	 * _service.signRequest(accessToken, request); // the access // token from
+	 * // step 4 Response response = request.send();
+	 * 
+	 * System.out.println(response.getBody());
+	 * 
+	 * } }
+	 * 
+	 * });
+	 */
+	// webview.requestFocus(View.FOCUS_DOWN);
+	// _alertDialog.show();
+
+	// webview.loadUrl(authUrl);
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java
index cccd470..5efe216 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java
@@ -12 +11,0 @@ import android.content.Intent;
-
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
index f69e2e5..6f96ff5 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
@@ -26,2 +26,3 @@ public class TwitterAuthProviderOAuth {
-	
-	public TwitterAuthProviderOAuth(String consumerKey, String consumerSecret, String callbackUrl) {
+
+	public TwitterAuthProviderOAuth(String consumerKey, String consumerSecret,
+			String callbackUrl) {
@@ -35,2 +36 @@ public class TwitterAuthProviderOAuth {
-				.apiKey(_consumerKey)
-				.apiSecret(_consumerSecret)
+				.apiKey(_consumerKey).apiSecret(_consumerSecret)
@@ -46,3 +46,11 @@ public class TwitterAuthProviderOAuth {
-		  Verifier verifier = new Verifier(tokenVerify);
-		  _accessToken = _service.getAccessToken(_requestToken, verifier); //the requestToken you had from step 2 OAuthRequest request
-		  
+		Verifier verifier = new Verifier(tokenVerify);
+		_accessToken = _service.getAccessToken(_requestToken, verifier); // the
+																			// requestToken
+																			// you
+																			// had
+																			// from
+																			// step
+																			// 2
+																			// OAuthRequest
+																			// request
+
@@ -50 +58 @@ public class TwitterAuthProviderOAuth {
-	
+
@@ -52,2 +60,4 @@ public class TwitterAuthProviderOAuth {
-		OAuthRequest request = new OAuthRequest(httpVerb, resourceUrl); 
-		_service.signRequest(_accessToken, request); // the access // token from // step 4 Response response =
+		OAuthRequest request = new OAuthRequest(httpVerb, resourceUrl);
+		_service.signRequest(_accessToken, request); // the access // token from
+														// // step 4 Response
+														// response =
@@ -56 +66 @@ public class TwitterAuthProviderOAuth {
-	
+
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java
index 9b820ec..24d7e01 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java
@@ -3 +2,0 @@ package com.lollapaloozer.auth;
-
@@ -25 +24 @@ public class TwitterAuthWebpageActivity extends Activity {
-		
+
@@ -27,4 +26,3 @@ public class TwitterAuthWebpageActivity extends Activity {
-		String authUrl = callingIntent.getStringExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH);
-		
-		
-		
+		String authUrl = callingIntent
+				.getStringExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH);
+
@@ -32 +30 @@ public class TwitterAuthWebpageActivity extends Activity {
-		
+
@@ -39 +37 @@ public class TwitterAuthWebpageActivity extends Activity {
-		
+
@@ -46,4 +44,6 @@ public class TwitterAuthWebpageActivity extends Activity {
-		
-		//System.out.println("webview requesting focus ("+ webview.hasFocus()+")");
-		//webview.requestFocusFromTouch();
-		//System.out.println("webview requested focus ("+ webview.hasFocus()+")");
+
+		// System.out.println("webview requesting focus ("+
+		// webview.hasFocus()+")");
+		// webview.requestFocusFromTouch();
+		// System.out.println("webview requested focus ("+
+		// webview.hasFocus()+")");
@@ -59,9 +59,9 @@ public class TwitterAuthWebpageActivity extends Activity {
-				//if (!shown) {
-					System.out.println("onPageFinished showing dialog: " + url);
-					// _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT); //todo try commenting this
-
-
-					//_alertDialog.show();
-					//shown = true;
-					//_activity.setContentView(layout);
-				//}
+				// if (!shown) {
+				System.out.println("onPageFinished showing dialog: " + url);
+				// _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT,
+				// LayoutParams.FILL_PARENT); //todo try commenting this
+
+				// _alertDialog.show();
+				// shown = true;
+				// _activity.setContentView(layout);
+				// }
@@ -82,2 +82,3 @@ public class TwitterAuthWebpageActivity extends Activity {
-					System.out.println("OAuth token: "+ _requestTokenString);
-					System.out.println("OAuth verifier: "+ _requestTokenVerifierString);
+					System.out.println("OAuth token: " + _requestTokenString);
+					System.out.println("OAuth verifier: "
+							+ _requestTokenVerifierString);
@@ -86 +87 @@ public class TwitterAuthWebpageActivity extends Activity {
-					
+
@@ -88,2 +89,5 @@ public class TwitterAuthWebpageActivity extends Activity {
-					resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN, _requestTokenString);
-					resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_VERIFIER, _requestTokenVerifierString);
+					resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN,
+							_requestTokenString);
+					resultIntent.putExtra(
+							Constants.INTENT_EXTRA_OAUTH1_VERIFIER,
+							_requestTokenVerifierString);
@@ -97,2 +101,2 @@ public class TwitterAuthWebpageActivity extends Activity {
-		 //webview.requestFocus(View.FOCUS_DOWN);
-		//_alertDialog.show();
+		// webview.requestFocus(View.FOCUS_DOWN);
+		// _alertDialog.show();
938f7542005546602270ceb43b7a6719898541a3
diff --git a/Coacheller-AppEngine/war/WEB-INF/appengine-generated/datastore-indexes-auto.xml b/Coacheller-AppEngine/war/WEB-INF/appengine-generated/datastore-indexes-auto.xml
new file mode 100644
index 0000000..91ab7af
--- /dev/null
+++ b/Coacheller-AppEngine/war/WEB-INF/appengine-generated/datastore-indexes-auto.xml
@@ -0,0 +1,4 @@
+<!-- Indices written at Fri, 22 Jun 2012 02:05:59 UTC -->
+
+<datastore-indexes/>
+
diff --git a/Lollapaloozer-Android/facebook-android-sdk b/Lollapaloozer-Android/facebook-android-sdk
new file mode 160000
index 0000000..1e03bf9
--- /dev/null
+++ b/Lollapaloozer-Android/facebook-android-sdk
@@ -0,0 +1 @@
+Subproject commit 1e03bf9ea42eb663bf61eddac9d7b6bee3b6e69f
diff --git a/Lollapaloozer-Android/lib/gson-2.1.jar b/Lollapaloozer-Android/lib/gson-2.1.jar
deleted file mode 100644
index b85f091..0000000
Binary files a/Lollapaloozer-Android/lib/gson-2.1.jar and /dev/null differ
diff --git a/Lollapaloozer-Android/libs/commons-codec-1.6.jar b/Lollapaloozer-Android/libs/commons-codec-1.6.jar
new file mode 100644
index 0000000..ee1bc49
Binary files /dev/null and b/Lollapaloozer-Android/libs/commons-codec-1.6.jar differ
diff --git a/Lollapaloozer-Android/libs/gson-2.1.jar b/Lollapaloozer-Android/libs/gson-2.1.jar
new file mode 100644
index 0000000..b85f091
Binary files /dev/null and b/Lollapaloozer-Android/libs/gson-2.1.jar differ
diff --git a/Lollapaloozer-Android/libs/signpost-commonshttp4-1.2.1.1.jar b/Lollapaloozer-Android/libs/signpost-commonshttp4-1.2.1.1.jar
new file mode 100644
index 0000000..50e9838
Binary files /dev/null and b/Lollapaloozer-Android/libs/signpost-commonshttp4-1.2.1.1.jar differ
diff --git a/Lollapaloozer-Android/libs/signpost-core-1.2.1.1.jar b/Lollapaloozer-Android/libs/signpost-core-1.2.1.1.jar
new file mode 100644
index 0000000..59e7537
Binary files /dev/null and b/Lollapaloozer-Android/libs/signpost-core-1.2.1.1.jar differ
diff --git a/Lollapaloozer-Android/res/layout/auth_choose.xml b/Lollapaloozer-Android/res/layout/auth_choose.xml
new file mode 100644
index 0000000..195fa2c
--- /dev/null
+++ b/Lollapaloozer-Android/res/layout/auth_choose.xml
@@ -0,0 +1,127 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/RelativeLayout1"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:orientation="vertical" >
+
+    <RelativeLayout
+        android:id="@+id/layout_text_banner"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content">
+
+        <TextView
+            android:id="@+id/text_banner_line1"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="Signing in lets you..."
+            android:textAppearance="?android:attr/textAppearanceMedium" />
+
+        <TextView
+            android:id="@+id/text_banner_line2"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_below="@+id/text_banner_line1"
+            android:text="Rate Sets, save/email your comments"
+            android:textAppearance="?android:attr/textAppearanceMedium" />
+
+        <TextView
+            android:id="@+id/text_banner_line3"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textAppearance="?android:attr/textAppearanceMedium" android:layout_below="@+id/text_banner_line2" android:text="Use Reminder Alerts- Don't miss your favorite set"/>
+
+        <TextView
+            android:id="@+id/text_banner_line4"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="Share with your friends using Facebook and Twitter"
+            android:textAppearance="?android:attr/textAppearanceMedium" android:layout_below="@+id/text_banner_line3"/>
+
+        <TextView
+            android:id="@+id/text_banner_line5"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="Move things using only your mind"
+            android:textAppearance="?android:attr/textAppearanceMedium" android:layout_below="@+id/text_banner_line4"/>
+
+    </RelativeLayout>
+
+    <RelativeLayout
+        android:id="@+id/layout_signin_buttons"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_centerHorizontal="true"
+        android:orientation="vertical" android:layout_below="@+id/layout_text_banner">
+
+        <Button
+            android:id="@+id/btn_login_google"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_centerHorizontal="true"
+            android:text="Login with Google acct" />
+
+        <Button
+            android:id="@+id/btn_invalidate_tokens"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_below="@+id/btn_login_twitter"
+            android:layout_centerHorizontal="true"
+            android:text="Invalidate access Tokens" />
+
+        <Button
+            android:id="@+id/btn_login_twitter"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_below="@+id/btn_login_facebook"
+            android:layout_centerHorizontal="true"
+            android:text="Login with Twitter acct" />
+
+        <Button
+            android:id="@+id/btn_login_facebook"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_below="@+id/btn_login_google"
+            android:layout_centerHorizontal="true"
+            android:text="Login with Facebook acct" />
+    </RelativeLayout>
+
+    <LinearLayout
+        android:id="@+id/layout_status"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_alignParentLeft="true"
+        android:layout_below="@+id/layout_signin_buttons"
+        android:orientation="vertical" >
+
+        <TextView
+            android:id="@+id/text_login_status"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentLeft="true"
+            android:layout_below="@+id/btn_invalidate_tokens"
+            android:text="Login Status: " />
+
+        <TextView
+            android:id="@+id/text_account_name"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentLeft="true"
+            android:layout_below="@+id/text_login_status"
+            android:text="TextView" />
+
+        <TextView
+            android:id="@+id/text_token_id"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentLeft="true"
+            android:layout_below="@+id/text_account_name"
+            android:text="TextView" />
+
+        <TextView
+            android:id="@+id/text_intentionally_blank"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content" />
+    </LinearLayout>
+
+</RelativeLayout>
\ No newline at end of file
diff --git a/Lollapaloozer-Android/res/layout/twitter_auth_dialog.xml b/Lollapaloozer-Android/res/layout/twitter_auth_dialog.xml
new file mode 100644
index 0000000..e690a93
--- /dev/null
+++ b/Lollapaloozer-Android/res/layout/twitter_auth_dialog.xml
@@ -0,0 +1,39 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/layout_root"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical" >
+
+    <RelativeLayout
+        android:id="@+id/authDialogTop"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:layout_gravity="right" >
+        
+        <ImageView
+            android:id="@+id/imageView_custom_dialog_close"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentRight="true"
+            android:layout_alignParentTop="true"
+            android:src="@android:drawable/ic_delete" />
+
+        <TextView
+            android:id="@+id/textView1"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentLeft="true"
+            android:layout_centerVertical="true"
+            android:text="Login / Authorize"
+            android:textAppearance="?android:attr/textAppearanceLarge" android:paddingLeft="5dp" android:paddingTop="3dp" android:paddingBottom="3dp"/>
+
+    </RelativeLayout>
+
+    <WebView
+        android:id="@+id/webView1"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:layout_weight="1.75" android:minHeight="200dp" android:minWidth="200dp"/>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/Constants.java b/Lollapaloozer-Android/src/com/lollapaloozer/Constants.java
new file mode 100644
index 0000000..e5691d0
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/Constants.java
@@ -0,0 +1,40 @@
+package com.lollapaloozer;
+
+public class Constants {
+
+	// UI String
+	public static final String UI_STR_LOGIN_STATUS = "Login Status: ";
+
+	public static final String MSG_EMAIL_FORMAT = "Please enter your real email address.";
+	public static final String MSG_SIGNIN_REQUIRED = "Sign in so we can remember this for you.";
+
+	// User Authentication
+
+	public static final String CONSUMER_KEY = "yit4Mu71Mj93eNILUo3uCw";
+	public static final String CONSUMER_SECRET = "rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI";
+
+	public static final String REQUEST_URL = "https://api.twitter.com/oauth/request_token";
+	public static final String ACCESS_URL = "https://api.twitter.com/oauth/access_token";
+	public static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize";
+
+	public static final String OAUTH_CALLBACK_SCHEME = "http";
+	public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME
+			+ "://lollapaloozer.appspot.com/dummy"; // todo update this
+
+	// public static final String OAUTH_CALLBACK_SCHEME = "http";
+	// public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME +
+	// "://msnbc.com"; //todo update this
+
+	public static final String OAUTH_CALLBACK_PARAM_TOKEN = "oauth_token";
+	public static final String OAUTH_CALLBACK_PARAM_VERIFIER = "oauth_verifier";
+
+	public static final int DEFAULT_PORT_HTTP = 80;
+	public static final int DEFAULT_PORT_HTTPS = 443;
+	public static final String OAUTH_REQUEST_CONTENT_TYPE = "application/x-www-form-urlencoded";
+
+	public static final int INTENT_REQ_TWITTER_LOGIN = 1;
+	public static final String INTENT_EXTRA_ALIAS_TWITTER_AUTH = "intent.extra.twitter.auth";
+	public static final String INTENT_EXTRA_OAUTH1_TOKEN = "intent.extra.oauth1.token";
+	public static final String INTENT_EXTRA_OAUTH1_VERIFIER = "intent.extra.oauth1.verifier";
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java
new file mode 100644
index 0000000..f850551
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoActivity.java
@@ -0,0 +1,140 @@
+package com.lollapaloozer.auth;
+
+
+import com.lollapaloozer.Constants;
+import com.lollapaloozer.R;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.widget.TextView;
+
+
+public class AuthDemoActivity extends Activity implements OnClickListener {
+	
+	//Framework
+	private TextView _loginStatusText;
+	private TextView _accountNameText;
+	private TextView _tokenIdText;
+	
+	//App
+	private AuthDemoModel _model;
+	
+	
+    /** Called when the activity is first created. */
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.auth_choose);
+        System.out.println("OnCreate starting");
+        
+        //Framework	
+        _loginStatusText = (TextView) this.findViewById(R.id.text_login_status);
+        _accountNameText = (TextView) this.findViewById(R.id.text_account_name);
+        _tokenIdText = (TextView) this.findViewById(R.id.text_token_id);
+        
+        this.findViewById(R.id.btn_login_facebook).setOnClickListener(this);
+        this.findViewById(R.id.btn_login_twitter).setOnClickListener(this);
+        this.findViewById(R.id.btn_login_google).setOnClickListener(this);
+        this.findViewById(R.id.btn_invalidate_tokens).setOnClickListener(this);
+
+        
+        //App
+        _model = new AuthDemoModel(this);
+        _model.checkAccounts();
+        System.out.println("OnCreate complete");
+    }
+
+	@Override
+	protected void onResume() {
+		super.onResume();
+		
+		AuthProvider currentProvider = _model.getCurrentAuthProvider();
+		if (currentProvider != null) {
+			currentProvider.extendAccess();
+		}
+		
+		_updateUI();
+
+	}
+
+	@Override
+	public void onClick(View arg0) {
+		String buttonClickedName = this.getResources().getResourceEntryName(arg0.getId());
+		System.out.println("Button Click: "+ buttonClickedName);
+		
+		
+		
+		if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_google))) {
+			_model.loginToGoogle();  //UI Update done on callback
+		} if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_twitter))) {
+			_model.loginToTwitter();
+		
+		} if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_login_facebook))) {
+			_model.loginToFacebook();
+			
+		} if (buttonClickedName.equals(this.getResources().getResourceEntryName(R.id.btn_invalidate_tokens))) {
+			_model.invalidateTokens();
+			_updateUI();
+		}
+	}
+	
+	private void _updateUI() {
+		
+		if (_model.isLoggedIn()) {
+			AuthProvider currentProvider = _model.getCurrentAuthProvider();
+			_setLoginStatus(currentProvider.getAccountType());
+			_accountNameText.setText("Account: "+ currentProvider.getLocalAccountName() +"\r\n"+ currentProvider.getAccountType() +" confirms you are the owner of "+ currentProvider.getVerifiedAccountIdentifier());
+			_tokenIdText.setText("Token ID: "+ currentProvider.getAuthToken());
+		} else {
+			_setLoginStatus("Not Logged In");
+			_accountNameText.setText("");
+			_tokenIdText.setText("");
+		}
+		
+		if (this.findViewById(R.layout.auth_choose) != null) {
+			this.findViewById(R.layout.auth_choose).invalidate();
+		}
+		 	
+	}
+	
+	private void _setLoginStatus(String status) {
+		_loginStatusText.setText(Constants.UI_STR_LOGIN_STATUS +" "+ status);
+	}
+	
+	//For Facebook	
+    @Override
+    public void onActivityResult(int requestCode, int resultCode, Intent data) {
+    	super.onActivityResult(requestCode, resultCode, data);
+    	
+    	System.out.println("onActivityResult(requestCode=["+ requestCode +"], resultCode=["+ resultCode +"]");
+    	
+    	switch (requestCode) {
+    	case Constants.INTENT_REQ_TWITTER_LOGIN:
+    		_model.twitterAuthCallback(requestCode, resultCode, data);
+    		break;
+    	default:
+    		System.out.println("onACtivityResult called with unknown values: "+ requestCode +","+ resultCode);
+    		_model.getFacebookObject().authorizeCallback(requestCode, resultCode, data);
+    		break;
+    	}
+    }
+    
+    
+	
+	public void modelChanged() {
+		//Run method in main UI thread
+		View v = findViewById(android.R.id.content);
+		v.post(new Runnable(){ public void run(){ _updateUI(); } });
+
+		//_updateUI();
+	}
+
+	
+	
+	
+    
+    
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoModel.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoModel.java
new file mode 100644
index 0000000..9616445
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthDemoModel.java
@@ -0,0 +1,145 @@
+package com.lollapaloozer.auth;
+
+import java.io.BufferedReader;
+import java.io.FileNotFoundException;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.InputStreamReader;
+import java.net.HttpURLConnection;
+import java.net.MalformedURLException;
+import java.net.URL;
+import java.net.URLConnection;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+import org.json.JSONTokener;
+
+import com.facebook.android.DialogError;
+import com.facebook.android.Facebook;
+import com.facebook.android.FacebookError;
+import com.facebook.android.Facebook.DialogListener;
+
+import android.accounts.Account;
+import android.accounts.AccountManager;
+import android.accounts.AccountManagerCallback;
+import android.accounts.AccountManagerFuture;
+import android.accounts.AuthenticatorDescription;
+import android.accounts.AuthenticatorException;
+import android.accounts.OperationCanceledException;
+import android.app.Activity;
+import android.content.Intent;
+import android.os.Bundle;
+import android.util.Log;
+import android.util.Pair;
+
+
+
+public class AuthDemoModel {
+	
+	private GoogleAuthProvider _authProviderGoogle;
+	private FacebookAuthProvider _authProviderFacebook;
+	private AuthDemoActivity _activity;
+	
+	private String _verifiedAccountName = null;
+	private TwitterAuthProvider _authProviderTwitter;
+	
+	
+	
+	public AuthDemoModel (AuthDemoActivity activity) {
+		_activity = activity;
+		_authProviderGoogle = new GoogleAuthProvider(_activity);
+		_authProviderFacebook = new FacebookAuthProvider(_activity);
+		_authProviderTwitter = new TwitterAuthProvider(_activity);
+	}
+	
+	public boolean isLoggedIn() {
+		int numLogins = 0;
+		if (_authProviderGoogle.isLoggedIn()) {
+			numLogins++;
+		}
+		
+		if (_authProviderFacebook.isLoggedIn()) {
+			numLogins++;
+		}
+		
+		if (_authProviderTwitter.isLoggedIn()) {
+			numLogins++;
+		}
+		
+		if (numLogins > 1) {
+			System.out.println("WARNING: Multiple concurrent login types detected");
+		}
+		
+		if (numLogins > 0) {
+			return true;
+		} else {
+			return false;
+		}
+	}
+	
+	public AuthProvider getCurrentAuthProvider() {
+		if (_authProviderGoogle.isLoggedIn()) {
+			return _authProviderGoogle;
+		}
+		
+		if (_authProviderFacebook.isLoggedIn()) {
+			return _authProviderFacebook;
+		}
+		
+		if (_authProviderTwitter.isLoggedIn()) {
+			return _authProviderTwitter;
+		}
+		
+		return null;
+	}
+
+	public void checkAccounts() {
+		AccountManager aMgr = AccountManager.get(_activity);
+		
+		System.out.println("Warning: The following requires permission GET_ACCOUNTS");
+		for (Account a: aMgr.getAccounts()) {
+			System.out.println(a.name +" "+ a.type  +" "+ a.toString());
+		}
+		
+		System.out.println("Installed Authenticators: ");
+		for (AuthenticatorDescription d : aMgr.getAuthenticatorTypes()) {
+			System.out.print(d.type);
+			System.out.print("/ ");
+		}
+		System.out.println();
+	}
+	
+	
+
+
+
+	public Facebook getFacebookObject() {
+		return _authProviderFacebook.getFacebookObject();
+	}
+	
+	public void invalidateTokens() {
+		_authProviderGoogle.logout();
+		_authProviderFacebook.logout();
+		_authProviderTwitter.logout();
+	}
+
+	public void loginToGoogle() {
+		_authProviderGoogle.login();
+	}
+
+	public void loginToFacebook() {
+		_authProviderFacebook.login();	
+	}
+
+	public void loginToTwitter() {
+		_authProviderTwitter.login();
+	}
+	
+	public void twitterAuthCallback(int requestCode, int resultCode, Intent data) {
+		_authProviderTwitter.requestTokenCallback(requestCode, resultCode, data);
+	}
+
+
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthProvider.java
new file mode 100644
index 0000000..b9c5ddd
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/AuthProvider.java
@@ -0,0 +1,18 @@
+package com.lollapaloozer.auth;
+
+public interface AuthProvider {
+	
+	public boolean isLoggedIn();
+	
+	public void login();
+	
+	public void logout();
+	
+	public String getAccountType();
+	public String getLocalAccountName();
+	public String getVerifiedAccountIdentifier();
+	public String getAuthToken();
+
+	public void extendAccess();
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/FacebookAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/FacebookAuthProvider.java
new file mode 100644
index 0000000..a3ad566
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/FacebookAuthProvider.java
@@ -0,0 +1,184 @@
+package com.lollapaloozer.auth;
+
+import java.io.FileNotFoundException;
+import java.io.IOException;
+import java.net.MalformedURLException;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import android.os.Bundle;
+import android.util.Log;
+import android.widget.ProgressBar;
+
+import com.facebook.android.AsyncFacebookRunner;
+import com.facebook.android.AsyncFacebookRunner.RequestListener;
+import com.facebook.android.DialogError;
+import com.facebook.android.Facebook;
+import com.facebook.android.Facebook.DialogListener;
+import com.facebook.android.FacebookError;
+import com.facebook.android.Util;
+
+public class FacebookAuthProvider implements AuthProvider {
+	
+	private AuthDemoActivity _activity;
+	private Facebook _facebook = new Facebook("186287061500005");
+	private AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(_facebook);
+	
+	private JSONObject _userInfo;
+
+	
+	private FacebookAuthProvider() {}
+	
+	public FacebookAuthProvider(AuthDemoActivity activity) {
+		_activity = activity;
+	}
+	
+	private void setLastInfoResponse(JSONObject json) {
+		_userInfo = json;
+	}
+	
+	@Override
+	public boolean isLoggedIn() {
+		return _facebook.isSessionValid();
+	}
+	
+    private void _getUserData() {
+    	 mAsyncRunner.request("me", new IDRequestListener());	
+	}
+
+	@Override
+	public void login() {
+		_facebook.authorize(_activity, new String[] {"email"}, new DialogListener() {
+			@Override
+			public void onComplete(Bundle values) {
+				System.out.println("Facebook authorization completed, token: "+ _facebook.getAccessToken() +" valid until "+ _facebook.getAccessExpires());
+				_getUserData();
+				//TODO should lock UI here
+			}
+
+			@Override
+			public void onFacebookError(FacebookError error) {
+				System.out.println("Facebook platform error during authorization");
+			}
+
+			@Override
+			public void onError(DialogError e) {
+				System.out.println("Error with facebook authorization dialog");
+			}
+
+			@Override
+			public void onCancel() {
+				System.out.println("Facebook authorization dialog cancelled by user");
+			}
+		});
+
+	}
+	
+	public Facebook getFacebookObject() {
+		return _facebook;
+	}
+
+	@Override
+	public void logout() {
+		try {
+			_facebook.logout(_activity);
+		} catch (MalformedURLException e) {
+			e.printStackTrace();
+		} catch (IOException e) {
+			e.printStackTrace();
+		}
+	}
+
+	@Override
+	public String getAccountType() {
+		return _facebook.getClass().toString();
+	}
+
+	@Override
+	public String getLocalAccountName() {
+		try {
+			return _userInfo.getString("name");
+		} catch (JSONException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		}
+		return null;
+	}
+
+	@Override
+	public String getVerifiedAccountIdentifier() {
+		try {
+			return _userInfo.getString("email");
+		} catch (JSONException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		}
+		return null;
+	}
+
+	@Override
+	public String getAuthToken() {
+		return _facebook.getAccessToken();
+	}
+
+	@Override
+	public void extendAccess() {
+		_facebook.extendAccessTokenIfNeeded(_activity, null);
+	}
+	
+	
+	
+	private class IDRequestListener implements RequestListener {
+		
+		private String TAG = "fbDemo";
+		
+		@Override
+		public void onComplete(String response, Object state) {
+			try {
+				
+				Log.d(TAG, "IDRequestONComplete");
+				Log.d(TAG, "Response: " + response.toString());
+				JSONObject json = Util.parseJson(response);
+				String userID = json.getString("id");
+				String userName = json.getString("name");
+				//fbEmail = json.getString("email");
+				
+				System.out.println("Retrieved from Facebook userID["+ userID +"] username ["+ userName +"]");
+				setLastInfoResponse(json);
+				_activity.modelChanged();
+				
+				
+			} catch (JSONException e) {
+				Log.d(TAG, "JSONException: " + e.getMessage());
+			} catch (FacebookError e) {
+				Log.d(TAG, "FacebookError: " + e.getMessage());
+			}
+			//TODO Unlock UI here
+		}
+		
+	@Override
+    public void onIOException(IOException e, Object state) {
+            Log.d(TAG, "IOException: " + e.getMessage());
+    }
+
+    @Override
+    public void onFileNotFoundException(FileNotFoundException e,
+                    Object state) {
+            Log.d(TAG, "FileNotFoundException: " + e.getMessage());
+    }
+
+    @Override
+    public void onMalformedURLException(MalformedURLException e,
+                    Object state) {
+            Log.d(TAG, "MalformedURLException: " + e.getMessage());
+    }
+
+    @Override
+    public void onFacebookError(FacebookError e, Object state) {
+            Log.d(TAG, "FacebookError: " + e.getMessage());
+    }
+
+}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/GoogleAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/GoogleAuthProvider.java
new file mode 100644
index 0000000..79e3926
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/GoogleAuthProvider.java
@@ -0,0 +1,166 @@
+package com.lollapaloozer.auth;
+
+import java.io.IOException;
+import java.net.MalformedURLException;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import android.accounts.AccountManager;
+import android.accounts.AccountManagerCallback;
+import android.accounts.AccountManagerFuture;
+import android.accounts.AuthenticatorException;
+import android.accounts.OperationCanceledException;
+import android.app.Activity;
+import android.os.Bundle;
+import android.util.Log;
+
+public class GoogleAuthProvider implements AuthProvider {
+
+	private final String ACCOUNT_TYPE_REQUESTED = "com.google";
+	
+	private AuthDemoActivity _activity;
+	private Bundle _currentGoogleLoginTokenBundle = null;
+	private JSONObject _currentAuthResult;
+	private boolean _confirmedAuthorizedGoogle;
+	private String _verifiedAccountName = null;
+	
+	
+	
+	private GoogleAuthProvider() {}
+	
+	public GoogleAuthProvider(AuthDemoActivity activity) {
+		_activity = activity;
+	}
+	
+	
+	
+	@Override
+	public boolean isLoggedIn() {
+		return _confirmedAuthorizedGoogle;
+	}
+
+
+	@Override
+	public void login() {
+			
+			System.out.println("Starting");
+			AccountManagerFuture<Bundle> bundleFuture = 
+				AccountManager.get(_activity).getAuthTokenByFeatures(
+						ACCOUNT_TYPE_REQUESTED,
+						//"Manage your tasks"
+						//"https://www.googleapis.com/auth/userinfo.email"
+						//"https://www.googleapis.com/auth/userinfo.profile"
+						"oauth2:https://www.googleapis.com/auth/userinfo.email"
+						//"View your email address"
+						//"Steal all of your stuff"
+						, 
+						null, 
+						_activity, 
+						null, 
+						null, 
+						new AccountManagerCallback<Bundle>() {
+
+					          public void run(AccountManagerFuture<Bundle> future) {
+					            
+					            try {
+					              _currentGoogleLoginTokenBundle = future.getResult();
+					              System.out.println("Received token bundle from AccountManagerCallback");
+					            } catch (OperationCanceledException e) {
+					              Log.e("e", e.getMessage(), e);
+					              System.out.println("User appears to have denied auth request");
+					            } catch (AuthenticatorException e) {
+					              Log.e("e", e.getMessage(), e);
+					            } catch (IOException e) {
+					              Log.e("e", e.getMessage(), e);
+					            }
+					            _useBundle();
+					            _activity.modelChanged();
+					          }
+					        }, 
+					        null);
+			System.out.println("Done with AccountManager call");
+		}
+	
+
+	
+	private void _useBundle() {
+		
+		for (String s : _currentGoogleLoginTokenBundle.keySet()) {
+			System.out.println("Found key/value: "+ s +"="+ _currentGoogleLoginTokenBundle.getString(s));
+		}
+		
+		if (_currentGoogleLoginTokenBundle.containsKey(AccountManager.KEY_INTENT)) {
+			throw new RuntimeException("Unexpected Code Path");
+			//TODO return to account selection or something...
+		}
+		
+		//url = new URL("https://www.googleapis.com/oauth2/v2/userinfo");
+		
+		try {
+			OAuthHTTP oauthreq;
+			oauthreq = new OAuthHTTP("https://www.googleapis.com/oauth2/v1/userinfo?alt=json");
+			oauthreq.setRequestProperty("client_id", "253259340939.apps.googleusercontent.com");
+			oauthreq.setRequestProperty("client_secret", "3HqdJ51XXYc6Px83sZuJlfmI");
+			oauthreq.setRequestProperty("Authorization", "OAuth " + _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_AUTHTOKEN));
+			//conn.setRequestProperty("User-Agent","Mozilla/5.0 ( compatible ) ");
+			//conn.setRequestProperty("Accept","[star]/[star]");
+			
+			boolean oauthSuccess = oauthreq.execute();
+			
+			if (oauthSuccess) {
+				_confirmedAuthorizedGoogle = oauthreq.getJSONResultBoolean("verified_email");
+				_verifiedAccountName = oauthreq.getJSONResultString("email");
+			} else {
+				System.out.println("OAuth request completed unsuccesfully");
+				//TODO probably need to expire token
+			}
+			
+		} catch (MalformedURLException e) {
+			e.printStackTrace();
+		} catch (JSONException e) {
+			e.printStackTrace();
+		} catch (IOException e) {
+			e.printStackTrace();
+		}
+	}
+
+	@Override
+	public void logout() {
+		if (_currentGoogleLoginTokenBundle != null) {
+			AccountManager aMgr = AccountManager.get(_activity);
+			aMgr.invalidateAuthToken(getAccountType(), getAuthToken());
+		}
+		
+		//Wipe login status
+		_currentGoogleLoginTokenBundle = null;
+		_confirmedAuthorizedGoogle = false; //Not authenticated
+		_verifiedAccountName = null;
+	}
+	
+	public String getAuthToken() {
+		return _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_AUTHTOKEN);
+	}
+	public String getAccountType() {
+		return _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_ACCOUNT_TYPE);
+	}
+	
+	public String getLocalAccountName() {
+		return _currentGoogleLoginTokenBundle.getString(AccountManager.KEY_ACCOUNT_NAME);
+	}
+
+	@Override
+	public String getVerifiedAccountIdentifier() {
+		return _verifiedAccountName;
+	}
+
+	@Override
+	public void extendAccess() {
+		
+		System.out.println("Activity resumed.  Not sure if google auth token is automatically extended.");
+	}
+	
+
+	
+	
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/Helper.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/Helper.java
new file mode 100644
index 0000000..0089bea
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/Helper.java
@@ -0,0 +1,18 @@
+package com.lollapaloozer.auth;
+
+public class Helper {
+	public static String readXmlProperty(String propertyName, String xmlData) {
+		String xmlPropertyOpen = "<"+ propertyName +">";
+		String xmlPropertyClose = "</"+ propertyName +">";
+		int propertyOpenIndex = xmlData.indexOf(xmlPropertyOpen);
+		int propertyCloseIndex = xmlData.indexOf(xmlPropertyClose);
+		if (propertyOpenIndex == -1) {
+			System.out.println("Property not found in XML data");
+			return null;
+		} else if (propertyCloseIndex == -1) {
+			System.out.println("Property close tag not found in XML data");
+			return null;
+		} 
+		return xmlData.substring(propertyOpenIndex+xmlPropertyOpen.length(), propertyCloseIndex);
+	}
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/NameValue.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/NameValue.java
new file mode 100644
index 0000000..46b5364
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/NameValue.java
@@ -0,0 +1,12 @@
+package com.lollapaloozer.auth;
+
+public class NameValue {
+	public String _name;
+	public String _value;
+	
+	public NameValue(String name, String value) {
+		_name = name;
+		_value = value;
+	}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/OAuthHTTP.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/OAuthHTTP.java
new file mode 100644
index 0000000..69585de
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/OAuthHTTP.java
@@ -0,0 +1,114 @@
+package com.lollapaloozer.auth;
+
+import java.io.BufferedReader;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.InputStreamReader;
+import java.net.HttpURLConnection;
+import java.net.MalformedURLException;
+import java.net.URL;
+import java.util.ArrayList;
+import java.util.Vector;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+import org.json.JSONTokener;
+
+
+
+
+import android.accounts.AccountManager;
+
+public class OAuthHTTP {
+	
+	private URL _url;
+	private HttpURLConnection _urlConnection;
+	private JSONObject _JSONResult;
+	private ArrayList<NameValue> _reqProperties = new ArrayList<NameValue>();
+	
+	public OAuthHTTP(String url) throws MalformedURLException {
+		_url = new URL(url);
+		
+	}
+	
+	public boolean execute() throws JSONException, IOException {
+		try {
+			_urlConnection = (HttpURLConnection) _url.openConnection();
+			System.out.println(_urlConnection.getURL());
+			
+			for (NameValue nv : _reqProperties) {
+				_urlConnection.setRequestProperty(nv._name, nv._value);
+			}
+			
+			_urlConnection.connect();
+			//Better way to do this?
+			_JSONResult = _parseJSONResponse(_urlConnection.getInputStream());
+			return true; //success
+		} catch (IOException e) {
+			// TODO Auto-generated catch block
+			_JSONResult = _parseJSONResponse(_urlConnection.getErrorStream());
+			e.printStackTrace();
+			return false; //request completed without success	
+		}
+	}
+
+	public boolean executeDebug() throws IOException {
+		try {
+			_urlConnection = (HttpURLConnection) _url.openConnection();
+			System.out.println(_urlConnection.getURL());
+			
+			for (NameValue nv : _reqProperties) {
+				_urlConnection.setRequestProperty(nv._name, nv._value);
+			}
+			
+			_urlConnection.connect();
+			//Better way to do this?
+
+			_readStream(_urlConnection.getInputStream(), true);
+			return true; //success
+		} catch (IOException e) {
+			// TODO Auto-generated catch block
+			_readStream(_urlConnection.getErrorStream(), true);
+			e.printStackTrace();
+			return false; //request completed without success	
+		}
+	}
+
+	public void setRequestProperty(String name, String value) {
+		_reqProperties.add(new NameValue(name, value));
+	}
+	
+	public String getJSONResultString(String propertyName) throws JSONException {
+		return _JSONResult.getString(propertyName);
+	}
+	
+	public boolean getJSONResultBoolean(String propertyName) throws JSONException {
+		return _JSONResult.getBoolean(propertyName);
+	}
+	
+	private JSONObject _parseJSONResponse(InputStream inputStream) throws IOException, JSONException {
+		StringBuilder builder = _readStream(inputStream, true);
+		
+		JSONTokener tokener = new JSONTokener(builder.toString());
+		
+		//JSONArray finalResult = new JSONArray(tokener);
+		return new JSONObject(tokener);
+	}
+	
+	private StringBuilder _readStream(InputStream inStream, boolean output) throws IOException {
+		BufferedReader reader = new BufferedReader(new InputStreamReader(inStream));
+		StringBuilder builder = new StringBuilder();
+		
+		for (String line = null; (line = reader.readLine()) != null;) {
+			if (output) {
+							System.out.println(line);
+			}
+
+			builder.append(line).append("\n");
+		}
+		reader.close();
+		return builder;
+			
+	}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java
new file mode 100644
index 0000000..01e1aa1
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthDialogPresenter.java
@@ -0,0 +1,147 @@
+package com.lollapaloozer.auth;
+
+
+import com.lollapaloozer.Constants;
+
+import android.app.Activity;
+import android.app.AlertDialog;
+import android.content.Intent;
+
+public class TwitterAuthDialogPresenter {
+
+	private Activity _activity;
+	 private AlertDialog _alertDialog;
+	private String _requestTokenString;
+	private String _requestTokenVerifierString;
+
+	public TwitterAuthDialogPresenter(Activity activity) {
+		_activity = activity;
+	}
+
+	public void showDialog(String authUrl) {	
+		Intent twitterAuthIntent = new Intent(_activity, TwitterAuthWebpageActivity.class);
+		twitterAuthIntent.putExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH, authUrl);
+		_activity.startActivityForResult(twitterAuthIntent, Constants.INTENT_REQ_TWITTER_LOGIN);
+	}
+	
+		//Dialog implementation has been abandoned due to bugs in Android framework
+		
+
+		//AlertDialog.Builder builder;
+		//builder = new AlertDialog.Builder(_activity);
+		//LayoutInflater inflater = (LayoutInflater) _activity.getSystemService(_activity.LAYOUT_INFLATER_SERVICE);
+		//final View layout = inflater.inflate(R.layout.twitter_auth_dialog, (ViewGroup) _activity.findViewById(R.id.layout_root));
+		//builder.setView(layout);
+
+		 
+		//_alertDialog = builder.create();
+		
+		//ImageView close_dialog = (ImageView) layout.findViewById(R.id.imageView_custom_dialog_close);
+		
+		//close_dialog.setOnClickListener(new View.OnClickListener() {
+			//public void onClick(View v) {
+			//	_alertDialog.dismiss();
+			//}
+		//});
+
+		 
+	
+/*
+		final WebView webview = (WebView) layout.findViewById(R.id.webView1);
+		// webview = new WebView(this);
+		webview.getSettings().setJavaScriptEnabled(true);
+		webview.setVerticalScrollBarEnabled(false);
+		webview.setHorizontalScrollBarEnabled(false);
+		webview.setVisibility(View.VISIBLE);
+		
+		System.out.println("webview requesting focus ("+ webview.hasFocus()+")");
+		webview.requestFocusFromTouch();
+		System.out.println("webview requested focus ("+ webview.hasFocus()+")");
+		
+        webview.setOnTouchListener(new View.OnTouchListener() {
+            @Override
+            public boolean onTouch(View v, MotionEvent event) {
+                switch (event.getAction()) {
+                    case MotionEvent.ACTION_DOWN:
+                    	System.out.println("MotionEvent Action Down"+ webview.hasFocus());
+                    case MotionEvent.ACTION_UP:
+                    	System.out.println("MotionEvent Action Up"+ webview.hasFocus());
+                        if (!v.hasFocus()) {
+                            //webview.requestFocus(View.FOCUS_DOWN);
+                            v.requestFocusFromTouch();
+                        }
+                        
+                        if (v instanceof EditText) {
+                        	System.out.println("EditText touched");
+                        }
+                        break;
+                }
+                return false;
+            }
+        });*/
+        //webview.requestFocus(View.FOCUS_DOWN);
+        //webview.requestFocusFromTouch();
+		/*
+		webview.setWebViewClient(new WebViewClient() {
+
+			private boolean shown = false;
+
+			@Override
+			public void onPageFinished(WebView view, String url) {
+				if (!shown) {
+					System.out.println("onPageFinished showing dialog: " + url);
+					// _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT); //todo try commenting this
+
+					//layout.requestFocus(View.FOCUS_DOWN);
+
+					
+					//_alertDialog.show();
+					shown = true;
+					_activity.setContentView(layout);
+				}
+			}
+
+			@Override
+			public void onPageStarted(WebView view, String url, Bitmap favicon) {
+				System.out.println("onPageStarted : " + url);
+				Uri uri = Uri.parse(url);
+
+				if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
+					System.out.println("Special callback URL was detected");
+					_requestTokenString = uri
+							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
+					_requestTokenVerifierString = uri
+							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
+
+					System.out.println("OAuth token: " + _requestTokenString);
+					System.out.println("OAuth verifier: "
+							+ _requestTokenVerifierString);
+					// webview.setVisibility(View.GONE);
+					// webview.destroy();
+					_alertDialog.dismiss(); // maybe use OnCancelListener?
+
+					// todo MOVE OAUTH CODE
+					
+					 * Verifier verifier = new
+					 * Verifier(_requestTokenVerifierString); Token accessToken
+					 * = _service.getAccessToken(_requestToken, verifier); //
+					 * the requestToken you had from step 2 OAuthRequest request
+					 * = new OAuthRequest(Verb.GET,
+					 * "http://api.twitter.com/1/account/verify_credentials.xml"
+					 * ); _service.signRequest(accessToken, request); // the
+					 * access // token from // step 4 Response response =
+					 * request.send();
+					 * 
+					 * System.out.println(response.getBody());
+					 
+				}
+			}
+
+		});*/
+		 //webview.requestFocus(View.FOCUS_DOWN);
+		//_alertDialog.show();
+		
+		
+		//webview.loadUrl(authUrl);
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java
new file mode 100644
index 0000000..cccd470
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProvider.java
@@ -0,0 +1,173 @@
+package com.lollapaloozer.auth;
+
+import java.util.ArrayList;
+import java.util.HashMap;
+
+import org.scribe.model.Response;
+import org.scribe.model.Verb;
+
+import android.app.Activity;
+import android.content.Intent;
+
+
+import com.lollapaloozer.Constants;
+
+public class TwitterAuthProvider implements AuthProvider {
+	private AuthDemoActivity _activity;
+
+	private TwitterAuthProviderOAuth _oAuthProvider;
+	private HashMap<String, String> _twitterAccountProperties;
+	private ArrayList<String> _twitterAccountPropertyNames;
+	private boolean _isLoggedIn;
+
+	private final String ACCOUNT_PROPERTY_ID = "id";
+	private final String ACCOUNT_PROPERTY_NAME = "name";
+	private final String ACCOUNT_PROPERTY_HANDLE = "screen_name";
+
+	// private String _key;
+	// private String _secret;
+	// Consumer key yit4Mu71Mj93eNILUo3uCw
+	// Consumer secret rdYvdK4g3ckWVdnvzmAj6JXmj9RoI05rIb4nVYQsoI
+
+	public TwitterAuthProvider(AuthDemoActivity activity) {
+		_activity = activity;
+		_oAuthProvider = new TwitterAuthProviderOAuth(Constants.CONSUMER_KEY,
+				Constants.CONSUMER_SECRET, Constants.OAUTH_CALLBACK_URL);
+		_twitterAccountPropertyNames = new ArrayList<String>();
+		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_ID);
+		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_NAME);
+		_twitterAccountPropertyNames.add(ACCOUNT_PROPERTY_HANDLE);
+		_isLoggedIn = false;
+	}
+
+	// //This does work, although it launches the device browser directly
+	// @Override
+	// public void login() {
+	// try {
+	// CommonsHttpOAuthConsumer consumer = new CommonsHttpOAuthConsumer(_key,
+	// _secret);
+	// DefaultOAuthProvider provider = new
+	// DefaultOAuthProvider("https://twitter.com/oauth/request_token",
+	// "https://twitter.com/oauth/access_token",
+	// "https://twitter.com/oauth/authorize");
+	// String authUrl = provider.retrieveRequestToken(consumer,
+	// "http://callback_url"); //todo fix this
+	// Toast.makeText(_activity, "Please authorize this app!",
+	// Toast.LENGTH_LONG).show();
+	// //setConsumerProvider();
+	// _activity.startActivity(new Intent(Intent.ACTION_VIEW,
+	// Uri.parse(authUrl)));
+	// } catch (Exception e) {
+	// Toast.makeText(_activity, e.getMessage(), Toast.LENGTH_LONG).show();
+	// }
+	// }
+
+	// //Copied from library example page, this could not be made to work
+	// @Override
+	// public void login() {
+	// TwitterFactory factory = new TwitterFactory();
+	// Twitter twitter = factory.getInstance();
+	//
+	// RequestToken requestToken;
+	// try {
+	// twitter.setOAuthConsumer("_key", "_secret");
+	// requestToken = twitter.getOAuthRequestToken(); //throws TwitterException
+	// System.out.println("Open the following URL and grant access to your account:");
+	// System.out.println(requestToken.getAuthorizationURL());
+	//
+	//
+	// //twitter.setOAuthAccessToken(accessToken);
+	//
+	//
+	//
+	// } catch (TwitterException e) {
+	// // TODO Auto-generated catch block
+	// int statusCode = e.getStatusCode();
+	// String exceptionCode = e.getExceptionCode();
+	// String exceptionMessage = e.getMessage();
+	// e.printStackTrace();
+	// }
+	//
+	// }
+
+	@Override
+	public boolean isLoggedIn() {
+		return _isLoggedIn;
+	}
+
+	@Override
+	public void login() {
+		String authReqTokenUrl = _oAuthProvider.getRequestTokenUrl();
+		TwitterAuthDialogPresenter twitterAuthDialog = new TwitterAuthDialogPresenter(
+				_activity);
+		twitterAuthDialog.showDialog(authReqTokenUrl);
+
+	}
+
+	@Override
+	public void logout() {
+		_isLoggedIn = false;
+	}
+
+	@Override
+	public String getAccountType() {
+		return "twitter (custom implementation)";
+	}
+
+	@Override
+	public String getLocalAccountName() {
+		return _twitterAccountProperties.get(ACCOUNT_PROPERTY_HANDLE) + "("
+				+ _twitterAccountProperties.get(ACCOUNT_PROPERTY_NAME) + ")";
+	}
+
+	@Override
+	public String getVerifiedAccountIdentifier() {
+		// Not available through twitter
+		return _twitterAccountProperties.get(ACCOUNT_PROPERTY_ID);
+	}
+
+	@Override
+	public String getAuthToken() {
+		return _oAuthProvider.getAccessToken();
+	}
+
+	@Override
+	public void extendAccess() {
+		// TODO Auto-generated method stub
+
+	}
+
+	public void requestTokenCallback(int requestCode, int resultCode,
+			Intent data) {
+		if (resultCode == Activity.RESULT_OK) {
+			String token = data
+					.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN);
+			String verifier = data
+					.getStringExtra(Constants.INTENT_EXTRA_OAUTH1_VERIFIER);
+			_oAuthProvider.requestTokenResult(token, verifier);
+		}
+
+		Response response = _oAuthProvider.accessResource(Verb.GET,
+				"http://api.twitter.com/1/account/verify_credentials.xml");
+		String responseBody = response.getBody();
+		// System.out.println(response.getBody());
+
+		_twitterAccountProperties = new HashMap<String, String>();
+
+		for (String s : _twitterAccountPropertyNames) {
+			_twitterAccountProperties.put(s,
+					Helper.readXmlProperty(s, responseBody));
+		}
+
+		// If data is meaningful, set logged in flag;
+		if (getLocalAccountName() != null
+				&& getVerifiedAccountIdentifier() != null) {
+			_isLoggedIn = true;
+			System.out.println("Twitter Authentication Successful");
+			_activity.modelChanged();
+		} else {
+			System.out.println("Twitter Authentication was not successful");
+		}
+	}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
new file mode 100644
index 0000000..f69e2e5
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthProviderOAuth.java
@@ -0,0 +1,60 @@
+package com.lollapaloozer.auth;
+
+import org.scribe.builder.ServiceBuilder;
+import org.scribe.builder.api.TwitterApi;
+import org.scribe.model.OAuthRequest;
+import org.scribe.model.Response;
+import org.scribe.model.Token;
+import org.scribe.model.Verb;
+import org.scribe.model.Verifier;
+import org.scribe.oauth.OAuthService;
+
+import android.graphics.Bitmap;
+import android.net.Uri;
+import android.view.View;
+import android.webkit.WebView;
+import android.webkit.WebViewClient;
+
+public class TwitterAuthProviderOAuth {
+
+	private OAuthService _service;
+	private Token _requestToken;
+	private Token _accessToken;
+	private String _consumerKey;
+	private String _consumerSecret;
+	private String _callbackUrl;
+	
+	public TwitterAuthProviderOAuth(String consumerKey, String consumerSecret, String callbackUrl) {
+		_consumerKey = consumerKey;
+		_consumerSecret = consumerSecret;
+		_callbackUrl = callbackUrl;
+	}
+
+	public String getRequestTokenUrl() {
+		_service = new ServiceBuilder().provider(TwitterApi.class)
+				.apiKey(_consumerKey)
+				.apiSecret(_consumerSecret)
+				.callback(_callbackUrl).build();
+		_requestToken = _service.getRequestToken();
+
+		String authUrl = _service.getAuthorizationUrl(_requestToken);
+		System.out.println("Twitter OAuth request token URL:" + authUrl);
+		return authUrl;
+	}
+
+	public void requestTokenResult(String token, String tokenVerify) {
+		  Verifier verifier = new Verifier(tokenVerify);
+		  _accessToken = _service.getAccessToken(_requestToken, verifier); //the requestToken you had from step 2 OAuthRequest request
+		  
+	}
+	
+	public Response accessResource(Verb httpVerb, String resourceUrl) {
+		OAuthRequest request = new OAuthRequest(httpVerb, resourceUrl); 
+		_service.signRequest(_accessToken, request); // the access // token from // step 4 Response response =
+		return request.send();
+	}
+	
+	public String getAccessToken() {
+		return _accessToken.getToken();
+	}
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java
new file mode 100644
index 0000000..9b820ec
--- /dev/null
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/auth/TwitterAuthWebpageActivity.java
@@ -0,0 +1,108 @@
+package com.lollapaloozer.auth;
+
+
+import com.lollapaloozer.Constants;
+import com.lollapaloozer.R;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.graphics.Bitmap;
+import android.net.Uri;
+import android.os.Bundle;
+import android.view.MotionEvent;
+import android.view.View;
+import android.webkit.WebView;
+import android.webkit.WebViewClient;
+import android.widget.EditText;
+import android.widget.ImageView;
+
+public class TwitterAuthWebpageActivity extends Activity {
+
+	@Override
+	protected void onCreate(Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
+		setContentView(R.layout.twitter_auth_dialog);
+		
+		Intent callingIntent = getIntent();
+		String authUrl = callingIntent.getStringExtra(Constants.INTENT_EXTRA_ALIAS_TWITTER_AUTH);
+		
+		
+		
+		ImageView close_dialog = (ImageView) findViewById(R.id.imageView_custom_dialog_close);
+		
+		close_dialog.setOnClickListener(new View.OnClickListener() {
+			public void onClick(View v) {
+				setResult(Activity.RESULT_CANCELED);
+				finish();
+			}
+		});
+		
+		WebView webview = (WebView) findViewById(R.id.webView1);
+		// webview = new WebView(this);
+		webview.getSettings().setJavaScriptEnabled(true);
+		webview.setVerticalScrollBarEnabled(false);
+		webview.setHorizontalScrollBarEnabled(false);
+		webview.setVisibility(View.VISIBLE);
+		
+		//System.out.println("webview requesting focus ("+ webview.hasFocus()+")");
+		//webview.requestFocusFromTouch();
+		//System.out.println("webview requested focus ("+ webview.hasFocus()+")");
+
+		webview.setWebViewClient(new WebViewClient() {
+
+			private boolean shown = false;
+			private String _requestTokenString;
+			private String _requestTokenVerifierString;
+
+			@Override
+			public void onPageFinished(WebView view, String url) {
+				//if (!shown) {
+					System.out.println("onPageFinished showing dialog: " + url);
+					// _alertDialog.getWindow().setLayout(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT); //todo try commenting this
+
+
+					//_alertDialog.show();
+					//shown = true;
+					//_activity.setContentView(layout);
+				//}
+			}
+
+			@Override
+			public void onPageStarted(WebView view, String url, Bitmap favicon) {
+				System.out.println("onPageStarted : " + url);
+				Uri uri = Uri.parse(url);
+
+				if (url.startsWith(Constants.OAUTH_CALLBACK_URL) && url != null) {
+					System.out.println("Special callback URL was detected");
+					_requestTokenString = uri
+							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_TOKEN);
+					_requestTokenVerifierString = uri
+							.getQueryParameter(Constants.OAUTH_CALLBACK_PARAM_VERIFIER);
+
+					System.out.println("OAuth token: "+ _requestTokenString);
+					System.out.println("OAuth verifier: "+ _requestTokenVerifierString);
+					// webview.setVisibility(View.GONE);
+					// webview.destroy();
+					
+					Intent resultIntent = new Intent();
+					resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_TOKEN, _requestTokenString);
+					resultIntent.putExtra(Constants.INTENT_EXTRA_OAUTH1_VERIFIER, _requestTokenVerifierString);
+					setResult(RESULT_OK, resultIntent);
+					finish();
+
+				}
+			}
+
+		});
+		 //webview.requestFocus(View.FOCUS_DOWN);
+		//_alertDialog.show();
+		webview.loadUrl(authUrl);
+	}
+
+	@Override
+	protected void onResume() {
+		// TODO Auto-generated method stub
+		super.onResume();
+	}
+
+}
diff --git a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
index 5646197..28000aa 100644
--- a/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
+++ b/Lollapaloozer-Android/src/com/lollapaloozer/ui/LollapaloozerActivity.java
@@ -30,0 +31 @@ import android.widget.Toast;
+import com.lollapaloozer.Constants;
@@ -41,2 +42,3 @@ import com.ratethisfest.shared.FieldVerifier;
-public class LollapaloozerActivity extends Activity implements View.OnClickListener,
-    OnItemSelectedListener, OnItemClickListener, OnCheckedChangeListener {
+public class LollapaloozerActivity extends Activity implements
+		View.OnClickListener, OnItemSelectedListener, OnItemClickListener,
+		OnCheckedChangeListener {
@@ -44,3 +46,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private static final int DIALOG_RATE = 1;
-  private static final int DIALOG_GETEMAIL = 2;
-  private static final int DIALOG_NETWORK_ERROR = 3;
+	private static final int DIALOG_RATE = 1;
+	private static final int DIALOG_GETEMAIL = 2;
+	private static final int DIALOG_NETWORK_ERROR = 3;
@@ -48,2 +50,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private static final int THREAD_UPDATE_UI = 1;
-  private static final int THREAD_SUBMIT_RATING = 2;
+	private static final int THREAD_UPDATE_UI = 1;
+	private static final int THREAD_SUBMIT_RATING = 2;
@@ -51,2 +53,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private static final int SORT_TIME = 1;
-  private static final int SORT_ARTIST = 2;
+	private static final int SORT_TIME = 1;
+	private static final int SORT_ARTIST = 2;
@@ -54,4 +56,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  // Local Storage
-  private static final String DATA_USER_EMAIL = "DATA_USER_EMAIL";
-  private static final String DATA_SETS = "DATA_SETS";
-  private static final String DATA_RATINGS = "DATA_RATINGS";
+	// Local Storage
+	private static final String DATA_USER_EMAIL = "DATA_USER_EMAIL";
+	private static final String DATA_SETS = "DATA_SETS";
+	private static final String DATA_RATINGS = "DATA_RATINGS";
@@ -59,8 +61,8 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  // Database
-  public static final String QUERY_RATINGS__SET_ID = "set_id";
-  public static final String QUERY_RATINGS__WEEK = "weekend";
-  public static final String QUERY_SETS__SET_ID = "id";
-  public static final String QUERY_SETS__DAY = "day";
-  public static final String QUERY_SETS__TIME_ONE = "time_one";
-  public static final String QUERY_SETS__STAGE_ONE = "stage_one";
-  public static final String QUERY_RATINGS__RATING = "score";
+	// Database
+	public static final String QUERY_RATINGS__SET_ID = "set_id";
+	public static final String QUERY_RATINGS__WEEK = "weekend";
+	public static final String QUERY_SETS__SET_ID = "id";
+	public static final String QUERY_SETS__DAY = "day";
+	public static final String QUERY_SETS__TIME_ONE = "time_one";
+	public static final String QUERY_SETS__STAGE_ONE = "stage_one";
+	public static final String QUERY_RATINGS__RATING = "score";
@@ -68 +70 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private static final int REFRESH_INTERVAL__SECONDS = 15;
+	private static final int REFRESH_INTERVAL__SECONDS = 15;
@@ -70,4 +72,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private int _yearToQuery;
-  private String _dayToExamine;
-  private int _sortMode;
-  private long _lastRefresh = 0;
+	private int _yearToQuery;
+	private String _dayToExamine;
+	private int _sortMode;
+	private long _lastRefresh = 0;
@@ -75,2 +77,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private String _timeFieldName;
-  private String _stageFieldName;
+	private String _timeFieldName;
+	private String _stageFieldName;
@@ -78,3 +80,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private Dialog _lastRateDialog;
-  private Dialog _lastGetEmailDialog;
-  private Dialog _lastNetworkErrorDialog;
+	private Dialog _lastRateDialog;
+	private Dialog _lastGetEmailDialog;
+	private Dialog _lastNetworkErrorDialog;
@@ -82,6 +84,7 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private String _obtained_email = null;
-  private CustomSetListAdapter _setListAdapter;
-  private JSONObject _lastItemSelected;
-  private CustomPair<String, String> _lastRatings = new CustomPair<String, String>(null, null);
-  private HashMap<Integer, Integer> _ratingSelectedIdToValue = new HashMap<Integer, Integer>();
-  private HashMap<String, Integer> _ratingSelectedScoreToId = new HashMap<String, Integer>();
+	private String _obtained_email = null;
+	private CustomSetListAdapter _setListAdapter;
+	private JSONObject _lastItemSelected;
+	private CustomPair<String, String> _lastRatings = new CustomPair<String, String>(
+			null, null);
+	private HashMap<Integer, Integer> _ratingSelectedIdToValue = new HashMap<Integer, Integer>();
+	private HashMap<String, Integer> _ratingSelectedScoreToId = new HashMap<String, Integer>();
@@ -89,2 +92,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private LollapaloozerStorageManager _storageManager;
-  private int _ratingSelectedScore;
+	private LollapaloozerStorageManager _storageManager;
+	private int _ratingSelectedScore;
@@ -92,3 +95,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private JSONArrayHashMap _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID,
-      QUERY_RATINGS__WEEK);
-  private boolean _networkErrors;
+	private JSONArrayHashMap _myRatings_JAHM = new JSONArrayHashMap(
+			QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
+	private boolean _networkErrors;
@@ -96 +99 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  private Handler _networkIOHandler;
+	private Handler _networkIOHandler;
@@ -98 +101 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  /** Called by Android Framework when the activity is first created. */
+	/** Called by Android Framework when the activity is first created. */
@@ -100,3 +103,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  @Override
-  public void onCreate(Bundle savedInstanceState) {
-    super.onCreate(savedInstanceState);
+	@Override
+	public void onCreate(Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
@@ -104 +107 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    LollapaloozerApplication.debug(this, "LollapaloozerActivity Launched");
+		LollapaloozerApplication.debug(this, "LollapaloozerActivity Launched");
@@ -106,5 +109,5 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    _ratingSelectedIdToValue.put(R.id.radio_button_score1, 1);
-    _ratingSelectedIdToValue.put(R.id.radio_button_score2, 2);
-    _ratingSelectedIdToValue.put(R.id.radio_button_score3, 3);
-    _ratingSelectedIdToValue.put(R.id.radio_button_score4, 4);
-    _ratingSelectedIdToValue.put(R.id.radio_button_score5, 5);
+		_ratingSelectedIdToValue.put(R.id.radio_button_score1, 1);
+		_ratingSelectedIdToValue.put(R.id.radio_button_score2, 2);
+		_ratingSelectedIdToValue.put(R.id.radio_button_score3, 3);
+		_ratingSelectedIdToValue.put(R.id.radio_button_score4, 4);
+		_ratingSelectedIdToValue.put(R.id.radio_button_score5, 5);
@@ -112,5 +115,5 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    _ratingSelectedScoreToId.put("1", R.id.radio_button_score1);
-    _ratingSelectedScoreToId.put("2", R.id.radio_button_score2);
-    _ratingSelectedScoreToId.put("3", R.id.radio_button_score3);
-    _ratingSelectedScoreToId.put("4", R.id.radio_button_score4);
-    _ratingSelectedScoreToId.put("5", R.id.radio_button_score5);
+		_ratingSelectedScoreToId.put("1", R.id.radio_button_score1);
+		_ratingSelectedScoreToId.put("2", R.id.radio_button_score2);
+		_ratingSelectedScoreToId.put("3", R.id.radio_button_score3);
+		_ratingSelectedScoreToId.put("4", R.id.radio_button_score4);
+		_ratingSelectedScoreToId.put("5", R.id.radio_button_score5);
@@ -118,2 +121,2 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    _storageManager = new LollapaloozerStorageManager(this);
-    _storageManager.load();
+		_storageManager = new LollapaloozerStorageManager(this);
+		_storageManager.load();
@@ -121 +124 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    // initJAHM(); //Only initialized once
+		// initJAHM(); //Only initialized once
@@ -123,4 +126,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    setContentView(R.layout.sets_list);
-    _setListAdapter = new CustomSetListAdapter(this, QUERY_SETS__TIME_ONE, QUERY_SETS__STAGE_ONE,
-        _myRatings_JAHM);
-    _setListAdapter.setData(new JSONArray());
+		setContentView(R.layout.sets_list);
+		_setListAdapter = new CustomSetListAdapter(this, QUERY_SETS__TIME_ONE,
+				QUERY_SETS__STAGE_ONE, _myRatings_JAHM);
+		_setListAdapter.setData(new JSONArray());
@@ -128,3 +131,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-    viewSetsList.setAdapter(_setListAdapter);
-    viewSetsList.setOnItemClickListener(this);
+		ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+		viewSetsList.setAdapter(_setListAdapter);
+		viewSetsList.setOnItemClickListener(this);
@@ -132,2 +135,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    Button buttonSearchSets = (Button) this.findViewById(R.id.buttonChangeToSearchSets);
-    buttonSearchSets.setOnClickListener(this);
+		Button buttonSearchSets = (Button) this
+				.findViewById(R.id.buttonChangeToSearchSets);
+		buttonSearchSets.setOnClickListener(this);
@@ -135,3 +139,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
-    LollapaloozerApplication.populateSpinnerWithArray(spinnerSortType, R.array.search_types);
-    spinnerSortType.setOnItemSelectedListener(this);
+		Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
+		LollapaloozerApplication.populateSpinnerWithArray(spinnerSortType,
+				R.array.search_types);
+		spinnerSortType.setOnItemSelectedListener(this);
@@ -139,3 +144,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    _yearToQuery = LollapaloozerApplication.whatYearIsToday();
-    _dayToExamine = LollapaloozerApplication.whatDayIsToday();
-    _sortMode = SORT_TIME;
+		_yearToQuery = LollapaloozerApplication.whatYearIsToday();
+		_dayToExamine = LollapaloozerApplication.whatDayIsToday();
+		_sortMode = SORT_TIME;
@@ -143 +148 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    // Above here is stuff to be done once
+		// Above here is stuff to be done once
@@ -145,3 +150,3 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    _networkIOHandler = new Handler() {
-      @Override
-      public void handleMessage(Message msg) {
+		_networkIOHandler = new Handler() {
+			@Override
+			public void handleMessage(Message msg) {
@@ -149 +154 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        super.handleMessage(msg);
+				super.handleMessage(msg);
@@ -151,4 +156,4 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        if (msg.what == THREAD_UPDATE_UI) {
-          System.out.println("Executing update UI thread callback ");
-          redrawUI();
-        }
+				if (msg.what == THREAD_UPDATE_UI) {
+					System.out.println("Executing update UI thread callback ");
+					redrawUI();
+				}
@@ -156,5 +161,6 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-        if (msg.what == THREAD_SUBMIT_RATING) {
-          System.out.println("Executing submit rating thread callback ");
-          doSubmitRating(_ratingSelectedScore + "");
-        }
-      }
+				if (msg.what == THREAD_SUBMIT_RATING) {
+					System.out
+							.println("Executing submit rating thread callback ");
+					doSubmitRating(_ratingSelectedScore + "");
+				}
+			}
@@ -162 +168 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    };
+		};
@@ -164 +170 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-    processExtraData();
+		processExtraData();
@@ -166 +172 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  }
+	}
@@ -168,550 +174,620 @@ public class LollapaloozerActivity extends Activity implements View.OnClickListe
-  protected void redrawUI() {
-    try {
-      setView_reSort();
-
-    } catch (JSONException e) {
-      // TODO Auto-generated catch block
-      e.printStackTrace();
-    }
-
-    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-    viewSetsList.invalidateViews();
-
-    LollapaloozerApplication.debug(this, "Data Refresh is complete");
-    _lastRefresh = System.currentTimeMillis();
-
-    if (!_networkErrors) {
-      _storageManager.save(); // TODO only if both sets and ratings were
-                              // retrieved
-
-    } else {
-      showDialog(DIALOG_NETWORK_ERROR);
-    }
-  }
-
-  /** Called by Android Framework when activity (re)gains foreground status */
-  public void onResume() {
-    super.onResume();
-
-    if ((System.currentTimeMillis() - _lastRefresh) / 1000 > REFRESH_INTERVAL__SECONDS) {
-      refreshData(); // TODO multi-thread this
-    }
-
-    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 20);
-    clickToRate.show();
-  }
-
-  private void obtainEmailFromStorage() {
-    String loadedEmail = _storageManager.getString(DATA_USER_EMAIL);
-
-    if ((loadedEmail != null) && FieldVerifier.isValidEmail(loadedEmail)) {
-      _obtained_email = loadedEmail;
-    }
-
-    LollapaloozerApplication.debug(this, "Using email: " + _obtained_email + ", on disk:["
-        + loadedEmail + "]");
-
-  }
-
-  // Only called once, so commented out.
-  /*
-   * private void initJAHM() { LollapaloozerApplication.debug(this,
-   * "initJAHM()"); _myRatings_JAHM = new
-   * JSONArrayHashMap(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK); }
-   */
-
-  private void refreshData() {
-    // Below here is stuff to be done each refresh
-    _networkErrors = false;
-
-    if (!_dayToExamine.equals("Friday") && !_dayToExamine.equals("Saturday")
-        && !_dayToExamine.equals("Sunday")) {
-      _dayToExamine = "Friday";
-    }
-
-    _timeFieldName = QUERY_SETS__TIME_ONE;
-    _stageFieldName = QUERY_SETS__STAGE_ONE;
-
-    TextView titleView = (TextView) this.findViewById(R.id.text_set_list_title);
-    titleView.setText(_dayToExamine + ", Year " + _yearToQuery);
-    // +" "+ weekString);
-    _setListAdapter.setTimeFieldName(_timeFieldName);
-    _setListAdapter.setStageFieldName(_stageFieldName);
-
-    obtainEmailFromStorage();
-
-    launchGetDataThread(); // TODO multithread this
-  }
-
-  private void launchGetDataThread() {
-    LollapaloozerApplication.debug(this, "Launching getData thread");
-
-    new Thread() {
-      public void run() {
-        try {
-          doNetworkOperations();
-        } catch (JSONException e) {
-          // TODO Auto-generated catch block
-          e.printStackTrace();
-        }
-        _networkIOHandler.sendEmptyMessage(THREAD_UPDATE_UI);
-      }
-    }.start();
-    LollapaloozerApplication.debug(this, "getData thread launched");
-  }
-
-  private void launchSubmitRatingThread() {
-    LollapaloozerApplication.debug(this, "Launching Rating thread");
-
-    new Thread() {
-      public void run() {
-        try {
-          doNetworkOperations();
-        } catch (JSONException e) {
-          // TODO Auto-generated catch block
-          e.printStackTrace();
-        }
-        Message msgToSend = Message.obtain(_networkIOHandler, THREAD_SUBMIT_RATING);
-        msgToSend.sendToTarget();
-      }
-    }.start();
-    LollapaloozerApplication.debug(this, "Rating thread launched");
-
-  }
-
-  public void doNetworkOperations() throws JSONException {
-
-    LollapaloozerApplication.debug(this, "rebuildJAHM()");
-    if (_obtained_email != null) { // Get my ratings
-
-      JSONArray myRatings = null;
-      try {
-        // TODO: year can remain hardcoded for now (to force users to update app
-        // in future)
-        myRatings = LollapaloozerServiceUtils.getRatings(_obtained_email, "2012", _dayToExamine, this);
-        _storageManager.putJSONArray(DATA_RATINGS, myRatings);
-      } catch (Exception e1) {
-        _networkErrors = true;
-        LollapaloozerApplication.debug(this,
-            "Exception getting Ratings data, loading from storage if available");
-        try {
-          myRatings = _storageManager.getJSONArray(DATA_RATINGS);
-        } catch (JSONException e) {
-          e.printStackTrace();
-          LollapaloozerApplication.debug(this, "JSONException loading ratings from storage");
-        }
-      }
-
-      try {
-        // TODO this may not be correct. JAHM should only be initialized once.
-        // _myRatings_JAHM = new JSONArrayHashMap(myRatings,
-        // QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
-
-        if (myRatings == null) {
-          LollapaloozerApplication.debug(this, "Had to initialize ratings data JSONArray");
-          myRatings = new JSONArray();
-        }
-
-        _myRatings_JAHM.rebuildDataWith(myRatings);
-
-      } catch (JSONException e) {
-        // TODO Auto-generated catch block
-        // Could not get my ratings :(
-        e.printStackTrace();
-      }
-    } else {
-      // TODO This may not be correct. initJAHM() may have already been called
-      // on startup and
-      // TODO the reference to the JAHM may have been passed to the adapter
-      // already
-      // initJAHM(); //Commented in hope of addressing crash issue
-
-      // Need to wipe out ratings if email was just deleted
-      _myRatings_JAHM.wipeData();
-    }
-
-    // New strategy does not re-instantiate this object, this line should not be
-    // needed
-    // _setListAdapter.setNewJAHM(_myRatings_JAHM);
-
-    JSONArray setData = null;
-    try {
-      // TODO: pass proper values (year can remain hard-coded for now)
-      setData = LollapaloozerServiceUtils.getSets("2012", _dayToExamine, this);
-      _storageManager.putJSONArray(DATA_SETS, setData);
-    } catch (Exception e) {
-      _networkErrors = true;
-      LollapaloozerApplication.debug(this,
-          "Exception getting Set data, loading from storage if available");
-      setData = _storageManager.getJSONArray(DATA_SETS);
-    }
-
-    if (setData == null) {
-      LollapaloozerApplication.debug(this, "Had to initialize set data JSONArray");
-      setData = new JSONArray();
-    }
-    _setListAdapter.setData(setData);
-  }
-
-  public void doSubmitRating(String scoreSelectedValue) {
-    // submit rating
-    // If Exception is thrown, do not store rating locally
-    try {
-      String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
-
-      LollapaloozerServiceUtils.addRating(_storageManager.getString(DATA_USER_EMAIL), set_id,
-          scoreSelectedValue, this);
-
-      // Need this in order to make the new rating appear in real time
-
-      try {
-        JSONObject newObj = new JSONObject();
-        newObj.put(QUERY_RATINGS__SET_ID, set_id);
-        newObj.put(QUERY_RATINGS__WEEK, "1"); // TODO leave in hard-coded for
-                                              // now
-        newObj.put(QUERY_RATINGS__RATING, scoreSelectedValue);
-
-        // CRITICAL that the keys are listed in this order
-        _myRatings_JAHM.addValues(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK, newObj);
-
-        // Don't need since we are refreshing
-        // ListView viewSetsList = (ListView)
-        // findViewById(R.id.viewSetsList);
-        // viewSetsList.invalidateViews();
-
-      } catch (JSONException e) {
-        // TODO Auto-generated catch block
-        e.printStackTrace();
-      }
-
-      refreshData(); // If this is removed, uncomment ListView and
-                     // invalidate
-                     // above ^^^
-
-    } catch (Exception e1) {
-      LollapaloozerApplication.debug(this, "Error submitting rating");
-      e1.printStackTrace();
-      showDialog(DIALOG_NETWORK_ERROR);
-    }
-  }
-
-  // An item was selected from the list of sets
-  @Override
-  public void onItemSelected(AdapterView<?> parent, View arg1, int arg2, long arg3) {
-
-    // TODO Auto-generated method stub
-    LollapaloozerApplication.debug(this,
-        "Search Type Spinner: Selected -> " + parent.getSelectedItem() + "(" + arg2 + ")");
-    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-
-    try {
-      if (parent.getSelectedItem().toString().toLowerCase().equals("time")) {
-        _sortMode = SORT_TIME;
-
-      } else if (parent.getSelectedItem().toString().toLowerCase().equals("artist")) {
-        _sortMode = SORT_ARTIST;
-      }
-
-      setView_reSort();
-      viewSetsList.invalidateViews();
-    } catch (JSONException e) {
-      LollapaloozerApplication.debug(this, "JSONException re-sorting data");
-      e.printStackTrace();
-    }
-  }
-
-  private void setView_reSort() throws JSONException {
-    if (_sortMode == SORT_TIME) {
-      _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
-    } else if (_sortMode == SORT_ARTIST) {
-      _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
-    } else {
-      LollapaloozerApplication.debug(this, "Unexpected sort mode: " + _sortMode);
-      (new Exception()).printStackTrace();
-    }
-  }
-
-  @Override
-  public void onNothingSelected(AdapterView<?> arg0) {
-    LollapaloozerApplication.debug(this, "Search Type Spinner: Nothing Selected");
-    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
-    spinnerSortType.setSelection(0);
-  }
-
-  // Any button in any view or dialog was clicked
-  @Override
-  public void onClick(View viewClicked) {
-
-    if (viewClicked.getId() == R.id.button_provideEmail) {
-      EditText emailField = (EditText) _lastGetEmailDialog.findViewById(R.id.textField_enterEmail);
-      String email = emailField.getText().toString();
-
-      LollapaloozerApplication.debug(this, "User provided email address: " + email);
-
-      // if (!android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
-      if (!FieldVerifier.isValidEmail(email)) {
-        Toast invalidEmail = Toast.makeText(this, "Please enter your real email address.", 25);
-        invalidEmail.show();
-
-      } else { // Email is valid. Save email and let user get on with rating
-        _storageManager.putString(DATA_USER_EMAIL, email);
-        _storageManager.save();
-        _obtained_email = email;
-        _lastGetEmailDialog.dismiss();
-        showDialog(DIALOG_RATE);
-      }
-    }
-
-    if (viewClicked.getId() == R.id.button_declineEmail) {
-      _lastGetEmailDialog.dismiss();
-
-    }
-
-    if (viewClicked.getId() == R.id.buttonChangeToSearchSets) {
-      System.out.println("Button: Switch Day");
-      Intent intent = new Intent();
-      intent.setClass(this, ActivitySetsSearch.class);
-      startActivity(intent);
-    }
-
-    // Submit rating for a set
-    if (viewClicked.getId() == R.id.button_rate_okgo) { // Selections incomplete
-      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
-      int scoreSelectedId = scoreGroup.getCheckedRadioButtonId();
-
-      if (scoreSelectedId == -1) {
-        Toast selectEverything = Toast.makeText(this, "Please select a rating for this Set", 25);
-        selectEverything.show();
-
-      } else { // Selections are valid
-        _ratingSelectedScore = _ratingSelectedIdToValue.get(scoreSelectedId);
-
-        LollapaloozerApplication.debug(this, "Score[" + _ratingSelectedScore + "] ScoreId["
-            + scoreSelectedId + "]");
-
-        // scoreGroup.clearCheck();
-        _lastRateDialog.dismiss();
-
-        launchSubmitRatingThread();
-      }
-    } // End rating dialog submitted
-
-    if (viewClicked.getId() == R.id.button_rate_cancel) {
-      // Dialog dialog = (Dialog) viewClicked.getParent();
-      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
-      // scoreGroup.clearCheck();
-      _lastRateDialog.dismiss();
-    }
-
-    if (viewClicked.getId() == R.id.button_network_error_ok) {
-      _lastNetworkErrorDialog.dismiss();
-    }
-
-  }
-
-  // An item in the ListView of sets is clicked
-  @Override
-  public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
-    JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
-    _lastItemSelected = obj;
-
-    try {// TODO Hard coded strings means you are going to hell
-      String setId = _lastItemSelected.getString(QUERY_SETS__SET_ID);
-      JSONObject lastRatingWeek1 = _myRatings_JAHM.getJSONObject(setId, "1");
-
-      if (lastRatingWeek1 != null) {
-        _lastRatings.first = lastRatingWeek1.getString(QUERY_RATINGS__RATING);
-      } else {
-        _lastRatings.first = null;
-      }
-
-    } catch (JSONException e) {
-      LollapaloozerApplication.debug(this, "JSONException retrieving user's last rating");
-      e.printStackTrace();
-    }
-    LollapaloozerApplication.debug(this, "You Clicked On: " + obj + " previous ratings "
-        + _lastRatings.first + "/" + _lastRatings.second);
-
-    if (_obtained_email == null) {
-      showDialog(DIALOG_GETEMAIL);
-      // _tried_to_get_email = true;
-    } else {
-
-      showDialog(DIALOG_RATE);
-    }
-  }
-
-  // Dialog handling, called before any dialog is shown
-  @Override
-  protected void onPrepareDialog(int id, Dialog dialog) {
-
-    // Always call through to super implementation
-    super.onPrepareDialog(id, dialog);
-
-    if (id == DIALOG_RATE) {
-
-      // _lastRateDialog.setTitle("Rate this Set!");
-      try {
-        TextView subtitleText = (TextView) _lastRateDialog
-            .findViewById(R.id.text_rateBand_subtitle);
-        subtitleText.setText(_lastItemSelected.getString("artist"));
-
-      } catch (JSONException e) {
-        LollapaloozerApplication
-            .debug(this, "JSONException assigning Artist name to Rating dialog");
-        e.printStackTrace();
-      }
-
-    }
-
-  }
-
-  // Dialog handling, called once the first time this activity displays (a/each
-  // type of)? dialog
-  @Override
-  protected Dialog onCreateDialog(int id) {
-
-    if (id == DIALOG_GETEMAIL) {
-      _lastGetEmailDialog = new Dialog(this);
-      _lastGetEmailDialog.setContentView(R.layout.get_email_address);
-      _lastGetEmailDialog.setTitle("Keep Track of Everything");
-
-      EditText emailField = (EditText) _lastGetEmailDialog.findViewById(R.id.textField_enterEmail);
-
-      Button buttonOK = (Button) _lastGetEmailDialog.findViewById(R.id.button_provideEmail);
-      buttonOK.setOnClickListener(this);
-
-      Button buttonCancel = (Button) _lastGetEmailDialog.findViewById(R.id.button_declineEmail);
-      buttonCancel.setOnClickListener(this);
-
-      return _lastGetEmailDialog;
-    }
-
-    if (id == DIALOG_RATE) {
-      _lastRateDialog = new Dialog(this);
-      _lastRateDialog.setContentView(R.layout.dialog_rate_set);
-      _lastRateDialog.setTitle("Rate This Set!");
-
-      Button buttonOK = (Button) _lastRateDialog.findViewById(R.id.button_rate_okgo);
-      buttonOK.setOnClickListener(this);
-
-      Button buttonCancel = (Button) _lastRateDialog.findViewById(R.id.button_rate_cancel);
-      buttonCancel.setOnClickListener(this);
-      return _lastRateDialog;
-    }
-
-    if (id == DIALOG_NETWORK_ERROR) {
-      _lastNetworkErrorDialog = new Dialog(this);
-      _lastNetworkErrorDialog.setContentView(R.layout.dialog_network_error);
-      _lastNetworkErrorDialog.setTitle("Network Error");
-
-      Button buttonOK = (Button) _lastNetworkErrorDialog.findViewById(R.id.button_network_error_ok);
-      buttonOK.setOnClickListener(this);
-      return _lastNetworkErrorDialog;
-
-    }
-
-    return super.onCreateDialog(id);
-  }
-
-  protected void onNewIntent(Intent intent) {
-    super.onNewIntent(intent);
-    setIntent(intent);// must store the new intent unless getIntent() will
-                      // return the old one
-    processExtraData();
-  }
-
-  /**
-   * TODO: potentially make year a searchable field here
-   */
-  private void processExtraData() {
-    Intent intent = getIntent();
-    Bundle bundle = intent.getExtras();
-
-    if (bundle == null) {
-      return;
-    }
-
-    String day = intent.getExtras().getString("DAY");
-
-    LollapaloozerApplication.debug(this, "Searching day[" + day + "]");
-    _dayToExamine = day;
-    refreshData();
-  }
-
-  @Override
-  public boolean onCreateOptionsMenu(Menu menu) {
-    MenuInflater inflater = getMenuInflater();
-    inflater.inflate(R.menu.menu_global_options, menu);
-    return true;
-  }
-
-  @Override
-  public boolean onOptionsItemSelected(MenuItem item) {
-    switch (item.getItemId()) {
-    case R.id.menu_item_email_me:
-      LollapaloozerApplication.debug(this, "Menu button 'email me' pressed");
-
-      if (_obtained_email == null) {
-        Toast.makeText(this, "Try rating at least one set first", 15).show();
-      } else {
-        try {
-
-          Toast.makeText(this, "This feature coming soon!", 15).show();
-          // ServiceUtils.sendMyRatings(this, _obtained_email);
-        } catch (Exception e) {
-          LollapaloozerApplication.debug(this, "Error requesting ratings email");
-          e.printStackTrace();
-        }
-      }
-      return true;
-
-    case R.id.menu_item_delete_email:
-      LollapaloozerApplication.debug(this, "Menu button 'delete email' pressed");
-      _obtained_email = null;
-      _storageManager.putString(DATA_USER_EMAIL, null);
-      _storageManager.save();
-      refreshData();
-      return true;
-
-    default:
-      return super.onOptionsItemSelected(item);
-    }
-  }
-
-  @Override
-  public void onCheckedChanged(RadioGroup clickedGroup, int checkedId) {
-    // TODO should use switch
-    // RadioGroup scoreGroup = (RadioGroup)
-    // _lastRateDialog.findViewById(R.id.radio_pick_score);
-    // if (clickedGroup == _lastRateDialog.findViewById(R.id.radio_pick_week)) {
-    //
-    // if (checkedId == R.id.radio_button_week1 && _lastRatings.first != null) {
-    // int buttonIdToCheck = _ratingSelectedScoreToId.get(_lastRatings.first);
-    // RadioButton buttonToCheck = (RadioButton)
-    // _lastRateDialog.findViewById(buttonIdToCheck);
-    // buttonToCheck.setChecked(true);
-    //
-    // } else if (checkedId == R.id.radio_button_week2 && _lastRatings.second !=
-    // null) {
-    // LollapaloozerApplication.debug(this, "Last Rating " +
-    // _lastRatings.second);
-    // int buttonIdToCheck = _ratingSelectedScoreToId.get(_lastRatings.second);
-    // LollapaloozerApplication.debug(this, "Button id to check " +
-    // buttonIdToCheck);
-    // RadioButton buttonToCheck = (RadioButton)
-    // _lastRateDialog.findViewById(buttonIdToCheck); // TODO
-    // // duplicate
-    // // code
-    // buttonToCheck.setChecked(true);
-    //
-    // } else { // Not sure what is selected, clear rating check
-    //
-    // scoreGroup.clearCheck();
-    // }
-    //
-    // scoreGroup.invalidate();
-    //
-    // }
-
-  }
+	protected void redrawUI() {
+		try {
+			setView_reSort();
+
+		} catch (JSONException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		}
+
+		ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+		viewSetsList.invalidateViews();
+
+		LollapaloozerApplication.debug(this, "Data Refresh is complete");
+		_lastRefresh = System.currentTimeMillis();
+
+		if (!_networkErrors) {
+			_storageManager.save(); // TODO only if both sets and ratings were
+									// retrieved
+
+		} else {
+			showDialog(DIALOG_NETWORK_ERROR);
+		}
+	}
+
+	/** Called by Android Framework when activity (re)gains foreground status */
+	public void onResume() {
+		super.onResume();
+
+		if ((System.currentTimeMillis() - _lastRefresh) / 1000 > REFRESH_INTERVAL__SECONDS) {
+			refreshData(); // TODO multi-thread this
+		}
+
+		Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 20);
+		clickToRate.show();
+	}
+
+	private void obtainEmailFromStorage() {
+		String loadedEmail = _storageManager.getString(DATA_USER_EMAIL);
+
+		if ((loadedEmail != null) && FieldVerifier.isValidEmail(loadedEmail)) {
+			_obtained_email = loadedEmail;
+		}
+
+		LollapaloozerApplication.debug(this, "Using email: " + _obtained_email
+				+ ", on disk:[" + loadedEmail + "]");
+
+	}
+
+	// Only called once, so commented out.
+	/*
+	 * private void initJAHM() { LollapaloozerApplication.debug(this,
+	 * "initJAHM()"); _myRatings_JAHM = new
+	 * JSONArrayHashMap(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK); }
+	 */
+
+	private void refreshData() {
+		// Below here is stuff to be done each refresh
+		_networkErrors = false;
+
+		if (!_dayToExamine.equals("Friday")
+				&& !_dayToExamine.equals("Saturday")
+				&& !_dayToExamine.equals("Sunday")) {
+			_dayToExamine = "Friday";
+		}
+
+		_timeFieldName = QUERY_SETS__TIME_ONE;
+		_stageFieldName = QUERY_SETS__STAGE_ONE;
+
+		TextView titleView = (TextView) this
+				.findViewById(R.id.text_set_list_title);
+		titleView.setText(_dayToExamine + ", Year " + _yearToQuery);
+		// +" "+ weekString);
+		_setListAdapter.setTimeFieldName(_timeFieldName);
+		_setListAdapter.setStageFieldName(_stageFieldName);
+
+		obtainEmailFromStorage();
+
+		launchGetDataThread(); // TODO multithread this
+	}
+
+	private void launchGetDataThread() {
+		LollapaloozerApplication.debug(this, "Launching getData thread");
+
+		new Thread() {
+			public void run() {
+				try {
+					doNetworkOperations();
+				} catch (JSONException e) {
+					// TODO Auto-generated catch block
+					e.printStackTrace();
+				}
+				_networkIOHandler.sendEmptyMessage(THREAD_UPDATE_UI);
+			}
+		}.start();
+		LollapaloozerApplication.debug(this, "getData thread launched");
+	}
+
+	private void launchSubmitRatingThread() {
+		LollapaloozerApplication.debug(this, "Launching Rating thread");
+
+		new Thread() {
+			public void run() {
+				try {
+					doNetworkOperations();
+				} catch (JSONException e) {
+					// TODO Auto-generated catch block
+					e.printStackTrace();
+				}
+				Message msgToSend = Message.obtain(_networkIOHandler,
+						THREAD_SUBMIT_RATING);
+				msgToSend.sendToTarget();
+			}
+		}.start();
+		LollapaloozerApplication.debug(this, "Rating thread launched");
+
+	}
+
+	public void doNetworkOperations() throws JSONException {
+
+		LollapaloozerApplication.debug(this, "rebuildJAHM()");
+		if (_obtained_email != null) { // Get my ratings
+
+			JSONArray myRatings = null;
+			try {
+				// TODO: year can remain hardcoded for now (to force users to
+				// update app
+				// in future)
+				myRatings = LollapaloozerServiceUtils.getRatings(
+						_obtained_email, "2012", _dayToExamine, this);
+				_storageManager.putJSONArray(DATA_RATINGS, myRatings);
+			} catch (Exception e1) {
+				_networkErrors = true;
+				LollapaloozerApplication
+						.debug(this,
+								"Exception getting Ratings data, loading from storage if available");
+				try {
+					myRatings = _storageManager.getJSONArray(DATA_RATINGS);
+				} catch (JSONException e) {
+					e.printStackTrace();
+					LollapaloozerApplication.debug(this,
+							"JSONException loading ratings from storage");
+				}
+			}
+
+			try {
+				// TODO this may not be correct. JAHM should only be initialized
+				// once.
+				// _myRatings_JAHM = new JSONArrayHashMap(myRatings,
+				// QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
+
+				if (myRatings == null) {
+					LollapaloozerApplication.debug(this,
+							"Had to initialize ratings data JSONArray");
+					myRatings = new JSONArray();
+				}
+
+				_myRatings_JAHM.rebuildDataWith(myRatings);
+
+			} catch (JSONException e) {
+				// TODO Auto-generated catch block
+				// Could not get my ratings :(
+				e.printStackTrace();
+			}
+		} else {
+			// TODO This may not be correct. initJAHM() may have already been
+			// called
+			// on startup and
+			// TODO the reference to the JAHM may have been passed to the
+			// adapter
+			// already
+			// initJAHM(); //Commented in hope of addressing crash issue
+
+			// Need to wipe out ratings if email was just deleted
+			_myRatings_JAHM.wipeData();
+		}
+
+		// New strategy does not re-instantiate this object, this line should
+		// not be
+		// needed
+		// _setListAdapter.setNewJAHM(_myRatings_JAHM);
+
+		JSONArray setData = null;
+		try {
+			// TODO: pass proper values (year can remain hard-coded for now)
+			setData = LollapaloozerServiceUtils.getSets("2012", _dayToExamine,
+					this);
+			_storageManager.putJSONArray(DATA_SETS, setData);
+		} catch (Exception e) {
+			_networkErrors = true;
+			LollapaloozerApplication
+					.debug(this,
+							"Exception getting Set data, loading from storage if available");
+			setData = _storageManager.getJSONArray(DATA_SETS);
+		}
+
+		if (setData == null) {
+			LollapaloozerApplication.debug(this,
+					"Had to initialize set data JSONArray");
+			setData = new JSONArray();
+		}
+		_setListAdapter.setData(setData);
+	}
+
+	public void doSubmitRating(String scoreSelectedValue) {
+		// submit rating
+		// If Exception is thrown, do not store rating locally
+		try {
+			String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
+
+			LollapaloozerServiceUtils.addRating(
+					_storageManager.getString(DATA_USER_EMAIL), set_id,
+					scoreSelectedValue, this);
+
+			// Need this in order to make the new rating appear in real time
+
+			try {
+				JSONObject newObj = new JSONObject();
+				newObj.put(QUERY_RATINGS__SET_ID, set_id);
+				newObj.put(QUERY_RATINGS__WEEK, "1"); // TODO leave in
+														// hard-coded for
+														// now
+				newObj.put(QUERY_RATINGS__RATING, scoreSelectedValue);
+
+				// CRITICAL that the keys are listed in this order
+				_myRatings_JAHM.addValues(QUERY_RATINGS__SET_ID,
+						QUERY_RATINGS__WEEK, newObj);
+
+				// Don't need since we are refreshing
+				// ListView viewSetsList = (ListView)
+				// findViewById(R.id.viewSetsList);
+				// viewSetsList.invalidateViews();
+
+			} catch (JSONException e) {
+				// TODO Auto-generated catch block
+				e.printStackTrace();
+			}
+
+			refreshData(); // If this is removed, uncomment ListView and
+							// invalidate
+							// above ^^^
+
+		} catch (Exception e1) {
+			LollapaloozerApplication.debug(this, "Error submitting rating");
+			e1.printStackTrace();
+			showDialog(DIALOG_NETWORK_ERROR);
+		}
+	}
+
+	// An item was selected from the list of sets
+	@Override
+	public void onItemSelected(AdapterView<?> parent, View arg1, int arg2,
+			long arg3) {
+
+		// TODO Auto-generated method stub
+		LollapaloozerApplication.debug(this,
+				"Search Type Spinner: Selected -> " + parent.getSelectedItem()
+						+ "(" + arg2 + ")");
+		ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+
+		try {
+			if (parent.getSelectedItem().toString().toLowerCase()
+					.equals("time")) {
+				_sortMode = SORT_TIME;
+
+			} else if (parent.getSelectedItem().toString().toLowerCase()
+					.equals("artist")) {
+				_sortMode = SORT_ARTIST;
+			}
+
+			setView_reSort();
+			viewSetsList.invalidateViews();
+		} catch (JSONException e) {
+			LollapaloozerApplication.debug(this,
+					"JSONException re-sorting data");
+			e.printStackTrace();
+		}
+	}
+
+	private void setView_reSort() throws JSONException {
+		if (_sortMode == SORT_TIME) {
+			_setListAdapter.sortByField(_timeFieldName,
+					JSONArraySortMap.VALUE_INTEGER);
+		} else if (_sortMode == SORT_ARTIST) {
+			_setListAdapter
+					.sortByField("artist", JSONArraySortMap.VALUE_STRING);
+		} else {
+			LollapaloozerApplication.debug(this, "Unexpected sort mode: "
+					+ _sortMode);
+			(new Exception()).printStackTrace();
+		}
+	}
+
+	@Override
+	public void onNothingSelected(AdapterView<?> arg0) {
+		LollapaloozerApplication.debug(this,
+				"Search Type Spinner: Nothing Selected");
+		Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
+		spinnerSortType.setSelection(0);
+	}
+
+	// Any button in any view or dialog was clicked
+	@Override
+	public void onClick(View viewClicked) {
+		// "OK" clicked to submit email address
+		if (viewClicked.getId() == R.id.button_provideEmail) {
+			EditText emailField = (EditText) _lastGetEmailDialog
+					.findViewById(R.id.textField_enterEmail);
+			String email = emailField.getText().toString();
+
+			LollapaloozerApplication.debug(this,
+					"User provided email address: " + email);
+
+			// if
+			// (!android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
+			if (!FieldVerifier.isValidEmail(email)) {
+				Toast invalidEmail = Toast.makeText(this,
+						"Please enter your real email address.", 25);
+				invalidEmail.show();
+
+			} else { // Email is valid. Save email and let user get on with
+						// rating
+				_storageManager.putString(DATA_USER_EMAIL, email);
+				_storageManager.save();
+				_obtained_email = email;
+				_lastGetEmailDialog.dismiss();
+				showDialog(DIALOG_RATE);
+			}
+		}
+
+		if (viewClicked.getId() == R.id.button_declineEmail) {
+			_lastGetEmailDialog.dismiss();
+
+		}
+
+		if (viewClicked.getId() == R.id.buttonChangeToSearchSets) {
+			System.out.println("Button: Switch Day");
+			Intent intent = new Intent();
+			intent.setClass(this, ActivitySetsSearch.class);
+			startActivity(intent);
+		}
+
+		// Submit rating for a set
+		if (viewClicked.getId() == R.id.button_rate_okgo) { // Selections
+															// incomplete
+			RadioGroup scoreGroup = (RadioGroup) _lastRateDialog
+					.findViewById(R.id.radio_pick_score);
+			int scoreSelectedId = scoreGroup.getCheckedRadioButtonId();
+
+			if (scoreSelectedId == -1) {
+				Toast selectEverything = Toast.makeText(this,
+						"Please select a rating for this Set", 25);
+				selectEverything.show();
+
+			} else { // Selections are valid
+				_ratingSelectedScore = _ratingSelectedIdToValue
+						.get(scoreSelectedId);
+
+				LollapaloozerApplication.debug(this, "Score["
+						+ _ratingSelectedScore + "] ScoreId[" + scoreSelectedId
+						+ "]");
+
+				// scoreGroup.clearCheck();
+				_lastRateDialog.dismiss();
+
+				launchSubmitRatingThread();
+			}
+		} // End rating dialog submitted
+
+		if (viewClicked.getId() == R.id.button_rate_cancel) {
+			// Dialog dialog = (Dialog) viewClicked.getParent();
+			RadioGroup scoreGroup = (RadioGroup) _lastRateDialog
+					.findViewById(R.id.radio_pick_score);
+			// scoreGroup.clearCheck();
+			_lastRateDialog.dismiss();
+		}
+
+		if (viewClicked.getId() == R.id.button_network_error_ok) {
+			_lastNetworkErrorDialog.dismiss();
+		}
+
+	}
+
+	// An item in the ListView of sets is clicked
+	@Override
+	public void onItemClick(AdapterView<?> parent, View view, int position,
+			long id) {
+		JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
+		_lastItemSelected = obj;
+
+		try {// TODO Hard coded strings means you are going to hell
+			String setId = _lastItemSelected.getString(QUERY_SETS__SET_ID);
+			JSONObject lastRatingWeek1 = _myRatings_JAHM.getJSONObject(setId,
+					"1");
+
+			if (lastRatingWeek1 != null) {
+				_lastRatings.first = lastRatingWeek1
+						.getString(QUERY_RATINGS__RATING);
+			} else {
+				_lastRatings.first = null;
+			}
+
+		} catch (JSONException e) {
+			LollapaloozerApplication.debug(this,
+					"JSONException retrieving user's last rating");
+			e.printStackTrace();
+		}
+		LollapaloozerApplication.debug(this, "You Clicked On: " + obj
+				+ " previous ratings " + _lastRatings.first + "/"
+				+ _lastRatings.second);
+
+		if (_obtained_email == null) {
+			_beginSigninProcess();
+		} else {
+
+			showDialog(DIALOG_RATE);
+		}
+	}
+
+	private void _beginSigninProcess() {
+		Toast featureRequiresSignin = Toast.makeText(this,
+				Constants.MSG_SIGNIN_REQUIRED, 25);
+		featureRequiresSignin.show();
+
+		// This shows the 'enter email' dialog, no longer needed
+		showDialog(DIALOG_GETEMAIL);
+
+	}
+
+	// Dialog handling, called before any dialog is shown
+	@Override
+	protected void onPrepareDialog(int id, Dialog dialog) {
+
+		// Always call through to super implementation
+		super.onPrepareDialog(id, dialog);
+
+		if (id == DIALOG_RATE) {
+
+			// _lastRateDialog.setTitle("Rate this Set!");
+			try {
+				TextView subtitleText = (TextView) _lastRateDialog
+						.findViewById(R.id.text_rateBand_subtitle);
+				subtitleText.setText(_lastItemSelected.getString("artist"));
+
+			} catch (JSONException e) {
+				LollapaloozerApplication.debug(this,
+						"JSONException assigning Artist name to Rating dialog");
+				e.printStackTrace();
+			}
+
+		}
+
+	}
+
+	// Dialog handling, called once the first time this activity displays
+	// (a/each
+	// type of)? dialog
+	@Override
+	protected Dialog onCreateDialog(int id) {
+
+		if (id == DIALOG_GETEMAIL) {
+			_lastGetEmailDialog = new Dialog(this);
+			_lastGetEmailDialog.setContentView(R.layout.get_email_address);
+			_lastGetEmailDialog.setTitle("Keep Track of Everything");
+
+			EditText emailField = (EditText) _lastGetEmailDialog
+					.findViewById(R.id.textField_enterEmail);
+
+			Button buttonOK = (Button) _lastGetEmailDialog
+					.findViewById(R.id.button_provideEmail);
+			buttonOK.setOnClickListener(this);
+
+			Button buttonCancel = (Button) _lastGetEmailDialog
+					.findViewById(R.id.button_declineEmail);
+			buttonCancel.setOnClickListener(this);
+
+			return _lastGetEmailDialog;
+		}
+
+		if (id == DIALOG_RATE) {
+			_lastRateDialog = new Dialog(this);
+			_lastRateDialog.setContentView(R.layout.dialog_rate_set);
+			_lastRateDialog.setTitle("Rate This Set!");
+
+			Button buttonOK = (Button) _lastRateDialog
+					.findViewById(R.id.button_rate_okgo);
+			buttonOK.setOnClickListener(this);
+
+			Button buttonCancel = (Button) _lastRateDialog
+					.findViewById(R.id.button_rate_cancel);
+			buttonCancel.setOnClickListener(this);
+			return _lastRateDialog;
+		}
+
+		if (id == DIALOG_NETWORK_ERROR) {
+			_lastNetworkErrorDialog = new Dialog(this);
+			_lastNetworkErrorDialog
+					.setContentView(R.layout.dialog_network_error);
+			_lastNetworkErrorDialog.setTitle("Network Error");
+
+			Button buttonOK = (Button) _lastNetworkErrorDialog
+					.findViewById(R.id.button_network_error_ok);
+			buttonOK.setOnClickListener(this);
+			return _lastNetworkErrorDialog;
+
+		}
+
+		return super.onCreateDialog(id);
+	}
+
+	protected void onNewIntent(Intent intent) {
+		super.onNewIntent(intent);
+		setIntent(intent);// must store the new intent unless getIntent() will
+							// return the old one
+		processExtraData();
+	}
+
+	/**
+	 * TODO: potentially make year a searchable field here
+	 */
+	private void processExtraData() {
+		Intent intent = getIntent();
+		Bundle bundle = intent.getExtras();
+
+		if (bundle == null) {
+			return;
+		}
+
+		String day = intent.getExtras().getString("DAY");
+
+		LollapaloozerApplication.debug(this, "Searching day[" + day + "]");
+		_dayToExamine = day;
+		refreshData();
+	}
+
+	@Override
+	public boolean onCreateOptionsMenu(Menu menu) {
+		MenuInflater inflater = getMenuInflater();
+		inflater.inflate(R.menu.menu_global_options, menu);
+		return true;
+	}
+
+	@Override
+	public boolean onOptionsItemSelected(MenuItem item) {
+		switch (item.getItemId()) {
+		case R.id.menu_item_email_me:
+			LollapaloozerApplication.debug(this,
+					"Menu button 'email me' pressed");
+
+			if (_obtained_email == null) {
+				Toast.makeText(this, "Try rating at least one set first", 15)
+						.show();
+			} else {
+				try {
+
+					Toast.makeText(this, "This feature coming soon!", 15)
+							.show();
+					// ServiceUtils.sendMyRatings(this, _obtained_email);
+				} catch (Exception e) {
+					LollapaloozerApplication.debug(this,
+							"Error requesting ratings email");
+					e.printStackTrace();
+				}
+			}
+			return true;
+
+		case R.id.menu_item_delete_email:
+			LollapaloozerApplication.debug(this,
+					"Menu button 'delete email' pressed");
+			_obtained_email = null;
+			_storageManager.putString(DATA_USER_EMAIL, null);
+			_storageManager.save();
+			refreshData();
+			return true;
+
+		default:
+			return super.onOptionsItemSelected(item);
+		}
+	}
+
+	@Override
+	public void onCheckedChanged(RadioGroup clickedGroup, int checkedId) {
+		// TODO should use switch
+		// RadioGroup scoreGroup = (RadioGroup)
+		// _lastRateDialog.findViewById(R.id.radio_pick_score);
+		// if (clickedGroup ==
+		// _lastRateDialog.findViewById(R.id.radio_pick_week)) {
+		//
+		// if (checkedId == R.id.radio_button_week1 && _lastRatings.first !=
+		// null) {
+		// int buttonIdToCheck =
+		// _ratingSelectedScoreToId.get(_lastRatings.first);
+		// RadioButton buttonToCheck = (RadioButton)
+		// _lastRateDialog.findViewById(buttonIdToCheck);
+		// buttonToCheck.setChecked(true);
+		//
+		// } else if (checkedId == R.id.radio_button_week2 &&
+		// _lastRatings.second !=
+		// null) {
+		// LollapaloozerApplication.debug(this, "Last Rating " +
+		// _lastRatings.second);
+		// int buttonIdToCheck =
+		// _ratingSelectedScoreToId.get(_lastRatings.second);
+		// LollapaloozerApplication.debug(this, "Button id to check " +
+		// buttonIdToCheck);
+		// RadioButton buttonToCheck = (RadioButton)
+		// _lastRateDialog.findViewById(buttonIdToCheck); // TODO
+		// // duplicate
+		// // code
+		// buttonToCheck.setChecked(true);
+		//
+		// } else { // Not sure what is selected, clear rating check
+		//
+		// scoreGroup.clearCheck();
+		// }
+		//
+		// scoreGroup.invalidate();
+		//
+		// }
+
+	}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/ServiceBuilder.java b/Lollapaloozer-Android/src/org/scribe/builder/ServiceBuilder.java
new file mode 100644
index 0000000..27f3c8f
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/ServiceBuilder.java
@@ -0,0 +1,169 @@
+package org.scribe.builder;
+
+import java.io.*;
+import org.scribe.builder.api.*;
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.oauth.*;
+import org.scribe.utils.*;
+
+/**
+ * Implementation of the Builder pattern, with a fluent interface that creates a
+ * {@link OAuthService}
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public class ServiceBuilder
+{
+  private String apiKey;
+  private String apiSecret;
+  private String callback;
+  private Api api;
+  private String scope;
+  private SignatureType signatureType;
+  private OutputStream debugStream;
+  
+  /**
+   * Default constructor
+   */
+  public ServiceBuilder()
+  {
+    this.callback = OAuthConstants.OUT_OF_BAND;
+    this.signatureType = SignatureType.Header;
+    this.debugStream = null;
+  }
+  
+  /**
+   * Configures the {@link Api}
+   * 
+   * @param apiClass the class of one of the existent {@link Api}s on org.scribe.api package
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder provider(Class<? extends Api> apiClass)
+  {
+    this.api = createApi(apiClass);
+    return this;
+  }
+
+  private Api createApi(Class<? extends Api> apiClass)
+  {
+    Preconditions.checkNotNull(apiClass, "Api class cannot be null");
+    Api api;
+    try
+    {
+      api = apiClass.newInstance();  
+    }
+    catch(Exception e)
+    {
+      throw new OAuthException("Error while creating the Api object", e);
+    }
+    return api;
+  }
+
+  /**
+   * Configures the {@link Api}
+   *
+   * Overloaded version. Let's you use an instance instead of a class.
+   *
+   * @param api instance of {@link Api}s
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder provider(Api api)
+  {
+	  Preconditions.checkNotNull(api, "Api cannot be null");
+	  this.api = api;
+	  return this;
+  }
+
+  /**
+   * Adds an OAuth callback url
+   * 
+   * @param callback callback url. Must be a valid url or 'oob' for out of band OAuth
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder callback(String callback)
+  {
+    Preconditions.checkNotNull(callback, "Callback can't be null");
+    this.callback = callback;
+    return this;
+  }
+  
+  /**
+   * Configures the api key
+   * 
+   * @param apiKey The api key for your application
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder apiKey(String apiKey)
+  {
+    Preconditions.checkEmptyString(apiKey, "Invalid Api key");
+    this.apiKey = apiKey;
+    return this;
+  }
+  
+  /**
+   * Configures the api secret
+   * 
+   * @param apiSecret The api secret for your application
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder apiSecret(String apiSecret)
+  {
+    Preconditions.checkEmptyString(apiSecret, "Invalid Api secret");
+    this.apiSecret = apiSecret;
+    return this;
+  }
+  
+  /**
+   * Configures the OAuth scope. This is only necessary in some APIs (like Google's).
+   * 
+   * @param scope The OAuth scope
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder scope(String scope)
+  {
+    Preconditions.checkEmptyString(scope, "Invalid OAuth scope");
+    this.scope = scope;
+    return this;
+  }
+
+  /**
+   * Configures the signature type, choose between header, querystring, etc. Defaults to Header
+   *
+   * @param scope The OAuth scope
+   * @return the {@link ServiceBuilder} instance for method chaining
+   */
+  public ServiceBuilder signatureType(SignatureType type)
+  {
+    Preconditions.checkNotNull(type, "Signature type can't be null");
+    this.signatureType = type;
+    return this;
+  }
+
+  public ServiceBuilder debugStream(OutputStream stream)
+  {
+    Preconditions.checkNotNull(stream, "debug stream can't be null");
+    this.debugStream = stream;
+    return this;
+  }
+
+  public ServiceBuilder debug()
+  {
+    this.debugStream(System.out);
+    return this;
+  }
+  
+  /**
+   * Returns the fully configured {@link OAuthService}
+   * 
+   * @return fully configured {@link OAuthService}
+   */
+  public OAuthService build()
+  {
+    Preconditions.checkNotNull(api, "You must specify a valid api through the provider() method");
+    Preconditions.checkEmptyString(apiKey, "You must provide an api key");
+    Preconditions.checkEmptyString(apiSecret, "You must provide an api secret");
+    return api.createService(new OAuthConfig(apiKey, apiSecret, callback, signatureType, scope, debugStream));
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/Api.java b/Lollapaloozer-Android/src/org/scribe/builder/api/Api.java
new file mode 100644
index 0000000..6664296
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/Api.java
@@ -0,0 +1,25 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+import org.scribe.oauth.*;
+
+/**
+ * Contains all the configuration needed to instantiate a valid {@link OAuthService}
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public interface Api
+{  
+  /**
+   * Creates an {@link OAuthService}
+   * 
+   * @param apiKey your application api key
+   * @param apiSecret your application api secret
+   * @param callback the callback url (or 'oob' for out of band OAuth)
+   * @param scope the OAuth scope
+   * 
+   * @return fully configured {@link OAuthService}
+   */
+  OAuthService createService(OAuthConfig config);
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/ConstantContactApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/ConstantContactApi.java
new file mode 100644
index 0000000..0588bc4
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/ConstantContactApi.java
@@ -0,0 +1,26 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class ConstantContactApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://oauth.constantcontact.com/ws/oauth/confirm_access?oauth_token=%s";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://oauth.constantcontact.com/ws/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://oauth.constantcontact.com/ws/oauth/request_token";
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi10a.java b/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi10a.java
new file mode 100644
index 0000000..7506986
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi10a.java
@@ -0,0 +1,141 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.oauth.*;
+import org.scribe.services.*;
+
+/**
+ * Default implementation of the OAuth protocol, version 1.0a
+ * 
+ * This class is meant to be extended by concrete implementations of the API,
+ * providing the endpoints and endpoint-http-verbs.
+ * 
+ * If your Api adheres to the 1.0a protocol correctly, you just need to extend 
+ * this class and define the getters for your endpoints.
+ * 
+ * If your Api does something a bit different, you can override the different 
+ * extractors or services, in order to fine-tune the process. Please read the 
+ * javadocs of the interfaces to get an idea of what to do.
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public abstract class DefaultApi10a implements Api
+{
+  /**
+   * Returns the access token extractor.
+   * 
+   * @return access token extractor
+   */
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new TokenExtractorImpl();
+  }
+
+  /**
+   * Returns the base string extractor.
+   * 
+   * @return base string extractor
+   */
+  public BaseStringExtractor getBaseStringExtractor()
+  {
+    return new BaseStringExtractorImpl();
+  }
+
+  /**
+   * Returns the header extractor.
+   * 
+   * @return header extractor
+   */
+  public HeaderExtractor getHeaderExtractor()
+  {
+    return new HeaderExtractorImpl();
+  }
+
+  /**
+   * Returns the request token extractor.
+   * 
+   * @return request token extractor
+   */
+  public RequestTokenExtractor getRequestTokenExtractor()
+  {
+    return new TokenExtractorImpl();
+  }
+
+  /**
+   * Returns the signature service.
+   * 
+   * @return signature service
+   */
+  public SignatureService getSignatureService()
+  {
+    return new HMACSha1SignatureService(); 
+  }
+
+  /**
+   * Returns the timestamp service.
+   * 
+   * @return timestamp service
+   */
+  public TimestampService getTimestampService()
+  {
+    return new TimestampServiceImpl();
+  }
+  
+  /**
+   * Returns the verb for the access token endpoint (defaults to POST)
+   * 
+   * @return access token endpoint verb
+   */
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.POST;
+  }
+  
+  /**
+   * Returns the verb for the request token endpoint (defaults to POST)
+   * 
+   * @return request token endpoint verb
+   */
+  public Verb getRequestTokenVerb()
+  {
+    return Verb.POST;
+  }
+  
+  /**
+   * Returns the URL that receives the request token requests.
+   * 
+   * @return request token URL
+   */
+  public abstract String getRequestTokenEndpoint();
+  
+  /**
+   * Returns the URL that receives the access token requests.
+   * 
+   * @return access token URL
+   */
+  public abstract String getAccessTokenEndpoint();
+  
+  /**
+   * Returns the URL where you should redirect your users to authenticate
+   * your application.
+   * 
+   * @param requestToken the request token you need to authorize
+   * @return the URL where you should redirect your users
+   */
+  public abstract String getAuthorizationUrl(Token requestToken);
+  
+  /**
+   * Returns the {@link OAuthService} for this Api
+   * 
+   * @param apiKey Key
+   * @param apiSecret Api Secret
+   * @param callback OAuth callback (either URL or 'oob')
+   * @param scope OAuth scope (optional) 
+   */
+  public OAuthService createService(OAuthConfig config)
+  {
+    return new OAuth10aServiceImpl(this, config);
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi20.java b/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi20.java
new file mode 100644
index 0000000..ffb6207
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/DefaultApi20.java
@@ -0,0 +1,70 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.oauth.*;
+
+/**
+ * Default implementation of the OAuth protocol, version 2.0 (draft 11)
+ *
+ * This class is meant to be extended by concrete implementations of the API,
+ * providing the endpoints and endpoint-http-verbs.
+ *
+ * If your Api adheres to the 2.0 (draft 11) protocol correctly, you just need to extend
+ * this class and define the getters for your endpoints.
+ *
+ * If your Api does something a bit different, you can override the different
+ * extractors or services, in order to fine-tune the process. Please read the
+ * javadocs of the interfaces to get an idea of what to do.
+ *
+ * @author Diego Silveira
+ *
+ */
+public abstract class DefaultApi20 implements Api
+{
+
+  /**
+   * Returns the access token extractor.
+   * 
+   * @return access token extractor
+   */
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new TokenExtractor20Impl();
+  }
+	
+  /**
+   * Returns the verb for the access token endpoint (defaults to GET)
+   * 
+   * @return access token endpoint verb
+   */
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.GET;
+  }
+	
+  /**
+   * Returns the URL that receives the access token requests.
+   * 
+   * @return access token URL
+   */
+  public abstract String getAccessTokenEndpoint();
+	
+  /**
+   * Returns the URL where you should redirect your users to authenticate
+   * your application.
+   *
+   * @param config OAuth 2.0 configuration param object
+   * @return the URL where you should redirect your users
+   */
+  public abstract String getAuthorizationUrl(OAuthConfig config);
+
+  /**
+   * {@inheritDoc}
+   */
+  public OAuthService createService(OAuthConfig config)
+  {
+    return new OAuth20ServiceImpl(this, config);
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/DiggApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/DiggApi.java
new file mode 100644
index 0000000..b69253e
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/DiggApi.java
@@ -0,0 +1,29 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class DiggApi extends DefaultApi10a 
+{
+
+  private static final String AUTHORIZATION_URL = "http://digg.com/oauth/authorize?oauth_token=%s";
+  private static final String BASE_URL = "http://services.digg.com/oauth/";
+
+  @Override
+  public String getRequestTokenEndpoint() 
+  {
+    return BASE_URL + "request_token";
+  }
+
+  @Override
+  public String getAccessTokenEndpoint() 
+  {
+    return BASE_URL + "access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken) 
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/DropBoxApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/DropBoxApi.java
new file mode 100644
index 0000000..86f4a71
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/DropBoxApi.java
@@ -0,0 +1,25 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class DropBoxApi extends DefaultApi10a
+{
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.dropbox.com/1/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return "https://www.dropbox.com/1/oauth/authorize?oauth_token="+requestToken.getToken();
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://api.dropbox.com/1/oauth/request_token";
+  }
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/EvernoteApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/EvernoteApi.java
new file mode 100644
index 0000000..007f48b
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/EvernoteApi.java
@@ -0,0 +1,49 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class EvernoteApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "https://www.evernote.com/OAuth.action?oauth_token=%s";
+
+  @Override
+	public String getRequestTokenEndpoint()
+  {
+    return "https://www.evernote.com/oauth";
+  }
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+	  return "https://www.evernote.com/oauth";
+	}
+	
+	@Override
+	public String getAuthorizationUrl(Token requestToken)
+	{
+	  return String.format(AUTHORIZATION_URL, requestToken.getToken());
+	}
+
+	public static class Sandbox extends EvernoteApi
+	{
+	  private static final String SANDBOX_URL = "https://sandbox.evernote.com";
+
+	  @Override
+	  public String getRequestTokenEndpoint()
+	  {
+	    return SANDBOX_URL + "/oauth";
+	  }
+
+	  @Override
+	  public String getAccessTokenEndpoint()
+	  {
+      return SANDBOX_URL + "/oauth";
+	  }
+
+	  @Override
+	  public String getAuthorizationUrl(Token requestToken)
+	  {
+	    return String.format(SANDBOX_URL + "/OAuth.action?oauth_token=%s", requestToken.getToken());
+	  }
+	}	
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/FacebookApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/FacebookApi.java
new file mode 100644
index 0000000..996a651
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/FacebookApi.java
@@ -0,0 +1,33 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+import org.scribe.utils.*;
+
+public class FacebookApi extends DefaultApi20
+{
+  private static final String AUTHORIZE_URL = "https://www.facebook.com/dialog/oauth?client_id=%s&redirect_uri=%s";
+  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://graph.facebook.com/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Facebook does not support OOB");
+
+    // Append scope if present
+    if(config.hasScope())
+    {
+     return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    }
+    else
+    {
+      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/FlickrApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/FlickrApi.java
new file mode 100644
index 0000000..a630436
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/FlickrApi.java
@@ -0,0 +1,40 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+/**
+ * OAuth API for Flickr.
+ * 
+ * @author Darren Greaves
+ * @see <a href="http://www.flickr.com/services/api/">Flickr API</a>
+ */
+public class FlickrApi extends DefaultApi10a
+{
+
+  /**
+   * {@inheritDoc}
+   */
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "http://www.flickr.com/services/oauth/access_token";
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return "http://www.flickr.com/services/oauth/authorize?oauth_token=" + requestToken.getToken();
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "http://www.flickr.com/services/oauth/request_token";
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/Foursquare2Api.java b/Lollapaloozer-Android/src/org/scribe/builder/api/Foursquare2Api.java
new file mode 100644
index 0000000..d11def9
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/Foursquare2Api.java
@@ -0,0 +1,29 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+public class Foursquare2Api extends DefaultApi20
+{
+  private static final String AUTHORIZATION_URL = "https://foursquare.com/oauth2/authenticate?client_id=%s&response_type=code&redirect_uri=%s";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://foursquare.com/oauth2/access_token?grant_type=authorization_code";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Foursquare2 does not support OOB");
+    return String.format(AUTHORIZATION_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+  }
+
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new JsonTokenExtractor();
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/FoursquareApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/FoursquareApi.java
new file mode 100644
index 0000000..060a76b
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/FoursquareApi.java
@@ -0,0 +1,26 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class FoursquareApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "http://foursquare.com/oauth/authorize?oauth_token=%s";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "http://foursquare.com/oauth/access_token";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "http://foursquare.com/oauth/request_token";
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/FreelancerApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/FreelancerApi.java
new file mode 100644
index 0000000..482e66f
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/FreelancerApi.java
@@ -0,0 +1,61 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class FreelancerApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "http://www.freelancer.com/users/api-token/auth.php?oauth_token=%s";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "http://api.freelancer.com/RequestAccessToken/requestAccessToken.xml?";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "http://api.freelancer.com/RequestRequestToken/requestRequestToken.xml";
+  }
+
+  @Override
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.GET;
+  }
+
+  @Override
+  public Verb getRequestTokenVerb()
+  {
+    return Verb.GET;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+
+  public static class Sandbox extends FreelancerApi
+  {
+    private static final String SANDBOX_AUTHORIZATION_URL = "http://www.sandbox.freelancer.com/users/api-token/auth.php";
+
+    @Override
+    public String getRequestTokenEndpoint()
+    {
+      return "http://api.sandbox.freelancer.com/RequestRequestToken/requestRequestToken.xml";
+    }
+
+    @Override
+    public String getAccessTokenEndpoint()
+    {
+      return "http://api.sandbox.freelancer.com/RequestAccessToken/requestAccessToken.xml?";
+    }
+
+    @Override
+    public String getAuthorizationUrl(Token requestToken)
+    {
+      return String.format(SANDBOX_AUTHORIZATION_URL + "?oauth_token=%s", requestToken.getToken());
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/GetGlueApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/GetGlueApi.java
new file mode 100644
index 0000000..3a7560f
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/GetGlueApi.java
@@ -0,0 +1,29 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class GetGlueApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "http://getglue.com/oauth/authorize?oauth_token=%s";
+  private static final String REQUEST_TOKEN_RESOURCE = "https://api.getglue.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_RESOURCE = "https://api.getglue.com/oauth/access_token";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/GoogleApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/GoogleApi.java
new file mode 100644
index 0000000..9c86e5e
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/GoogleApi.java
@@ -0,0 +1,38 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class GoogleApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=%s";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://www.google.com/accounts/OAuthGetAccessToken"; 
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://www.google.com/accounts/OAuthGetRequestToken";
+  }
+
+  @Override
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.GET;
+  }
+
+  @Override
+  public Verb getRequestTokenVerb()
+  {
+    return Verb.GET;
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/ImgUrApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/ImgUrApi.java
new file mode 100644
index 0000000..06dd691
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/ImgUrApi.java
@@ -0,0 +1,32 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+/**
+ * OAuth API for ImgUr
+ *
+ * @author David Wursteisen
+ * @see <a href="http://api.imgur.com/#authapi">ImgUr API</a>
+ */
+public class ImgUrApi extends DefaultApi10a
+{
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://api.imgur.com/oauth/request_token";
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.imgur.com/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format("https://api.imgur.com/oauth/authorize?oauth_token=%s", requestToken.getToken());
+  }
+}
+
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi.java
new file mode 100644
index 0000000..1bf6bab
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi.java
@@ -0,0 +1,40 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class KaixinApi extends DefaultApi10a 
+{
+	private static final String REQUEST_TOKEN_URL = "http://api.kaixin001.com/oauth/request_token";
+	private static final String ACCESS_TOKEN_URL = "http://api.kaixin001.com/oauth/access_token";
+	private static final String AUTHORIZE_URL = "http://api.kaixin001.com/oauth/authorize?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint() 
+	{
+		return REQUEST_TOKEN_URL;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint() 
+	{
+		return ACCESS_TOKEN_URL;
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken) 
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+
+	@Override
+	public Verb getRequestTokenVerb() 
+	{
+		return Verb.GET;
+	}
+
+	@Override
+	public Verb getAccessTokenVerb() 
+	{
+		return Verb.GET;
+	}
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi20.java b/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi20.java
new file mode 100644
index 0000000..9e27bcb
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/KaixinApi20.java
@@ -0,0 +1,41 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Kaixin(http://www.kaixin001.com/) open platform api based on OAuth 2.0.
+ */
+public class KaixinApi20 extends DefaultApi20
+{
+
+  private static final String AUTHORIZE_URL = "http://api.kaixin001.com/oauth2/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new JsonTokenExtractor();
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.kaixin001.com/oauth2/access_token?grant_type=authorization_code";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    // Append scope if present
+    if (config.hasScope())
+    {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    }
+    else
+    {
+      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/LinkedInApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/LinkedInApi.java
new file mode 100644
index 0000000..f459404
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/LinkedInApi.java
@@ -0,0 +1,27 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class LinkedInApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://api.linkedin.com/uas/oauth/authorize?oauth_token=%s";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.linkedin.com/uas/oauth/accessToken";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://api.linkedin.com/uas/oauth/requestToken";
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+  
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/LiveApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/LiveApi.java
new file mode 100644
index 0000000..18140f6
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/LiveApi.java
@@ -0,0 +1,40 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+public class LiveApi extends DefaultApi20
+{
+
+	private static final String AUTHORIZE_URL = "https://oauth.live.com/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+	private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return "https://oauth.live.com/token?grant_type=authorization_code";
+	}
+
+	@Override
+	public String getAuthorizationUrl(OAuthConfig config)
+	{
+		Preconditions.checkValidUrl(config.getCallback(), "Must provide a valid url as callback. Live does not support OOB");
+
+		// Append scope if present
+		if (config.hasScope())
+		{
+			return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+		}
+    else
+		{
+			return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+		}
+	}
+
+	@Override
+	public AccessTokenExtractor getAccessTokenExtractor()
+	{
+		return new JsonTokenExtractor();
+	}
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/LoveFilmApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/LoveFilmApi.java
new file mode 100644
index 0000000..81a5bb8
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/LoveFilmApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class LoveFilmApi extends DefaultApi10a
+{
+  private static final String REQUEST_TOKEN_URL = "http://openapi.lovefilm.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_URL = "http://openapi.lovefilm.com/oauth/access_token";
+  private static final String AUTHORIZE_URL = "https://www.lovefilm.com/activate?oauth_token=%s";
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_URL;
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_URL;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/MeetupApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/MeetupApi.java
new file mode 100644
index 0000000..8f63e39
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/MeetupApi.java
@@ -0,0 +1,30 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+/**
+ * OAuth access to the Meetup.com API.
+ * For more information visit http://www.meetup.com/api
+ */
+public class MeetupApi extends DefaultApi10a
+{
+	private static final String AUTHORIZE_URL = "http://www.meetup.com/authenticate?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint()
+	{
+		return "http://api.meetup.com/oauth/request/";
+	}
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return "http://api.meetup.com/oauth/access/";
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken)
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/MisoApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/MisoApi.java
new file mode 100644
index 0000000..a6d88d3
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/MisoApi.java
@@ -0,0 +1,29 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class MisoApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "http://gomiso.com/oauth/authorize?oauth_token=%s";
+  private static final String REQUEST_TOKEN_RESOURCE = "http://gomiso.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_RESOURCE = "http://gomiso.com/oauth/access_token";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/NetProspexApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/NetProspexApi.java
new file mode 100644
index 0000000..8257de7
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/NetProspexApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class NetProspexApi extends DefaultApi10a
+{
+  private static final String REQUEST_TOKEN_URL = "https://api.netprospex.com/1.0/oauth/request-token";
+  private static final String ACCESS_TOKEN_URL = "https://api.netprospex.com/1.0/oauth/access-token";
+  private static final String AUTHORIZE_URL = "https://api.netprospex.com/1.0/oauth/authorize?oauth_token=%s";
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_URL;
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_URL;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/NeteaseWeibooApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/NeteaseWeibooApi.java
new file mode 100644
index 0000000..fae38ac
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/NeteaseWeibooApi.java
@@ -0,0 +1,47 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class NeteaseWeibooApi extends DefaultApi10a
+{
+	private static final String REQUEST_TOKEN_URL = "http://api.t.163.com/oauth/request_token";
+	private static final String ACCESS_TOKEN_URL = "http://api.t.163.com/oauth/access_token";
+	private static final String AUTHORIZE_URL = "http://api.t.163.com/oauth/authorize?oauth_token=%s";
+	private static final String AUTHENTICATE_URL = "http://api.t.163.com/oauth/authenticate?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint() 
+	{
+		return REQUEST_TOKEN_URL;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return ACCESS_TOKEN_URL;
+	}
+
+	@Override
+	/**
+	 * this method will ignore your callback
+	 * if you're creating a desktop client please choose this url
+	 * else your can call getAuthenticateUrl
+	 * 
+	 * via http://open.t.163.com/wiki/index.php?title=%E8%AF%B7%E6%B1%82%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83Token(oauth/authorize)
+	 */
+	public String getAuthorizationUrl(Token requestToken)
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+
+	/**
+	 * this method is for web client with callback url
+	 * if you're creating a desktop client please call getAuthorizationUrl 
+	 * 
+	 * via http://open.t.163.com/wiki/index.php?title=%E8%AF%B7%E6%B1%82%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83Token(oauth/authenticate)
+	 */
+	public String getAuthenticateUrl(Token requestToken)
+	{
+		return String.format(AUTHENTICATE_URL, requestToken.getToken());
+	}
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/PlurkApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/PlurkApi.java
new file mode 100644
index 0000000..323ad2c
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/PlurkApi.java
@@ -0,0 +1,39 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class PlurkApi extends DefaultApi10a
+{
+  private static final String REQUEST_TOKEN_URL = "http://www.plurk.com/OAuth/request_token";
+  private static final String AUTHORIZATION_URL = "http://www.plurk.com/OAuth/authorize?oauth_token=%s";
+  private static final String ACCESS_TOKEN_URL = "http://www.plurk.com/OAuth/access_token";
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_URL;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_URL;
+  }
+
+  public class Mobile extends PlurkApi
+  {
+    private static final String AUTHORIZATION_URL = "http://www.plurk.com/m/authorize?oauth_token=%s";
+
+    @Override
+    public String getAuthorizationUrl(Token requestToken)
+    {
+      return String.format(AUTHORIZATION_URL, requestToken.getToken());
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/Px500Api.java b/Lollapaloozer-Android/src/org/scribe/builder/api/Px500Api.java
new file mode 100644
index 0000000..f7f3b0e
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/Px500Api.java
@@ -0,0 +1,26 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class Px500Api extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "https://api.500px.com/v1/oauth/authorize?oauth_token=%s";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.500px.com/v1/oauth/access_token";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://api.500px.com/v1/oauth/request_token";
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/QWeiboApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/QWeiboApi.java
new file mode 100644
index 0000000..c036bd5
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/QWeiboApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class QWeiboApi extends DefaultApi10a 
+{
+	private static final String REQUEST_TOKEN_URL = "https://open.t.qq.com/cgi-bin/request_token";
+	private static final String ACCESS_TOKEN_URL = "https://open.t.qq.com/cgi-bin/access_token";
+	private static final String AUTHORIZE_URL = "https://open.t.qq.com/cgi-bin/authorize?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint() 
+	{
+		return REQUEST_TOKEN_URL;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint() 
+	{
+		return ACCESS_TOKEN_URL;
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken) 
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/RenrenApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/RenrenApi.java
new file mode 100644
index 0000000..b31337b
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/RenrenApi.java
@@ -0,0 +1,40 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Renren(http://www.renren.com/) OAuth 2.0 based api.
+ */
+public class RenrenApi extends DefaultApi20
+{
+  private static final String AUTHORIZE_URL = "https://graph.renren.com/oauth/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new JsonTokenExtractor();
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://graph.renren.com/oauth/token?grant_type=authorization_code";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    // Append scope if present
+    if (config.hasScope())
+    {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    }
+    else
+    {
+      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SapoApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SapoApi.java
new file mode 100644
index 0000000..9771daf
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/SapoApi.java
@@ -0,0 +1,40 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class SapoApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://id.sapo.pt/oauth/authorize?oauth_token=%s";
+  private static final String ACCESS_URL = "https://id.sapo.pt/oauth/access_token";
+  private static final String REQUEST_URL = "https://id.sapo.pt/oauth/request_token";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_URL;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_URL;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+
+  @Override
+  public Verb getRequestTokenVerb()
+  {
+    return Verb.GET;
+  }
+
+  @Override
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.GET;
+  }
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SimpleGeoApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SimpleGeoApi.java
new file mode 100644
index 0000000..3e19df7
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/SimpleGeoApi.java
@@ -0,0 +1,29 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class SimpleGeoApi extends DefaultApi10a
+{
+  private static final String ENDPOINT = "these are not used since SimpleGeo uses 2 legged OAuth";
+
+	@Override
+	public String getRequestTokenEndpoint()
+	{
+		return ENDPOINT;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return ENDPOINT;
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken)
+	{
+		return ENDPOINT;
+	}
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi.java
new file mode 100644
index 0000000..14951d3
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class SinaWeiboApi extends DefaultApi10a
+{
+	private static final String REQUEST_TOKEN_URL = "http://api.t.sina.com.cn/oauth/request_token";
+	private static final String ACCESS_TOKEN_URL = "http://api.t.sina.com.cn/oauth/access_token";
+	private static final String AUTHORIZE_URL = "http://api.t.sina.com.cn/oauth/authorize?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint()
+	{
+		return REQUEST_TOKEN_URL;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return ACCESS_TOKEN_URL;
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken)
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi20.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi20.java
new file mode 100644
index 0000000..e0744c4
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/SinaWeiboApi20.java
@@ -0,0 +1,46 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * SinaWeibo OAuth 2.0 api.
+ */
+public class SinaWeiboApi20 extends DefaultApi20
+{
+  private static final String AUTHORIZE_URL = "https://api.weibo.com/oauth2/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+  private static final String SCOPED_AUTHORIZE_URL = AUTHORIZE_URL + "&scope=%s";
+
+  @Override
+  public Verb getAccessTokenVerb()
+  {
+    return Verb.POST;
+  }
+
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new JsonTokenExtractor();
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.weibo.com/oauth2/access_token?grant_type=authorization_code";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    // Append scope if present
+    if (config.hasScope())
+    {
+      return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    }
+    else
+    {
+      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SkyrockApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SkyrockApi.java
new file mode 100644
index 0000000..b0e76a3
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/SkyrockApi.java
@@ -0,0 +1,35 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+/**
+ * OAuth API for Skyrock.
+ *
+ * @author Nicolas Quinot
+ * @see <a href="http://www.skyrock.com/developer/">Skyrock.com API</a>
+ */
+public class SkyrockApi extends DefaultApi10a
+{
+  private static final String API_ENDPOINT = "https://api.skyrock.com/v2";
+  private static final String REQUEST_TOKEN_RESOURCE = "/oauth/initiate";
+  private static final String AUTHORIZE_URL = "/oauth/authorize?oauth_token=%s";
+  private static final String ACCESS_TOKEN_RESOURCE = "/oauth/token";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return API_ENDPOINT + ACCESS_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return API_ENDPOINT + REQUEST_TOKEN_RESOURCE;
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(API_ENDPOINT + AUTHORIZE_URL, requestToken.getToken());
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/SohuWeiboApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/SohuWeiboApi.java
new file mode 100644
index 0000000..1f927b7
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/SohuWeiboApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+
+public class SohuWeiboApi extends DefaultApi10a
+{
+	private static final String REQUEST_TOKEN_URL = "http://api.t.sohu.com/oauth/request_token";
+	private static final String ACCESS_TOKEN_URL = "http://api.t.sohu.com/oauth/access_token";
+	private static final String AUTHORIZE_URL = "http://api.t.sohu.com/oauth/authorize?oauth_token=%s";
+
+	@Override
+	public String getRequestTokenEndpoint()
+	{
+		return REQUEST_TOKEN_URL;
+	}
+
+	@Override
+	public String getAccessTokenEndpoint()
+	{
+		return ACCESS_TOKEN_URL;
+	}
+
+	@Override
+	public String getAuthorizationUrl(Token requestToken)
+	{
+		return String.format(AUTHORIZE_URL, requestToken.getToken());
+	}
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/TumblrApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/TumblrApi.java
new file mode 100644
index 0000000..ee680ee
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/TumblrApi.java
@@ -0,0 +1,28 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class TumblrApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://www.tumblr.com/oauth/authorize?oauth_token=%s";
+  private static final String REQUEST_TOKEN_RESOURCE = "http://www.tumblr.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_RESOURCE = "http://www.tumblr.com/oauth/access_token";
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return ACCESS_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return REQUEST_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/TwitterApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/TwitterApi.java
new file mode 100644
index 0000000..a83c28e
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/TwitterApi.java
@@ -0,0 +1,66 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class TwitterApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://api.twitter.com/oauth/authorize?oauth_token=%s";
+  private static final String REQUEST_TOKEN_RESOURCE = "api.twitter.com/oauth/request_token";
+  private static final String ACCESS_TOKEN_RESOURCE = "api.twitter.com/oauth/access_token";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "http://" + ACCESS_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "http://" + REQUEST_TOKEN_RESOURCE;
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+
+  public static class SSL extends TwitterApi
+  {
+    @Override
+    public String getAccessTokenEndpoint()
+    {
+      return "https://" + ACCESS_TOKEN_RESOURCE;
+    }
+
+    @Override
+    public String getRequestTokenEndpoint()
+    {
+      return "https://" + REQUEST_TOKEN_RESOURCE;
+    }
+  }
+
+  /**
+   * Twitter 'friendlier' authorization endpoint for OAuth.
+   *
+   * Uses SSL.
+   */
+  public static class Authenticate extends SSL
+  {
+    private static final String AUTHENTICATE_URL = "https://api.twitter.com/oauth/authenticate?oauth_token=%s";
+
+    @Override
+    public String getAuthorizationUrl(Token requestToken)
+    {
+      return String.format(AUTHENTICATE_URL, requestToken.getToken());
+    }
+  }
+
+  /**
+   * Just an alias to the default (SSL) authorization endpoint.
+   *
+   * Need to include this for symmetry with 'Authenticate' only.
+   */
+  public static class Authorize extends SSL{}
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/VimeoApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/VimeoApi.java
new file mode 100644
index 0000000..231895d
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/VimeoApi.java
@@ -0,0 +1,26 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class VimeoApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "http://vimeo.com/oauth/authorize?oauth_token=%s";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "http://vimeo.com/oauth/access_token";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "http://vimeo.com/oauth/request_token";
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/VkontakteApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/VkontakteApi.java
new file mode 100644
index 0000000..83050e3
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/VkontakteApi.java
@@ -0,0 +1,41 @@
+package org.scribe.builder.api;
+
+import org.scribe.extractors.*;
+import org.scribe.utils.*;
+import org.scribe.model.*;
+
+/**
+ * @author Boris G. Tsirkin <mail@dotbg.name>
+ * @since 20.4.2011
+ */
+public class VkontakteApi extends DefaultApi20
+{
+  private static final String AUTHORIZE_URL = "https://api.vkontakte.ru/oauth/authorize?client_id=%s&redirect_uri=%s&response_type=code";
+  private static final String SCOPED_AUTHORIZE_URL = String.format("%s&scope=%%s", AUTHORIZE_URL);
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.vkontakte.ru/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(OAuthConfig config)
+  {
+    Preconditions.checkValidUrl(config.getCallback(), "Valid url is required for a callback. Vkontakte does not support OOB");
+    if(config.hasScope())// Appending scope if present
+    {
+     return String.format(SCOPED_AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()), OAuthEncoder.encode(config.getScope()));
+    }
+    else
+    {
+      return String.format(AUTHORIZE_URL, config.getApiKey(), OAuthEncoder.encode(config.getCallback()));
+    }
+  }
+
+  @Override
+  public AccessTokenExtractor getAccessTokenExtractor()
+  {
+    return new JsonTokenExtractor();
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/YahooApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/YahooApi.java
new file mode 100644
index 0000000..e8a29a7
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/YahooApi.java
@@ -0,0 +1,26 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.Token;
+
+public class YahooApi extends DefaultApi10a
+{
+  private static final String AUTHORIZE_URL = "https://api.login.yahoo.com/oauth/v2/request_auth?oauth_token=%s";
+  
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://api.login.yahoo.com/oauth/v2/get_token";
+  }
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://api.login.yahoo.com/oauth/v2/get_request_token";
+  }
+  
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZE_URL, requestToken.getToken());
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/builder/api/YammerApi.java b/Lollapaloozer-Android/src/org/scribe/builder/api/YammerApi.java
new file mode 100644
index 0000000..e06543d
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/builder/api/YammerApi.java
@@ -0,0 +1,33 @@
+package org.scribe.builder.api;
+
+import org.scribe.model.*;
+import org.scribe.services.*;
+
+public class YammerApi extends DefaultApi10a
+{
+  private static final String AUTHORIZATION_URL = "https://www.yammer.com/oauth/authorize?oauth_token=%s";
+
+  @Override
+  public String getRequestTokenEndpoint()
+  {
+    return "https://www.yammer.com/oauth/request_token";
+  }
+
+  @Override
+  public String getAccessTokenEndpoint()
+  {
+    return "https://www.yammer.com/oauth/access_token";
+  }
+
+  @Override
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return String.format(AUTHORIZATION_URL, requestToken.getToken());
+  }
+
+  @Override
+  public SignatureService getSignatureService()
+  {
+    return new PlaintextSignatureService();
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthConnectionException.java b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthConnectionException.java
new file mode 100644
index 0000000..918de81
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthConnectionException.java
@@ -0,0 +1,14 @@
+package org.scribe.exceptions;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class OAuthConnectionException extends OAuthException
+{
+  private static final String MSG = "There was a problem while creating a connection to the remote service.";
+
+  public OAuthConnectionException(Exception e)
+  {
+    super(MSG, e);
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthException.java b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthException.java
new file mode 100644
index 0000000..85f49d9
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthException.java
@@ -0,0 +1,33 @@
+package org.scribe.exceptions;
+
+/**
+ * Default scribe exception. 
+ * Represents a problem in the OAuth signing process
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthException extends RuntimeException
+{
+
+  /**
+   * Default constructor 
+   * @param message message explaining what went wrong
+   * @param e original exception
+   */
+  public OAuthException(String message, Exception e)
+  {
+    super(message, e);
+  }
+
+  /**
+   * No-exception constructor. Used when there is no original exception
+   *  
+   * @param message message explaining what went wrong
+   */
+  public OAuthException(String message)
+  {
+    super(message, null);
+  }
+
+  private static final long serialVersionUID = 1L;
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthParametersMissingException.java b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthParametersMissingException.java
new file mode 100644
index 0000000..8407ce4
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthParametersMissingException.java
@@ -0,0 +1,26 @@
+package org.scribe.exceptions;
+
+import org.scribe.model.*;
+
+/**
+ * Specialized exception that represents a missing OAuth parameter. 
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthParametersMissingException extends OAuthException
+{
+
+  private static final long serialVersionUID = 1745308760111976671L;
+  private static final String MSG = "Could not find oauth parameters in request: %s. "
+      + "OAuth parameters must be specified with the addOAuthParameter() method";
+
+  /**
+   * Default constructor.
+   * 
+   * @param request OAuthRequest that caused the error
+   */
+  public OAuthParametersMissingException(OAuthRequest request)
+  {
+    super(String.format(MSG, request));
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthSignatureException.java b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthSignatureException.java
new file mode 100644
index 0000000..94692be
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/exceptions/OAuthSignatureException.java
@@ -0,0 +1,24 @@
+package org.scribe.exceptions;
+
+/**
+ * Specialized exception that represents a problem in the signature
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthSignatureException extends OAuthException
+{
+  private static final long serialVersionUID = 1L;
+  private static final String MSG = "Error while signing string: %s";
+  
+  /**
+   * Default constructor
+   * 
+   * @param stringToSign plain string that gets signed (HMAC-SHA, etc)
+   * @param e original exception
+   */
+  public OAuthSignatureException(String stringToSign, Exception e)
+  {
+    super(String.format(MSG, stringToSign), e);
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/AccessTokenExtractor.java b/Lollapaloozer-Android/src/org/scribe/extractors/AccessTokenExtractor.java
new file mode 100644
index 0000000..3c0dd34
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/extractors/AccessTokenExtractor.java
@@ -0,0 +1,19 @@
+package org.scribe.extractors;
+
+import org.scribe.model.*;
+
+/**
+ * Simple command object that extracts a {@link Token} from a String
+ * 
+ * @author Pablo Fernandez
+ */
+public interface AccessTokenExtractor
+{
+  /**
+   * Extracts the access token from the contents of an Http Response
+   *  
+   * @param response the contents of the response
+   * @return OAuth access token
+   */
+  public Token extract(String response);
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractor.java b/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractor.java
new file mode 100644
index 0000000..83ddd10
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractor.java
@@ -0,0 +1,21 @@
+package org.scribe.extractors;
+
+import org.scribe.model.*;
+
+/**
+ * Simple command object that extracts a base string from a {@link OAuthRequest}
+ * 
+ * @author Pablo Fernandez
+ */
+public interface BaseStringExtractor
+{
+  /**
+   * Extracts an url-encoded base string from the {@link OAuthRequest}.
+   * 
+   * See <a href="http://oauth.net/core/1.0/#anchor14">the oauth spec</a> for more info on this.
+   * 
+   * @param request the OAuthRequest
+   * @return the url-encoded base string
+   */
+  String extract(OAuthRequest request);
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractorImpl.java b/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractorImpl.java
new file mode 100644
index 0000000..ca21a0d
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/extractors/BaseStringExtractorImpl.java
@@ -0,0 +1,48 @@
+package org.scribe.extractors;
+
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Default implementation of {@link BaseStringExtractor}. Conforms to OAuth 1.0a
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public class BaseStringExtractorImpl implements BaseStringExtractor
+{
+
+  private static final String AMPERSAND_SEPARATED_STRING = "%s&%s&%s";
+
+  /**
+   * {@inheritDoc}
+   */
+  public String extract(OAuthRequest request)
+  {
+    checkPreconditions(request);
+    String verb = OAuthEncoder.encode(request.getVerb().name());
+    String url = OAuthEncoder.encode(request.getSanitizedUrl());
+    String params = getSortedAndEncodedParams(request);
+    return String.format(AMPERSAND_SEPARATED_STRING, verb, url, params);
+  }
+
+  private String getSortedAndEncodedParams(OAuthRequest request)
+  {
+    ParameterList params = new ParameterList();
+    params.addAll(request.getQueryStringParams());
+    params.addAll(request.getBodyParams());
+    params.addAll(new ParameterList(request.getOauthParameters()));
+    return params.sort().asOauthBaseString();
+  }
+
+  private void checkPreconditions(OAuthRequest request)
+  {
+    Preconditions.checkNotNull(request, "Cannot extract base string from null object");
+
+    if (request.getOauthParameters() == null || request.getOauthParameters().size() <= 0)
+    {
+      throw new OAuthParametersMissingException(request);
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractor.java b/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractor.java
new file mode 100644
index 0000000..2bc1f8b
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractor.java
@@ -0,0 +1,19 @@
+package org.scribe.extractors;
+
+import org.scribe.model.*;
+
+/**
+ * Simple command object that generates an OAuth Authorization header to include in the request.
+ * 
+ * @author Pablo Fernandez
+ */
+public interface HeaderExtractor
+{
+  /**
+   * Generates an OAuth 'Authorization' Http header to include in requests as the signature.
+   * 
+   * @param request the OAuthRequest to inspect and generate the header
+   * @return the Http header value
+   */
+  String extract(OAuthRequest request);
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractorImpl.java b/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractorImpl.java
new file mode 100644
index 0000000..73c4ada
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/extractors/HeaderExtractorImpl.java
@@ -0,0 +1,50 @@
+package org.scribe.extractors;
+
+import java.util.*;
+
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Default implementation of {@link HeaderExtractor}. Conforms to OAuth 1.0a
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public class HeaderExtractorImpl implements HeaderExtractor
+{
+  private static final String PARAM_SEPARATOR = ", ";
+  private static final String PREAMBLE = "OAuth ";
+
+  /**
+   * {@inheritDoc}
+   */
+  public String extract(OAuthRequest request)
+  {
+    checkPreconditions(request);
+    Map<String, String> parameters = request.getOauthParameters();
+    StringBuffer header = new StringBuffer(parameters.size() * 20);
+    header.append(PREAMBLE);
+    for (String key : parameters.keySet())
+    {
+      if(header.length() > PREAMBLE.length())
+      { 
+        header.append(PARAM_SEPARATOR);
+      }
+      header.append(String.format("%s=\"%s\"", key, OAuthEncoder.encode(parameters.get(key))));
+    }
+    return header.toString();
+  }
+
+  private void checkPreconditions(OAuthRequest request)
+  {
+    Preconditions.checkNotNull(request, "Cannot extract a header from a null object");
+
+    if (request.getOauthParameters() == null || request.getOauthParameters().size() <= 0)
+    {
+      throw new OAuthParametersMissingException(request);
+    }
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/JsonTokenExtractor.java b/Lollapaloozer-Android/src/org/scribe/extractors/JsonTokenExtractor.java
new file mode 100644
index 0000000..9344a21
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/extractors/JsonTokenExtractor.java
@@ -0,0 +1,28 @@
+package org.scribe.extractors;
+
+import java.util.regex.*;
+
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+public class JsonTokenExtractor implements AccessTokenExtractor
+{
+  private Pattern accessTokenPattern = Pattern.compile("\"access_token\":\\s*\"(\\S*?)\"");
+
+  @Override
+  public Token extract(String response)
+  {
+    Preconditions.checkEmptyString(response, "Cannot extract a token from a null or empty String");
+    Matcher matcher = accessTokenPattern.matcher(response);
+    if(matcher.find())
+    {
+      return new Token(matcher.group(1), "", response);
+    }
+    else
+    {
+      throw new OAuthException("Cannot extract an acces token. Response was: " + response);
+    }
+  }
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/RequestTokenExtractor.java b/Lollapaloozer-Android/src/org/scribe/extractors/RequestTokenExtractor.java
new file mode 100644
index 0000000..1830212
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/extractors/RequestTokenExtractor.java
@@ -0,0 +1,19 @@
+package org.scribe.extractors;
+
+import org.scribe.model.*;
+
+/**
+ * Simple command object that extracts a {@link Token} from a String
+ * 
+ * @author Pablo Fernandez
+ */
+public interface RequestTokenExtractor
+{
+  /**
+   * Extracts the request token from the contents of an Http Response
+   *  
+   * @param response the contents of the response
+   * @return OAuth access token
+   */
+  public Token extract(String response);
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractor20Impl.java b/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractor20Impl.java
new file mode 100644
index 0000000..1eb22ad
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractor20Impl.java
@@ -0,0 +1,36 @@
+package org.scribe.extractors;
+
+import java.util.regex.*;
+
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Default implementation of {@AccessTokenExtractor}. Conforms to OAuth 2.0
+ *
+ */
+public class TokenExtractor20Impl implements AccessTokenExtractor
+{
+  private static final String TOKEN_REGEX = "access_token=([^&]+)";
+  private static final String EMPTY_SECRET = "";
+
+  /**
+   * {@inheritDoc} 
+   */
+  public Token extract(String response)
+  {
+    Preconditions.checkEmptyString(response, "Response body is incorrect. Can't extract a token from an empty string");
+
+    Matcher matcher = Pattern.compile(TOKEN_REGEX).matcher(response);
+    if (matcher.find())
+    {
+      String token = OAuthEncoder.decode(matcher.group(1));
+      return new Token(token, EMPTY_SECRET, response);
+    } 
+    else
+    {
+      throw new OAuthException("Response body is incorrect. Can't extract a token from this: '" + response + "'", null);
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractorImpl.java b/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractorImpl.java
new file mode 100644
index 0000000..ba1784b
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/extractors/TokenExtractorImpl.java
@@ -0,0 +1,44 @@
+package org.scribe.extractors;
+
+import java.util.regex.*;
+
+import org.scribe.exceptions.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * Default implementation of {@RequestTokenExtractor} and {@AccessTokenExtractor}. Conforms to OAuth 1.0a
+ *
+ * The process for extracting access and request tokens is similar so this class can do both things.
+ * 
+ * @author Pablo Fernandez
+ */
+public class TokenExtractorImpl implements RequestTokenExtractor, AccessTokenExtractor
+{
+  private static final Pattern TOKEN_REGEX = Pattern.compile("oauth_token=([^&]+)");
+  private static final Pattern SECRET_REGEX = Pattern.compile("oauth_token_secret=([^&]*)");
+
+  /**
+   * {@inheritDoc} 
+   */
+  public Token extract(String response)
+  {
+    Preconditions.checkEmptyString(response, "Response body is incorrect. Can't extract a token from an empty string");
+    String token = extract(response, TOKEN_REGEX);
+    String secret = extract(response, SECRET_REGEX);
+    return new Token(token, secret, response);
+  }
+
+  private String extract(String response, Pattern p)
+  {
+    Matcher matcher = p.matcher(response);
+    if (matcher.find() && matcher.groupCount() >= 1)
+    {
+      return OAuthEncoder.decode(matcher.group(1));
+    }
+    else
+    {
+      throw new OAuthException("Response body is incorrect. Can't extract token and secret from this: '" + response + "'", null);
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/OAuthConfig.java b/Lollapaloozer-Android/src/org/scribe/model/OAuthConfig.java
new file mode 100644
index 0000000..374c958
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/OAuthConfig.java
@@ -0,0 +1,79 @@
+package org.scribe.model;
+
+import java.io.*;
+
+/**
+ * Parameter object that groups OAuth config values
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthConfig
+{
+  private final String apiKey;
+  private final String apiSecret;
+  private final String callback;
+  private final SignatureType signatureType;
+  private final String scope;
+  private final OutputStream debugStream;
+  
+  public OAuthConfig(String key, String secret)
+  {
+    this(key, secret, null, null, null, null);
+  }
+
+  public OAuthConfig(String key, String secret, String callback, SignatureType type, String scope, OutputStream stream)
+  {
+    this.apiKey = key;
+    this.apiSecret = secret;
+    this.callback = callback;
+    this.signatureType = type;
+    this.scope = scope;
+    this.debugStream = stream;
+  }
+
+  public String getApiKey()
+  {
+    return apiKey;
+  }
+
+  public String getApiSecret()
+  {
+    return apiSecret;
+  }
+
+  public String getCallback()
+  {
+    return callback;
+  }
+
+  public SignatureType getSignatureType()
+  {
+    return signatureType;
+  }
+
+  public String getScope()
+  {
+    return scope;
+  }
+
+  public boolean hasScope()
+  {
+    return scope != null;
+  }
+
+  public void log(String message)
+  {
+    if (debugStream != null)
+    {
+      message = message + "\n";
+      try
+      {
+        debugStream.write(message.getBytes("UTF8"));
+      }
+      catch (Exception e)
+      {
+        throw new RuntimeException("there were problems while writting to the debug stream", e);
+      }
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/OAuthConstants.java b/Lollapaloozer-Android/src/org/scribe/model/OAuthConstants.java
new file mode 100644
index 0000000..c93c31c
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/OAuthConstants.java
@@ -0,0 +1,49 @@
+/* 
+Copyright 2010 Pablo Fernandez
+
+Licensed under the Apache License, Version 2.0 (the "License");
+you may not use this file except in compliance with the License.
+You may obtain a copy of the License at
+
+http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing, software
+distributed under the License is distributed on an "AS IS" BASIS,
+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+See the License for the specific language governing permissions and
+limitations under the License.
+ */
+package org.scribe.model;
+
+/**
+ * This class contains OAuth constants, used project-wide
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthConstants
+{
+  public static final String TIMESTAMP = "oauth_timestamp";
+  public static final String SIGN_METHOD = "oauth_signature_method";
+  public static final String SIGNATURE = "oauth_signature";
+  public static final String CONSUMER_SECRET = "oauth_consumer_secret";
+  public static final String CONSUMER_KEY = "oauth_consumer_key";
+  public static final String CALLBACK = "oauth_callback";
+  public static final String VERSION = "oauth_version";
+  public static final String NONCE = "oauth_nonce";
+  public static final String PARAM_PREFIX = "oauth_";
+  public static final String TOKEN = "oauth_token";
+  public static final String TOKEN_SECRET = "oauth_token_secret";
+  public static final String OUT_OF_BAND = "oob";
+  public static final String VERIFIER = "oauth_verifier";
+  public static final String HEADER = "Authorization";
+  public static final Token EMPTY_TOKEN = new Token("", "");
+  public static final String SCOPE = "scope";
+
+  //OAuth 2.0
+  public static final String ACCESS_TOKEN = "access_token";
+  public static final String CLIENT_ID = "client_id";
+  public static final String CLIENT_SECRET = "client_secret";
+  public static final String REDIRECT_URI = "redirect_uri";
+  public static final String CODE = "code";
+  
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/OAuthRequest.java b/Lollapaloozer-Android/src/org/scribe/model/OAuthRequest.java
new file mode 100644
index 0000000..4389227
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/OAuthRequest.java
@@ -0,0 +1,69 @@
+package org.scribe.model;
+
+import java.util.*;
+
+/**
+ * The representation of an OAuth HttpRequest.
+ * 
+ * Adds OAuth-related functionality to the {@link Request}  
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuthRequest extends Request
+{
+  private static final String OAUTH_PREFIX = "oauth_";
+  private Map<String, String> oauthParameters;
+
+  /**
+   * Default constructor.
+   * 
+   * @param verb Http verb/method
+   * @param url resource URL
+   */
+  public OAuthRequest(Verb verb, String url)
+  {
+    super(verb, url);
+    this.oauthParameters = new HashMap<String, String>();
+  }
+
+  /**
+   * Adds an OAuth parameter.
+   * 
+   * @param key name of the parameter
+   * @param value value of the parameter
+   * 
+   * @throws IllegalArgumentException if the parameter is not an OAuth parameter
+   */
+  public void addOAuthParameter(String key, String value)
+  {
+    oauthParameters.put(checkKey(key), value);
+  }
+
+  private String checkKey(String key)
+  {
+    if (key.startsWith(OAUTH_PREFIX) || key.equals(OAuthConstants.SCOPE))
+    {
+      return key;
+    } 
+    else
+    {
+      throw new IllegalArgumentException(String.format("OAuth parameters must either be '%s' or start with '%s'", OAuthConstants.SCOPE, OAUTH_PREFIX));
+    }
+  }
+
+  /**
+   * Returns the {@link Map} containing the key-value pair of parameters.
+   * 
+   * @return parameters as map
+   */
+  public Map<String, String> getOauthParameters()
+  {
+    return oauthParameters;
+  }
+
+  @Override
+  public String toString()
+  {
+    return String.format("@OAuthRequest(%s, %s)", getVerb(), getUrl());
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Parameter.java b/Lollapaloozer-Android/src/org/scribe/model/Parameter.java
new file mode 100644
index 0000000..9fe610b
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/Parameter.java
@@ -0,0 +1,50 @@
+package org.scribe.model;
+
+import java.io.UnsupportedEncodingException;
+import java.net.URLEncoder;
+import org.scribe.exceptions.OAuthException;
+import org.scribe.utils.OAuthEncoder;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class Parameter implements Comparable<Parameter>
+{
+  private static final String UTF = "UTF8";
+
+  private final String key;
+  private final String value;
+
+  public Parameter(String key, String value)
+  {
+    this.key = key;
+    this.value = value;
+  }
+
+  public String asUrlEncodedPair()
+  {
+    return OAuthEncoder.encode(key).concat("=").concat(OAuthEncoder.encode(value));
+  }
+  
+  public boolean equals(Object other)
+  {
+    if(other == null) return false;
+    if(other == this) return true;
+    if(!(other instanceof Parameter)) return false;
+    
+    Parameter otherParam = (Parameter) other;
+    return otherParam.key.equals(key) && otherParam.value.equals(value);
+  }
+
+  public int hashCode()
+  {
+    return key.hashCode() + value.hashCode();
+  }
+
+  public int compareTo(Parameter parameter)
+  {
+    int keyDiff = key.compareTo(parameter.key);
+
+    return keyDiff != 0 ? keyDiff : value.compareTo(parameter.value);
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/ParameterList.java b/Lollapaloozer-Android/src/org/scribe/model/ParameterList.java
new file mode 100644
index 0000000..b365cba
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/ParameterList.java
@@ -0,0 +1,114 @@
+package org.scribe.model;
+
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.List;
+import java.util.Map;
+import org.scribe.utils.OAuthEncoder;
+import org.scribe.utils.Preconditions;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class ParameterList
+{
+  private static final char QUERY_STRING_SEPARATOR = '?';
+  private static final String PARAM_SEPARATOR = "&";
+  private static final String PAIR_SEPARATOR = "=";
+  private static final String EMPTY_STRING = "";
+
+  private final List<Parameter> params;
+
+  public ParameterList()
+  {
+    params = new ArrayList<Parameter>();
+  }
+
+  ParameterList(List<Parameter> params)
+  {
+    this.params = new ArrayList<Parameter>(params);
+  }
+
+  public ParameterList(Map<String, String> map)
+  {
+    this();
+    for(Map.Entry<String, String> entry : map.entrySet())
+    {
+      params.add(new Parameter(entry.getKey(), entry.getValue()));
+    }
+  }
+  
+  public void add(String key, String value)
+  {
+    params.add(new Parameter(key, value));
+  }
+
+  public String appendTo(String url)
+  {
+    Preconditions.checkNotNull(url, "Cannot append to null URL");
+    String queryString = asFormUrlEncodedString();
+    if (queryString.equals(EMPTY_STRING))
+    {
+      return url;
+    }
+    else
+    {
+      url += url.indexOf(QUERY_STRING_SEPARATOR) != -1 ? PARAM_SEPARATOR : QUERY_STRING_SEPARATOR;
+      url += queryString;
+      return url;
+    }
+  }
+
+  public String asOauthBaseString()
+  {
+    return OAuthEncoder.encode(asFormUrlEncodedString());
+  }
+
+  public String asFormUrlEncodedString()
+  {
+    if (params.size() == 0) return EMPTY_STRING;
+
+    StringBuilder builder = new StringBuilder();
+    for(Parameter p : params)
+    {
+      builder.append('&').append(p.asUrlEncodedPair());
+    }
+    return builder.toString().substring(1);
+  }
+
+  public void addAll(ParameterList other)
+  {
+    params.addAll(other.params);
+  }
+
+  public void addQuerystring(String queryString)
+  {
+    if (queryString != null && queryString.length() > 0)
+    {
+      for (String param : queryString.split(PARAM_SEPARATOR))
+      {
+        String pair[] = param.split(PAIR_SEPARATOR);
+        String key = OAuthEncoder.decode(pair[0]);
+        String value = pair.length > 1 ? OAuthEncoder.decode(pair[1]) : EMPTY_STRING;
+        params.add(new Parameter(key, value));
+      }
+    }
+  }
+
+  public boolean contains(Parameter param)
+  {
+    return params.contains(param);
+  }
+
+  public int size()
+  {
+    return params.size();
+  }
+
+  public ParameterList sort()
+  {
+    ParameterList sorted = new ParameterList(params);
+    Collections.sort(sorted.params);
+    return sorted;
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Request.java b/Lollapaloozer-Android/src/org/scribe/model/Request.java
new file mode 100644
index 0000000..81db94e
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/Request.java
@@ -0,0 +1,358 @@
+package org.scribe.model;
+
+import java.io.*;
+import java.net.*;
+import java.nio.charset.*;
+import java.util.*;
+import java.util.concurrent.TimeUnit;
+
+import org.scribe.exceptions.*;
+
+/**
+ * Represents an HTTP Request object
+ * 
+ * @author Pablo Fernandez
+ */
+class Request
+{
+  private static final String CONTENT_LENGTH = "Content-Length";
+  private static final String CONTENT_TYPE = "Content-Type";
+  public static final String DEFAULT_CONTENT_TYPE = "application/x-www-form-urlencoded";
+
+  private String url;
+  private Verb verb;
+  private ParameterList querystringParams;
+  private ParameterList bodyParams;
+  private Map<String, String> headers;
+  private String payload = null;
+  private HttpURLConnection connection;
+  private String charset;
+  private byte[] bytePayload = null;
+  private boolean connectionKeepAlive = false;
+  private Long connectTimeout = null;
+  private Long readTimeout = null;
+
+  /**
+   * Creates a new Http Request
+   * 
+   * @param verb Http Verb (GET, POST, etc)
+   * @param url url with optional querystring parameters.
+   */
+  public Request(Verb verb, String url)
+  {
+    this.verb = verb;
+    this.url = url;
+    this.querystringParams = new ParameterList();
+    this.bodyParams = new ParameterList();
+    this.headers = new HashMap<String, String>();
+  }
+
+  /**
+   * Execute the request and return a {@link Response}
+   * 
+   * @return Http Response
+   * @throws RuntimeException
+   *           if the connection cannot be created.
+   */
+  public Response send()
+  {
+    try
+    {
+      createConnection();
+      return doSend();
+    }
+    catch (Exception e)
+    {
+      throw new OAuthConnectionException(e);
+    }
+  }
+
+  private void createConnection() throws IOException
+  {
+    String completeUrl = getCompleteUrl();
+    if (connection == null)
+    {
+      System.setProperty("http.keepAlive", connectionKeepAlive ? "true" : "false");
+      connection = (HttpURLConnection) new URL(completeUrl).openConnection();
+    }
+  }
+
+  /**
+   * Returns the complete url (host + resource + encoded querystring parameters).
+   *
+   * @return the complete url.
+   */
+  public String getCompleteUrl()
+  {
+    return querystringParams.appendTo(url);
+  }
+
+  Response doSend() throws IOException
+  {
+    connection.setRequestMethod(this.verb.name());
+    if (connectTimeout != null) 
+    {
+      connection.setConnectTimeout(connectTimeout.intValue());
+    }
+    if (readTimeout != null)
+    {
+      connection.setReadTimeout(readTimeout.intValue());
+    }
+    addHeaders(connection);
+    if (verb.equals(Verb.PUT) || verb.equals(Verb.POST))
+    {
+      addBody(connection, getByteBodyContents());
+    }
+    return new Response(connection);
+  }
+
+  void addHeaders(HttpURLConnection conn)
+  {
+    for (String key : headers.keySet())
+      conn.setRequestProperty(key, headers.get(key));
+  }
+
+  void addBody(HttpURLConnection conn, byte[] content) throws IOException
+  {
+    conn.setRequestProperty(CONTENT_LENGTH, String.valueOf(content.length));
+
+    // Set default content type if none is set.
+    if (conn.getRequestProperty(CONTENT_TYPE) == null)
+    {
+      conn.setRequestProperty(CONTENT_TYPE, DEFAULT_CONTENT_TYPE);
+    }
+    conn.setDoOutput(true);
+    conn.getOutputStream().write(content);
+  }
+
+  /**
+   * Add an HTTP Header to the Request
+   * 
+   * @param key the header name
+   * @param value the header value
+   */
+  public void addHeader(String key, String value)
+  {
+    this.headers.put(key, value);
+  }
+
+  /**
+   * Add a body Parameter (for POST/ PUT Requests)
+   * 
+   * @param key the parameter name
+   * @param value the parameter value
+   */
+  public void addBodyParameter(String key, String value)
+  {
+    this.bodyParams.add(key, value);
+  }
+
+  /**
+   * Add a QueryString parameter
+   *
+   * @param key the parameter name
+   * @param value the parameter value
+   */
+  public void addQuerystringParameter(String key, String value)
+  {
+    this.querystringParams.add(key, value);
+  }
+
+  /**
+   * Add body payload.
+   * 
+   * This method is used when the HTTP body is not a form-url-encoded string,
+   * but another thing. Like for example XML.
+   * 
+   * Note: The contents are not part of the OAuth signature
+   * 
+   * @param payload the body of the request
+   */
+  public void addPayload(String payload)
+  {
+    this.payload = payload;
+  }
+
+  /**
+   * Overloaded version for byte arrays
+   *
+   * @param payload
+   */
+  public void addPayload(byte[] payload)
+  {
+    this.bytePayload = payload;
+  }
+
+  /**
+   * Get a {@link ParameterList} with the query string parameters.
+   * 
+   * @return a {@link ParameterList} containing the query string parameters.
+   * @throws OAuthException if the request URL is not valid.
+   */
+  public ParameterList getQueryStringParams()
+  {
+    try
+    {
+      ParameterList result = new ParameterList();
+      String queryString = new URL(url).getQuery();
+      result.addQuerystring(queryString);
+      result.addAll(querystringParams);
+      return result;
+    }
+    catch (MalformedURLException mue)
+    {
+      throw new OAuthException("Malformed URL", mue);
+    }
+  }
+
+  /**
+   * Obtains a {@link ParameterList} of the body parameters.
+   * 
+   * @return a {@link ParameterList}containing the body parameters.
+   */
+  public ParameterList getBodyParams()
+  {
+    return bodyParams;
+  }
+
+  /**
+   * Obtains the URL of the HTTP Request.
+   * 
+   * @return the original URL of the HTTP Request
+   */
+  public String getUrl()
+  {
+    return url;
+  }
+
+  /**
+   * Returns the URL without the port and the query string part.
+   * 
+   * @return the OAuth-sanitized URL
+   */
+  public String getSanitizedUrl()
+  {
+    return url.replaceAll("\\?.*", "").replace("\\:\\d{4}", "");
+  }
+
+  /**
+   * Returns the body of the request
+   * 
+   * @return form encoded string
+   * @throws OAuthException if the charset chosen is not supported
+   */
+  public String getBodyContents()
+  {
+    try
+    {
+      return new String(getByteBodyContents(),getCharset());
+    }
+    catch(UnsupportedEncodingException uee)
+    {
+      throw new OAuthException("Unsupported Charset: "+charset, uee);
+    }
+  }
+
+  byte[] getByteBodyContents()
+  {
+    if (bytePayload != null) return bytePayload;
+    String body = (payload != null) ? payload : bodyParams.asFormUrlEncodedString();
+    try
+    {
+      return body.getBytes(getCharset());
+    }
+    catch(UnsupportedEncodingException uee)
+    {
+      throw new OAuthException("Unsupported Charset: "+getCharset(), uee);
+    }
+  }
+
+  /**
+   * Returns the HTTP Verb
+   * 
+   * @return the verb
+   */
+  public Verb getVerb()
+  {
+    return verb;
+  }
+  
+  /**
+   * Returns the connection headers as a {@link Map}
+   * 
+   * @return map of headers
+   */
+  public Map<String, String> getHeaders()
+  {
+    return headers;
+  }
+
+  /**
+   * Returns the connection charset. Defaults to {@link Charset} defaultCharset if not set
+   *
+   * @return charset
+   */
+  public String getCharset()
+  {
+    return charset == null ? Charset.defaultCharset().name() : charset;
+  }
+
+  /**
+   * Sets the connect timeout for the underlying {@link HttpURLConnection}
+   * 
+   * @param duration duration of the timeout
+   * 
+   * @param unit unit of time (milliseconds, seconds, etc)
+   */
+  public void setConnectTimeout(int duration, TimeUnit unit)
+  {
+    this.connectTimeout = unit.toMillis(duration);
+  }
+
+  /**
+   * Sets the read timeout for the underlying {@link HttpURLConnection}
+   * 
+   * @param duration duration of the timeout
+   * 
+   * @param unit unit of time (milliseconds, seconds, etc)
+   */
+  public void setReadTimeout(int duration, TimeUnit unit)
+  {
+    this.readTimeout = unit.toMillis(duration);
+  }
+
+  /**
+   * Set the charset of the body of the request
+   *
+   * @param charsetName name of the charset of the request
+   */
+  public void setCharset(String charsetName)
+  {
+    this.charset = charsetName;
+  }
+
+  /**
+   * Sets whether the underlying Http Connection is persistent or not.
+   *
+   * @see http://download.oracle.com/javase/1.5.0/docs/guide/net/http-keepalive.html
+   * @param connectionKeepAlive
+   */
+  public void setConnectionKeepAlive(boolean connectionKeepAlive)
+  {
+    this.connectionKeepAlive = connectionKeepAlive;
+  }
+
+  /*
+   * We need this in order to stub the connection object for test cases
+   */
+  void setConnection(HttpURLConnection connection)
+  {
+    this.connection = connection;
+  }
+
+  @Override
+  public String toString()
+  {
+    return String.format("@Request(%s %s)", getVerb(), getUrl());
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Response.java b/Lollapaloozer-Android/src/org/scribe/model/Response.java
new file mode 100644
index 0000000..9835a05
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/Response.java
@@ -0,0 +1,113 @@
+package org.scribe.model;
+
+import java.io.*;
+import java.net.*;
+import java.util.*;
+
+import org.scribe.exceptions.*;
+import org.scribe.utils.*;
+
+/**
+ * Represents an HTTP Response.
+ * 
+ * @author Pablo Fernandez
+ */
+public class Response
+{
+  private static final String EMPTY = "";
+
+  private int code;
+  private String body;
+  private InputStream stream;
+  private Map<String, String> headers;
+
+  Response(HttpURLConnection connection) throws IOException
+  {
+    try
+    {
+      connection.connect();
+      code = connection.getResponseCode();
+      headers = parseHeaders(connection);
+      stream = isSuccessful() ? connection.getInputStream() : connection.getErrorStream();
+    }
+    catch (UnknownHostException e)
+    {
+      throw new OAuthException("The IP address of a host could not be determined.", e);
+    }
+  }
+
+  private String parseBodyContents()
+  {
+    body = StreamUtils.getStreamContents(getStream());
+    return body;
+  }
+
+  private Map<String, String> parseHeaders(HttpURLConnection conn)
+  {
+    Map<String, String> headers = new HashMap<String, String>();
+    for (String key : conn.getHeaderFields().keySet())
+    {
+      headers.put(key, conn.getHeaderFields().get(key).get(0));
+    }
+    return headers;
+  }
+
+  public boolean isSuccessful()
+  {
+    return getCode() >= 200 && getCode() < 400;
+  }
+
+  /**
+   * Obtains the HTTP Response body
+   * 
+   * @return response body
+   */
+  public String getBody()
+  {
+    return body != null ? body : parseBodyContents();
+  }
+
+  /**
+   * Obtains the meaningful stream of the HttpUrlConnection, either inputStream
+   * or errorInputStream, depending on the status code
+   * 
+   * @return input stream / error stream
+   */
+  public InputStream getStream()
+  {
+    return stream;
+  }
+
+  /**
+   * Obtains the HTTP status code
+   * 
+   * @return the status code
+   */
+  public int getCode()
+  {
+    return code;
+  }
+
+  /**
+   * Obtains a {@link Map} containing the HTTP Response Headers
+   * 
+   * @return headers
+   */
+  public Map<String, String> getHeaders()
+  {
+    return headers;
+  }
+
+  /**
+   * Obtains a single HTTP Header value, or null if undefined
+   * 
+   * @param name the header name.
+   * 
+   * @return header value or null.
+   */
+  public String getHeader(String name)
+  {
+    return headers.get(name);
+  }
+
+}
\ No newline at end of file
diff --git a/Lollapaloozer-Android/src/org/scribe/model/SignatureType.java b/Lollapaloozer-Android/src/org/scribe/model/SignatureType.java
new file mode 100644
index 0000000..3440a36
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/SignatureType.java
@@ -0,0 +1,7 @@
+package org.scribe.model;
+
+public enum SignatureType
+{
+  Header,
+  QueryString
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Token.java b/Lollapaloozer-Android/src/org/scribe/model/Token.java
new file mode 100644
index 0000000..286fec6
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/Token.java
@@ -0,0 +1,60 @@
+package org.scribe.model;
+
+import java.io.Serializable;
+
+/**
+ * Represents an OAuth token (either request or access token) and its secret
+ * 
+ * @author Pablo Fernandez
+ */
+public class Token implements Serializable
+{
+  private static final long serialVersionUID = 715000866082812683L;
+	
+  private final String token;
+  private final String secret;
+  private final String rawResponse;
+
+  /**
+   * Default constructor
+   * 
+   * @param token token value
+   * @param secret token secret
+   */
+  public Token(String token, String secret)
+  {
+    this(token, secret, null);
+  }
+
+  public Token(String token, String secret, String rawResponse)
+  {
+    this.token = token;
+    this.secret = secret;
+    this.rawResponse = rawResponse;
+  }
+
+  public String getToken()
+  {
+    return token;
+  }
+
+  public String getSecret()
+  {
+    return secret;
+  }
+
+  public String getRawResponse()
+  {
+    if (rawResponse == null)
+    {
+      throw new IllegalStateException("This token object was not constructed by scribe and does not have a rawResponse");
+    }
+    return rawResponse;
+  }
+
+  @Override
+  public String toString()
+  {
+    return String.format("Token[%s , %s]", token, secret);
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Verb.java b/Lollapaloozer-Android/src/org/scribe/model/Verb.java
new file mode 100644
index 0000000..b370791
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/Verb.java
@@ -0,0 +1,11 @@
+package org.scribe.model;
+
+/**
+ * An enumeration containing the most common HTTP Verbs.
+ * 
+ * @author Pablo Fernandez
+ */
+public enum Verb
+{
+  GET, POST, PUT, DELETE
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/model/Verifier.java b/Lollapaloozer-Android/src/org/scribe/model/Verifier.java
new file mode 100644
index 0000000..45f0e4e
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/model/Verifier.java
@@ -0,0 +1,30 @@
+package org.scribe.model;
+
+import org.scribe.utils.*;
+
+/**
+ * Represents an OAuth verifier code.
+ * 
+ * @author Pablo Fernandez
+ */
+public class Verifier
+{
+
+  private final String value;
+
+  /**
+   * Default constructor.
+   * 
+   * @param value verifier value
+   */
+  public Verifier(String value)
+  {
+    Preconditions.checkNotNull(value, "Must provide a valid string as verifier");
+    this.value = value;
+  }
+
+  public String getValue()
+  {
+    return value;
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/oauth/OAuth10aServiceImpl.java b/Lollapaloozer-Android/src/org/scribe/oauth/OAuth10aServiceImpl.java
new file mode 100644
index 0000000..b847b2d
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/oauth/OAuth10aServiceImpl.java
@@ -0,0 +1,145 @@
+package org.scribe.oauth;
+
+import java.util.*;
+
+import org.scribe.builder.api.*;
+import org.scribe.model.*;
+import org.scribe.utils.*;
+
+/**
+ * OAuth 1.0a implementation of {@link OAuthService}
+ * 
+ * @author Pablo Fernandez
+ */
+public class OAuth10aServiceImpl implements OAuthService
+{
+  private static final String VERSION = "1.0";
+
+  private OAuthConfig config;
+  private DefaultApi10a api;
+
+  /**
+   * Default constructor
+   * 
+   * @param api OAuth1.0a api information
+   * @param config OAuth 1.0a configuration param object
+   */
+  public OAuth10aServiceImpl(DefaultApi10a api, OAuthConfig config)
+  {
+    this.api = api;
+    this.config = config;
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public Token getRequestToken()
+  {
+    config.log("obtaining request token from " + api.getRequestTokenEndpoint());
+    OAuthRequest request = new OAuthRequest(api.getRequestTokenVerb(), api.getRequestTokenEndpoint());
+
+    config.log("setting oauth_callback to " + config.getCallback());
+    request.addOAuthParameter(OAuthConstants.CALLBACK, config.getCallback());
+    addOAuthParams(request, OAuthConstants.EMPTY_TOKEN);
+    appendSignature(request);
+
+    config.log("sending request...");
+    Response response = request.send();
+    String body = response.getBody();
+
+    config.log("response status code: " + response.getCode());
+    config.log("response body: " + body);
+    return api.getRequestTokenExtractor().extract(body);
+  }
+
+  private void addOAuthParams(OAuthRequest request, Token token)
+  {
+    request.addOAuthParameter(OAuthConstants.TIMESTAMP, api.getTimestampService().getTimestampInSeconds());
+    request.addOAuthParameter(OAuthConstants.NONCE, api.getTimestampService().getNonce());
+    request.addOAuthParameter(OAuthConstants.CONSUMER_KEY, config.getApiKey());
+    request.addOAuthParameter(OAuthConstants.SIGN_METHOD, api.getSignatureService().getSignatureMethod());
+    request.addOAuthParameter(OAuthConstants.VERSION, getVersion());
+    if(config.hasScope()) request.addOAuthParameter(OAuthConstants.SCOPE, config.getScope());
+    request.addOAuthParameter(OAuthConstants.SIGNATURE, getSignature(request, token));
+
+    config.log("appended additional OAuth parameters: " + MapUtils.toString(request.getOauthParameters()));
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public Token getAccessToken(Token requestToken, Verifier verifier)
+  {
+    config.log("obtaining access token from " + api.getAccessTokenEndpoint());
+    OAuthRequest request = new OAuthRequest(api.getAccessTokenVerb(), api.getAccessTokenEndpoint());
+    request.addOAuthParameter(OAuthConstants.TOKEN, requestToken.getToken());
+    request.addOAuthParameter(OAuthConstants.VERIFIER, verifier.getValue());
+
+    config.log("setting token to: " + requestToken + " and verifier to: " + verifier);
+    addOAuthParams(request, requestToken);
+    appendSignature(request);
+    Response response = request.send();
+    return api.getAccessTokenExtractor().extract(response.getBody());
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public void signRequest(Token token, OAuthRequest request)
+  {
+    config.log("signing request: " + request.getCompleteUrl());
+    request.addOAuthParameter(OAuthConstants.TOKEN, token.getToken());
+
+    config.log("setting token to: " + token);
+    addOAuthParams(request, token);
+    appendSignature(request);
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getVersion()
+  {
+    return VERSION;
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return api.getAuthorizationUrl(requestToken);
+  }
+  
+  private String getSignature(OAuthRequest request, Token token)
+  {
+    config.log("generating signature...");
+    String baseString = api.getBaseStringExtractor().extract(request);
+    String signature = api.getSignatureService().getSignature(baseString, config.getApiSecret(), token.getSecret());
+
+    config.log("base string is: " + baseString);
+    config.log("signature is: " + signature);
+    return signature;
+  }
+
+  private void appendSignature(OAuthRequest request)
+  {
+    switch (config.getSignatureType())
+    {
+      case Header:
+        config.log("using Http Header signature");
+
+        String oauthHeader = api.getHeaderExtractor().extract(request);
+        request.addHeader(OAuthConstants.HEADER, oauthHeader);
+        break;
+      case QueryString:
+        config.log("using Querystring signature");
+
+        for (Map.Entry<String, String> entry : request.getOauthParameters().entrySet())
+        {
+          request.addQuerystringParameter(entry.getKey(), entry.getValue());
+        }
+        break;
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/oauth/OAuth20ServiceImpl.java b/Lollapaloozer-Android/src/org/scribe/oauth/OAuth20ServiceImpl.java
new file mode 100644
index 0000000..6262c37
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/oauth/OAuth20ServiceImpl.java
@@ -0,0 +1,72 @@
+package org.scribe.oauth;
+
+import org.scribe.builder.api.*;
+import org.scribe.model.*;
+
+public class OAuth20ServiceImpl implements OAuthService
+{
+  private static final String VERSION = "2.0";
+  
+  private final DefaultApi20 api;
+  private final OAuthConfig config;
+  
+  /**
+   * Default constructor
+   * 
+   * @param api OAuth2.0 api information
+   * @param config OAuth 2.0 configuration param object
+   */
+  public OAuth20ServiceImpl(DefaultApi20 api, OAuthConfig config)
+  {
+    this.api = api;
+    this.config = config;
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public Token getAccessToken(Token requestToken, Verifier verifier)
+  {
+    OAuthRequest request = new OAuthRequest(api.getAccessTokenVerb(), api.getAccessTokenEndpoint());
+    request.addQuerystringParameter(OAuthConstants.CLIENT_ID, config.getApiKey());
+    request.addQuerystringParameter(OAuthConstants.CLIENT_SECRET, config.getApiSecret());
+    request.addQuerystringParameter(OAuthConstants.CODE, verifier.getValue());
+    request.addQuerystringParameter(OAuthConstants.REDIRECT_URI, config.getCallback());
+    if(config.hasScope()) request.addQuerystringParameter(OAuthConstants.SCOPE, config.getScope());
+    Response response = request.send();
+    return api.getAccessTokenExtractor().extract(response.getBody());
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public Token getRequestToken()
+  {
+    throw new UnsupportedOperationException("Unsupported operation, please use 'getAuthorizationUrl' and redirect your users there");
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getVersion()
+  {
+    return VERSION;
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public void signRequest(Token accessToken, OAuthRequest request)
+  {
+    request.addQuerystringParameter(OAuthConstants.ACCESS_TOKEN, accessToken.getToken());
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getAuthorizationUrl(Token requestToken)
+  {
+    return api.getAuthorizationUrl(config);
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/oauth/OAuthService.java b/Lollapaloozer-Android/src/org/scribe/oauth/OAuthService.java
new file mode 100644
index 0000000..0c9c57e
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/oauth/OAuthService.java
@@ -0,0 +1,53 @@
+package org.scribe.oauth;
+
+import org.scribe.model.*;
+
+/**
+ * The main Scribe object. 
+ * 
+ * A facade responsible for the retrieval of request and access tokens and for the signing of HTTP requests.  
+ * 
+ * @author Pablo Fernandez
+ */
+public interface OAuthService
+{
+  /**
+   * Retrieve the request token.
+   * 
+   * @return request token
+   */
+  public Token getRequestToken();
+
+  /**
+   * Retrieve the access token
+   * 
+   * @param requestToken request token (obtained previously)
+   * @param verifier verifier code
+   * @return access token
+   */
+  public Token getAccessToken(Token requestToken, Verifier verifier);
+
+  /**
+   * Signs am OAuth request
+   * 
+   * @param accessToken access token (obtained previously)
+   * @param request request to sign
+   */
+  public void signRequest(Token accessToken, OAuthRequest request);
+
+  /**
+   * Returns the OAuth version of the service.
+   * 
+   * @return oauth version as string
+   */
+  public String getVersion();
+  
+  /**
+   * Returns the URL where you should redirect your users to authenticate
+   * your application.
+   * 
+   * @param requestToken the request token you need to authorize
+   * @return the URL where you should redirect your users
+   */
+  public String getAuthorizationUrl(Token requestToken);
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/services/HMACSha1SignatureService.java b/Lollapaloozer-Android/src/org/scribe/services/HMACSha1SignatureService.java
new file mode 100644
index 0000000..45800ca
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/services/HMACSha1SignatureService.java
@@ -0,0 +1,58 @@
+package org.scribe.services;
+
+import javax.crypto.*;
+import javax.crypto.spec.*;
+
+import org.apache.commons.codec.binary.Base64;
+import org.scribe.exceptions.*;
+import org.scribe.utils.*;
+
+
+/**
+ * HMAC-SHA1 implementation of {@SignatureService}
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public class HMACSha1SignatureService implements SignatureService
+{
+  private static final String EMPTY_STRING = "";
+  private static final String CARRIAGE_RETURN = "\r\n";
+  private static final String UTF8 = "UTF-8";
+  private static final String HMAC_SHA1 = "HmacSHA1";
+  private static final String METHOD = "HMAC-SHA1";
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getSignature(String baseString, String apiSecret, String tokenSecret)
+  {
+    try
+    {
+      Preconditions.checkEmptyString(baseString, "Base string cant be null or empty string");
+      Preconditions.checkEmptyString(apiSecret, "Api secret cant be null or empty string");
+      return doSign(baseString, OAuthEncoder.encode(apiSecret) + '&' + OAuthEncoder.encode(tokenSecret));
+    } 
+    catch (Exception e)
+    {
+      throw new OAuthSignatureException(baseString, e);
+    }
+  }
+
+  private String doSign(String toSign, String keyString) throws Exception
+  {
+    SecretKeySpec key = new SecretKeySpec((keyString).getBytes(UTF8), HMAC_SHA1);
+    Mac mac = Mac.getInstance(HMAC_SHA1);
+    mac.init(key);
+    byte[] bytes = mac.doFinal(toSign.getBytes(UTF8));
+    return new String(Base64.encodeBase64(bytes)).replace(CARRIAGE_RETURN, EMPTY_STRING);
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getSignatureMethod()
+  {
+    return METHOD;
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/services/PlaintextSignatureService.java b/Lollapaloozer-Android/src/org/scribe/services/PlaintextSignatureService.java
new file mode 100644
index 0000000..b71ca97
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/services/PlaintextSignatureService.java
@@ -0,0 +1,40 @@
+package org.scribe.services;
+
+import org.scribe.exceptions.*;
+import org.scribe.utils.*;
+
+/**
+ * plaintext implementation of {@SignatureService}
+ *
+ * @author Pablo Fernandez
+ *
+ */
+public class PlaintextSignatureService implements SignatureService
+{
+  private static final String METHOD = "plaintext";
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getSignature(String baseString, String apiSecret, String tokenSecret)
+  {
+    try
+    {
+      Preconditions.checkEmptyString(apiSecret, "Api secret cant be null or empty string");
+      return OAuthEncoder.encode(apiSecret) + '&' + OAuthEncoder.encode(tokenSecret);
+    }
+    catch (Exception e)
+    {
+      throw new OAuthSignatureException(baseString, e);
+    }
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getSignatureMethod()
+  {
+    return METHOD;
+  }
+}
+
diff --git a/Lollapaloozer-Android/src/org/scribe/services/SignatureService.java b/Lollapaloozer-Android/src/org/scribe/services/SignatureService.java
new file mode 100644
index 0000000..229c2f6
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/services/SignatureService.java
@@ -0,0 +1,28 @@
+package org.scribe.services;
+
+/**
+ * Signs a base string, returning the OAuth signature
+ * 
+ * @author Pablo Fernandez
+ *
+ */
+public interface SignatureService
+{
+  /**
+   * Returns the signature
+   * 
+   * @param baseString url-encoded string to sign
+   * @param apiSecret api secret for your app
+   * @param tokenSecret token secret (empty string for the request token step)
+   * 
+   * @return signature
+   */
+  public String getSignature(String baseString, String apiSecret, String tokenSecret);
+
+  /**
+   * Returns the signature method/algorithm
+   * 
+   * @return
+   */
+  public String getSignatureMethod();
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/services/TimestampService.java b/Lollapaloozer-Android/src/org/scribe/services/TimestampService.java
new file mode 100644
index 0000000..221a226
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/services/TimestampService.java
@@ -0,0 +1,25 @@
+package org.scribe.services;
+
+/**
+ * Unix epoch timestamp generator.
+ * 
+ * This class is useful for stubbing in tests. 
+ * 
+ * @author Pablo Fernandez
+ */
+public interface TimestampService
+{
+  /**
+   * Returns the unix epoch timestamp in seconds
+   * 
+   * @return timestamp
+   */
+  public String getTimestampInSeconds();
+
+  /**
+   * Returns a nonce (unique value for each request)
+   * 
+   * @return nonce
+   */
+  public String getNonce();
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/services/TimestampServiceImpl.java b/Lollapaloozer-Android/src/org/scribe/services/TimestampServiceImpl.java
new file mode 100644
index 0000000..4aa27e0
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/services/TimestampServiceImpl.java
@@ -0,0 +1,67 @@
+package org.scribe.services;
+
+import java.util.*;
+
+/**
+ * Implementation of {@link TimestampService} using plain java classes.
+ * 
+ * @author Pablo Fernandez
+ */
+public class TimestampServiceImpl implements TimestampService
+{
+  private Timer timer;
+
+  /**
+   * Default constructor. 
+   */
+  public TimestampServiceImpl()
+  {
+    timer = new Timer();
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getNonce()
+  {
+    Long ts = getTs();
+    return String.valueOf(ts + timer.getRandomInteger());
+  }
+
+  /**
+   * {@inheritDoc}
+   */
+  public String getTimestampInSeconds()
+  {
+    return String.valueOf(getTs());
+  }
+
+  private Long getTs()
+  {
+    return timer.getMilis() / 1000;
+  }
+
+  void setTimer(Timer timer)
+  {
+    this.timer = timer;
+  }
+
+  /**
+   * Inner class that uses {@link System} for generating the timestamps.
+   * 
+   * @author Pablo Fernandez
+   */
+  static class Timer
+  {
+    Long getMilis()
+    {
+      return System.currentTimeMillis();
+    }
+
+    Integer getRandomInteger()
+    {
+      return new Random().nextInt();
+    }
+  }
+
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/utils/MapUtils.java b/Lollapaloozer-Android/src/org/scribe/utils/MapUtils.java
new file mode 100644
index 0000000..9e461b8
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/utils/MapUtils.java
@@ -0,0 +1,22 @@
+package org.scribe.utils;
+
+import java.util.Map;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class MapUtils
+{
+  public static <K,V> String toString(Map<K,V> map)
+  {
+    if (map == null) return "";
+    if (map.isEmpty()) return "{}";
+
+    StringBuilder result = new StringBuilder();
+    for(Map.Entry<K,V> entry : map.entrySet())
+    {
+      result.append(String.format(", %s -> %s ", entry.getKey().toString(), entry.getValue().toString()));
+    }
+    return "{" + result.substring(1) + "}";
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/utils/OAuthEncoder.java b/Lollapaloozer-Android/src/org/scribe/utils/OAuthEncoder.java
new file mode 100644
index 0000000..10beabd
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/utils/OAuthEncoder.java
@@ -0,0 +1,62 @@
+package org.scribe.utils;
+
+import java.io.*;
+import java.net.*;
+import java.util.*;
+import java.util.regex.*;
+import org.scribe.exceptions.*;
+
+/**
+ * @author: Pablo Fernandez
+ */
+public class OAuthEncoder
+{
+  private static String CHARSET = "UTF-8";
+  private static final Map<String, String> ENCODING_RULES;
+
+  static
+  {
+    Map<String, String> rules = new HashMap<String, String>();
+    rules.put("*", "%2A");
+    rules.put("+", "%20");
+    rules.put("%7E", "~");
+    ENCODING_RULES = Collections.unmodifiableMap(rules);
+  }
+
+  public static String encode(String plain)
+  {
+    Preconditions.checkNotNull(plain, "Cannot encode null object");
+    String encoded = "";
+    try
+    {
+      encoded = URLEncoder.encode(plain, CHARSET);
+    }
+    catch (UnsupportedEncodingException uee)
+    {
+      throw new OAuthException("Charset not found while encoding string: " + CHARSET, uee);
+    }
+    for(Map.Entry<String, String> rule : ENCODING_RULES.entrySet())
+    {
+      encoded = applyRule(encoded, rule.getKey(), rule.getValue());
+    }
+    return encoded;
+  }
+
+  private static String applyRule(String encoded, String toReplace, String replacement)
+  {
+    return encoded.replaceAll(Pattern.quote(toReplace), replacement);
+  }
+
+  public static String decode(String encoded)
+  {
+    Preconditions.checkNotNull(encoded, "Cannot decode null object");
+    try
+    {
+      return URLDecoder.decode(encoded, CHARSET);
+    }
+    catch(UnsupportedEncodingException uee)
+    {
+      throw new OAuthException("Charset not found while decoding string: " + CHARSET, uee);
+    }
+  }
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/utils/Preconditions.java b/Lollapaloozer-Android/src/org/scribe/utils/Preconditions.java
new file mode 100644
index 0000000..0ac134e
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/utils/Preconditions.java
@@ -0,0 +1,86 @@
+package org.scribe.utils;
+
+import java.util.regex.Pattern;
+
+import org.scribe.model.OAuthConstants;
+
+/**
+ * Utils for checking preconditions and invariants
+ * 
+ * @author Pablo Fernandez
+ */
+public class Preconditions
+{
+  private static final String DEFAULT_MESSAGE = "Received an invalid parameter";
+  
+  // scheme = alpha *( alpha | digit | "+" | "-" | "." )
+  private static final Pattern URL_PATTERN = Pattern.compile("^[a-zA-Z][a-zA-Z0-9+.-]*://\\S+");
+
+  /**
+   * Checks that an object is not null.
+   * 
+   * @param object any object
+   * @param errorMsg error message
+   * 
+   * @throws IllegalArgumentException if the object is null
+   */
+  public static void checkNotNull(Object object, String errorMsg)
+  {
+    check(object != null, errorMsg);
+  }
+
+  /**
+   * Checks that a string is not null or empty
+   * 
+   * @param string any string
+   * @param errorMsg error message
+   * 
+   * @throws IllegalArgumentException if the string is null or empty
+   */
+  public static void checkEmptyString(String string, String errorMsg)
+  {
+    check(string != null && !string.trim().equals(""), errorMsg);
+  }
+
+  /**
+   * Checks that a URL is valid
+   * 
+   * @param url any string
+   * @param errorMsg error message
+   */
+  public static void checkValidUrl(String url, String errorMsg)
+  {
+    checkEmptyString(url, errorMsg);
+    check(isUrl(url), errorMsg);
+  }
+  
+  /**
+   * Checks that a URL is a valid OAuth callback
+   *  
+   * @param url any string
+   * @param errorMsg error message
+   */
+  public static void checkValidOAuthCallback(String url, String errorMsg)
+  {
+    checkEmptyString(url, errorMsg);
+    if(url.toLowerCase().compareToIgnoreCase(OAuthConstants.OUT_OF_BAND) != 0)
+    {
+      check(isUrl(url), errorMsg);  
+    }
+  }
+  
+  private static boolean isUrl(String url)
+  {
+    return URL_PATTERN.matcher(url).matches();
+  }
+  
+  private static void check(boolean requirements, String error)
+  {
+    String message = (error == null || error.trim().length() <= 0) ? DEFAULT_MESSAGE : error;
+    if (!requirements)
+    {
+      throw new IllegalArgumentException(message);
+    }
+  }
+  
+}
diff --git a/Lollapaloozer-Android/src/org/scribe/utils/StreamUtils.java b/Lollapaloozer-Android/src/org/scribe/utils/StreamUtils.java
new file mode 100644
index 0000000..0799b9c
--- /dev/null
+++ b/Lollapaloozer-Android/src/org/scribe/utils/StreamUtils.java
@@ -0,0 +1,42 @@
+package org.scribe.utils;
+
+import java.io.*;
+
+/**
+ * Utils to deal with Streams.
+ *  
+ * @author Pablo Fernandez
+ */
+public class StreamUtils
+{
+  /**
+   * Returns the stream contents as an UTF-8 encoded string
+   * 
+   * @param is input stream
+   * @return string contents
+   */
+  public static String getStreamContents(InputStream is)
+  {
+    Preconditions.checkNotNull(is, "Cannot get String from a null object");
+    try
+    {
+      final char[] buffer = new char[0x10000];
+      StringBuilder out = new StringBuilder();
+      Reader in = new InputStreamReader(is, "UTF-8");
+      int read;
+      do
+      {
+        read = in.read(buffer, 0, buffer.length);
+        if (read > 0)
+        {
+          out.append(buffer, 0, read);
+        }
+      } while (read >= 0);
+      in.close();
+      return out.toString();
+    } catch (IOException ioe)
+    {
+      throw new IllegalStateException("Error while reading response body", ioe);
+    }
+  }
+}
0fb5894235faad3fc32534e06d65131f7a0bdbde
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerEmailComposite.java b/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerEmailComposite.java
index 6bb969d..4b860cb 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerEmailComposite.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerEmailComposite.java
@@ -88 +88 @@ public class CoachellerEmailComposite extends Composite {
-    return PageToken.EMAIL_COACHELLA.getValue();
+    return PageToken.EMAIL.getValue();
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerRateComposite.java b/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerRateComposite.java
index 4aa843c..0cda8a2 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerRateComposite.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerRateComposite.java
@@ -306 +306 @@ public class CoachellerRateComposite extends Composite {
-    return PageToken.RATE_COACHELLA.getValue() + "=" + ownerEmail;
+    return PageToken.RATE.getValue() + "=" + ownerEmail;
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerViewComposite.java b/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerViewComposite.java
index 0e48a3f..b30fa94 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerViewComposite.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/client/CoachellerViewComposite.java
@@ -232 +232 @@ public class CoachellerViewComposite extends Composite {
-    return PageToken.VIEW_COACHELLA.getValue();
+    return PageToken.VIEW.getValue();
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/client/FlowControl.java b/Coacheller-AppEngine/src/com/ratethisfest/client/FlowControl.java
index 6c8a678..ca92f0b 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/client/FlowControl.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/client/FlowControl.java
@@ -4,0 +5 @@ import com.google.gwt.user.client.History;
+import com.google.gwt.user.client.Window;
@@ -33,0 +35,21 @@ public class FlowControl {
+  /*
+   * public static void go(String tokenString) { PageToken token =
+   * getPageFromToken(tokenString); String param =
+   * getParamFromToken(tokenString); if (token == null) { go(new
+   * CoachellerViewComposite()); } else if
+   * (PageToken.VIEW_COACHELLA.equals(token)) { go(new
+   * CoachellerViewComposite()); } else if
+   * (PageToken.EMAIL_COACHELLA.equals(token)) { go(new
+   * CoachellerEmailComposite()); } else if
+   * (PageToken.RATE_COACHELLA.equals(token)) { go(new
+   * CoachellerRateComposite(param)); } else if
+   * (PageToken.VIEW_LOLLA.equals(token)) { go(new
+   * LollapaloozerViewComposite()); } else if
+   * (PageToken.EMAIL_LOLLA.equals(token)) { go(new
+   * LollapaloozerEmailComposite()); } else if
+   * (PageToken.RATE_LOLLA.equals(token)) { go(new
+   * LollapaloozerRateComposite(param)); } // TODO: add retrievePoll to
+   * PollPhotoWidget // else if (PageToken.UPLOAD.equals(token)) { // go(new
+   * PollPhotoWidget()); // } }
+   */
+
@@ -36,0 +59 @@ public class FlowControl {
+
@@ -39,13 +62,21 @@ public class FlowControl {
-    } else if (PageToken.VIEW_COACHELLA.equals(token)) {
-      go(new CoachellerViewComposite());
-    } else if (PageToken.EMAIL_COACHELLA.equals(token)) {
-      go(new CoachellerEmailComposite());
-    } else if (PageToken.RATE_COACHELLA.equals(token)) {
-      go(new CoachellerRateComposite(param));
-    } else if (PageToken.VIEW_LOLLA.equals(token)) {
-      go(new LollapaloozerViewComposite());
-    } else if (PageToken.EMAIL_LOLLA.equals(token)) {
-      go(new LollapaloozerEmailComposite());
-    } else if (PageToken.RATE_LOLLA.equals(token)) {
-      go(new LollapaloozerRateComposite(param));
-    }
+    } else {
+
+      if (Window.Location.getHostName().contains("coacheller")) {
+        if (PageToken.VIEW.equals(token)) {
+          go(new CoachellerViewComposite());
+        } else if (PageToken.EMAIL.equals(token)) {
+          go(new CoachellerEmailComposite());
+        } else if (PageToken.RATE.equals(token)) {
+          go(new CoachellerRateComposite(param));
+        } // End if host is coacheller
+      } else if (Window.Location.getHostName().contains("lollapaloozer")) {
+        if (PageToken.VIEW.equals(token)) {
+          go(new CoachellerViewComposite());
+        } else if (PageToken.EMAIL.equals(token)) {
+          go(new CoachellerEmailComposite());
+        } else if (PageToken.RATE.equals(token)) {
+          go(new CoachellerRateComposite(param));
+        }
+      } // End if host is lollapaloozer
+    } // End if email is provided
+
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerEmailComposite.java b/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerEmailComposite.java
index 1663661..28ebef8 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerEmailComposite.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerEmailComposite.java
@@ -88 +88 @@ public class LollapaloozerEmailComposite extends Composite {
-    return PageToken.EMAIL_LOLLA.getValue();
+    return PageToken.EMAIL.getValue();
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerRateComposite.java b/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerRateComposite.java
index f9e438e..4de68f0 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerRateComposite.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerRateComposite.java
@@ -287 +287 @@ public class LollapaloozerRateComposite extends Composite {
-    return PageToken.RATE_LOLLA.getValue() + "=" + ownerEmail;
+    return PageToken.RATE.getValue() + "=" + ownerEmail;
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerViewComposite.java b/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerViewComposite.java
index 8727ac8..a40b730 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerViewComposite.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/client/LollapaloozerViewComposite.java
@@ -234 +234 @@ public class LollapaloozerViewComposite extends Composite {
-    return PageToken.VIEW_LOLLA.getValue();
+    return PageToken.VIEW.getValue();
diff --git a/Coacheller-AppEngine/src/com/ratethisfest/client/PageToken.java b/Coacheller-AppEngine/src/com/ratethisfest/client/PageToken.java
index 14786ac..c39b977 100644
--- a/Coacheller-AppEngine/src/com/ratethisfest/client/PageToken.java
+++ b/Coacheller-AppEngine/src/com/ratethisfest/client/PageToken.java
@@ -9,6 +9,3 @@ public enum PageToken {
-  VIEW_COACHELLA("view_coachella"),
-  RATE_COACHELLA("rate_coachella"),
-  EMAIL_COACHELLA("email_coachella"),
-  VIEW_LOLLA("view_lolla"),
-  RATE_LOLLA("rate_lolla"),
-  EMAIL_LOLLA("email_lolla");
+  VIEW("view"),
+  RATE("rate"),
+  EMAIL("email");
6b893788a2450d39d123caa4cfe404ae56d8c811
diff --git a/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
index 5075970..5126c7e 100644
--- a/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
@@ -729 +729 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-                Toast.makeText(this, "Try rating at least one set first", 25).show();
+                Toast.makeText(this, "Try rating at least one set first", 15).show();
@@ -732 +732,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-                  ServiceUtils.sendMyRatings(this, _obtained_email);
+                  
+                  Toast.makeText(this, "This feature coming soon!", 15).show();
+                  //ServiceUtils.sendMyRatings(this, _obtained_email);
48fae4a160d0ae2862a8a560cbc2c1aff55ff5d4
diff --git a/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
index 1301b9c..5075970 100644
--- a/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
@@ -26,0 +27 @@ import android.widget.RadioGroup;
+import android.widget.RadioGroup.OnCheckedChangeListener;
@@ -38,0 +40 @@ import com.coacheller.R.string;
+import com.coacheller.data.CustomPair;
@@ -45 +47 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    OnItemSelectedListener, OnItemClickListener {
+    OnItemSelectedListener, OnItemClickListener, OnCheckedChangeListener {
@@ -88,0 +91 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private CustomPair<String, String> _lastRatings = new CustomPair<String, String>(null, null);
@@ -89,0 +93,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private HashMap<String, Integer> _ratingSelectedScoreToId = new HashMap<String, Integer>();
+  
@@ -109,0 +115 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
@@ -114,0 +121,7 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+    _ratingSelectedScoreToId.put("1", R.id.radio_button_score1);
+    _ratingSelectedScoreToId.put("2", R.id.radio_button_score2);
+    _ratingSelectedScoreToId.put("3", R.id.radio_button_score3);
+    _ratingSelectedScoreToId.put("4", R.id.radio_button_score4);
+    _ratingSelectedScoreToId.put("5", R.id.radio_button_score5);
+
@@ -504 +517 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        scoreGroup.clearCheck();
+        //scoreGroup.clearCheck();
@@ -519 +532 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      scoreGroup.clearCheck();
+      //scoreGroup.clearCheck();
@@ -534 +547,24 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    CoachellerApplication.debug(this, "You Clicked On: " + obj);
+    
+    try {//TODO Hard coded strings means you are going to hell
+      String setId = _lastItemSelected.getString(QUERY_SETS__SET_ID);
+      JSONObject lastRatingWeek1 = _myRatings_JAHM.getJSONObject(setId, "1");
+      JSONObject lastRatingWeek2 = _myRatings_JAHM.getJSONObject(setId, "2");
+      
+      if (lastRatingWeek1 != null) {
+        _lastRatings.first = lastRatingWeek1.getString(QUERY_RATINGS__RATING);
+      } else {
+        _lastRatings.first = null;
+      }
+      
+      if (lastRatingWeek2 != null) {
+        _lastRatings.second = lastRatingWeek2.getString(QUERY_RATINGS__RATING);
+      } else {
+        _lastRatings.second = null;
+      }
+      
+      
+    } catch (JSONException e) {
+      CoachellerApplication.debug(this, "JSONException retrieving user's last rating");
+      e.printStackTrace();
+    }
+    CoachellerApplication.debug(this, "You Clicked On: "+ obj +" previous ratings "+ _lastRatings.first +"/"+ _lastRatings.second);
@@ -558,0 +595,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        
+        
@@ -568,0 +607,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      
+      int idChanged = -1;
+      
@@ -573,0 +615 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        idChanged = buttonWeek1.getId();
@@ -579,0 +622 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        idChanged = buttonWeek2.getId();
@@ -586,3 +629,6 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      // TODO If the user already rated this set, default to their last rating
-      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
-      scoreGroup.clearCheck();
+      //TODO pick user's last rating
+      onCheckedChanged(weekGroup, idChanged);
+      
+      
+      //RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
+      //scoreGroup.clearCheck();
@@ -618,0 +665,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      
+      RadioGroup weekGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_week);
+      weekGroup.setOnCheckedChangeListener(this);
@@ -703,0 +753,32 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  @Override
+  public void onCheckedChanged(RadioGroup clickedGroup, int checkedId) {
+    //todo should use switch
+    RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
+    if (clickedGroup == _lastRateDialog.findViewById(R.id.radio_pick_week)) {
+     
+      
+      if (checkedId == R.id.radio_button_week1  && _lastRatings.first != null) {
+        int buttonIdToCheck = _ratingSelectedScoreToId.get(_lastRatings.first);
+        RadioButton buttonToCheck = (RadioButton) _lastRateDialog.findViewById(buttonIdToCheck);
+        buttonToCheck.setChecked(true);
+
+      } else if (checkedId == R.id.radio_button_week2  && _lastRatings.second != null) {
+        CoachellerApplication.debug(this, "Last Rating "+ _lastRatings.second);
+        int buttonIdToCheck = _ratingSelectedScoreToId.get(_lastRatings.second); 
+        CoachellerApplication.debug(this, "Button id to check "+ buttonIdToCheck);
+        RadioButton buttonToCheck = (RadioButton) _lastRateDialog.findViewById(buttonIdToCheck);  //TODO duplicate code
+        buttonToCheck.setChecked(true);
+        
+        
+        
+      } else { //Not sure what is selected, clear rating check
+        
+        scoreGroup.clearCheck();
+      }
+      
+      scoreGroup.invalidate();
+      
+    }
+    
+  }
+
8bc8a35bb9496486a336af21badb901f52b62848
diff --git a/Coacheller-Android/res/menu/menu_global_options.xml b/Coacheller-Android/res/menu/menu_global_options.xml
new file mode 100644
index 0000000..82be709
--- /dev/null
+++ b/Coacheller-Android/res/menu/menu_global_options.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<menu xmlns:android="http://schemas.android.com/apk/res/android" >
+    <item android:id="@+id/menu_item_email_me" android:title="Email me my Ratings!" android:icon="@android:drawable/ic_menu_send"></item>
+    <item android:id="@+id/menu_item_delete_email" android:title="Delete stored email" android:icon="@android:drawable/ic_menu_delete"></item>
+    
+
+</menu>
\ No newline at end of file
diff --git a/Coacheller-Android/src/com/coacheller/ServiceUtils.java b/Coacheller-Android/src/com/coacheller/ServiceUtils.java
index 48147b2..9152c09 100644
--- a/Coacheller-Android/src/com/coacheller/ServiceUtils.java
+++ b/Coacheller-Android/src/com/coacheller/ServiceUtils.java
@@ -232,0 +233,53 @@ public class ServiceUtils {
+
+
+  
+  //This may have a bug or 3, I was getting tired
+  public static String sendMyRatings(Context context, String email) throws Exception {
+      try {
+        StringBuilder requestString = new StringBuilder();
+        requestString.append(HttpConstants.SERVER_URL);
+        requestString.append(HttpConstants.PARAM_EMAIL);
+        requestString.append("=");
+        requestString.append(email);
+        requestString.append("&");
+        requestString.append(HttpConstants.PARAM_ACTION);
+        requestString.append("=");
+        
+        //TODO fix this for email feature
+        requestString.append(HttpConstants.ACTION_ADD_RATING);
+
+        CoachellerApplication.debug(context, "HTTPPost = " + requestString.toString());
+        HttpPost post = new HttpPost(requestString.toString());
+        HttpClient hc = new DefaultHttpClient();
+        HttpResponse response = hc.execute(post);
+
+        // get the response from GAE server, should be in JSON format
+        if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
+          CoachellerApplication.debug(context, HTTP_SUCCESS);
+
+          BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity()
+              .getContent(), "UTF-8"));
+          StringBuilder builder = new StringBuilder();
+          for (String line = null; (line = reader.readLine()) != null;) {
+            builder.append(line).append("\n");
+          }
+          
+          return builder.toString();
+
+        } else {
+          CoachellerApplication.debug(context, HTTP_FAILURE
+              + response.getStatusLine().getStatusCode());
+          throw new Exception();
+        }
+
+      } catch (UnsupportedEncodingException e) {
+        e.printStackTrace();
+        throw new Exception();
+      } catch (IllegalStateException e) {
+        e.printStackTrace();
+        throw new Exception();
+      } catch (IOException e) {
+        e.printStackTrace();
+        throw new Exception();
+      }
+  }
diff --git a/Coacheller-Android/src/com/coacheller/data/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/data/CustomSetListAdapter.java
index 78dcd9d..5186452 100644
--- a/Coacheller-Android/src/com/coacheller/data/CustomSetListAdapter.java
+++ b/Coacheller-Android/src/com/coacheller/data/CustomSetListAdapter.java
@@ -6,0 +7 @@ import org.json.JSONObject;
+import com.coacheller.CoachellerApplication;
@@ -44 +45,3 @@ public class CustomSetListAdapter implements ListAdapter {
-    updateJAHM(myRatings_JAHM);
+   
+    //setNewJAHM(myRatings_JAHM);
+     _myRatings_JAHM = myRatings_JAHM;
@@ -47,2 +50,3 @@ public class CustomSetListAdapter implements ListAdapter {
-  public void updateJAHM(JSONArrayHashMap myRatings_JAHM) {
-    _myRatings_JAHM = myRatings_JAHM;
+  /*
+  public void setNewJAHM(JSONArrayHashMap myRatings_JAHM) {
+    
@@ -49,0 +54 @@ public class CustomSetListAdapter implements ListAdapter {
+  */
@@ -116,0 +122,4 @@ public class CustomSetListAdapter implements ListAdapter {
+    if (!haveData()) {
+      return rowView;
+    }
+
@@ -133 +142 @@ public class CustomSetListAdapter implements ListAdapter {
-      }
+      } 
@@ -166,0 +176,3 @@ public class CustomSetListAdapter implements ListAdapter {
+      
+      //Gnarly debug thing
+      //CoachellerApplication.debug(_context,"Artist["+ holder.textArtist.getText() +"] Rating["+ score1 +"/"+ score2);
@@ -176,14 +188,9 @@ public class CustomSetListAdapter implements ListAdapter {
-  /*
-   * public String militaryToCivilianTime(int milTime) { String ampm; if
-   * (milTime < 1200 || milTime == 2400) { ampm = "a"; } else { ampm = "p"; }
-   * 
-   * if (milTime < 100) { milTime += 1200; }
-   * 
-   * if (milTime >= 1300) { milTime -= 1200; }
-   * 
-   * String timeStr = milTime + "";
-   * 
-   * int timeStrLen = timeStr.length(); timeStr = timeStr.substring(0,
-   * timeStrLen - 2) + ":" + timeStr.substring(timeStrLen - 2, timeStrLen) +
-   * ampm; return timeStr; }
-   */
+  // If we are ready to draw the view
+  // Needed for concurrency issues
+  private boolean haveData() {
+    if (_data != null) {
+      return true;
+    }
+    return false;
+  }
+
@@ -202 +209 @@ public class CustomSetListAdapter implements ListAdapter {
-  //Implemented prior to week 2, hope nothing breaks.
+  // Implemented prior to week 2, hope nothing breaks.
diff --git a/Coacheller-Android/src/com/coacheller/data/JSONArrayHashMap.java b/Coacheller-Android/src/com/coacheller/data/JSONArrayHashMap.java
index 8715bf2..2a0f9e4 100644
--- a/Coacheller-Android/src/com/coacheller/data/JSONArrayHashMap.java
+++ b/Coacheller-Android/src/com/coacheller/data/JSONArrayHashMap.java
@@ -34 +34,2 @@ public class JSONArrayHashMap {
-  public void setData(JSONArray data) throws JSONException {
+  public void rebuildDataWith(JSONArray data) throws JSONException {
+    wipeData();
@@ -48 +49 @@ public class JSONArrayHashMap {
-    setData(data);
+    rebuildDataWith(data);
@@ -51 +52 @@ public class JSONArrayHashMap {
-  public void wipe() {
+  public void wipeSchema() {
@@ -53,0 +55,4 @@ public class JSONArrayHashMap {
+    wipeData();
+  }
+  
+  public void wipeData() {
diff --git a/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
index 897095a..1301b9c 100644
--- a/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
@@ -14,0 +15,3 @@ import android.os.Message;
+import android.view.Menu;
+import android.view.MenuInflater;
+import android.view.MenuItem;
@@ -55 +58 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  private static final String USER_EMAIL = "USER_EMAIL";
+  private static final String DATA_USER_EMAIL = "DATA_USER_EMAIL";
@@ -196 +199 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 25);
+    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 20);
@@ -201 +204 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    String loadedEmail = _storageManager.getString(USER_EMAIL);
+    String loadedEmail = _storageManager.getString(DATA_USER_EMAIL);
@@ -319 +322 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        _myRatings_JAHM.setData(myRatings);
+        _myRatings_JAHM.rebuildDataWith(myRatings);
@@ -331,0 +335,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      
+      
+      //Need to wipe out ratings if email was just deleted
+      _myRatings_JAHM.wipeData();
@@ -334 +341,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    _setListAdapter.updateJAHM(_myRatings_JAHM);
+    //New strategy does not re-instantiate this object, this line should not be needed
+    //_setListAdapter.setNewJAHM(_myRatings_JAHM);
@@ -359 +367 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      ServiceUtils.addRating(_storageManager.getString(USER_EMAIL), ((TextView) _lastRateDialog
+      ServiceUtils.addRating(_storageManager.getString(DATA_USER_EMAIL), ((TextView) _lastRateDialog
@@ -455 +463 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        _storageManager.putString(USER_EMAIL, email);
+        _storageManager.putString(DATA_USER_EMAIL, email);
@@ -656,0 +665,38 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  @Override
+  public boolean onCreateOptionsMenu(Menu menu) {
+      MenuInflater inflater = getMenuInflater();
+      inflater.inflate(R.menu.menu_global_options, menu);
+      return true;
+  }
+  
+  @Override
+  public boolean onOptionsItemSelected(MenuItem item) {
+      switch (item.getItemId()) {
+          case R.id.menu_item_email_me:
+              CoachellerApplication.debug(this, "Menu button 'email me' pressed");
+              
+              if (_obtained_email == null) {
+                Toast.makeText(this, "Try rating at least one set first", 25).show();
+              } else {
+                try {
+                  ServiceUtils.sendMyRatings(this, _obtained_email);
+                } catch (Exception e) {
+                  CoachellerApplication.debug(this, "Error requesting ratings email");
+                  e.printStackTrace();
+                }
+              }
+              return true;
+              
+          case R.id.menu_item_delete_email:
+              CoachellerApplication.debug(this, "Menu button 'delete email' pressed");
+              _obtained_email = null;
+              _storageManager.putString(DATA_USER_EMAIL, null);
+              _storageManager.save();
+              refreshData();
+              return true;
+              
+          default:
+              return super.onOptionsItemSelected(item);
+      }
+  }
7bf2c382d03a94cce20b66be53efed8e38598162
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java b/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
index 8d9a514..ca7fa6f 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
@@ -53 +53 @@ public class CoachellerStorageManager {
-  public void save() {
+  public synchronized void save() {
@@ -73 +73 @@ public class CoachellerStorageManager {
-  public void load() {
+  public synchronized void load() {
@@ -100 +100 @@ public class CoachellerStorageManager {
-  public void putString(String name, String value) {
+  public synchronized void putString(String name, String value) {
@@ -104 +104 @@ public class CoachellerStorageManager {
-  public String getString(String name) {
+  public synchronized String getString(String name) {
@@ -108 +108 @@ public class CoachellerStorageManager {
-  public void putJSONArray(String dataName, JSONArray data) {
+  public synchronized void putJSONArray(String dataName, JSONArray data) {
@@ -112 +112 @@ public class CoachellerStorageManager {
-  public JSONArray getJSONArray(String dataName) throws JSONException {
+  public synchronized JSONArray getJSONArray(String dataName) throws JSONException {
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerUIWorker.java b/Coacheller-Android/src/com/coacheller/CoachellerUIWorker.java
new file mode 100644
index 0000000..ad844c4
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/CoachellerUIWorker.java
@@ -0,0 +1,97 @@
+package com.coacheller;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+
+import android.content.Context;
+import android.os.Handler;
+
+
+//This class was a bad idea
+
+public class CoachellerUIWorker extends Thread {
+  
+  private Handler _handler;
+  private Runnable _runnable;
+  private Context _context;
+
+  
+  public CoachellerUIWorker(Handler handler, Runnable runnable, Context context) {
+    _runnable = runnable;
+    _handler = handler;
+    _context = context;
+
+  }
+  /*
+  public void run() {
+    CoachellerApplication.debug(this, "rebuildJAHM()");
+    if (_obtained_email != null) { // Get my ratings
+
+      JSONArray myRatings = null;
+      try {
+        myRatings = ServiceUtils.getRatings(_obtained_email, _dayToQuery, this);
+        _storageManager.putJSONArray(DATA_RATINGS, myRatings);
+      } catch (Exception e1) {
+        _networkErrors = true;
+        CoachellerApplication.debug(this,
+            "Exception getting Ratings data, loading from storage if available");
+        try {
+          myRatings = _storageManager.getJSONArray(DATA_RATINGS);
+        } catch (JSONException e) {
+          e.printStackTrace();
+          CoachellerApplication.debug(this, "JSONException loading ratings from storage");
+        }
+      }
+
+      try {
+        // TODO this may not be correct. JAHM should only be initialized once.
+        // _myRatings_JAHM = new JSONArrayHashMap(myRatings,
+        // QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
+
+        if (myRatings == null) {
+          CoachellerApplication.debug(this, "Had to initialize ratings data JSONArray");
+          myRatings = new JSONArray();
+        }
+
+        _myRatings_JAHM.setData(myRatings);
+
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        // Could not get my ratings :(
+        e.printStackTrace();
+      }
+    } else {
+      // TODO This may not be correct. initJAHM() may have already been called
+      // on startup and
+      // TODO the reference to the JAHM may have been passed to the adapter
+      // already
+      // initJAHM(); //Commented in hope of addressing crash issue
+    }
+
+    _setListAdapter.updateJAHM(_myRatings_JAHM);
+
+    JSONArray setData = null;
+    try {
+      // TODO: pass proper values (year can remain hard-coded for now)
+      setData = ServiceUtils.getSets("2012", _dayToExamine, this);
+      _storageManager.putJSONArray(DATA_SETS, setData);
+    } catch (Exception e) {
+      _networkErrors = true;
+      CoachellerApplication.debug(this,
+          "Exception getting Set data, loading from storage if available");
+      setData = _storageManager.getJSONArray(DATA_SETS);
+    }
+
+    if (setData == null) {
+      CoachellerApplication.debug(this, "Had to initialize set data JSONArray");
+      setData = new JSONArray();
+    }
+    _setListAdapter.setData(setData);
+    
+    _handler.post(_runnable);
+  }
+  */
+  
+  
+
+}
diff --git a/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
index 547c63b..897095a 100644
--- a/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
@@ -12,0 +13,2 @@ import android.os.Bundle;
+import android.os.Handler;
+import android.os.Message;
@@ -44,0 +47,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  private static final int THREAD_UPDATE_UI = 1;
+  private static final int THREAD_SUBMIT_RATING = 2;
@@ -82,0 +88,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private int _ratingSelectedWeek;
+  private int _ratingSelectedScore;
@@ -87,0 +95,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private Handler _networkIOHandler;
+
@@ -130,0 +140,20 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    _networkIOHandler = new Handler() {
+      @Override
+      public void handleMessage(Message msg) {
+        
+        super.handleMessage(msg);
+        
+        if (msg.what == THREAD_UPDATE_UI) {
+          System.out.println("Executing update UI thread callback ");
+          redrawUI();
+        }
+        
+        if (msg.what == THREAD_SUBMIT_RATING) {
+          System.out.println("Executing submit rating thread callback ");
+          doSubmitRating(_ratingSelectedWeek+"", _ratingSelectedScore+"");
+        }
+      }  
+      
+      
+    };
+    
@@ -134,0 +164,24 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  protected void redrawUI() {
+    try {
+      setView_reSort();
+
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+    viewSetsList.invalidateViews();
+
+    CoachellerApplication.debug(this, "Data Refresh is complete");
+    _lastRefresh = System.currentTimeMillis();
+
+    if (!_networkErrors) {
+      _storageManager.save(); // TODO only if both sets and ratings were
+                              // retrieved
+
+    } else {
+      showDialog(DIALOG_NETWORK_ERROR);
+    }
+  }
+
@@ -166 +219,71 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  private void rebuildJAHM() {
+  private void refreshData() {
+    // Below here is stuff to be done each refresh
+    _networkErrors = false;
+
+    
+
+      if (!_dayToExamine.equals("Friday") && !_dayToExamine.equals("Saturday")
+          && !_dayToExamine.equals("Sunday")) {
+        _dayToExamine = "Friday";
+      }
+
+      String weekString = "";
+      if (_weekToQuery == 1) {
+        _timeFieldName = QUERY_SETS__TIME_ONE;
+        _stageFieldName = QUERY_SETS__STAGE_ONE;
+        weekString = getString(R.string.name_week1_short);
+      } else if (_weekToQuery == 2) {
+        _timeFieldName = QUERY_SETS__TIME_TWO;
+        _stageFieldName = QUERY_SETS__STAGE_TWO;
+        weekString = getString(R.string.name_week2_short);
+      }
+
+      TextView titleView = (TextView) this.findViewById(R.id.text_set_list_title);
+      titleView.setText(_dayToExamine + ", Weekend " + _weekToQuery);
+      // +" "+ weekString);
+      _setListAdapter.setTimeFieldName(_timeFieldName);
+      _setListAdapter.setStageFieldName(_stageFieldName);
+
+      obtainEmailFromStorage();
+
+      launchGetDataThread(); // TODO multithread this
+  }
+
+  private void launchGetDataThread() {
+    CoachellerApplication.debug(this, "Launching getData thread");
+
+    new Thread() {
+      public void run() {
+        try {
+          doNetworkOperations();
+        } catch (JSONException e) {
+          // TODO Auto-generated catch block
+          e.printStackTrace();
+        }
+        _networkIOHandler.sendEmptyMessage(THREAD_UPDATE_UI);
+      }
+    }.start();
+    CoachellerApplication.debug(this, "getData thread launched");
+  }
+  
+  private void launchSubmitRatingThread() {
+       CoachellerApplication.debug(this, "Launching Rating thread");
+
+    new Thread() {
+      public void run() {
+        try {
+          doNetworkOperations();
+        } catch (JSONException e) {
+          // TODO Auto-generated catch block
+          e.printStackTrace();
+        }
+        Message msgToSend = Message.obtain(_networkIOHandler, THREAD_SUBMIT_RATING);
+        msgToSend.sendToTarget();
+      }
+    }.start();
+    CoachellerApplication.debug(this, "Rating thread launched");
+    
+  }
+
+  public void doNetworkOperations() throws JSONException {
+
@@ -212,64 +334,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  }
-
-  private void refreshData() {
-    // Below here is stuff to be done each refresh
-    _networkErrors = false;
-
-    try {
-
-      if (!_dayToExamine.equals("Friday") && !_dayToExamine.equals("Saturday")
-          && !_dayToExamine.equals("Sunday")) {
-        _dayToExamine = "Friday";
-      }
-
-      String weekString = "";
-      if (_weekToQuery == 1) {
-        _timeFieldName = QUERY_SETS__TIME_ONE;
-        _stageFieldName = QUERY_SETS__STAGE_ONE;
-        weekString = getString(R.string.name_week1_short);
-      } else if (_weekToQuery == 2) {
-        _timeFieldName = QUERY_SETS__TIME_TWO;
-        _stageFieldName = QUERY_SETS__STAGE_TWO;
-        weekString = getString(R.string.name_week2_short);
-      }
-
-      TextView titleView = (TextView) this.findViewById(R.id.text_set_list_title);
-      titleView.setText(_dayToExamine + ", Weekend " + _weekToQuery);
-      // +" "+ weekString);
-      _setListAdapter.setTimeFieldName(_timeFieldName);
-      _setListAdapter.setStageFieldName(_stageFieldName);
-
-      obtainEmailFromStorage();
-      
-      
-      doNetworkOperation();  //TODO multithread this
-      
-      
-      setView_reSort();
-
-      ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-      viewSetsList.invalidateViews();
-
-      CoachellerApplication.debug(this, "Data Refresh is complete");
-      _lastRefresh = System.currentTimeMillis();
-
-      if (!_networkErrors) {
-        _storageManager.save(); // TODO only if both sets and ratings were
-                                // retrieved
-       
-      } else {
-        showDialog(DIALOG_NETWORK_ERROR);
-      }
-
-    } catch (JSONException e) {
-      // TODO Auto-generated catch block
-      e.printStackTrace();
-      CoachellerApplication.debug(this, "Data Refresh failed");
-      // _lastRefresh = System.currentTimeMillis(); //Refresh failed, do not
-      // update
-    }
-
-  }
-
-  private void doNetworkOperation() throws JSONException {
-    rebuildJAHM();
@@ -294,0 +354,41 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  public void doSubmitRating(String weekNumber, String scoreSelectedValue) {
+    // submit rating
+    // If Exception is thrown, do not store rating locally
+    try {
+      ServiceUtils.addRating(_storageManager.getString(USER_EMAIL), ((TextView) _lastRateDialog
+          .findViewById(R.id.text_rateBand_subtitle)).getText().toString(), "2012", weekNumber,
+          scoreSelectedValue, this);
+
+      // Need this in order to make the new rating appear in real time
+
+      try {
+        JSONObject newObj = new JSONObject();
+        String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
+        newObj.put(QUERY_RATINGS__SET_ID, set_id);
+        newObj.put(QUERY_RATINGS__WEEK, weekNumber);
+        newObj.put(QUERY_RATINGS__RATING, scoreSelectedValue);
+
+        // CRITICAL that the keys are listed in this order
+        _myRatings_JAHM.addValues(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK, newObj);
+
+        // Don't need since we are refreshing
+        // ListView viewSetsList = (ListView)
+        // findViewById(R.id.viewSetsList);
+        // viewSetsList.invalidateViews();
+
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
+      }
+
+      refreshData(); // If this is removed, uncomment ListView and
+                     // invalidate
+                     // above ^^^
+
+    } catch (Exception e1) {
+      CoachellerApplication.debug(this, "Error submitting rating");
+      e1.printStackTrace();
+      showDialog(DIALOG_NETWORK_ERROR);
+    }
+  }
@@ -364,4 +463,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      // Toast youMustObey =
-      // Toast.makeText(this,"You may not decline...  Coacheller will not be denied!  ALL YOUR EMAILS ARE BELONG TO US!",25);
-      // youMustObey.show();
-
@@ -369 +465 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      // showDialog(DIALOG_RATE);
+
@@ -376 +471,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      // intent.putExtras(bun);
@@ -380 +475,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    if (viewClicked.getId() == R.id.button_rate_okgo) {
+    //Submit rating for a set
+    if (viewClicked.getId() == R.id.button_rate_okgo) {  //Selections incomplete
@@ -392,3 +488,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      } else {
-        int weekSelectedValue = _ratingSelectedIdToValue.get(weekSelectedId);
-        String scoreSelectedValue = _ratingSelectedIdToValue.get(scoreSelectedId) + "";
+      } else { //Selections are valid
+        _ratingSelectedWeek = _ratingSelectedIdToValue.get(weekSelectedId);
+        _ratingSelectedScore = _ratingSelectedIdToValue.get(scoreSelectedId);
@@ -396,2 +492,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        CoachellerApplication.debug(this, "Selected Week[" + weekSelectedValue + "] Score["
-            + scoreSelectedValue + "] WeekId[" + weekSelectedId + "] ScoreId[" + scoreSelectedId
+        CoachellerApplication.debug(this, "Selected Week[" + _ratingSelectedWeek + "] Score["
+            + _ratingSelectedScore + "] WeekId[" + weekSelectedId + "] ScoreId[" + scoreSelectedId
@@ -405,0 +502 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        
@@ -407,39 +504 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        // submit rating
-        // If Exception is thrown, do not store rating locally
-        try {
-          ServiceUtils.addRating(_storageManager.getString(USER_EMAIL), ((TextView) _lastRateDialog
-              .findViewById(R.id.text_rateBand_subtitle)).getText().toString(), "2012", weekNumber,
-              scoreSelectedValue, this);
-
-          // Need this in order to make the new rating appear in real time
-
-          try {
-            JSONObject newObj = new JSONObject();
-            String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
-            newObj.put(QUERY_RATINGS__SET_ID, set_id);
-            newObj.put(QUERY_RATINGS__WEEK, weekNumber);
-            newObj.put(QUERY_RATINGS__RATING, scoreSelectedValue);
-
-            // CRITICAL that the keys are listed in this order
-            _myRatings_JAHM.addValues(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK, newObj);
-
-            // Don't need since we are refreshing
-            // ListView viewSetsList = (ListView)
-            // findViewById(R.id.viewSetsList);
-            // viewSetsList.invalidateViews();
-
-          } catch (JSONException e) {
-            // TODO Auto-generated catch block
-            e.printStackTrace();
-          }
-
-          refreshData(); // If this is removed, uncomment ListView and
-                         // invalidate
-                         // above ^^^
-
-        } catch (Exception e1) {
-          CoachellerApplication.debug(this, "Error submitting rating");
-          e1.printStackTrace();
-          showDialog(DIALOG_NETWORK_ERROR);
-        }
-
+        launchSubmitRatingThread();
@@ -447 +506 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    }  //End rating dialog submitted
+    } // End rating dialog submitted
@@ -569 +628 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      
+
c2e1f30bcef8b606255a7ee767ece4288b4c08ff
diff --git a/Coacheller-Android/AndroidManifest.xml b/Coacheller-Android/AndroidManifest.xml
index 75717f9..edb7de5 100644
--- a/Coacheller-Android/AndroidManifest.xml
+++ b/Coacheller-Android/AndroidManifest.xml
@@ -17 +17 @@
-            android:name="CoachellerActivity"
+            android:name=".ui.CoachellerActivity"
@@ -25 +25 @@
-        <activity android:name=".ActivitySetsSearch" android:launchMode="singleInstance"></activity>
+        <activity android:name=".ui.ActivitySetsSearch" android:launchMode="singleInstance"></activity>
diff --git a/Coacheller-Android/lint.xml b/Coacheller-Android/lint.xml
new file mode 100644
index 0000000..ee0eead
--- /dev/null
+++ b/Coacheller-Android/lint.xml
@@ -0,0 +1,3 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<lint>
+</lint>
\ No newline at end of file
diff --git a/Coacheller-Android/project.properties b/Coacheller-Android/project.properties
index c957743..b120021 100644
--- a/Coacheller-Android/project.properties
+++ b/Coacheller-Android/project.properties
@@ -11 +11 @@
-target=android-4
+target=Google Inc.:Google APIs:4
diff --git a/Coacheller-Android/res/layout/dialog_network_error.xml b/Coacheller-Android/res/layout/dialog_network_error.xml
new file mode 100644
index 0000000..f362815
--- /dev/null
+++ b/Coacheller-Android/res/layout/dialog_network_error.xml
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/layout_dialog_network_error"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:gravity="center_horizontal"
+    android:orientation="vertical" >
+
+    <TextView
+        android:id="@+id/textView1"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="Where possible, older data may be shown.  Some features may be unavailable.  Please check your device&apos;s Internet connection."
+        android:textAppearance="?android:attr/textAppearanceLarge" android:padding="10dp"/>
+
+    <LinearLayout
+        android:layout_width="fill_parent"
+        android:layout_height="20dp" >
+
+    </LinearLayout>
+
+    <Button
+        android:id="@+id/button_network_error_ok"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:minWidth="50dp"
+        android:text="OK" />
+
+</LinearLayout>
\ No newline at end of file
diff --git a/Coacheller-Android/res/layout/get_email_address.xml b/Coacheller-Android/res/layout/get_email_address.xml
index ff93553..1c01c9a 100644
--- a/Coacheller-Android/res/layout/get_email_address.xml
+++ b/Coacheller-Android/res/layout/get_email_address.xml
@@ -13 +13 @@
-
+
@@ -18,0 +19 @@
+        android:hint="your email here"
diff --git a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
deleted file mode 100644
index 54fe5fb..0000000
--- a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
+++ /dev/null
@@ -1,133 +0,0 @@
-package com.coacheller;
-
-import java.util.Calendar;
-
-import android.app.Activity;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.View;
-import android.view.View.OnClickListener;
-import android.widget.AdapterView;
-import android.widget.Button;
-import android.widget.Spinner;
-import android.widget.Toast;
-
-public class ActivitySetsSearch extends Activity implements OnClickListener {
-  
-  private String _weekSelected;
-  private String _daySelected;
-
-  /** Called when the activity is first created. */
-  @Override
-  public void onCreate(Bundle savedInstanceState) {
-      super.onCreate(savedInstanceState);
-  
-      CoachellerApplication.debug(this, "Search Sets Activity Launched");
-      this.initializeApp();
-  }
-  
-  
-  public void initializeApp() {
-    setContentView(R.layout.sets_search);
-    
-
-    // Setup Week Spinner
-    Spinner weekendSpinner = (Spinner) this.findViewById(R.id.search_spinner_week);
-    CoachellerApplication.populateSpinnerWithArray(weekendSpinner, R.array.names_week);
-    weekendSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
-
-      @Override
-      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
-        CoachellerApplication.debug(parent.getContext(), "Week Selected: " + parent.getSelectedItem());
-        _weekSelected = parent.getSelectedItem().toString().substring(0, 1);
-      }
-
-      @Override
-      public void onNothingSelected(AdapterView<?> parent) {
-        CoachellerApplication.debug(parent.getContext(), "No Week Selected - Unexpected condition");
-      }
-    });
-
-    if (CoachellerApplication.whichWeekIsToday() == 1) {
-      CoachellerApplication.debug(this, "Date suggests week 1");
-      weekendSpinner.setSelection(0);
-      
-    } else if (CoachellerApplication.whichWeekIsToday() == 2) {
-      CoachellerApplication.debug(this, "Date suggests week 2");
-      weekendSpinner.setSelection(1);
-    }
-
-    // Setup day spinner
-    Spinner daySpinner = (Spinner) this.findViewById(R.id.search_spinner_day);
-    CoachellerApplication.populateSpinnerWithArray(daySpinner, R.array.names_day);
-    daySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
-
-      @Override
-      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
-        CoachellerApplication.debug(parent.getContext(),
-            "Day Selected: " + parent.getSelectedItem());
-        _daySelected = parent.getSelectedItem().toString();
-        
-      }
-
-      @Override
-      public void onNothingSelected(AdapterView<?> parent) {
-        CoachellerApplication.debug(parent.getContext(), "No Day Selected - Unexpected condition");
-      }
-    });
-
-    Calendar cal = Calendar.getInstance();
-    int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);
-    if (dayOfWeek == Calendar.FRIDAY) {
-      daySpinner.setSelection(0);
-    } else if (dayOfWeek == Calendar.SATURDAY) {
-      daySpinner.setSelection(1);
-    } else if (dayOfWeek == Calendar.SUNDAY) {
-      daySpinner.setSelection(2);
-    } else {
-      // Select Friday
-      daySpinner.setSelection(0);
-    }
-
-    // Register "this" as the onClick listener for search button
-    Button searchButton = (Button) this.findViewById(R.id.sets_search_button_search);
-    searchButton.setOnClickListener(this);
-  }
-  
-  /**
-   * Fires when the Search ("Go!") button is pressed, this object is the OnClick
-   * listener.
-   * 
-   * @param v
-   */
-
-  public void onClick(View v) {
-    if (v.getId() == R.id.sets_search_button_search) {
-      CoachellerApplication.debug(this, "Search button pressed");
-
-      try {
-        Intent intent = new Intent();
-        Bundle bun = new Bundle();
-
-        bun.putString("WEEK", _weekSelected);
-        bun.putString("DAY", _daySelected);
-
-        intent.setClass(this, CoachellerActivity.class);
-        
-        intent.putExtras(bun);
-        startActivity(intent);
-      } catch (Exception e) {
-        e.printStackTrace();
-        Toast exceptionText = Toast.makeText(this, "Exception Launching Activity", 5);
-        exceptionText.show();
-      }
-    } else {
-      CoachellerApplication.debug(this, "An unknown button was pressed - Unexpected");
-    }
-
-  }
-  
-  
-  
-
-}
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
deleted file mode 100644
index ec1c3d4..0000000
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ /dev/null
@@ -1,496 +0,0 @@
-package com.coacheller;
-
-import java.util.HashMap;
-
-import org.json.JSONArray;
-import org.json.JSONException;
-import org.json.JSONObject;
-
-import android.app.Activity;
-import android.app.Dialog;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.View;
-import android.widget.AdapterView;
-import android.widget.AdapterView.OnItemClickListener;
-import android.widget.AdapterView.OnItemSelectedListener;
-import android.widget.Button;
-import android.widget.EditText;
-import android.widget.ListView;
-import android.widget.RadioButton;
-import android.widget.RadioGroup;
-import android.widget.Spinner;
-import android.widget.TextView;
-import android.widget.Toast;
-
-import com.coacheller.shared.FieldVerifier;
-
-public class CoachellerActivity extends Activity implements View.OnClickListener,
-    OnItemSelectedListener, OnItemClickListener {
-
-  private static final int DIALOG_RATE = 1;
-  private static final int DIALOG_GETEMAIL = 2;
-  private static final int SORT_TIME = 1;
-  private static final int SORT_ARTIST = 2;
-
-  private static final String USER_EMAIL = "USER_EMAIL";
-  public static final String QUERY_RATINGS__SET_ID = "set_id";
-  public static final String QUERY_RATINGS__WEEK = "weekend";
-  public static final String QUERY_SETS__SET_ID = "id";
-  public static final String QUERY_SETS__TIME_ONE = "time_one";
-  public static final String QUERY_SETS__TIME_TWO = "time_two";
-  public static final String QUERY_SETS__STAGE_ONE = "stage_one";
-  public static final String QUERY_SETS__STAGE_TWO = "stage_two";
-  public static final String QUERY_RATINGS__RATING = "score";
-
-  private static final int REFRESH_INTERVAL__SECONDS = 15;
-
-
-  private int _weekToQuery;
-  private String _dayToExamine;
-  private int _sortMode;
-  private long _lastRefresh = 0;
-  
-  
-  
-  private String _timeFieldName;
-  private String _stageFieldName;
-  private Dialog _lastRateDialog;
-  private Dialog _lastGetEmailDialog;
-  
-  private String _obtained_email = null;
-  private CustomSetListAdapter _setListAdapter;
-  private JSONObject _lastItemSelected;
-  private HashMap<Integer, Integer> _ratingSelectedIdToValue = new HashMap<Integer, Integer>();
-  private CoachellerStorageManager _storageManager;
-  
-  private JSONArrayHashMap _myRatings_JAHM;
-  
-  /** Called by Android Framework when the activity is first created. */
-  
-  @Override
-  public void onCreate(Bundle savedInstanceState) {
-    super.onCreate(savedInstanceState);
-
-    CoachellerApplication.debug(this, "CoachellerActivity Launched");
-
-    _ratingSelectedIdToValue.put(R.id.radio_button_week1, 1);
-    _ratingSelectedIdToValue.put(R.id.radio_button_week2, 2);
-    _ratingSelectedIdToValue.put(R.id.radio_button_score1, 1);
-    _ratingSelectedIdToValue.put(R.id.radio_button_score2, 2);
-    _ratingSelectedIdToValue.put(R.id.radio_button_score3, 3);
-    _ratingSelectedIdToValue.put(R.id.radio_button_score4, 4);
-    _ratingSelectedIdToValue.put(R.id.radio_button_score5, 5);
-
-    _storageManager = new CoachellerStorageManager(this);
-    _storageManager.load();
-
-    initJAHM();
-
-    setContentView(R.layout.sets_list);
-    _setListAdapter = new CustomSetListAdapter(this, QUERY_SETS__TIME_ONE, QUERY_SETS__STAGE_ONE,
-        _myRatings_JAHM);
-    _setListAdapter.setData(new JSONArray());
-
-    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-    viewSetsList.setAdapter(_setListAdapter);
-    viewSetsList.setOnItemClickListener(this);
-
-    Button buttonSearchSets = (Button) this.findViewById(R.id.buttonChangeToSearchSets);
-    buttonSearchSets.setOnClickListener(this);
-
-    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
-    CoachellerApplication.populateSpinnerWithArray(spinnerSortType, R.array.search_types);
-    spinnerSortType.setOnItemSelectedListener(this);
-
-    _weekToQuery = CoachellerApplication.whichWeekIsToday();
-    _dayToExamine = CoachellerApplication.whatDayIsToday();
-    _sortMode = SORT_TIME;
-
-    // Above here is stuff to be done once
-
-    processExtraData();
-
-  }
-
-  /** Called by Android Framework when activity (re)gains foreground status */
-  public void onResume() {
-    super.onResume();
-
-    if ((System.currentTimeMillis() - _lastRefresh) / 1000 > REFRESH_INTERVAL__SECONDS) {
-      refreshData(); //TODO multi-thread this
-    }
-
-    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 25);
-    clickToRate.show();
-  }
-  
-  
-  private void obtainEmailFromStorage() {
-    String loadedEmail = _storageManager.getString(USER_EMAIL);
-
-    if ((loadedEmail != null) && FieldVerifier.isValidEmail(loadedEmail)) {
-      _obtained_email = loadedEmail;
-    }
-
-    CoachellerApplication.debug(this, "Using email: " + _obtained_email + ", on disk:["
-        + loadedEmail + "]");
-
-  }
-
-  
-  private void initJAHM() {
-    _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
-  }
-  
-  private void rebuildJAHM() {
-    if (_obtained_email != null) { // Get my ratings
-
-      JSONArray myRatings = ServiceUtils.getRatings(_obtained_email, _dayToExamine, this);
-      try {
-        // TODO this may not be correct. JAHM should only be initialized once.
-        _myRatings_JAHM = new JSONArrayHashMap(myRatings, QUERY_RATINGS__SET_ID,
-            QUERY_RATINGS__WEEK);
-      } catch (JSONException e) {
-        // TODO Auto-generated catch block
-        // Could not get my ratings :(
-        e.printStackTrace();
-      }
-    } else {
-      // TODO This may not be correct. initJAHM() may have already been called
-      // on startup and
-      // TODO the reference to the JAHM may have been passed to the adapter
-      // already
-      initJAHM();
-    }
-    _setListAdapter.updateJAHM(_myRatings_JAHM);
-  }
-
-  private void refreshData() {
-    // Below here is stuff to be done each refresh
-    try {
-
-      if (!_dayToExamine.equals("Friday") && !_dayToExamine.equals("Saturday")
-          && !_dayToExamine.equals("Sunday")) {
-        _dayToExamine = "Friday";
-      }
-
-      String weekString = "";
-      if (_weekToQuery == 1) {
-        _timeFieldName = QUERY_SETS__TIME_ONE;
-        _stageFieldName = QUERY_SETS__STAGE_ONE;
-        weekString = getString(R.string.name_week1_short);
-      } else if (_weekToQuery == 2) {
-        _timeFieldName = QUERY_SETS__TIME_TWO;
-        _stageFieldName = QUERY_SETS__STAGE_TWO;
-        weekString = getString(R.string.name_week2_short);
-      }
-
-      TextView titleView = (TextView) this.findViewById(R.id.text_set_list_title);
-      titleView.setText(_dayToExamine + ", Weekend " + _weekToQuery);
-      // +" "+ weekString);
-      _setListAdapter.setTimeFieldName(_timeFieldName);
-      _setListAdapter.setStageFieldName(_stageFieldName);
-
-      obtainEmailFromStorage();
-      rebuildJAHM();
-
-      // TODO: pass proper values (year can remain hard-coded for now)
-      JSONArray results = ServiceUtils.getSets("2012", _dayToExamine, this);
-      _setListAdapter.setData(results);
-      setView_reSort();
-      ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-      viewSetsList.invalidateViews();
-
-      CoachellerApplication.debug(this, "Data Refresh is complete");
-      _lastRefresh = System.currentTimeMillis();
-
-    } catch (JSONException e) {
-      // TODO Auto-generated catch block
-      e.printStackTrace();
-      CoachellerApplication.debug(this, "Data Refresh failed");
-      _lastRefresh = System.currentTimeMillis();
-    }
-
-  }
-
-  // An item was selected from the list of sets
-  @Override
-  public void onItemSelected(AdapterView<?> parent, View arg1, int arg2, long arg3) {
-
-    // TODO Auto-generated method stub
-    CoachellerApplication.debug(this,
-        "Search Type Spinner: Selected -> " + parent.getSelectedItem() + "(" + arg2 + ")");
-    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-
-    try {
-      if (parent.getSelectedItem().toString().toLowerCase().equals("time")) {
-        _sortMode = SORT_TIME;
-
-      } else if (parent.getSelectedItem().toString().toLowerCase().equals("artist")) {
-        _sortMode = SORT_ARTIST;
-      }
-
-      setView_reSort();
-      viewSetsList.invalidateViews();
-    } catch (JSONException e) {
-      CoachellerApplication.debug(this, "JSONException re-sorting data");
-      e.printStackTrace();
-    }
-  }
-
-  private void setView_reSort() throws JSONException {
-    if (_sortMode == SORT_TIME) {
-      _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
-    } else if (_sortMode == SORT_ARTIST) {
-      _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
-    } else {
-      CoachellerApplication.debug(this, "Unexpected sort mode: " + _sortMode);
-      (new Exception()).printStackTrace();
-    }
-  }
-
-  @Override
-  public void onNothingSelected(AdapterView<?> arg0) {
-    CoachellerApplication.debug(this, "Search Type Spinner: Nothing Selected");
-    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
-    spinnerSortType.setSelection(0);
-  }
-
-  // Any button in any view or dialog was clicked
-  @Override
-  public void onClick(View viewClicked) {
-
-    if (viewClicked.getId() == R.id.button_provideEmail) {
-      EditText emailField = (EditText) _lastGetEmailDialog.findViewById(R.id.textField_enterEmail);
-      String email = emailField.getText().toString();
-
-      CoachellerApplication.debug(this, "User provided email address: " + email);
-
-      // if (!android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
-      if (!FieldVerifier.isValidEmail(email)) {
-        Toast invalidEmail = Toast.makeText(this, "Please enter your real email address.", 25);
-        invalidEmail.show();
-
-      } else { // Email is valid. Save email and let user get on with rating
-        _storageManager.putString(USER_EMAIL, email);
-        _storageManager.save();
-        _obtained_email = email;
-        _lastGetEmailDialog.dismiss();
-        showDialog(DIALOG_RATE);
-      }
-    }
-
-    if (viewClicked.getId() == R.id.button_declineEmail) {
-      // Toast youMustObey =
-      // Toast.makeText(this,"You may not decline...  Coacheller will not be denied!  ALL YOUR EMAILS ARE BELONG TO US!",25);
-      // youMustObey.show();
-
-      _lastGetEmailDialog.dismiss();
-      // showDialog(DIALOG_RATE);
-    }
-
-    if (viewClicked.getId() == R.id.buttonChangeToSearchSets) {
-      System.out.println("Button: Switch Day");
-      Intent intent = new Intent();
-      intent.setClass(this, ActivitySetsSearch.class);
-      // intent.putExtras(bun);
-      startActivity(intent);
-    }
-
-    if (viewClicked.getId() == R.id.button_rate_okgo) {
-      RadioGroup weekGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_week);
-      int weekSelectedId = weekGroup.getCheckedRadioButtonId();
-
-      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
-      int scoreSelectedId = scoreGroup.getCheckedRadioButtonId();
-
-      if (weekSelectedId == -1 || scoreSelectedId == -1) {
-        Toast selectEverything = Toast.makeText(this,
-            "Please select a rating and week of this Set", 25);
-        selectEverything.show();
-
-      } else {
-        int weekSelectedValue = _ratingSelectedIdToValue.get(weekSelectedId);
-        String scoreSelectedValue = _ratingSelectedIdToValue.get(scoreSelectedId) + "";
-
-        CoachellerApplication.debug(this, "Selected Week[" + weekSelectedValue + "] Score["
-            + scoreSelectedValue + "] WeekId[" + weekSelectedId + "] ScoreId[" + scoreSelectedId
-            + "]");
-
-        scoreGroup.clearCheck();
-        _lastRateDialog.dismiss();
-
-        int checkedRadioId = ((RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_week))
-            .getCheckedRadioButtonId();
-        String weekNumber = _ratingSelectedIdToValue.get(checkedRadioId) + "";
-
-        // submit rating
-        ServiceUtils.addRating(_storageManager.getString(USER_EMAIL), ((TextView) _lastRateDialog
-            .findViewById(R.id.text_rateBand_subtitle)).getText().toString(), "2012", weekNumber,
-            scoreSelectedValue, this);
-
-        // Need this in order to make the new rating appear in real time
-
-        try {
-          JSONObject newObj = new JSONObject();
-          String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
-          newObj.put(QUERY_RATINGS__SET_ID, set_id);
-          newObj.put(QUERY_RATINGS__WEEK, weekNumber);
-          newObj.put(QUERY_RATINGS__RATING, scoreSelectedValue);
-
-          // CRITICAL that the keys are listed in this order
-          _myRatings_JAHM.addValues(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK, newObj);
-
-          // Don't need since we are refreshing
-          // ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-          // viewSetsList.invalidateViews();
-
-        } catch (JSONException e) {
-          // TODO Auto-generated catch block
-          e.printStackTrace();
-        }
-
-        refreshData(); // If this is removed, uncomment ListView and invalidate
-                       // above ^^^
-
-      }
-    }
-
-    if (viewClicked.getId() == R.id.button_rate_cancel) {
-      // Dialog dialog = (Dialog) viewClicked.getParent();
-      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
-      scoreGroup.clearCheck();
-      _lastRateDialog.dismiss();
-    }
-
-  }
-
-  @Override
-  public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
-    JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
-    _lastItemSelected = obj;
-    CoachellerApplication.debug(this, "You Clicked On: " + obj);
-
-    if (_obtained_email == null) {
-      showDialog(DIALOG_GETEMAIL);
-      // _tried_to_get_email = true;
-    } else {
-
-      showDialog(DIALOG_RATE);
-    }
-  }
-
-  //Dialog handling, called before any dialog is shown
-  @Override
-  protected void onPrepareDialog(int id, Dialog dialog) {
-
-    // Always call through to super implementation
-    super.onPrepareDialog(id, dialog);
-
-    if (id == DIALOG_RATE) {
-
-      // _lastRateDialog.setTitle("Rate this Set!");
-      try {
-        TextView subtitleText = (TextView) _lastRateDialog
-            .findViewById(R.id.text_rateBand_subtitle);
-        subtitleText.setText(_lastItemSelected.getString("artist"));
-
-      } catch (JSONException e) {
-        CoachellerApplication.debug(this, "JSONException assigning Artist name to Rating dialog");
-        e.printStackTrace();
-      }
-
-      int week = CoachellerApplication.whichWeekIsToday();
-      RadioGroup weekGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_week);
-      RadioButton buttonWeek1 = (RadioButton) _lastRateDialog.findViewById(R.id.radio_button_week1);
-      RadioButton buttonWeek2 = (RadioButton) _lastRateDialog.findViewById(R.id.radio_button_week2);
-      if (week == 1) {
-
-        buttonWeek1.setChecked(true);
-        buttonWeek2.setClickable(false);
-
-      } else if (week == 2) {
-        buttonWeek1.setClickable(false);
-        buttonWeek2.setChecked(true);
-
-      } else {
-        // Don't suggest a week
-        weekGroup.clearCheck();
-      }
-
-      // TODO If the user already rated this set, default to their last rating
-      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
-      scoreGroup.clearCheck();
-
-    }
-
-  }
-
-  //Dialog handling, called once the first time this activity displays each type of dialog
-  @Override
-  protected Dialog onCreateDialog(int id) {
-
-    if (id == DIALOG_GETEMAIL) {
-      _lastGetEmailDialog = new Dialog(this);
-      _lastGetEmailDialog.setContentView(R.layout.get_email_address);
-      _lastGetEmailDialog.setTitle("Keep Track of Everything");
-
-      // TODO should display 'your email here' message and clear it when user
-      // selects field
-      EditText emailField = (EditText) _lastGetEmailDialog.findViewById(R.id.textField_enterEmail);
-      // emailField.setText("me@here.com");
-      // emailField.selectAll();
-
-      Button buttonOK = (Button) _lastGetEmailDialog.findViewById(R.id.button_provideEmail);
-      buttonOK.setOnClickListener(this);
-
-      Button buttonCancel = (Button) _lastGetEmailDialog.findViewById(R.id.button_declineEmail);
-      buttonCancel.setOnClickListener(this);
-
-      return _lastGetEmailDialog;
-    }
-
-    if (id == DIALOG_RATE) {
-
-      _lastRateDialog = new Dialog(this);
-      _lastRateDialog.setContentView(R.layout.dialog_rate_set);
-      _lastRateDialog.setTitle("Rate This Set!");
-
-      Button buttonOK = (Button) _lastRateDialog.findViewById(R.id.button_rate_okgo);
-      buttonOK.setOnClickListener(this);
-
-      Button buttonCancel = (Button) _lastRateDialog.findViewById(R.id.button_rate_cancel);
-      buttonCancel.setOnClickListener(this);
-      return _lastRateDialog;
-    }
-
-    return super.onCreateDialog(id);
-  }
-
-  
-  protected void onNewIntent(Intent intent) {
-    super.onNewIntent(intent);
-    setIntent(intent);// must store the new intent unless getIntent() will
-                      // return the old one
-    processExtraData();
-  }
-
-  private void processExtraData() {
-    Intent intent = getIntent();
-    Bundle bundle = intent.getExtras();
-
-    if (bundle == null) {
-      return;
-    }
-
-    String week = intent.getExtras().getString("WEEK");
-    String day = intent.getExtras().getString("DAY");
-
-    CoachellerApplication.debug(this, "Searching week[" + week + "] day[" + day + "]");
-    _weekToQuery = Integer.valueOf(week);
-    _dayToExamine = day;
-    refreshData();
-  }
-
-}
\ No newline at end of file
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java b/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
index 7191886..8d9a514 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
@@ -13,0 +14,3 @@ import java.util.Set;
+import org.json.JSONArray;
+import org.json.JSONException;
+
@@ -48,2 +51,2 @@ public class CoachellerStorageManager {
-  
-  //File gets saved here on a good day     /data/data/com.coacheller/files/CoachellerData.dat
+  // File gets saved here on a good day
+  // /data/data/com.coacheller/files/CoachellerData.dat
@@ -68,2 +71,2 @@ public class CoachellerStorageManager {
-  //File should get loaded from here, if we are all extremely lucky
-  //   /data/data/com.coacheller/files/CoachellerData.dat
+  // File should get loaded from here, if we are all extremely lucky
+  // /data/data/com.coacheller/files/CoachellerData.dat
@@ -104,0 +108,14 @@ public class CoachellerStorageManager {
+  public void putJSONArray(String dataName, JSONArray data) {
+    _data.put(dataName, data.toString());
+  }
+
+  public JSONArray getJSONArray(String dataName) throws JSONException {
+    String storedArrayAsString = (String) _data.get(dataName);
+
+    if (storedArrayAsString == null) {
+      return new JSONArray();
+    } else {
+      return new JSONArray(storedArrayAsString);
+    }
+  }
+
diff --git a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
deleted file mode 100644
index a2f89c7..0000000
--- a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
+++ /dev/null
@@ -1,233 +0,0 @@
-package com.coacheller;
-
-import org.json.JSONArray;
-import org.json.JSONException;
-import org.json.JSONObject;
-
-import android.content.Context;
-import android.database.DataSetObserver;
-import android.view.LayoutInflater;
-import android.view.View;
-import android.view.ViewGroup;
-import android.widget.ListAdapter;
-import android.widget.TextView;
-
-public class CustomSetListAdapter implements ListAdapter {
-
-  private JSONArray _data;
-  private JSONArraySortMap _sortMap;
-  private Context _context;
-  private String _timeFieldName;
-  private String _stageFieldName;
-  private JSONArrayHashMap _myRatings_JAHM;
-
-  static class ViewHolder {
-    public TextView textTime;
-    public TextView textArtist;
-    public TextView textStage;
-    public TextView ratingWk1;
-    public TextView ratingWk2;
-    public TextView myRating;
-  }
-
-  public CustomSetListAdapter(Context context, String timeFieldName, String stageFieldName,
-      JSONArrayHashMap myRatings_JAHM) {
-    _context = context;
-    setTimeFieldName(timeFieldName);
-    setStageFieldName(stageFieldName);
-    updateJAHM(myRatings_JAHM);
-  }
-
-  public void updateJAHM(JSONArrayHashMap myRatings_JAHM) {
-    _myRatings_JAHM = myRatings_JAHM;
-  }
-
-  public void setTimeFieldName(String name) {
-    _timeFieldName = name;
-  }
-
-  public void setStageFieldName(String name) {
-    _stageFieldName = name;
-  }
-
-  public void setData(JSONArray data) {
-    _data = data;
-  }
-
-  public void sortByField(String fieldName, int dataType) throws JSONException {
-    _sortMap = new JSONArraySortMap(_data, fieldName, dataType);
-  }
-
-  @Override
-  public int getCount() {
-    if (_data == null) {
-      return 0;
-    } else {
-      return _data.length();
-    }
-  }
-
-  @Override
-  public Object getItem(int position) {
-    try {
-      return _sortMap.getSortedJSONObj(position);
-    } catch (JSONException e) {
-      // TODO Auto-generated catch block
-      e.printStackTrace();
-    }
-    return null;
-  }
-
-  @Override
-  public long getItemId(int position) {
-    // TODO Auto-generated method stub
-    return 0;
-  }
-
-  @Override
-  public int getItemViewType(int position) {
-    // TODO Auto-generated method stub
-    return 0;
-  }
-
-  @Override
-  public View getView(int position, View convertView, ViewGroup parent) {
-    View rowView = convertView;
-
-    if (rowView == null) {
-      LayoutInflater inflater = (LayoutInflater) _context
-          .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
-      rowView = inflater.inflate(R.layout.row_set_info, parent, false);
-      ViewHolder viewHolder = new ViewHolder();
-      viewHolder.textTime = (TextView) rowView.findViewById(R.id.text_set_time);
-      viewHolder.textArtist = (TextView) rowView.findViewById(R.id.text_artist_name);
-      viewHolder.textStage = (TextView) rowView.findViewById(R.id.text_stage);
-      viewHolder.ratingWk1 = (TextView) rowView.findViewById(R.id.text_wk1_rating);
-      viewHolder.ratingWk2 = (TextView) rowView.findViewById(R.id.text_wk2_rating);
-      viewHolder.myRating = (TextView) rowView.findViewById(R.id.text_my_rating);
-      rowView.setTag(viewHolder);
-    }
-
-    try {
-
-      ViewHolder holder = (ViewHolder) rowView.getTag();
-      JSONObject setObj = _sortMap.getSortedJSONObj(position);
-      String setId = setObj.getString(CoachellerActivity.QUERY_SETS__SET_ID); // Get
-                                                                              // the
-                                                                              // set
-                                                                              // Id
-
-      // Get Ratings for this set Id
-      JSONObject ratingsObjWk1 = _myRatings_JAHM.getJSONObject(setId, "1");
-      JSONObject ratingsObjWk2 = _myRatings_JAHM.getJSONObject(setId, "2");
-
-      String score1 = "*";
-      if (ratingsObjWk1 != null) {
-        score1 = ratingsObjWk1.get(CoachellerActivity.QUERY_RATINGS__RATING).toString();
-      }
-
-      String score2 = "*";
-      if (ratingsObjWk2 != null) {
-        score2 = ratingsObjWk2.get(CoachellerActivity.QUERY_RATINGS__RATING).toString();
-      }
-
-      int milTime = setObj.getInt(_timeFieldName);
-      holder.textTime.setText(militaryToCivilianTime(milTime));
-      holder.textArtist.setText(setObj.getString("artist"));
-      holder.textStage.setText(setObj.getString(_stageFieldName).toUpperCase());
-      String week1Avg = setObj.getString("avg_score_one");
-      String week2Avg = setObj.getString("avg_score_two");
-
-      if (week1Avg.equals("0")) {
-        week1Avg = "";
-      } else {
-        week1Avg = "Wk1: " + week1Avg;
-      }
-
-      if (week2Avg.equals("0")) {
-        week2Avg = "";
-      } else {
-        week2Avg = "Wk2: " + week2Avg;
-      }
-
-      holder.ratingWk1.setText(week1Avg);
-      holder.ratingWk2.setText(week2Avg);
-
-      if (!score1.equals("*") || !score2.equals("*")) {
-        holder.myRating.setText("My Rtg: " + score1 + "/" + score2);
-      } else {
-        holder.myRating.setText("");
-      }
-
-    } catch (JSONException e) {
-      // TODO Auto-generated catch block
-      e.printStackTrace();
-    }
-
-    return rowView;
-  }
-
-  public String militaryToCivilianTime(int milTime) {
-    String ampm;
-    if (milTime < 1200 || milTime == 2400) {
-      ampm = "a";
-    } else {
-      ampm = "p";
-    }
-
-    if (milTime < 100) {
-      milTime += 1200;
-    }
-
-    if (milTime >= 1300) {
-      milTime -= 1200;
-    }
-
-    String timeStr = milTime + "";
-
-    int timeStrLen = timeStr.length();
-    timeStr = timeStr.substring(0, timeStrLen - 2) + ":"
-        + timeStr.substring(timeStrLen - 2, timeStrLen) + ampm;
-    return timeStr;
-  }
-
-  @Override
-  public int getViewTypeCount() {
-    return 1;
-  }
-
-  @Override
-  public boolean hasStableIds() {
-    // TODO Auto-generated method stub
-    return false;
-  }
-
-  @Override
-  public boolean isEmpty() {
-    // TODO Auto-generated method stub
-    return false;
-  }
-
-  @Override
-  public void registerDataSetObserver(DataSetObserver observer) {
-    // TODO Auto-generated method stub
-
-  }
-
-  @Override
-  public void unregisterDataSetObserver(DataSetObserver observer) {
-    // TODO Auto-generated method stub
-
-  }
-
-  @Override
-  public boolean areAllItemsEnabled() {
-    return true;
-  }
-
-  @Override
-  public boolean isEnabled(int position) { // Everything is clickable
-    return true;
-  }
-
-}
diff --git a/Coacheller-Android/src/com/coacheller/FakeDataSource.java b/Coacheller-Android/src/com/coacheller/FakeDataSource.java
deleted file mode 100644
index f2a1b38..0000000
--- a/Coacheller-Android/src/com/coacheller/FakeDataSource.java
+++ /dev/null
@@ -1,14 +0,0 @@
-package com.coacheller;
-
-import org.json.JSONArray;
-import org.json.JSONException;
-
-public class FakeDataSource {
-  private static String _data = "[{\"id\":18076,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":130,\"year\":2012,\"day\":\"Friday\",\"artist\":\"A FAKE DATASET\",\"time_two\":130},{\"id\":18077,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":2350,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Datsik\",\"time_two\":2350},{\"id\":18078,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1710,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Feed Me\",\"time_two\":1710},{\"id\":18079,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1550,\"year\":2012,\"day\":\"Friday\",\"artist\":\"James\",\"time_two\":1550},{\"id\":18080,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1835,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Madeon\",\"time_two\":1835},{\"id\":18081,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1405,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Other Lives\",\"time_two\":1405},{\"id\":18082,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1400,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Dear Hunter\",\"time_two\":1400},{\"id\":18083,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1210,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Wallpaper.\",\"time_two\":1210},{\"id\":19064,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1120,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Mea\",\"time_two\":1120},{\"id\":19065,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1315,\"year\":2012,\"day\":\"Friday\",\"artist\":\"R3hab\",\"time_two\":1315},{\"id\":19066,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1550,\"year\":2012,\"day\":\"Friday\",\"artist\":\"SebastiAn\",\"time_two\":1550},{\"id\":19067,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1550,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Ximena Sarinana\",\"time_two\":1550},{\"id\":21069,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":2400,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Amon Tobin : ISAM Live\",\"time_two\":2400},{\"id\":21070,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1515,\"year\":2012,\"day\":\"Friday\",\"artist\":\"EMA\",\"time_two\":1515},{\"id\":21071,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2015,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Frank Ocean\",\"time_two\":2015},{\"id\":21072,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":2055,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Rapture\",\"time_two\":2055},{\"id\":21073,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1900,\"year\":2012,\"day\":\"Friday\",\"artist\":\"WU LYF\",\"time_two\":1900},{\"id\":22055,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1955,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Alesso\",\"time_two\":1955},{\"id\":22056,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2130,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Atari Teenage Riot\",\"time_two\":2130},{\"id\":22057,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1820,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Dawes\",\"time_two\":1820},{\"id\":22058,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1435,\"year\":2012,\"day\":\"Friday\",\"artist\":\"GIVERS\",\"time_two\":1435},{\"id\":22059,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1710,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Jimmy Cliff with Tim Armstrong and the Engine Band\",\"time_two\":1710},{\"id\":22060,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":2320,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Refused\",\"time_two\":2320},{\"id\":22061,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2400,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Horrors\",\"time_two\":2400},{\"id\":22062,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1300,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Wolf Gang\",\"time_two\":1300},{\"id\":23069,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1430,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Breakbot\",\"time_two\":1430},{\"id\":23070,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1705,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Grouplove\",\"time_two\":1705},{\"id\":23071,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1935,\"year\":2012,\"day\":\"Friday\",\"artist\":\"M. Ward\",\"time_two\":1935},{\"id\":23072,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1900,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Madness\",\"time_two\":1900},{\"id\":23073,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1625,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Neon Indian\",\"time_two\":1625},{\"id\":23074,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":2330,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Swedish House Mafia\",\"time_two\":2330},{\"id\":24070,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":2135,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Afrojack\",\"time_two\":2135},{\"id\":24071,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1745,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Death Grips\",\"time_two\":1745},{\"id\":24072,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1320,\"year\":2012,\"day\":\"Friday\",\"artist\":\"honeyhoney\",\"time_two\":1320},{\"id\":24073,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":2050,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Mazzy Star\",\"time_two\":2050},{\"id\":24074,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1950,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Pulp\",\"time_two\":1950},{\"id\":24075,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2250,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Black Angels\",\"time_two\":2250},{\"id\":24076,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1515,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Yuck\",\"time_two\":1515},{\"id\":25063,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1200,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Abe Vigoda\",\"time_two\":1200},{\"id\":25064,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":2205,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Explosions in the Sky\",\"time_two\":2205},{\"id\":25065,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1630,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Gary Clark Jr.\",\"time_two\":1630},{\"id\":25066,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1330,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Hello Seahorse!\",\"time_two\":1330},{\"id\":25067,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1440,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Kendrick Lamar\",\"time_two\":1440},{\"id\":32018,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1300,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Gabe Real\",\"time_two\":1300},{\"id\":32019,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1740,\"year\":2012,\"day\":\"Friday\",\"artist\":\"GIRLS\",\"time_two\":1740},{\"id\":32020,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1215,\"year\":2012,\"day\":\"Friday\",\"artist\":\"LA Riots\",\"time_two\":1215},{\"id\":32021,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":2215,\"year\":2012,\"day\":\"Friday\",\"artist\":\"M83\",\"time_two\":2215},{\"id\":32022,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":2145,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Black Keys\",\"time_two\":2145},{\"id\":32023,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1300,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Sheepdogs\",\"time_two\":1300}]";
-  
-  public static JSONArray getData() throws JSONException {
-    JSONArray returnArray = new JSONArray(_data);
-    return returnArray;
-    }
-
-}
diff --git a/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java b/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java
deleted file mode 100644
index a655e20..0000000
--- a/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java
+++ /dev/null
@@ -1,80 +0,0 @@
-package com.coacheller;
-
-import java.util.HashMap;
-import java.util.Set;
-
-import org.json.JSONArray;
-import org.json.JSONException;
-import org.json.JSONObject;
-
-public class JSONArrayHashMap {
-
-  private String _key1Name;
-  private String _key2Name;
-
-  private HashMap<String, JSONObject> _hash = new HashMap<String, JSONObject>();
-
-  public JSONArrayHashMap(String keyName) {
-    _key1Name = keyName;
-  }
-
-  //TODO this could be the reason for the crash in the release version.
-  //TODO This constructor does not initialize the hashmap
-  //TODO Inconsistency between re-creating and re-using JAHM object could have made the bug harder to find
-  public JSONArrayHashMap(String key1Name, String key2Name) {
-    _key1Name = key1Name;
-    _key2Name = key2Name;
-  }
-
-  public void wipe() {
-    _key1Name = "";
-    _key2Name = "";
-    _hash.clear();
-  }
-
-  // Not used in release
-  /*
-   * public JSONArrayHashMap(JSONArray data, String keyName) throws
-   * JSONException { _key1Name = keyName;
-   * 
-   * for (int i = 0; i < data.length(); i++) { JSONObject obj = (JSONObject)
-   * data.get(i); _hash.put(obj.getString(_key1Name), obj); } }
-   */
-
-  public JSONArrayHashMap(JSONArray data, String firstKeyName, String secondKeyName)
-      throws JSONException {
-    _key1Name = firstKeyName;
-    _key2Name = secondKeyName;
-
-    for (int i = 0; i < data.length(); i++) {
-      JSONObject obj = (JSONObject) data.get(i);
-      storeTwoKeyObj(firstKeyName, secondKeyName, obj);
-    }
-  }
-
-  private void storeTwoKeyObj(String key1Name, String key2Name, JSONObject obj)
-      throws JSONException {
-    _hash.put(obj.getString(key1Name) + "-" + obj.getString(key2Name), obj);
-  }
-
-  public JSONObject getJSONObject(String value) {
-    return _hash.get(value);
-  }
-
-  public void addValues(String key1, String key2, JSONObject obj) throws JSONException {
-    storeTwoKeyObj(key1, key2, obj);
-  }
-
-  public JSONObject getJSONObject(String value1, String value2) {
-    return _hash.get(value1 + "-" + value2);
-  }
-
-  public Set<String> getKeys() {
-    return _hash.keySet();
-  }
-
-  public String getKeyName() {
-    return _key1Name;
-  }
-
-}
diff --git a/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java b/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java
deleted file mode 100644
index b104510..0000000
--- a/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java
+++ /dev/null
@@ -1,88 +0,0 @@
-package com.coacheller;
-
-import java.util.ArrayList;
-import java.util.Collections;
-import java.util.Comparator;
-
-import org.json.JSONArray;
-import org.json.JSONException;
-import org.json.JSONObject;
-
-import com.google.gson.internal.Pair;
-
-public class JSONArraySortMap {
-
-  final public static int VALUE_INTEGER = 0;
-  final public static int VALUE_STRING = 1;
-
-  private ArrayList<Pair<Integer, Object>> _pairs = new ArrayList<Pair<Integer, Object>>();
-  JSONArray _arrayToSort;
-  private String _parameterToSort;
-  private int _valueType;
-
-  public JSONArraySortMap(JSONArray arraySort, String parameterSort, int valType)
-      throws JSONException {
-    // init
-    _arrayToSort = arraySort;
-    _valueType = valType;
-    _parameterToSort = parameterSort;
-
-    if (_valueType < 0 || 1 < _valueType) {
-      throw new RuntimeException();
-    }
-
-    // read values in
-    for (int i = 0; i < _arrayToSort.length(); i++) {
-      JSONObject currentObj = _arrayToSort.getJSONObject(i);
-      Object value = null;
-
-      if (_valueType == VALUE_INTEGER) {
-        value = currentObj.getInt(_parameterToSort);
-      } else if (_valueType == VALUE_STRING) {
-        value = currentObj.getString(_parameterToSort);
-      }
-
-      Pair<Integer, Object> nextPair = new Pair<Integer, Object>(i, value);
-      // System.out.println(i + " || " + value.toString());
-      _pairs.add(nextPair);
-
-    }
-
-    Comparator<Pair<Integer, Object>> comparator = new Comparator<Pair<Integer, Object>>() {
-
-      public int compare(Pair<Integer, Object> pairA, Pair<Integer, Object> pairB) {
-        if (_valueType == VALUE_INTEGER) {
-          Integer aValue = (Integer) pairA.second;
-          Integer bValue = (Integer) pairB.second;
-          return aValue.compareTo(bValue);
-        } else if (_valueType == VALUE_STRING) {
-          String aValue = (String) (pairA.second);
-          String bValue = (String) (pairB.second);
-          return aValue.toLowerCase().compareTo(bValue.toLowerCase());
-        } else {
-          throw new RuntimeException();
-        }
-      }
-    };
-
-    Collections.sort(_pairs, comparator);
-  }
-
-  public JSONObject getSortedJSONObj(int index) throws JSONException {
-    // if (_valueType != VALUE_INTEGER) {
-    // throw new RuntimeException();
-    // }
-
-    Integer indexToReturn = (Integer) _pairs.get(index).first;
-    return _arrayToSort.getJSONObject(indexToReturn);
-  }
-
-  // Redundant, did not need
-  /*
-   * public JSONObject getSortedStringValue(int index) throws JSONException { if
-   * (_valueType != VALUE_STRING) { throw new RuntimeException(); }
-   * 
-   * Integer indexToReturn = (Integer) _pairs.get(index).first; return
-   * _arrayToSort.getJSONObject(indexToReturn); }
-   */
-}
diff --git a/Coacheller-Android/src/com/coacheller/ServiceUtils.java b/Coacheller-Android/src/com/coacheller/ServiceUtils.java
index 8431d7d..48147b2 100644
--- a/Coacheller-Android/src/com/coacheller/ServiceUtils.java
+++ b/Coacheller-Android/src/com/coacheller/ServiceUtils.java
@@ -3,0 +4 @@ import java.io.BufferedReader;
+import java.io.IOException;
@@ -4,0 +6 @@ import java.io.InputStreamReader;
+import java.io.UnsupportedEncodingException;
@@ -8,0 +11 @@ import org.apache.http.HttpStatus;
+import org.apache.http.client.ClientProtocolException;
@@ -13,0 +17 @@ import org.json.JSONArray;
+import org.json.JSONException;
@@ -29,0 +34 @@ public class ServiceUtils {
+   * @throws Exception 
@@ -31 +36 @@ public class ServiceUtils {
-  public static JSONArray getSets(String year, String day, Context context) {
+  public static JSONArray getSets(String year, String day, Context context) throws Exception {
@@ -73,0 +79 @@ public class ServiceUtils {
+        throw new Exception();
@@ -76 +82 @@ public class ServiceUtils {
-    } catch (Exception e) {
+    } catch (ClientProtocolException e) {  //TODO: Could have created a custom Exception class
@@ -77,0 +84,7 @@ public class ServiceUtils {
+      throw new Exception();
+    } catch (IOException e) {
+      e.printStackTrace();
+      throw new Exception();
+    } catch (JSONException e) {
+      e.printStackTrace();
+      throw new Exception();
@@ -79,2 +91,0 @@ public class ServiceUtils {
-
-    return null;
@@ -86 +97 @@ public class ServiceUtils {
-  public static JSONArray getRatings(String email, String day, Context context) {
+  public static JSONArray getRatings(String email, String day, Context context) throws Exception {
@@ -128,0 +140 @@ public class ServiceUtils {
+        throw new Exception();
@@ -131 +143,7 @@ public class ServiceUtils {
-    } catch (Exception e) {
+    } catch (ClientProtocolException e) {  //TODO: Could have created a custom Exception class
+      e.printStackTrace();
+      throw new Exception();
+    } catch (IOException e) {
+      e.printStackTrace();
+      throw new Exception();
+    } catch (JSONException e) {
@@ -132,0 +151 @@ public class ServiceUtils {
+      throw new Exception();
@@ -134,2 +152,0 @@ public class ServiceUtils {
-
-    return null;
@@ -145,0 +163 @@ public class ServiceUtils {
+   * @throws Exception 
@@ -150 +168 @@ public class ServiceUtils {
-      String score, Context context) {
+      String score, Context context) throws Exception {
@@ -200,0 +219 @@ public class ServiceUtils {
+        throw new Exception();
@@ -203 +222,7 @@ public class ServiceUtils {
-    } catch (Exception e) {
+    } catch (UnsupportedEncodingException e) {
+      e.printStackTrace();
+      throw new Exception();
+    } catch (IllegalStateException e) {
+      e.printStackTrace();
+      throw new Exception();
+    } catch (IOException e) {
@@ -204,0 +230 @@ public class ServiceUtils {
+      throw new Exception();
@@ -206,2 +231,0 @@ public class ServiceUtils {
-
-    return null;
@@ -209 +232,0 @@ public class ServiceUtils {
-
diff --git a/Coacheller-Android/src/com/coacheller/data/CustomPair.java b/Coacheller-Android/src/com/coacheller/data/CustomPair.java
new file mode 100644
index 0000000..edfde58
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/data/CustomPair.java
@@ -0,0 +1,12 @@
+package com.coacheller.data;
+
+public class CustomPair<firstType, secondType> {
+
+  public firstType first;
+  public secondType second;
+  
+  public CustomPair(firstType firstObj, secondType secondObj) {
+    first = firstObj;
+    second = secondObj;
+  }
+}
diff --git a/Coacheller-Android/src/com/coacheller/data/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/data/CustomSetListAdapter.java
new file mode 100644
index 0000000..78dcd9d
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/data/CustomSetListAdapter.java
@@ -0,0 +1,234 @@
+package com.coacheller.data;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import com.coacheller.R;
+import com.coacheller.R.id;
+import com.coacheller.R.layout;
+import com.coacheller.shared.DateTimeUtils;
+import com.coacheller.ui.CoachellerActivity;
+
+import android.content.Context;
+import android.database.DataSetObserver;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ListAdapter;
+import android.widget.TextView;
+
+public class CustomSetListAdapter implements ListAdapter {
+
+  private JSONArray _data;
+  private JSONArraySortMap _sortMap;
+  private Context _context;
+  private String _timeFieldName;
+  private String _stageFieldName;
+  private JSONArrayHashMap _myRatings_JAHM;
+
+  static class ViewHolder {
+    public TextView textTime;
+    public TextView textArtist;
+    public TextView textStage;
+    public TextView ratingWk1;
+    public TextView ratingWk2;
+    public TextView myRating;
+  }
+
+  public CustomSetListAdapter(Context context, String timeFieldName, String stageFieldName,
+      JSONArrayHashMap myRatings_JAHM) {
+    _context = context;
+    setTimeFieldName(timeFieldName);
+    setStageFieldName(stageFieldName);
+    updateJAHM(myRatings_JAHM);
+  }
+
+  public void updateJAHM(JSONArrayHashMap myRatings_JAHM) {
+    _myRatings_JAHM = myRatings_JAHM;
+  }
+
+  public void setTimeFieldName(String name) {
+    _timeFieldName = name;
+  }
+
+  public void setStageFieldName(String name) {
+    _stageFieldName = name;
+  }
+
+  public void setData(JSONArray data) {
+    _data = data;
+  }
+
+  public void sortByField(String fieldName, int dataType) throws JSONException {
+    _sortMap = new JSONArraySortMap(_data, fieldName, dataType);
+  }
+
+  @Override
+  public int getCount() {
+    if (_data == null) {
+      return 0;
+    } else {
+      return _data.length();
+    }
+  }
+
+  @Override
+  public Object getItem(int position) {
+    try {
+      return _sortMap.getSortedJSONObj(position);
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+    return null;
+  }
+
+  @Override
+  public long getItemId(int position) {
+    // TODO Auto-generated method stub
+    return 0;
+  }
+
+  @Override
+  public int getItemViewType(int position) {
+    // TODO Auto-generated method stub
+    return 0;
+  }
+
+  @Override
+  public View getView(int position, View convertView, ViewGroup parent) {
+    View rowView = convertView;
+
+    if (rowView == null) {
+      LayoutInflater inflater = (LayoutInflater) _context
+          .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+      rowView = inflater.inflate(R.layout.row_set_info, parent, false);
+      ViewHolder viewHolder = new ViewHolder();
+      viewHolder.textTime = (TextView) rowView.findViewById(R.id.text_set_time);
+      viewHolder.textArtist = (TextView) rowView.findViewById(R.id.text_artist_name);
+      viewHolder.textStage = (TextView) rowView.findViewById(R.id.text_stage);
+      viewHolder.ratingWk1 = (TextView) rowView.findViewById(R.id.text_wk1_rating);
+      viewHolder.ratingWk2 = (TextView) rowView.findViewById(R.id.text_wk2_rating);
+      viewHolder.myRating = (TextView) rowView.findViewById(R.id.text_my_rating);
+      rowView.setTag(viewHolder);
+    }
+
+    try {
+
+      ViewHolder holder = (ViewHolder) rowView.getTag();
+      JSONObject setObj = _sortMap.getSortedJSONObj(position);
+      String setId = setObj.getString(CoachellerActivity.QUERY_SETS__SET_ID); // Get
+                                                                              // the
+                                                                              // set
+                                                                              // Id
+
+      // Get Ratings for this set Id
+      JSONObject ratingsObjWk1 = _myRatings_JAHM.getJSONObject(setId, "1");
+      JSONObject ratingsObjWk2 = _myRatings_JAHM.getJSONObject(setId, "2");
+
+      String score1 = "*";
+      if (ratingsObjWk1 != null) {
+        score1 = ratingsObjWk1.get(CoachellerActivity.QUERY_RATINGS__RATING).toString();
+      }
+
+      String score2 = "*";
+      if (ratingsObjWk2 != null) {
+        score2 = ratingsObjWk2.get(CoachellerActivity.QUERY_RATINGS__RATING).toString();
+      }
+
+      int milTime = setObj.getInt(_timeFieldName);
+      holder.textTime.setText(DateTimeUtils.militaryToCivilianTime(milTime));
+      holder.textArtist.setText(setObj.getString("artist"));
+      holder.textStage.setText(setObj.getString(_stageFieldName).toUpperCase());
+      String week1Avg = setObj.getString("avg_score_one");
+      String week2Avg = setObj.getString("avg_score_two");
+
+      if (week1Avg.equals("0")) {
+        week1Avg = "";
+      } else {
+        week1Avg = "Wk1: " + week1Avg;
+      }
+
+      if (week2Avg.equals("0")) {
+        week2Avg = "";
+      } else {
+        week2Avg = "Wk2: " + week2Avg;
+      }
+
+      holder.ratingWk1.setText(week1Avg);
+      holder.ratingWk2.setText(week2Avg);
+
+      if (!score1.equals("*") || !score2.equals("*")) {
+        holder.myRating.setText("My Rtg: " + score1 + "/" + score2);
+      } else {
+        holder.myRating.setText("");
+      }
+
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+
+    return rowView;
+  }
+
+  /*
+   * public String militaryToCivilianTime(int milTime) { String ampm; if
+   * (milTime < 1200 || milTime == 2400) { ampm = "a"; } else { ampm = "p"; }
+   * 
+   * if (milTime < 100) { milTime += 1200; }
+   * 
+   * if (milTime >= 1300) { milTime -= 1200; }
+   * 
+   * String timeStr = milTime + "";
+   * 
+   * int timeStrLen = timeStr.length(); timeStr = timeStr.substring(0,
+   * timeStrLen - 2) + ":" + timeStr.substring(timeStrLen - 2, timeStrLen) +
+   * ampm; return timeStr; }
+   */
+
+  @Override
+  public int getViewTypeCount() {
+    return 1;
+  }
+
+  @Override
+  public boolean hasStableIds() {
+    // TODO Auto-generated method stub
+    return false;
+  }
+
+  //Implemented prior to week 2, hope nothing breaks.
+  @Override
+  public boolean isEmpty() {
+    if (_data.length() == 0) {
+      return true;
+    } else {
+      return false;
+    }
+  }
+
+  @Override
+  public void registerDataSetObserver(DataSetObserver observer) {
+    // TODO Auto-generated method stub
+
+  }
+
+  @Override
+  public void unregisterDataSetObserver(DataSetObserver observer) {
+    // TODO Auto-generated method stub
+
+  }
+
+  @Override
+  public boolean areAllItemsEnabled() {
+    return true;
+  }
+
+  @Override
+  public boolean isEnabled(int position) { // Everything is clickable
+    return true;
+  }
+
+}
diff --git a/Coacheller-Android/src/com/coacheller/data/FakeDataSource.java b/Coacheller-Android/src/com/coacheller/data/FakeDataSource.java
new file mode 100644
index 0000000..93f54ee
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/data/FakeDataSource.java
@@ -0,0 +1,14 @@
+package com.coacheller.data;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+
+public class FakeDataSource {
+  private static String _data = "[{\"id\":18076,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":130,\"year\":2012,\"day\":\"Friday\",\"artist\":\"A FAKE DATASET\",\"time_two\":130},{\"id\":18077,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":2350,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Datsik\",\"time_two\":2350},{\"id\":18078,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1710,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Feed Me\",\"time_two\":1710},{\"id\":18079,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1550,\"year\":2012,\"day\":\"Friday\",\"artist\":\"James\",\"time_two\":1550},{\"id\":18080,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1835,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Madeon\",\"time_two\":1835},{\"id\":18081,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1405,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Other Lives\",\"time_two\":1405},{\"id\":18082,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1400,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Dear Hunter\",\"time_two\":1400},{\"id\":18083,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1210,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Wallpaper.\",\"time_two\":1210},{\"id\":19064,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1120,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Mea\",\"time_two\":1120},{\"id\":19065,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1315,\"year\":2012,\"day\":\"Friday\",\"artist\":\"R3hab\",\"time_two\":1315},{\"id\":19066,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1550,\"year\":2012,\"day\":\"Friday\",\"artist\":\"SebastiAn\",\"time_two\":1550},{\"id\":19067,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1550,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Ximena Sarinana\",\"time_two\":1550},{\"id\":21069,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":2400,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Amon Tobin : ISAM Live\",\"time_two\":2400},{\"id\":21070,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1515,\"year\":2012,\"day\":\"Friday\",\"artist\":\"EMA\",\"time_two\":1515},{\"id\":21071,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2015,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Frank Ocean\",\"time_two\":2015},{\"id\":21072,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":2055,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Rapture\",\"time_two\":2055},{\"id\":21073,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1900,\"year\":2012,\"day\":\"Friday\",\"artist\":\"WU LYF\",\"time_two\":1900},{\"id\":22055,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1955,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Alesso\",\"time_two\":1955},{\"id\":22056,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2130,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Atari Teenage Riot\",\"time_two\":2130},{\"id\":22057,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1820,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Dawes\",\"time_two\":1820},{\"id\":22058,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1435,\"year\":2012,\"day\":\"Friday\",\"artist\":\"GIVERS\",\"time_two\":1435},{\"id\":22059,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1710,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Jimmy Cliff with Tim Armstrong and the Engine Band\",\"time_two\":1710},{\"id\":22060,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":2320,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Refused\",\"time_two\":2320},{\"id\":22061,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2400,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Horrors\",\"time_two\":2400},{\"id\":22062,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1300,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Wolf Gang\",\"time_two\":1300},{\"id\":23069,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1430,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Breakbot\",\"time_two\":1430},{\"id\":23070,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1705,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Grouplove\",\"time_two\":1705},{\"id\":23071,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1935,\"year\":2012,\"day\":\"Friday\",\"artist\":\"M. Ward\",\"time_two\":1935},{\"id\":23072,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1900,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Madness\",\"time_two\":1900},{\"id\":23073,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1625,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Neon Indian\",\"time_two\":1625},{\"id\":23074,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":2330,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Swedish House Mafia\",\"time_two\":2330},{\"id\":24070,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":2135,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Afrojack\",\"time_two\":2135},{\"id\":24071,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1745,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Death Grips\",\"time_two\":1745},{\"id\":24072,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1320,\"year\":2012,\"day\":\"Friday\",\"artist\":\"honeyhoney\",\"time_two\":1320},{\"id\":24073,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":2050,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Mazzy Star\",\"time_two\":2050},{\"id\":24074,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1950,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Pulp\",\"time_two\":1950},{\"id\":24075,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2250,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Black Angels\",\"time_two\":2250},{\"id\":24076,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1515,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Yuck\",\"time_two\":1515},{\"id\":25063,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1200,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Abe Vigoda\",\"time_two\":1200},{\"id\":25064,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":2205,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Explosions in the Sky\",\"time_two\":2205},{\"id\":25065,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1630,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Gary Clark Jr.\",\"time_two\":1630},{\"id\":25066,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1330,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Hello Seahorse!\",\"time_two\":1330},{\"id\":25067,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1440,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Kendrick Lamar\",\"time_two\":1440},{\"id\":32018,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1300,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Gabe Real\",\"time_two\":1300},{\"id\":32019,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1740,\"year\":2012,\"day\":\"Friday\",\"artist\":\"GIRLS\",\"time_two\":1740},{\"id\":32020,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1215,\"year\":2012,\"day\":\"Friday\",\"artist\":\"LA Riots\",\"time_two\":1215},{\"id\":32021,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":2215,\"year\":2012,\"day\":\"Friday\",\"artist\":\"M83\",\"time_two\":2215},{\"id\":32022,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":2145,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Black Keys\",\"time_two\":2145},{\"id\":32023,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1300,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Sheepdogs\",\"time_two\":1300}]";
+  
+  public static JSONArray getData() throws JSONException {
+    JSONArray returnArray = new JSONArray(_data);
+    return returnArray;
+    }
+
+}
diff --git a/Coacheller-Android/src/com/coacheller/data/JSONArrayHashMap.java b/Coacheller-Android/src/com/coacheller/data/JSONArrayHashMap.java
new file mode 100644
index 0000000..8715bf2
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/data/JSONArrayHashMap.java
@@ -0,0 +1,94 @@
+package com.coacheller.data;
+
+import java.util.HashMap;
+import java.util.Set;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+
+public class JSONArrayHashMap {
+
+  private String _key1Name;
+  private String _key2Name;
+
+  
+  //TODO: Could be expanded to operate with an arbitrary number of keys
+  private HashMap<String, JSONObject> _hash = new HashMap<String, JSONObject>();
+
+  public JSONArrayHashMap(String keyName) {
+    _key1Name = keyName;
+  }
+
+  // TODO this could be the reason for the crash in the release version.
+  // TODO This constructor does not initialize the hashmap
+  // TODO Inconsistency between re-creating and re-using JAHM object could have
+  // made the bug harder to find
+
+  public void setKeyNames(String key1Name, String key2Name) {
+    _key1Name = key1Name;
+    _key2Name = key2Name;
+
+  }
+  
+  public void setData(JSONArray data) throws JSONException {
+    for (int i = 0; i < data.length(); i++) {
+      JSONObject obj = (JSONObject) data.get(i);
+      storeTwoKeyObj(_key1Name, _key2Name, obj);
+    }
+  }
+
+  public JSONArrayHashMap(String key1Name, String key2Name) {
+    setKeyNames(key1Name, key2Name);
+  }
+  
+  public JSONArrayHashMap(JSONArray data, String firstKeyName, String secondKeyName)
+  throws JSONException {
+    setKeyNames(firstKeyName, secondKeyName);
+    setData(data);
+  }
+
+  public void wipe() {
+    _key1Name = "";
+    _key2Name = "";
+    _hash.clear();
+  }
+
+  // Not used in release
+  /*
+   * public JSONArrayHashMap(JSONArray data, String keyName) throws
+   * JSONException { _key1Name = keyName;
+   * 
+   * for (int i = 0; i < data.length(); i++) { JSONObject obj = (JSONObject)
+   * data.get(i); _hash.put(obj.getString(_key1Name), obj); } }
+   */
+
+
+
+  private void storeTwoKeyObj(String key1Name, String key2Name, JSONObject obj)
+      throws JSONException {
+    _hash.put(obj.getString(key1Name) + "-" + obj.getString(key2Name), obj);
+  }
+
+  // This should be called using a function specific to a two-parameter key
+  public JSONObject getJSONObject(String value) {
+    return _hash.get(value);
+  }
+
+  public void addValues(String key1, String key2, JSONObject obj) throws JSONException {
+    storeTwoKeyObj(key1, key2, obj);
+  }
+
+  public JSONObject getJSONObject(String value1, String value2) {
+    return _hash.get(value1 + "-" + value2);
+  }
+
+  public Set<String> getKeys() {
+    return _hash.keySet();
+  }
+
+  // Not used, so commented
+  /*
+   * public String getKeyName() { return _key1Name; }
+   */
+}
diff --git a/Coacheller-Android/src/com/coacheller/data/JSONArraySortMap.java b/Coacheller-Android/src/com/coacheller/data/JSONArraySortMap.java
new file mode 100644
index 0000000..cf30dce
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/data/JSONArraySortMap.java
@@ -0,0 +1,89 @@
+package com.coacheller.data;
+
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.Comparator;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+
+
+
+
+public class JSONArraySortMap {
+
+  final public static int VALUE_INTEGER = 0;
+  final public static int VALUE_STRING = 1;
+
+  private ArrayList<CustomPair<Integer, Object>> _pairs = new ArrayList<CustomPair<Integer, Object>>();
+  JSONArray _arrayToSort;
+  private String _parameterToSort;
+  private int _valueType;
+
+  public JSONArraySortMap(JSONArray arraySort, String parameterSort, int valType)
+      throws JSONException {
+    // init
+    _arrayToSort = arraySort;
+    _valueType = valType;
+    _parameterToSort = parameterSort;
+
+    if (_valueType < 0 || 1 < _valueType) {
+      throw new RuntimeException();
+    }
+
+    // read values in
+    for (int i = 0; i < _arrayToSort.length(); i++) {
+      JSONObject currentObj = _arrayToSort.getJSONObject(i);
+      Object value = null;
+
+      if (_valueType == VALUE_INTEGER) {
+        value = currentObj.getInt(_parameterToSort);
+      } else if (_valueType == VALUE_STRING) {
+        value = currentObj.getString(_parameterToSort);
+      }
+
+      CustomPair<Integer, Object> nextPair = new CustomPair<Integer, Object>(i, value);
+      // System.out.println(i + " || " + value.toString());
+      _pairs.add(nextPair);
+
+    }
+
+    Comparator<CustomPair<Integer, Object>> comparator = new Comparator<CustomPair<Integer, Object>>() {
+
+      public int compare(CustomPair<Integer, Object> pairA, CustomPair<Integer, Object> pairB) {
+        if (_valueType == VALUE_INTEGER) {
+          Integer aValue = (Integer) pairA.second;
+          Integer bValue = (Integer) pairB.second;
+          return aValue.compareTo(bValue);
+        } else if (_valueType == VALUE_STRING) {
+          String aValue = (String) (pairA.second);
+          String bValue = (String) (pairB.second);
+          return aValue.toLowerCase().compareTo(bValue.toLowerCase());
+        } else {
+          throw new RuntimeException();
+        }
+      }
+    };
+
+    Collections.sort(_pairs, comparator);
+  }
+
+  public JSONObject getSortedJSONObj(int index) throws JSONException {
+    // if (_valueType != VALUE_INTEGER) {
+    // throw new RuntimeException();
+    // }
+
+    Integer indexToReturn = (Integer) _pairs.get(index).first;
+    return _arrayToSort.getJSONObject(indexToReturn);
+  }
+
+  // Redundant, did not need
+  /*
+   * public JSONObject getSortedStringValue(int index) throws JSONException { if
+   * (_valueType != VALUE_STRING) { throw new RuntimeException(); }
+   * 
+   * Integer indexToReturn = (Integer) _pairs.get(index).first; return
+   * _arrayToSort.getJSONObject(indexToReturn); }
+   */
+}
diff --git a/Coacheller-Android/src/com/coacheller/ui/ActivitySetsSearch.java b/Coacheller-Android/src/com/coacheller/ui/ActivitySetsSearch.java
new file mode 100644
index 0000000..a1520aa
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/ui/ActivitySetsSearch.java
@@ -0,0 +1,139 @@
+package com.coacheller.ui;
+
+import java.util.Calendar;
+
+import com.coacheller.CoachellerApplication;
+import com.coacheller.R;
+import com.coacheller.R.array;
+import com.coacheller.R.id;
+import com.coacheller.R.layout;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.widget.AdapterView;
+import android.widget.Button;
+import android.widget.Spinner;
+import android.widget.Toast;
+
+public class ActivitySetsSearch extends Activity implements OnClickListener {
+  
+  private String _weekSelected;
+  private String _daySelected;
+
+  /** Called when the activity is first created. */
+  @Override
+  public void onCreate(Bundle savedInstanceState) {
+      super.onCreate(savedInstanceState);
+  
+      CoachellerApplication.debug(this, "Search Sets Activity Launched");
+      this.initializeApp();
+  }
+  
+  
+  public void initializeApp() {
+    setContentView(R.layout.sets_search);
+    
+
+    // Setup Week Spinner
+    Spinner weekendSpinner = (Spinner) this.findViewById(R.id.search_spinner_week);
+    CoachellerApplication.populateSpinnerWithArray(weekendSpinner, R.array.names_week);
+    weekendSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+
+      @Override
+      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
+        CoachellerApplication.debug(parent.getContext(), "Week Selected: " + parent.getSelectedItem());
+        _weekSelected = parent.getSelectedItem().toString().substring(0, 1);
+      }
+
+      @Override
+      public void onNothingSelected(AdapterView<?> parent) {
+        CoachellerApplication.debug(parent.getContext(), "No Week Selected - Unexpected condition");
+      }
+    });
+
+    if (CoachellerApplication.whichWeekIsToday() == 1) {
+      CoachellerApplication.debug(this, "Date suggests week 1");
+      weekendSpinner.setSelection(0);
+      
+    } else if (CoachellerApplication.whichWeekIsToday() == 2) {
+      CoachellerApplication.debug(this, "Date suggests week 2");
+      weekendSpinner.setSelection(1);
+    }
+
+    // Setup day spinner
+    Spinner daySpinner = (Spinner) this.findViewById(R.id.search_spinner_day);
+    CoachellerApplication.populateSpinnerWithArray(daySpinner, R.array.names_day);
+    daySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+
+      @Override
+      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
+        CoachellerApplication.debug(parent.getContext(),
+            "Day Selected: " + parent.getSelectedItem());
+        _daySelected = parent.getSelectedItem().toString();
+        
+      }
+
+      @Override
+      public void onNothingSelected(AdapterView<?> parent) {
+        CoachellerApplication.debug(parent.getContext(), "No Day Selected - Unexpected condition");
+      }
+    });
+
+    Calendar cal = Calendar.getInstance();
+    int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);
+    if (dayOfWeek == Calendar.FRIDAY) {
+      daySpinner.setSelection(0);
+    } else if (dayOfWeek == Calendar.SATURDAY) {
+      daySpinner.setSelection(1);
+    } else if (dayOfWeek == Calendar.SUNDAY) {
+      daySpinner.setSelection(2);
+    } else {
+      // Select Friday
+      daySpinner.setSelection(0);
+    }
+
+    // Register "this" as the onClick listener for search button
+    Button searchButton = (Button) this.findViewById(R.id.sets_search_button_search);
+    searchButton.setOnClickListener(this);
+  }
+  
+  /**
+   * Fires when the Search ("Go!") button is pressed, this object is the OnClick
+   * listener.
+   * 
+   * @param v
+   */
+
+  public void onClick(View v) {
+    if (v.getId() == R.id.sets_search_button_search) {
+      CoachellerApplication.debug(this, "Search button pressed");
+
+      try {
+        Intent intent = new Intent();
+        Bundle bun = new Bundle();
+
+        bun.putString("WEEK", _weekSelected);
+        bun.putString("DAY", _daySelected);
+
+        intent.setClass(this, CoachellerActivity.class);
+        
+        intent.putExtras(bun);
+        startActivity(intent);
+      } catch (Exception e) {
+        e.printStackTrace();
+        Toast exceptionText = Toast.makeText(this, "Exception Launching Activity", 5);
+        exceptionText.show();
+      }
+    } else {
+      CoachellerApplication.debug(this, "An unknown button was pressed - Unexpected");
+    }
+
+  }
+  
+  
+  
+
+}
diff --git a/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
new file mode 100644
index 0000000..547c63b
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/ui/CoachellerActivity.java
@@ -0,0 +1,599 @@
+package com.coacheller.ui;
+
+import java.util.HashMap;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import android.app.Activity;
+import android.app.Dialog;
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.View;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
+import android.widget.AdapterView.OnItemSelectedListener;
+import android.widget.Button;
+import android.widget.EditText;
+import android.widget.ListView;
+import android.widget.RadioButton;
+import android.widget.RadioGroup;
+import android.widget.Spinner;
+import android.widget.TextView;
+import android.widget.Toast;
+
+import com.coacheller.CoachellerApplication;
+import com.coacheller.CoachellerStorageManager;
+import com.coacheller.R;
+import com.coacheller.ServiceUtils;
+import com.coacheller.R.array;
+import com.coacheller.R.id;
+import com.coacheller.R.layout;
+import com.coacheller.R.string;
+import com.coacheller.data.CustomSetListAdapter;
+import com.coacheller.data.JSONArrayHashMap;
+import com.coacheller.data.JSONArraySortMap;
+import com.coacheller.shared.FieldVerifier;
+
+public class CoachellerActivity extends Activity implements View.OnClickListener,
+    OnItemSelectedListener, OnItemClickListener {
+
+  private static final int DIALOG_RATE = 1;
+  private static final int DIALOG_GETEMAIL = 2;
+  private static final int DIALOG_NETWORK_ERROR = 3;
+
+  private static final int SORT_TIME = 1;
+  private static final int SORT_ARTIST = 2;
+
+  // Local Storage
+  private static final String USER_EMAIL = "USER_EMAIL";
+  private static final String DATA_SETS = "DATA_SETS";
+  private static final String DATA_RATINGS = "DATA_RATINGS";
+
+  // Database
+  public static final String QUERY_RATINGS__SET_ID = "set_id";
+  public static final String QUERY_RATINGS__WEEK = "weekend";
+  public static final String QUERY_SETS__SET_ID = "id";
+  public static final String QUERY_SETS__TIME_ONE = "time_one";
+  public static final String QUERY_SETS__TIME_TWO = "time_two";
+  public static final String QUERY_SETS__STAGE_ONE = "stage_one";
+  public static final String QUERY_SETS__STAGE_TWO = "stage_two";
+  public static final String QUERY_RATINGS__RATING = "score";
+
+  private static final int REFRESH_INTERVAL__SECONDS = 15;
+
+  private int _weekToQuery;
+  private String _dayToExamine;
+  private int _sortMode;
+  private long _lastRefresh = 0;
+
+  private String _timeFieldName;
+  private String _stageFieldName;
+
+  private Dialog _lastRateDialog;
+  private Dialog _lastGetEmailDialog;
+  private Dialog _lastNetworkErrorDialog;
+
+  private String _obtained_email = null;
+  private CustomSetListAdapter _setListAdapter;
+  private JSONObject _lastItemSelected;
+  private HashMap<Integer, Integer> _ratingSelectedIdToValue = new HashMap<Integer, Integer>();
+  private CoachellerStorageManager _storageManager;
+
+  private JSONArrayHashMap _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID,
+      QUERY_RATINGS__WEEK);
+  private boolean _networkErrors;
+
+  /** Called by Android Framework when the activity is first created. */
+
+  @Override
+  public void onCreate(Bundle savedInstanceState) {
+    super.onCreate(savedInstanceState);
+
+    CoachellerApplication.debug(this, "CoachellerActivity Launched");
+
+    _ratingSelectedIdToValue.put(R.id.radio_button_week1, 1);
+    _ratingSelectedIdToValue.put(R.id.radio_button_week2, 2);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score1, 1);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score2, 2);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score3, 3);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score4, 4);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score5, 5);
+
+    _storageManager = new CoachellerStorageManager(this);
+    _storageManager.load();
+
+    // initJAHM(); //Only initialized once
+
+    setContentView(R.layout.sets_list);
+    _setListAdapter = new CustomSetListAdapter(this, QUERY_SETS__TIME_ONE, QUERY_SETS__STAGE_ONE,
+        _myRatings_JAHM);
+    _setListAdapter.setData(new JSONArray());
+
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+    viewSetsList.setAdapter(_setListAdapter);
+    viewSetsList.setOnItemClickListener(this);
+
+    Button buttonSearchSets = (Button) this.findViewById(R.id.buttonChangeToSearchSets);
+    buttonSearchSets.setOnClickListener(this);
+
+    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
+    CoachellerApplication.populateSpinnerWithArray(spinnerSortType, R.array.search_types);
+    spinnerSortType.setOnItemSelectedListener(this);
+
+    _weekToQuery = CoachellerApplication.whichWeekIsToday();
+    _dayToExamine = CoachellerApplication.whatDayIsToday();
+    _sortMode = SORT_TIME;
+
+    // Above here is stuff to be done once
+
+    processExtraData();
+
+  }
+
+  /** Called by Android Framework when activity (re)gains foreground status */
+  public void onResume() {
+    super.onResume();
+
+    if ((System.currentTimeMillis() - _lastRefresh) / 1000 > REFRESH_INTERVAL__SECONDS) {
+      refreshData(); // TODO multi-thread this
+    }
+
+    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 25);
+    clickToRate.show();
+  }
+
+  private void obtainEmailFromStorage() {
+    String loadedEmail = _storageManager.getString(USER_EMAIL);
+
+    if ((loadedEmail != null) && FieldVerifier.isValidEmail(loadedEmail)) {
+      _obtained_email = loadedEmail;
+    }
+
+    CoachellerApplication.debug(this, "Using email: " + _obtained_email + ", on disk:["
+        + loadedEmail + "]");
+
+  }
+
+  // Only called once, so commented out.
+  /*
+   * private void initJAHM() { CoachellerApplication.debug(this, "initJAHM()");
+   * _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID,
+   * QUERY_RATINGS__WEEK); }
+   */
+
+  private void rebuildJAHM() {
+    CoachellerApplication.debug(this, "rebuildJAHM()");
+    if (_obtained_email != null) { // Get my ratings
+
+      JSONArray myRatings = null;
+      try {
+        myRatings = ServiceUtils.getRatings(_obtained_email, _dayToExamine, this);
+        _storageManager.putJSONArray(DATA_RATINGS, myRatings);
+      } catch (Exception e1) {
+        _networkErrors = true;
+        CoachellerApplication.debug(this,
+            "Exception getting Ratings data, loading from storage if available");
+        try {
+          myRatings = _storageManager.getJSONArray(DATA_RATINGS);
+        } catch (JSONException e) {
+          e.printStackTrace();
+          CoachellerApplication.debug(this, "JSONException loading ratings from storage");
+        }
+      }
+
+      try {
+        // TODO this may not be correct. JAHM should only be initialized once.
+        // _myRatings_JAHM = new JSONArrayHashMap(myRatings,
+        // QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
+
+        if (myRatings == null) {
+          CoachellerApplication.debug(this, "Had to initialize ratings data JSONArray");
+          myRatings = new JSONArray();
+        }
+
+        _myRatings_JAHM.setData(myRatings);
+
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        // Could not get my ratings :(
+        e.printStackTrace();
+      }
+    } else {
+      // TODO This may not be correct. initJAHM() may have already been called
+      // on startup and
+      // TODO the reference to the JAHM may have been passed to the adapter
+      // already
+      // initJAHM(); //Commented in hope of addressing crash issue
+    }
+
+    _setListAdapter.updateJAHM(_myRatings_JAHM);
+  }
+
+  private void refreshData() {
+    // Below here is stuff to be done each refresh
+    _networkErrors = false;
+
+    try {
+
+      if (!_dayToExamine.equals("Friday") && !_dayToExamine.equals("Saturday")
+          && !_dayToExamine.equals("Sunday")) {
+        _dayToExamine = "Friday";
+      }
+
+      String weekString = "";
+      if (_weekToQuery == 1) {
+        _timeFieldName = QUERY_SETS__TIME_ONE;
+        _stageFieldName = QUERY_SETS__STAGE_ONE;
+        weekString = getString(R.string.name_week1_short);
+      } else if (_weekToQuery == 2) {
+        _timeFieldName = QUERY_SETS__TIME_TWO;
+        _stageFieldName = QUERY_SETS__STAGE_TWO;
+        weekString = getString(R.string.name_week2_short);
+      }
+
+      TextView titleView = (TextView) this.findViewById(R.id.text_set_list_title);
+      titleView.setText(_dayToExamine + ", Weekend " + _weekToQuery);
+      // +" "+ weekString);
+      _setListAdapter.setTimeFieldName(_timeFieldName);
+      _setListAdapter.setStageFieldName(_stageFieldName);
+
+      obtainEmailFromStorage();
+      
+      
+      doNetworkOperation();  //TODO multithread this
+      
+      
+      setView_reSort();
+
+      ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+      viewSetsList.invalidateViews();
+
+      CoachellerApplication.debug(this, "Data Refresh is complete");
+      _lastRefresh = System.currentTimeMillis();
+
+      if (!_networkErrors) {
+        _storageManager.save(); // TODO only if both sets and ratings were
+                                // retrieved
+       
+      } else {
+        showDialog(DIALOG_NETWORK_ERROR);
+      }
+
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+      CoachellerApplication.debug(this, "Data Refresh failed");
+      // _lastRefresh = System.currentTimeMillis(); //Refresh failed, do not
+      // update
+    }
+
+  }
+
+  private void doNetworkOperation() throws JSONException {
+    rebuildJAHM();
+
+    JSONArray setData = null;
+    try {
+      // TODO: pass proper values (year can remain hard-coded for now)
+      setData = ServiceUtils.getSets("2012", _dayToExamine, this);
+      _storageManager.putJSONArray(DATA_SETS, setData);
+    } catch (Exception e) {
+      _networkErrors = true;
+      CoachellerApplication.debug(this,
+          "Exception getting Set data, loading from storage if available");
+      setData = _storageManager.getJSONArray(DATA_SETS);
+    }
+
+    if (setData == null) {
+      CoachellerApplication.debug(this, "Had to initialize set data JSONArray");
+      setData = new JSONArray();
+    }
+    _setListAdapter.setData(setData);
+  }
+
+  // An item was selected from the list of sets
+  @Override
+  public void onItemSelected(AdapterView<?> parent, View arg1, int arg2, long arg3) {
+
+    // TODO Auto-generated method stub
+    CoachellerApplication.debug(this,
+        "Search Type Spinner: Selected -> " + parent.getSelectedItem() + "(" + arg2 + ")");
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+
+    try {
+      if (parent.getSelectedItem().toString().toLowerCase().equals("time")) {
+        _sortMode = SORT_TIME;
+
+      } else if (parent.getSelectedItem().toString().toLowerCase().equals("artist")) {
+        _sortMode = SORT_ARTIST;
+      }
+
+      setView_reSort();
+      viewSetsList.invalidateViews();
+    } catch (JSONException e) {
+      CoachellerApplication.debug(this, "JSONException re-sorting data");
+      e.printStackTrace();
+    }
+  }
+
+  private void setView_reSort() throws JSONException {
+    if (_sortMode == SORT_TIME) {
+      _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
+    } else if (_sortMode == SORT_ARTIST) {
+      _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
+    } else {
+      CoachellerApplication.debug(this, "Unexpected sort mode: " + _sortMode);
+      (new Exception()).printStackTrace();
+    }
+  }
+
+  @Override
+  public void onNothingSelected(AdapterView<?> arg0) {
+    CoachellerApplication.debug(this, "Search Type Spinner: Nothing Selected");
+    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
+    spinnerSortType.setSelection(0);
+  }
+
+  // Any button in any view or dialog was clicked
+  @Override
+  public void onClick(View viewClicked) {
+
+    if (viewClicked.getId() == R.id.button_provideEmail) {
+      EditText emailField = (EditText) _lastGetEmailDialog.findViewById(R.id.textField_enterEmail);
+      String email = emailField.getText().toString();
+
+      CoachellerApplication.debug(this, "User provided email address: " + email);
+
+      // if (!android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
+      if (!FieldVerifier.isValidEmail(email)) {
+        Toast invalidEmail = Toast.makeText(this, "Please enter your real email address.", 25);
+        invalidEmail.show();
+
+      } else { // Email is valid. Save email and let user get on with rating
+        _storageManager.putString(USER_EMAIL, email);
+        _storageManager.save();
+        _obtained_email = email;
+        _lastGetEmailDialog.dismiss();
+        showDialog(DIALOG_RATE);
+      }
+    }
+
+    if (viewClicked.getId() == R.id.button_declineEmail) {
+      // Toast youMustObey =
+      // Toast.makeText(this,"You may not decline...  Coacheller will not be denied!  ALL YOUR EMAILS ARE BELONG TO US!",25);
+      // youMustObey.show();
+
+      _lastGetEmailDialog.dismiss();
+      // showDialog(DIALOG_RATE);
+    }
+
+    if (viewClicked.getId() == R.id.buttonChangeToSearchSets) {
+      System.out.println("Button: Switch Day");
+      Intent intent = new Intent();
+      intent.setClass(this, ActivitySetsSearch.class);
+      // intent.putExtras(bun);
+      startActivity(intent);
+    }
+
+    if (viewClicked.getId() == R.id.button_rate_okgo) {
+      RadioGroup weekGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_week);
+      int weekSelectedId = weekGroup.getCheckedRadioButtonId();
+
+      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
+      int scoreSelectedId = scoreGroup.getCheckedRadioButtonId();
+
+      if (weekSelectedId == -1 || scoreSelectedId == -1) {
+        Toast selectEverything = Toast.makeText(this,
+            "Please select a rating and week of this Set", 25);
+        selectEverything.show();
+
+      } else {
+        int weekSelectedValue = _ratingSelectedIdToValue.get(weekSelectedId);
+        String scoreSelectedValue = _ratingSelectedIdToValue.get(scoreSelectedId) + "";
+
+        CoachellerApplication.debug(this, "Selected Week[" + weekSelectedValue + "] Score["
+            + scoreSelectedValue + "] WeekId[" + weekSelectedId + "] ScoreId[" + scoreSelectedId
+            + "]");
+
+        scoreGroup.clearCheck();
+        _lastRateDialog.dismiss();
+
+        int checkedRadioId = ((RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_week))
+            .getCheckedRadioButtonId();
+        String weekNumber = _ratingSelectedIdToValue.get(checkedRadioId) + "";
+
+        // submit rating
+        // If Exception is thrown, do not store rating locally
+        try {
+          ServiceUtils.addRating(_storageManager.getString(USER_EMAIL), ((TextView) _lastRateDialog
+              .findViewById(R.id.text_rateBand_subtitle)).getText().toString(), "2012", weekNumber,
+              scoreSelectedValue, this);
+
+          // Need this in order to make the new rating appear in real time
+
+          try {
+            JSONObject newObj = new JSONObject();
+            String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
+            newObj.put(QUERY_RATINGS__SET_ID, set_id);
+            newObj.put(QUERY_RATINGS__WEEK, weekNumber);
+            newObj.put(QUERY_RATINGS__RATING, scoreSelectedValue);
+
+            // CRITICAL that the keys are listed in this order
+            _myRatings_JAHM.addValues(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK, newObj);
+
+            // Don't need since we are refreshing
+            // ListView viewSetsList = (ListView)
+            // findViewById(R.id.viewSetsList);
+            // viewSetsList.invalidateViews();
+
+          } catch (JSONException e) {
+            // TODO Auto-generated catch block
+            e.printStackTrace();
+          }
+
+          refreshData(); // If this is removed, uncomment ListView and
+                         // invalidate
+                         // above ^^^
+
+        } catch (Exception e1) {
+          CoachellerApplication.debug(this, "Error submitting rating");
+          e1.printStackTrace();
+          showDialog(DIALOG_NETWORK_ERROR);
+        }
+
+      }
+    }  //End rating dialog submitted
+
+    if (viewClicked.getId() == R.id.button_rate_cancel) {
+      // Dialog dialog = (Dialog) viewClicked.getParent();
+      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
+      scoreGroup.clearCheck();
+      _lastRateDialog.dismiss();
+    }
+
+    if (viewClicked.getId() == R.id.button_network_error_ok) {
+      _lastNetworkErrorDialog.dismiss();
+    }
+
+  }
+
+  // An item in the ListView of sets is clicked
+  @Override
+  public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
+    JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
+    _lastItemSelected = obj;
+    CoachellerApplication.debug(this, "You Clicked On: " + obj);
+
+    if (_obtained_email == null) {
+      showDialog(DIALOG_GETEMAIL);
+      // _tried_to_get_email = true;
+    } else {
+
+      showDialog(DIALOG_RATE);
+    }
+  }
+
+  // Dialog handling, called before any dialog is shown
+  @Override
+  protected void onPrepareDialog(int id, Dialog dialog) {
+
+    // Always call through to super implementation
+    super.onPrepareDialog(id, dialog);
+
+    if (id == DIALOG_RATE) {
+
+      // _lastRateDialog.setTitle("Rate this Set!");
+      try {
+        TextView subtitleText = (TextView) _lastRateDialog
+            .findViewById(R.id.text_rateBand_subtitle);
+        subtitleText.setText(_lastItemSelected.getString("artist"));
+
+      } catch (JSONException e) {
+        CoachellerApplication.debug(this, "JSONException assigning Artist name to Rating dialog");
+        e.printStackTrace();
+      }
+
+      int week = CoachellerApplication.whichWeekIsToday();
+      RadioGroup weekGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_week);
+      RadioButton buttonWeek1 = (RadioButton) _lastRateDialog.findViewById(R.id.radio_button_week1);
+      RadioButton buttonWeek2 = (RadioButton) _lastRateDialog.findViewById(R.id.radio_button_week2);
+      if (week == 1) {
+
+        buttonWeek1.setClickable(true);
+        buttonWeek2.setClickable(false);
+        buttonWeek1.setChecked(true);
+
+      } else if (week == 2) {
+
+        buttonWeek1.setClickable(true);
+        buttonWeek2.setClickable(true);
+        buttonWeek2.setChecked(true);
+
+      } else {
+        // Don't suggest a week
+        weekGroup.clearCheck();
+      }
+
+      // TODO If the user already rated this set, default to their last rating
+      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
+      scoreGroup.clearCheck();
+
+    }
+
+  }
+
+  // Dialog handling, called once the first time this activity displays (a/each
+  // type of)? dialog
+  @Override
+  protected Dialog onCreateDialog(int id) {
+
+    if (id == DIALOG_GETEMAIL) {
+      _lastGetEmailDialog = new Dialog(this);
+      _lastGetEmailDialog.setContentView(R.layout.get_email_address);
+      _lastGetEmailDialog.setTitle("Keep Track of Everything");
+
+      EditText emailField = (EditText) _lastGetEmailDialog.findViewById(R.id.textField_enterEmail);
+
+      Button buttonOK = (Button) _lastGetEmailDialog.findViewById(R.id.button_provideEmail);
+      buttonOK.setOnClickListener(this);
+
+      Button buttonCancel = (Button) _lastGetEmailDialog.findViewById(R.id.button_declineEmail);
+      buttonCancel.setOnClickListener(this);
+
+      return _lastGetEmailDialog;
+    }
+
+    if (id == DIALOG_RATE) {
+      _lastRateDialog = new Dialog(this);
+      _lastRateDialog.setContentView(R.layout.dialog_rate_set);
+      _lastRateDialog.setTitle("Rate This Set!");
+
+      Button buttonOK = (Button) _lastRateDialog.findViewById(R.id.button_rate_okgo);
+      buttonOK.setOnClickListener(this);
+
+      Button buttonCancel = (Button) _lastRateDialog.findViewById(R.id.button_rate_cancel);
+      buttonCancel.setOnClickListener(this);
+      return _lastRateDialog;
+    }
+
+    if (id == DIALOG_NETWORK_ERROR) {
+      _lastNetworkErrorDialog = new Dialog(this);
+      _lastNetworkErrorDialog.setContentView(R.layout.dialog_network_error);
+      _lastNetworkErrorDialog.setTitle("Network Error");
+
+      Button buttonOK = (Button) _lastNetworkErrorDialog.findViewById(R.id.button_network_error_ok);
+      buttonOK.setOnClickListener(this);
+      return _lastNetworkErrorDialog;
+      
+    }
+
+    return super.onCreateDialog(id);
+  }
+
+  protected void onNewIntent(Intent intent) {
+    super.onNewIntent(intent);
+    setIntent(intent);// must store the new intent unless getIntent() will
+                      // return the old one
+    processExtraData();
+  }
+
+  private void processExtraData() {
+    Intent intent = getIntent();
+    Bundle bundle = intent.getExtras();
+
+    if (bundle == null) {
+      return;
+    }
+
+    String week = intent.getExtras().getString("WEEK");
+    String day = intent.getExtras().getString("DAY");
+
+    CoachellerApplication.debug(this, "Searching week[" + week + "] day[" + day + "]");
+    _weekToQuery = Integer.valueOf(week);
+    _dayToExamine = day;
+    refreshData();
+  }
+
+}
\ No newline at end of file
b94fd58b0bc5d74101d1100c4dfbfd43561475b6
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 96ebf8a..09527a1 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -46 +46 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  private CustomSetListAdapter _setListAdapter;
+
@@ -47,0 +48 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private String _dayToExamine;
@@ -48,0 +50,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private long _lastRefresh = 0;
+  
+  
+  
@@ -51,0 +57,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  private String _obtained_email = null;
+  private CustomSetListAdapter _setListAdapter;
@@ -55,4 +63 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
-  private String _dayToExamine;
-  // private boolean _have_email = false;
-  private String _obtained_email = null;
+  
@@ -60,2 +65 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  private long _lastRefresh = 0;
-
+  
@@ -62,0 +67 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
@@ -106,0 +112,13 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  /** Called by Android Framework when activity (re)gains foreground status */
+  public void onResume() {
+    super.onResume();
+
+    if ((System.currentTimeMillis() - _lastRefresh) / 1000 > REFRESH_INTERVAL__SECONDS) {
+      refreshData(); //TODO multi-thread this
+    }
+
+    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 25);
+    clickToRate.show();
+  }
+  
+  
@@ -117,0 +136,5 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  private void initJAHM() {
+    _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
+  }
+  
@@ -139,16 +161,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  private void initJAHM() {
-    _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
-  }
-
-  public void onResume() {
-    super.onResume();
-
-    if ((System.currentTimeMillis() - _lastRefresh) / 1000 > REFRESH_INTERVAL__SECONDS) {
-      refreshData();
-    }
-
-    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 25);
-    clickToRate.show();
-
-  }
-
@@ -366,0 +374 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  //Dialog handling, called before any dialog is shown
@@ -411,0 +420 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  //Dialog handling, called once the first time this activity displays each type of dialog
@@ -451,0 +461 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
7cf5574688e8386394c9259b1c4e51330e2aa784
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 6d79de3..46377c2 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -68 +67,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  private boolean _tried_to_get_email = false;
@@ -128 +127 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    CoachellerApplication.debug(this, "Have email: " + _obtained_email + ", value[" + loadedEmail + "]");
+    CoachellerApplication.debug(this, "Using email: " + _obtained_email + ", on disk:[" + loadedEmail + "]");
@@ -135,0 +135 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        //TODO this may not be correct.  JAHM should only be initialized once.
@@ -143,0 +144,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      //TODO This may not be correct.  initJAHM() may have already been called on startup and
+      //TODO the reference to the JAHM may have been passed to the adapter already
@@ -431,0 +434 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      //TODO should display 'your email here' message and clear it when user selects field
@@ -434 +437 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      emailField.selectAll();
+      //emailField.selectAll();
diff --git a/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java b/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java
index 71954f6..a655e20 100644
--- a/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java
+++ b/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java
@@ -11 +11 @@ public class JSONArrayHashMap {
-  
+
@@ -14 +14 @@ public class JSONArrayHashMap {
-  
+
@@ -16 +16 @@ public class JSONArrayHashMap {
-  
+
@@ -20 +20,4 @@ public class JSONArrayHashMap {
-  
+
+  //TODO this could be the reason for the crash in the release version.
+  //TODO This constructor does not initialize the hashmap
+  //TODO Inconsistency between re-creating and re-using JAHM object could have made the bug harder to find
@@ -25,2 +28,2 @@ public class JSONArrayHashMap {
-  
-    public void wipe() {
+
+  public void wipe() {
@@ -31,10 +33,0 @@ public class JSONArrayHashMap {
-  
-  public JSONArrayHashMap(JSONArray data, String keyName) throws JSONException {
-    _key1Name = keyName;
-    
-    for (int i = 0; i < data.length(); i++) {
-      JSONObject obj = (JSONObject) data.get(i);
-      _hash.put(obj.getString(_key1Name), obj);
-    }
-  }
-  
@@ -42,2 +35,11 @@ public class JSONArrayHashMap {
-  
-  public JSONArrayHashMap(JSONArray data, String firstKeyName, String secondKeyName) throws JSONException {
+  // Not used in release
+  /*
+   * public JSONArrayHashMap(JSONArray data, String keyName) throws
+   * JSONException { _key1Name = keyName;
+   * 
+   * for (int i = 0; i < data.length(); i++) { JSONObject obj = (JSONObject)
+   * data.get(i); _hash.put(obj.getString(_key1Name), obj); } }
+   */
+
+  public JSONArrayHashMap(JSONArray data, String firstKeyName, String secondKeyName)
+      throws JSONException {
@@ -46 +48 @@ public class JSONArrayHashMap {
-    
+
@@ -52,3 +54,4 @@ public class JSONArrayHashMap {
-  
-  private void storeTwoKeyObj(String key1Name, String key2Name, JSONObject obj) throws JSONException {
-    _hash.put(obj.getString(key1Name) +"-"+ obj.getString(key2Name), obj);
+
+  private void storeTwoKeyObj(String key1Name, String key2Name, JSONObject obj)
+      throws JSONException {
+    _hash.put(obj.getString(key1Name) + "-" + obj.getString(key2Name), obj);
@@ -56 +59 @@ public class JSONArrayHashMap {
-  
+
@@ -60 +63 @@ public class JSONArrayHashMap {
-  
+
@@ -64 +67 @@ public class JSONArrayHashMap {
-  
+
@@ -66 +69 @@ public class JSONArrayHashMap {
-    return _hash.get(value1 +"-"+ value2);
+    return _hash.get(value1 + "-" + value2);
@@ -68 +71 @@ public class JSONArrayHashMap {
-  
+
@@ -72 +75 @@ public class JSONArrayHashMap {
-  
+
337bbe6f89010e41d2358fa233a65fdbfac37fbc
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index ef74e28..6d79de3 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -395,0 +396 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      
@@ -398,0 +400,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      RadioButton buttonWeek1 = (RadioButton) _lastRateDialog.findViewById(R.id.radio_button_week1);
+      RadioButton buttonWeek2 = (RadioButton) _lastRateDialog.findViewById(R.id.radio_button_week2);
@@ -400,2 +403 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        RadioButton buttonWeek1 = (RadioButton) _lastRateDialog
-            .findViewById(R.id.radio_button_week1);
+        
@@ -402,0 +405,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        buttonWeek2.setClickable(false);
+        
@@ -404,2 +408 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        RadioButton buttonWeek2 = (RadioButton) _lastRateDialog
-            .findViewById(R.id.radio_button_week2);
+        buttonWeek1.setClickable(false);
@@ -406,0 +410 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        
@@ -429 +433 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      emailField.setText("me@here.com");
+      //emailField.setText("me@here.com");
b8f9ad4697217f8cc06f9f7a65612790e6d9159c
diff --git a/Coacheller-Android/res/layout/sets_list.xml b/Coacheller-Android/res/layout/sets_list.xml
index 562dc97..5dff142 100644
--- a/Coacheller-Android/res/layout/sets_list.xml
+++ b/Coacheller-Android/res/layout/sets_list.xml
@@ -6 +6 @@
-
+
@@ -8 +8 @@
-        android:id="@+id/textView1"
+        android:id="@+id/text_set_list_title"
diff --git a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
index eb1e76f..8ccd608 100644
--- a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
+++ b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
@@ -111 +110,0 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        String results = "";
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 57b0efd..ef74e28 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -41,0 +42,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private static final int SORT_TIME = 1;
+  private static final int SORT_ARTIST = 2;
@@ -54,0 +57 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private int _sortMode;
@@ -106 +109,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
+    _sortMode = SORT_TIME;
+    
@@ -168,0 +173,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+    String weekString="";
@@ -170,0 +177 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      weekString = getString(R.string.name_week1_short);
@@ -172,0 +180 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+       weekString = getString(R.string.name_week2_short);
@@ -173,0 +182,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+     
+    TextView titleView = (TextView) this.findViewById(R.id.text_set_list_title);
+    titleView.setText(_dayToExamine +", Week "+ _weekToQuery +" "+ weekString);
@@ -184 +196 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      setView_sortByTime();
+      setView_reSort();
@@ -210 +222 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        setView_sortByTime();
+        _sortMode = SORT_TIME;
@@ -213 +225 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        setView_sortByArtist();
+        _sortMode = SORT_ARTIST;
@@ -215,0 +228 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      setView_reSort();
@@ -222,7 +235,10 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
-  private void setView_sortByArtist() throws JSONException {
-    _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
-  }
-
-  private void setView_sortByTime() throws JSONException {
-    _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
+  
+  private void setView_reSort() throws JSONException {
+    if (_sortMode == SORT_TIME) {
+      _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
+    } else if (_sortMode == SORT_ARTIST) {
+      _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
+    } else {
+      CoachellerApplication.debug(this, "Unexpected sort mode: "+_sortMode);
+      (new Exception()).printStackTrace();
+    }
61a31eca783c516e7095764641c92e34b64e5071
diff --git a/Coacheller-Android/AndroidManifest.xml b/Coacheller-Android/AndroidManifest.xml
index 8abd4cd..c51915f 100644
--- a/Coacheller-Android/AndroidManifest.xml
+++ b/Coacheller-Android/AndroidManifest.xml
@@ -18 +18 @@
-            android:label="@string/app_name" >
+            android:label="@string/app_name" android:launchMode="singleInstance">
@@ -25 +25 @@
-        <activity android:name=".ActivitySetsSearch"></activity>
+        <activity android:name=".ActivitySetsSearch" android:launchMode="singleInstance"></activity>
diff --git a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
index 30e7c93..eb1e76f 100644
--- a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
+++ b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
@@ -17,0 +18,3 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
+  
+  private String _weekSelected;
+  private String _daySelected;
@@ -40,2 +43,2 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        CoachellerApplication.debug(parent.getContext(),
-            "Week Selected: " + parent.getSelectedItem());
+        CoachellerApplication.debug(parent.getContext(), "Week Selected: " + parent.getSelectedItem());
+        _weekSelected = parent.getSelectedItem().toString().substring(0, 1);
@@ -67,0 +71,2 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
+        _daySelected = parent.getSelectedItem().toString();
+        
@@ -110,18 +115,5 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        bun.putString("results", results); // add two parameters: a
-                                           // string and a boolean
-        //EditText addr = (EditText) this.findViewById(R.id.addressText);
-        //String currentAddress = addr.getText().toString();
-
-        //bun.putString("year", _selectedDate);
-       //bun.putString("radius", _selectedRadius);
-
-        /*
-         * Check if the current address entered is actually in San Diego
-         */
-        /*
-         * if (latlong[0] >= 33.427045 || latlong[1] <= -117.612003 ||
-         * latlong[0] <= 32 || latlong[1] >= -116.0775811) { Toast notInSD =
-         * Toast.makeText(this, "Currently only supporting San Diego locations",
-         * 5); notInSD.show(); } else {
-         */
-        // intent.setClass(this, SDCrimeSummaryActivity.class);
+        bun.putString("WEEK", _weekSelected);
+        bun.putString("DAY", _daySelected);
+
+        intent.setClass(this, CoachellerActivity.class);
+        
@@ -130 +121,0 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        // }
@@ -133,2 +124,2 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        Toast addrNotFound = Toast.makeText(this, "Address Not Found", 5);
-        addrNotFound.show();
+        Toast exceptionText = Toast.makeText(this, "Exception Launching Activity", 5);
+        exceptionText.show();
@@ -140,0 +132,3 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
+  
+  
+  
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 808a68d..57b0efd 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -49,0 +50,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  private static final int REFRESH_INTERVAL__SECONDS = 15;
@@ -64,0 +67 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private long _lastRefresh = 0;
@@ -101 +104,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    
+    _weekToQuery = CoachellerApplication.whichWeekIsToday();
+    _dayToExamine = CoachellerApplication.whatDayIsToday();
@@ -107,0 +112 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    processExtraData();
@@ -110,34 +114,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    // Above here is stuff to be done each refresh
-    _weekToQuery = CoachellerApplication.whichWeekIsToday();
-    _dayToExamine = CoachellerApplication.whatDayIsToday();
-    
-    if (!_dayToExamine.equals("Friday") && !_dayToExamine.equals("Saturday")
-        && !_dayToExamine.equals("Sunday")) {
-      _dayToExamine = "Friday";
-    }
-    if (_weekToQuery == 1) {
-      _timeFieldName = QUERY_SETS__TIME_ONE;
-    } else if (_weekToQuery == 2) {
-      _timeFieldName = QUERY_SETS__TIME_TWO;
-    }
-    _setListAdapter.setTimeFieldName(_timeFieldName);
-    
-    obtainEmailFromStorage();
-    rebuildJAHM();
-    
-    
-    
-
-    // Above here are hacks to provide sample data
-
-    // TODO: pass proper values (year can remain hard-coded for now)
-    JSONArray results = ServiceUtils.getSets("2012", _dayToExamine, this);
-    _setListAdapter.setData(results);
-
-    try {
-      setView_sortByTime();
-
-    } catch (JSONException e) {
-      // TODO Auto-generated catch block
-      e.printStackTrace();
-    }
@@ -181,3 +152,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
-
-    CoachellerApplication.debug(this, "Sample Data is Ready");
+    if ((System.currentTimeMillis() - _lastRefresh)/1000 > REFRESH_INTERVAL__SECONDS) {
+      refreshData();
+    }
+    
@@ -185,0 +158,39 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+    
+  }
+
+  private void refreshData() {
+    // Below here is stuff to be done each refresh
+    
+    if (!_dayToExamine.equals("Friday") && !_dayToExamine.equals("Saturday")
+        && !_dayToExamine.equals("Sunday")) {
+      _dayToExamine = "Friday";
+    }
+    if (_weekToQuery == 1) {
+      _timeFieldName = QUERY_SETS__TIME_ONE;
+    } else if (_weekToQuery == 2) {
+      _timeFieldName = QUERY_SETS__TIME_TWO;
+    }
+    _setListAdapter.setTimeFieldName(_timeFieldName);
+    
+    obtainEmailFromStorage();
+    rebuildJAHM();
+
+
+    // TODO: pass proper values (year can remain hard-coded for now)
+    JSONArray results = ServiceUtils.getSets("2012", _dayToExamine, this);
+    _setListAdapter.setData(results);
+    try {
+      setView_sortByTime();
+
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+    
+
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+    viewSetsList.invalidateViews(); 
+    
+    CoachellerApplication.debug(this, "Data Refresh is complete");
+    _lastRefresh = System.currentTimeMillis();
@@ -312,2 +323,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-          ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-          viewSetsList.invalidateViews();
+          
+          //Don't need since we are refreshing
+          //ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+          //viewSetsList.invalidateViews(); 
@@ -318,0 +332,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        
+        refreshData();  //If this is removed, uncomment ListView and invalidate above ^^^
@@ -425,0 +441,26 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  
+ 
+  protected void onNewIntent(Intent intent) {
+    super.onNewIntent(intent);
+    setIntent(intent);//must store the new intent unless getIntent() will return the old one
+    processExtraData();
+  }
+  
+  
+  private void processExtraData(){
+    Intent intent = getIntent();
+    Bundle bundle = intent.getExtras();
+    
+    if (bundle == null) {
+      return;
+    }
+    
+    String week = intent.getExtras().getString("WEEK");
+    String day = intent.getExtras().getString("DAY");
+    
+    CoachellerApplication.debug(this, "Searching week["+ week +"] day["+ day +"]");
+    _weekToQuery = Integer.valueOf(week);
+    _dayToExamine = day;
+    refreshData();
+  }
42d96a30b48ed772927018d931f6a8010e75f110
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 1bf4029..808a68d 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -46,0 +47,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  public static final String QUERY_SETS__TIME_ONE = "time_one";
+  public static final String QUERY_SETS__TIME_TWO = "time_two";
@@ -59 +61,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  private boolean _have_email = false;
+  //private boolean _have_email = false;
+  private String _obtained_email = null;
@@ -80,0 +84,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    initJAHM();
+    
@@ -82,2 +87,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
-    _setListAdapter = new CustomSetListAdapter(this, _timeFieldName, _myRatings_JAHM);
+    _setListAdapter = new CustomSetListAdapter(this, QUERY_SETS__TIME_ONE, _myRatings_JAHM);
+    _setListAdapter.setData(new JSONArray());
+    
@@ -93,0 +100,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+    
@@ -95,0 +104,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+ 
+    
@@ -97 +107,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    String loadedEmail = _storageManager.getString(USER_EMAIL);
@@ -99,20 +108,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    if ((loadedEmail != null) && FieldVerifier.isValidEmail(loadedEmail)) {
-      _have_email = true;
-    }
-
-    CoachellerApplication
-        .debug(this, "Have email: " + _have_email + ", value[" + loadedEmail + "]");
-    if (_have_email) { // Get my ratings
-
-      JSONArray myRatings = ServiceUtils.getRatings(loadedEmail, _dayToExamine, this);
-      try {
-        _myRatings_JAHM = new JSONArrayHashMap(myRatings, QUERY_RATINGS__SET_ID,
-            QUERY_RATINGS__WEEK);
-      } catch (JSONException e) {
-        // TODO Auto-generated catch block
-        // Could not get my ratings :(
-        e.printStackTrace();
-      }
-    } else {
-      _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID);
-    }
@@ -119,0 +110,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    // Above here is stuff to be done each refresh
+    _weekToQuery = CoachellerApplication.whichWeekIsToday();
+    _dayToExamine = CoachellerApplication.whatDayIsToday();
+    
@@ -124 +117,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
@@ -126 +119 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      _timeFieldName = "time_one";
+      _timeFieldName = QUERY_SETS__TIME_ONE;
@@ -128 +121 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      _timeFieldName = "time_two";
+      _timeFieldName = QUERY_SETS__TIME_TWO;
@@ -130,5 +123,7 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
-    // Above here is stuff to be done each refresh
-
-    _weekToQuery = CoachellerApplication.whichWeekIsToday();
-    _dayToExamine = CoachellerApplication.whatDayIsToday();
+    _setListAdapter.setTimeFieldName(_timeFieldName);
+    
+    obtainEmailFromStorage();
+    rebuildJAHM();
+    
+    
+    
@@ -143 +138 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
+      setView_sortByTime();
@@ -148,0 +144,8 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  }
+
+  private void obtainEmailFromStorage() {
+    String loadedEmail = _storageManager.getString(USER_EMAIL);
+
+    if ((loadedEmail != null) && FieldVerifier.isValidEmail(loadedEmail)) {
+      _obtained_email = loadedEmail;
+    }
@@ -150 +153,20 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    CoachellerApplication.debug(this, "Sample Data is Ready");
+    CoachellerApplication.debug(this, "Have email: " + _obtained_email + ", value[" + loadedEmail + "]");
+  }
+
+  private void rebuildJAHM() {
+    if (_obtained_email != null) { // Get my ratings
+
+      JSONArray myRatings = ServiceUtils.getRatings(_obtained_email, _dayToExamine, this);
+      try {
+        _myRatings_JAHM = new JSONArrayHashMap(myRatings, QUERY_RATINGS__SET_ID,
+            QUERY_RATINGS__WEEK);
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        // Could not get my ratings :(
+        e.printStackTrace();
+      }
+    } else {
+      initJAHM();
+    }
+    _setListAdapter.updateJAHM(_myRatings_JAHM);
+  }
@@ -151,0 +174,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private void initJAHM() {
+    _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
@@ -155,0 +180 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
@@ -156,0 +182,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+
+    CoachellerApplication.debug(this, "Sample Data is Ready");
@@ -172 +199 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
+        setView_sortByTime();
@@ -175 +202 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
+        setView_sortByArtist();
@@ -184,0 +212,8 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private void setView_sortByArtist() throws JSONException {
+    _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
+  }
+
+  private void setView_sortByTime() throws JSONException {
+    _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
+  }
+
@@ -210 +245 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        _have_email = true;
+        _obtained_email = email;
@@ -303 +338 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    if (!_have_email && !_tried_to_get_email) {
+    if (_obtained_email == null) {
diff --git a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
index 93dfc3c..605b0a9 100644
--- a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
+++ b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
@@ -36 +36,5 @@ public class CustomSetListAdapter implements ListAdapter {
-    _timeFieldName = timeFieldName;
+    setTimeFieldName(timeFieldName);
+    updateJAHM(myRatings_JAHM);
+  }
+  
+  public void updateJAHM(JSONArrayHashMap myRatings_JAHM) {
@@ -39,0 +44,4 @@ public class CustomSetListAdapter implements ListAdapter {
+  public void setTimeFieldName(String name) {
+    _timeFieldName = name;
+  }
+  
diff --git a/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java b/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java
index 10415e5..71954f6 100644
--- a/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java
+++ b/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java
@@ -12 +12,2 @@ public class JSONArrayHashMap {
-  private String _keyName;
+  private String _key1Name;
+  private String _key2Name;
@@ -17 +18,12 @@ public class JSONArrayHashMap {
-    _keyName = keyName;
+    _key1Name = keyName;
+  }
+  
+  public JSONArrayHashMap(String key1Name, String key2Name) {
+    _key1Name = key1Name;
+    _key2Name = key2Name;
+  }
+  
+    public void wipe() {
+    _key1Name = "";
+    _key2Name = "";
+    _hash.clear();
@@ -21 +33 @@ public class JSONArrayHashMap {
-    _keyName = keyName;
+    _key1Name = keyName;
@@ -25 +37 @@ public class JSONArrayHashMap {
-      _hash.put(obj.getString(_keyName), obj);
+      _hash.put(obj.getString(_key1Name), obj);
@@ -28,0 +41,2 @@ public class JSONArrayHashMap {
+
+  
@@ -30 +44,2 @@ public class JSONArrayHashMap {
-    _keyName = firstKeyName +"-"+ secondKeyName;
+    _key1Name = firstKeyName;
+    _key2Name = secondKeyName;
@@ -59 +74 @@ public class JSONArrayHashMap {
-    return _keyName;
+    return _key1Name;
0beeb7aabc4fdd8ae66ff60ff4c322cd35b3e69b
diff --git a/Coacheller-Android/res/layout/sets_search.xml b/Coacheller-Android/res/layout/sets_search.xml
index 9c9ea3f..e8888d5 100644
--- a/Coacheller-Android/res/layout/sets_search.xml
+++ b/Coacheller-Android/res/layout/sets_search.xml
@@ -6 +6,10 @@
-    android:orientation="vertical" >
+    android:gravity="center_horizontal"
+    android:orientation="vertical" >
+
+    <TextView
+        android:id="@+id/textView9"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_weight="0.00"
+        android:text=" "
+        android:textAppearance="?android:attr/textAppearanceLarge" />
@@ -8,4 +17,15 @@
-    <TableLayout
-        android:id="@+id/tablelayout_Sets_search"
-        android:layout_width="fill_parent"
-        android:layout_height="wrap_content" >
+    <TextView
+        android:id="@+id/textView1"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_weight="0.00"
+        android:text="@string/title_sets_search"
+        android:textAppearance="?android:attr/textAppearanceLarge" />
+
+    <TextView
+        android:id="@+id/textView6"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_weight="0.00"
+        android:text=" "
+        android:textAppearance="?android:attr/textAppearanceLarge" />
@@ -12,0 +33,6 @@
+    <LinearLayout
+        android:id="@+id/row_week"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal" >
+
@@ -14 +40 @@
-            android:id="@+id/textView1"
+            android:id="@+id/textView2"
@@ -17,2 +43,3 @@
-            android:layout_weight="0.00"
-            android:text="@string/title_sets_search"
+            android:layout_gravity="right"
+            android:layout_weight="1"
+            android:text="@string/week_search_sets"
@@ -21,4 +48,14 @@
-        <TableRow
-            android:id="@+id/row_week"
-            android:layout_width="fill_parent"
-            android:layout_height="wrap_content" >
+        <Spinner
+            android:id="@+id/search_spinner_week"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_weight="5" />
+    </LinearLayout>
+
+    <TextView
+        android:id="@+id/textView7"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_weight="0.00"
+        android:text=" "
+        android:textAppearance="?android:attr/textAppearanceLarge" />
@@ -26,13 +63,5 @@
-            <TextView
-                android:id="@+id/textView2"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_weight="0.01"
-                android:text="@string/week_search_sets"
-                android:textAppearance="?android:attr/textAppearanceLarge" />
-
-            <Spinner
-                android:id="@+id/search_spinner_week"
-                android:layout_width="fill_parent"
-                android:layout_height="wrap_content"
-                android:layout_weight="0.00" />
+    <LinearLayout
+        android:id="@+id/row_day"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal" >
@@ -40,4 +69,2 @@
-        </TableRow>
-
-        <TableRow
-            android:id="@+id/row_day"
+        <TextView
+            android:id="@+id/textView3"
@@ -45,13 +72,4 @@
-            android:layout_height="wrap_content" >
-
-            <TextView
-                android:id="@+id/textView3"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="@string/day_search_sets"
-                android:textAppearance="?android:attr/textAppearanceLarge" />
-
-            <Spinner
-                android:id="@+id/search_spinner_day"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content" />
+            android:layout_height="wrap_content"
+            android:layout_weight="2"
+            android:text="@string/day_search_sets"
+            android:textAppearance="?android:attr/textAppearanceLarge" />
@@ -59,4 +77,2 @@
-        </TableRow>
-
-        <TableRow
-            android:id="@+id/row_search"
+        <Spinner
+            android:id="@+id/search_spinner_day"
@@ -65,7 +81,25 @@
-            android:gravity="center" >
-
-            <Button
-                android:id="@+id/sets_search_button_search"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="@string/buttonlabel_search_sets" />
+            android:layout_weight="1" />
+    </LinearLayout>
+
+    <TextView
+        android:id="@+id/textView8"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_weight="0.00"
+        android:text=" "
+        android:textAppearance="?android:attr/textAppearanceLarge" />
+
+    <LinearLayout
+        android:id="@+id/row_search"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:layout_weight="0.00"
+        android:orientation="horizontal" >
+
+        <TextView
+            android:id="@+id/textView4"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:layout_weight="1"
+            android:text=" "
+            android:textAppearance="?android:attr/textAppearanceLarge" />
@@ -73 +107,6 @@
-        </TableRow>
+        <Button
+            android:id="@+id/sets_search_button_search"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:layout_weight="2"
+            android:text="@string/buttonlabel_search_sets" />
@@ -75 +114,9 @@
-    </TableLayout>
+        <TextView
+            android:id="@+id/textView5"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center"
+            android:layout_weight="1"
+            android:text=" "
+            android:textAppearance="?android:attr/textAppearanceLarge" />
+    </LinearLayout>
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 061beca..1bf4029 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -42 +42 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  
+
@@ -57 +57 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  
+
@@ -77,17 +77 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    
-    
-    _weekToQuery = CoachellerApplication.whichWeekIsToday();
-    _dayToExamine = CoachellerApplication.whatDayIsToday();
-    
-    if (!_dayToExamine.equals("Friday") 
-        && !_dayToExamine.equals("Saturday") 
-        && !_dayToExamine.equals("Sunday")) {
-      _dayToExamine = "Friday";
-    }
-    
-    if (_weekToQuery == 1) {
-      _timeFieldName = "time_one";
-    } else if (_weekToQuery == 2) {
-      _timeFieldName = "time_two";
-    }
-    
+
@@ -95,0 +80,17 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+
+    setContentView(R.layout.sets_list);
+
+    _setListAdapter = new CustomSetListAdapter(this, _timeFieldName, _myRatings_JAHM);
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+    viewSetsList.setAdapter(_setListAdapter);
+    viewSetsList.setOnItemClickListener(this);
+
+    Button buttonSearchSets = (Button) this.findViewById(R.id.buttonChangeToSearchSets);
+    buttonSearchSets.setOnClickListener(this);
+
+    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
+    CoachellerApplication.populateSpinnerWithArray(spinnerSortType, R.array.search_types);
+    spinnerSortType.setOnItemSelectedListener(this);
+
+    // Above here is stuff to be done once
+
@@ -97 +98 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    
+
@@ -101,4 +102,5 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    
-    CoachellerApplication.debug(this, "Have email: "+ _have_email +", value["+ loadedEmail +"]");
-    if (_have_email) { //Get my ratings
-       
+
+    CoachellerApplication
+        .debug(this, "Have email: " + _have_email + ", value[" + loadedEmail + "]");
+    if (_have_email) { // Get my ratings
+
@@ -107 +109,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        _myRatings_JAHM = new JSONArrayHashMap(myRatings, QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
+        _myRatings_JAHM = new JSONArrayHashMap(myRatings, QUERY_RATINGS__SET_ID,
+            QUERY_RATINGS__WEEK);
@@ -110 +113 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        //Could not get my ratings :(
+        // Could not get my ratings :(
@@ -116,3 +118,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    
-    initializeApp();
-  }
@@ -120,7 +120,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  public void onResume() {
-    super.onResume();
-
-    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 25);
-    clickToRate.show();
-  }  
- 
+    if (!_dayToExamine.equals("Friday") && !_dayToExamine.equals("Saturday")
+        && !_dayToExamine.equals("Sunday")) {
+      _dayToExamine = "Friday";
+    }
@@ -128,2 +125,5 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  private void initializeApp() {
-    setContentView(R.layout.sets_list);
+    if (_weekToQuery == 1) {
+      _timeFieldName = "time_one";
+    } else if (_weekToQuery == 2) {
+      _timeFieldName = "time_two";
+    }
@@ -131,4 +131 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    _setListAdapter = new CustomSetListAdapter(this, _timeFieldName, _myRatings_JAHM);
-    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
-    viewSetsList.setAdapter(_setListAdapter);
-    viewSetsList.setOnItemClickListener(this);
+    // Above here is stuff to be done each refresh
@@ -136,2 +133,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    Button buttonSearchSets = (Button) this.findViewById(R.id.buttonChangeToSearchSets);
-    buttonSearchSets.setOnClickListener(this);
+    _weekToQuery = CoachellerApplication.whichWeekIsToday();
+    _dayToExamine = CoachellerApplication.whatDayIsToday();
@@ -139,3 +136 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    Spinner spinnerSortType = (Spinner) findViewById(R.id.spinner_sort_by);
-    CoachellerApplication.populateSpinnerWithArray(spinnerSortType, R.array.search_types);
-    spinnerSortType.setOnItemSelectedListener(this);
+    // Above here are hacks to provide sample data
@@ -145 +139,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
@@ -149 +142,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
@@ -161,2 +154,8 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  
-  //An item was selected from the list of sets
+  public void onResume() {
+    super.onResume();
+
+    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 25);
+    clickToRate.show();
+  }
+
+  // An item was selected from the list of sets
@@ -193,2 +192 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  
-  //Any button in any view or dialog was clicked
+  // Any button in any view or dialog was clicked
@@ -203 +200,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      
@@ -209,2 +206,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-          
-      } else {  //Email is valid.  Save email and let user get on with rating
+
+      } else { // Email is valid. Save email and let user get on with rating
@@ -220,3 +217,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      //Toast youMustObey = Toast.makeText(this,"You may not decline...  Coacheller will not be denied!  ALL YOUR EMAILS ARE BELONG TO US!",25);
-      //youMustObey.show();
-      
+      // Toast youMustObey =
+      // Toast.makeText(this,"You may not decline...  Coacheller will not be denied!  ALL YOUR EMAILS ARE BELONG TO US!",25);
+      // youMustObey.show();
+
@@ -249 +247 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        String scoreSelectedValue = _ratingSelectedIdToValue.get(scoreSelectedId)+"";
+        String scoreSelectedValue = _ratingSelectedIdToValue.get(scoreSelectedId) + "";
@@ -257,14 +255,12 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        
-        int checkedRadioId = ((RadioGroup)_lastRateDialog.findViewById(R.id.radio_pick_week)).getCheckedRadioButtonId();
-        String weekNumber = _ratingSelectedIdToValue.get(checkedRadioId)+"";
-        
-        
-        //submit rating
-        ServiceUtils.addRating(_storageManager.getString(USER_EMAIL), 
-            ((TextView)_lastRateDialog.findViewById(R.id.text_rateBand_subtitle)).getText().toString(), 
-            "2012", weekNumber,
-            scoreSelectedValue, 
-            this);
-        
-        //Need this in order to make the new rating appear in real time
-        
+
+        int checkedRadioId = ((RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_week))
+            .getCheckedRadioButtonId();
+        String weekNumber = _ratingSelectedIdToValue.get(checkedRadioId) + "";
+
+        // submit rating
+        ServiceUtils.addRating(_storageManager.getString(USER_EMAIL), ((TextView) _lastRateDialog
+            .findViewById(R.id.text_rateBand_subtitle)).getText().toString(), "2012", weekNumber,
+            scoreSelectedValue, this);
+
+        // Need this in order to make the new rating appear in real time
+
@@ -273 +269 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-          String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID)+"";
+          String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID) + "";
@@ -277,2 +273,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-          
-          //CRITICAL that the keys are listed in this order
+
+          // CRITICAL that the keys are listed in this order
@@ -280 +276 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-          
+
@@ -283 +279 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-            
+
@@ -288 +284 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        
+
@@ -309 +305 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      //_tried_to_get_email = true;
+      // _tried_to_get_email = true;
diff --git a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
index 4404bfb..93dfc3c 100644
--- a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
+++ b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
@@ -133,0 +134 @@ public class CustomSetListAdapter implements ListAdapter {
+      
1b71dcda907383036464952bdbe10dfa8c3e9d77
diff --git a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
index c10ce0d..4404bfb 100644
--- a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
+++ b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
@@ -120,2 +120,16 @@ public class CustomSetListAdapter implements ListAdapter {
-      holder.ratingWk1.setText("Wk1 Avg: "+ setObj.getString("avg_score_one"));
-      holder.ratingWk2.setText("Wk2 Avg: "+ setObj.getString("avg_score_two"));
+      String week1Avg = setObj.getString("avg_score_one");
+      String week2Avg = setObj.getString("avg_score_two");
+      
+      if (week1Avg.equals("0")) {
+        week1Avg = "";
+      } else {
+        week1Avg = "Wk1 Avg: "+ week1Avg;
+      }
+      
+      if (week2Avg.equals("0")) {
+        week2Avg = "";
+      } else {
+        week2Avg = "Wk2 Avg: "+ week2Avg;
+      }
+      holder.ratingWk1.setText(week1Avg);
+      holder.ratingWk2.setText(week2Avg);
f2ea5629530c2b4436d91368b1f2c2ee92881ff2
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index a6f3936..061beca 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -43,0 +44,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  public static final String QUERY_RATINGS__SET_ID = "set_id";
+  public static final String QUERY_RATINGS__WEEK = "weekend";
+  public static final String QUERY_SETS__SET_ID = "id";
+  public static final String QUERY_RATINGS__RATING = "score";
@@ -54 +58 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  
+  private String _dayToExamine;
@@ -56,0 +61 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private JSONArrayHashMap _myRatings_JAHM;
@@ -74,0 +80,8 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    _dayToExamine = CoachellerApplication.whatDayIsToday();
+    
+    if (!_dayToExamine.equals("Friday") 
+        && !_dayToExamine.equals("Saturday") 
+        && !_dayToExamine.equals("Sunday")) {
+      _dayToExamine = "Friday";
+    }
+    
@@ -91 +104,11 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      JSONArray myRatings = ServiceUtils.getRatings(loadedEmail, this);
+       
+      JSONArray myRatings = ServiceUtils.getRatings(loadedEmail, _dayToExamine, this);
+      try {
+        _myRatings_JAHM = new JSONArrayHashMap(myRatings, QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK);
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        //Could not get my ratings :(
+        e.printStackTrace();
+      }
+    } else {
+      _myRatings_JAHM = new JSONArrayHashMap(QUERY_RATINGS__SET_ID);
@@ -92,0 +116 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
@@ -101 +125,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  }
+  }  
+ 
@@ -106 +131 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    _setListAdapter = new CustomSetListAdapter(this, _timeFieldName);
+    _setListAdapter = new CustomSetListAdapter(this, _timeFieldName, _myRatings_JAHM);
@@ -119 +144 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    JSONArray results = ServiceUtils.getSets("2012", "Friday", this);
+    JSONArray results = ServiceUtils.getSets("2012", _dayToExamine, this);
@@ -224 +249 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        int scoreSelectedValue = _ratingSelectedIdToValue.get(scoreSelectedId);
+        String scoreSelectedValue = _ratingSelectedIdToValue.get(scoreSelectedId)+"";
@@ -232,0 +258,5 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        int checkedRadioId = ((RadioGroup)_lastRateDialog.findViewById(R.id.radio_pick_week)).getCheckedRadioButtonId();
+        String weekNumber = _ratingSelectedIdToValue.get(checkedRadioId)+"";
+        
+        
+        //submit rating
@@ -235,2 +265,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-            "2012", CoachellerApplication.whichWeekIsToday() +"",
-            scoreSelectedValue +"", 
+            "2012", weekNumber,
+            scoreSelectedValue, 
@@ -237,0 +268,21 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        
+        //Need this in order to make the new rating appear in real time
+        
+        try {
+          JSONObject newObj = new JSONObject();
+          String set_id = _lastItemSelected.get(QUERY_SETS__SET_ID)+"";
+          newObj.put(QUERY_RATINGS__SET_ID, set_id);
+          newObj.put(QUERY_RATINGS__WEEK, weekNumber);
+          newObj.put(QUERY_RATINGS__RATING, scoreSelectedValue);
+          
+          //CRITICAL that the keys are listed in this order
+          _myRatings_JAHM.addValues(QUERY_RATINGS__SET_ID, QUERY_RATINGS__WEEK, newObj);
+          
+          ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+          viewSetsList.invalidateViews();
+            
+        } catch (JSONException e) {
+          // TODO Auto-generated catch block
+          e.printStackTrace();
+        }
+        
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerApplication.java b/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
index d963ed8..90fdc79 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
@@ -47,0 +48,21 @@ public class CoachellerApplication extends Application {
+  
+  //App and Database use strings in English so this time it is better to do it this way:
+  public static String whatDayIsToday() {
+    initCalendar();
+    if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.SUNDAY) {
+      return "Sunday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY) {
+      return "Monday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY) {
+      return "Tuesday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.WEDNESDAY) {
+      return "Wednesday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.THURSDAY) {
+      return "Thursday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.FRIDAY) {
+      return "Friday";
+    } else if (_cal.get(Calendar.DAY_OF_WEEK) == Calendar.SATURDAY) {
+      return "Saturday";      
+    }
+    return "";
+  }
diff --git a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
index 0a092d1..c10ce0d 100644
--- a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
+++ b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
@@ -4,0 +5 @@ import org.json.JSONException;
+import org.json.JSONObject;
@@ -22,0 +24 @@ public class CustomSetListAdapter implements ListAdapter {
+  private JSONArrayHashMap _myRatings_JAHM;
@@ -32 +34 @@ public class CustomSetListAdapter implements ListAdapter {
-  public CustomSetListAdapter(Context context, String timeFieldName) {
+  public CustomSetListAdapter(Context context, String timeFieldName, JSONArrayHashMap myRatings_JAHM) {
@@ -34,0 +37 @@ public class CustomSetListAdapter implements ListAdapter {
+    _myRatings_JAHM = myRatings_JAHM;
@@ -97,2 +100,18 @@ public class CustomSetListAdapter implements ListAdapter {
-
-      int milTime = _sortMap.getSortedJSONObj(position).getInt(_timeFieldName);
+      JSONObject setObj = _sortMap.getSortedJSONObj(position);
+      String setId = setObj.getString(CoachellerActivity.QUERY_SETS__SET_ID);  //Get the set Id
+      
+      //Get Ratings for this set Id
+      JSONObject ratingsObjWk1 = _myRatings_JAHM.getJSONObject(setId, "1"); 
+      JSONObject ratingsObjWk2 = _myRatings_JAHM.getJSONObject(setId, "2");
+      
+      String score1 = "*";
+      if (ratingsObjWk1 != null) {
+        score1 = ratingsObjWk1.get(CoachellerActivity.QUERY_RATINGS__RATING).toString();
+      }
+      
+      String score2 = "*";
+      if (ratingsObjWk2 != null) {
+        score2 = ratingsObjWk2.get(CoachellerActivity.QUERY_RATINGS__RATING).toString();
+      }
+      
+      int milTime = setObj.getInt(_timeFieldName);
@@ -100,4 +119,12 @@ public class CustomSetListAdapter implements ListAdapter {
-      holder.textArtist.setText(_sortMap.getSortedJSONObj(position).getString("artist"));
-      holder.ratingWk1.setText("Wk1 Avg: "+ _sortMap.getSortedJSONObj(position).getString("avg_score_one"));
-      holder.ratingWk2.setText("Wk2 Avg: "+ _sortMap.getSortedJSONObj(position).getString("avg_score_two"));
-         
+      holder.textArtist.setText(  setObj.getString("artist"));
+      holder.ratingWk1.setText("Wk1 Avg: "+ setObj.getString("avg_score_one"));
+      holder.ratingWk2.setText("Wk2 Avg: "+ setObj.getString("avg_score_two"));
+      
+      if (!score1.equals("*") || !score2.equals("*")) {
+         holder.myRating.setText("My Rtg: "+ score1 +"/"+ score2);
+      } else {
+        holder.myRating.setText("");
+      }
+     
+     
+      
diff --git a/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java b/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java
new file mode 100644
index 0000000..10415e5
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/JSONArrayHashMap.java
@@ -0,0 +1,62 @@
+package com.coacheller;
+
+import java.util.HashMap;
+import java.util.Set;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+
+public class JSONArrayHashMap {
+  
+  private String _keyName;
+  
+  private HashMap<String, JSONObject> _hash = new HashMap<String, JSONObject>();
+  
+  public JSONArrayHashMap(String keyName) {
+    _keyName = keyName;
+  }
+  
+  public JSONArrayHashMap(JSONArray data, String keyName) throws JSONException {
+    _keyName = keyName;
+    
+    for (int i = 0; i < data.length(); i++) {
+      JSONObject obj = (JSONObject) data.get(i);
+      _hash.put(obj.getString(_keyName), obj);
+    }
+  }
+  
+  public JSONArrayHashMap(JSONArray data, String firstKeyName, String secondKeyName) throws JSONException {
+    _keyName = firstKeyName +"-"+ secondKeyName;
+    
+    for (int i = 0; i < data.length(); i++) {
+      JSONObject obj = (JSONObject) data.get(i);
+      storeTwoKeyObj(firstKeyName, secondKeyName, obj);
+    }
+  }
+  
+  private void storeTwoKeyObj(String key1Name, String key2Name, JSONObject obj) throws JSONException {
+    _hash.put(obj.getString(key1Name) +"-"+ obj.getString(key2Name), obj);
+  }
+  
+  public JSONObject getJSONObject(String value) {
+    return _hash.get(value);
+  }
+  
+  public void addValues(String key1, String key2, JSONObject obj) throws JSONException {
+    storeTwoKeyObj(key1, key2, obj);
+  }
+  
+  public JSONObject getJSONObject(String value1, String value2) {
+    return _hash.get(value1 +"-"+ value2);
+  }
+  
+  public Set<String> getKeys() {
+    return _hash.keySet();
+  }
+  
+  public String getKeyName() {
+    return _keyName;
+  }
+
+}
diff --git a/Coacheller-Android/src/com/coacheller/ServiceUtils.java b/Coacheller-Android/src/com/coacheller/ServiceUtils.java
index 16d6538..847cc0c 100644
--- a/Coacheller-Android/src/com/coacheller/ServiceUtils.java
+++ b/Coacheller-Android/src/com/coacheller/ServiceUtils.java
@@ -78 +78,3 @@ public class ServiceUtils {
-  public static JSONArray getRatings(String email, Context context) {
+  //Sample of working URL
+  //  http://ratethisfest.appspot.com/coachellerServlet?email=testing@this.com&action=get_sets&year=2012&day=Friday
+  public static JSONArray getRatings(String email, String day, Context context) {
@@ -93,0 +96 @@ public class ServiceUtils {
+      requestString.append("year=2012&day="+ day +"&");
@@ -96 +99 @@ public class ServiceUtils {
-      requestString.append(HttpConstants.ACTION_GET_SETS);
+      requestString.append(HttpConstants.ACTION_GET_RATINGS);
da2b8ba833e3baa5fe9f5916813244102c9d96eb
diff --git a/Coacheller-Android/res/values/strings.xml b/Coacheller-Android/res/values/strings.xml
index 5fd02d4..57558ac 100644
--- a/Coacheller-Android/res/values/strings.xml
+++ b/Coacheller-Android/res/values/strings.xml
@@ -33 +33,2 @@
-        <string name="save_file_full_path">/Coacheller/CoachellerData</string>
+        <string name="save_file_path">/Coacheller/</string>
+        <string name="save_file_name">CoachellerData.dat</string>
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 45df112..a6f3936 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -20,0 +21 @@ import android.app.Dialog;
+import android.content.Context;
@@ -83 +84,9 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
+    
+    if ((loadedEmail != null) && FieldVerifier.isValidEmail(loadedEmail)) {
+      _have_email = true;
+    }
+    
+    CoachellerApplication.debug(this, "Have email: "+ _have_email +", value["+ loadedEmail +"]");
+    if (_have_email) { //Get my ratings
+      JSONArray myRatings = ServiceUtils.getRatings(loadedEmail, this);
+    }
@@ -126,0 +136,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  //An item was selected from the list of sets
@@ -156,0 +168,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  //Any button in any view or dialog was clicked
@@ -164,0 +178 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      
@@ -170 +184,5 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      } else {
+          
+      } else {  //Email is valid.  Save email and let user get on with rating
+        _storageManager.putString(USER_EMAIL, email);
+        _storageManager.save();
+        _have_email = true;
@@ -177,3 +195,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      Toast youMustObey = Toast.makeText(this,"You may not decline...  Coacheller will not be denied!  ALL YOUR EMAILS ARE BELONG TO US!",25);
-      youMustObey.show();
-      // _lastGetEmailDialog.dismiss();
+      //Toast youMustObey = Toast.makeText(this,"You may not decline...  Coacheller will not be denied!  ALL YOUR EMAILS ARE BELONG TO US!",25);
+      //youMustObey.show();
+      
+      _lastGetEmailDialog.dismiss();
@@ -212,0 +232,6 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        
+        ServiceUtils.addRating(_storageManager.getString(USER_EMAIL), 
+            ((TextView)_lastRateDialog.findViewById(R.id.text_rateBand_subtitle)).getText().toString(), 
+            "2012", CoachellerApplication.whichWeekIsToday() +"",
+            scoreSelectedValue +"", 
+            this);
@@ -231 +256 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    if (!_tried_to_get_email) {
+    if (!_have_email && !_tried_to_get_email) {
@@ -233 +258 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      _tried_to_get_email = true;
+      //_tried_to_get_email = true;
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java b/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
index f60c107..7191886 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
@@ -29,0 +30,20 @@ public class CoachellerStorageManager {
+  // Don't use this ever again
+  /*
+   * priva/
+   *//**//* te String resolveSav *//**//* eFilePath() { */
+  /* File sdCar *//* d = Environment.getE *//* xternalStora *//* geDirectory(); */
+  /* return sdCard *//* .getAbsolutePath() + _context *//* .getString(R.stri *//*
+                                                                                * ng
+                                                                                * .
+                                                                                * save_file_path
+                                                                                * )
+                                                                                * ;
+                                                                                */
+  /* } *//**/
+
+  private String getSaveFileName() {
+    return _context.getString(R.string.save_file_name);
+  }
+
+  
+  //File gets saved here on a good day     /data/data/com.coacheller/files/CoachellerData.dat
@@ -31,3 +50,0 @@ public class CoachellerStorageManager {
-    File sdCard = Environment.getExternalStorageDirectory();
-    File saveFile = new File(sdCard.getAbsolutePath() + R.string.save_file_full_path);
-    saveFile.getParentFile().mkdirs();
@@ -36,2 +53 @@ public class CoachellerStorageManager {
-      FileOutputStream fos = _context.openFileOutput(saveFile.getAbsolutePath(),
-          Context.MODE_PRIVATE);
+      FileOutputStream fos = _context.openFileOutput(getSaveFileName(), Context.MODE_PRIVATE);
@@ -40,0 +57 @@ public class CoachellerStorageManager {
+      // System.out.println("FILE SHOULD BE WRITTEN NOW");
@@ -50,0 +68,2 @@ public class CoachellerStorageManager {
+  //File should get loaded from here, if we are all extremely lucky
+  //   /data/data/com.coacheller/files/CoachellerData.dat
@@ -52,25 +71,19 @@ public class CoachellerStorageManager {
-    File sdCard = Environment.getExternalStorageDirectory();
-    File saveFile = new File(sdCard.getAbsolutePath() + R.string.save_file_full_path);
-
-    if (saveFile.exists()) {
-      try {
-        FileInputStream fis = _context.openFileInput(saveFile.getAbsolutePath());
-        ObjectInputStream is = new ObjectInputStream(fis);
-        _data = (HashMap<String, Object>) is.readObject();
-        is.close();
-      } catch (FileNotFoundException e) {
-        // TODO Auto-generated catch block
-        e.printStackTrace();
-      } catch (StreamCorruptedException e) {
-        // TODO Auto-generated catch block
-        e.printStackTrace();
-      } catch (IOException e) {
-        // TODO Auto-generated catch block
-        e.printStackTrace();
-      } catch (ClassNotFoundException e) {
-        // TODO Auto-generated catch block
-        e.printStackTrace();
-      }
-    } else {
-        _data = new HashMap<String, Object>();
-      }
+
+    try {
+      // fis = _context.openFileInput(saveFile.getName());
+      FileInputStream fis = _context.openFileInput(getSaveFileName());
+      ObjectInputStream is = new ObjectInputStream(fis);
+      _data = (HashMap<String, Object>) is.readObject();
+      is.close();
+    } catch (FileNotFoundException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    } catch (StreamCorruptedException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    } catch (IOException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    } catch (ClassNotFoundException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
@@ -78,0 +92,4 @@ public class CoachellerStorageManager {
+    if (_data == null) {
+      _data = new HashMap<String, Object>();
+    }
+  }
diff --git a/Coacheller-Android/src/com/coacheller/ServiceUtils.java b/Coacheller-Android/src/com/coacheller/ServiceUtils.java
index 3f19b41..16d6538 100644
--- a/Coacheller-Android/src/com/coacheller/ServiceUtils.java
+++ b/Coacheller-Android/src/com/coacheller/ServiceUtils.java
@@ -4,0 +5 @@ import java.io.InputStreamReader;
+import java.net.URLEncoder;
@@ -136 +137,3 @@ public class ServiceUtils {
-  public static JSONArray addRating(String email, String artist, String year, String weekend,
+  
+  //TODO returns JSONArray which is probably null - is this correct?
+  public static String addRating(String email, String artist, String year, String weekend,
@@ -155 +158 @@ public class ServiceUtils {
-      requestString.append(artist);
+      requestString.append(URLEncoder.encode(artist, "utf-8"));
@@ -187,3 +190,3 @@ public class ServiceUtils {
-        JSONTokener tokener = new JSONTokener(builder.toString());
-        JSONArray finalResult = new JSONArray(tokener);
-        return finalResult;
+        
+        
+        return builder.toString();
745f86f6fa6bc54660e2f5ffbe390566a79f870e
diff --git a/Coacheller-Android/AndroidManifest.xml b/Coacheller-Android/AndroidManifest.xml
index 68b3e3e..8abd4cd 100644
--- a/Coacheller-Android/AndroidManifest.xml
+++ b/Coacheller-Android/AndroidManifest.xml
@@ -6,3 +5,0 @@
-
-    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
-    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
@@ -11,0 +9 @@
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 564275e..45df112 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -40,0 +41,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  private static final String USER_EMAIL = "USER_EMAIL";
@@ -49 +51,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
+  private CoachellerStorageManager _storageManager;
+  
+  
+  private boolean _have_email = false;
@@ -59,2 +63,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    _weekToQuery = 1;
-
@@ -63 +65,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
@@ -69 +71,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
+    
+    
+    _weekToQuery = CoachellerApplication.whichWeekIsToday();
@@ -74,0 +79,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+    _storageManager = new CoachellerStorageManager(this);
+    _storageManager.load();
+    String loadedEmail = _storageManager.getString(USER_EMAIL);
@@ -110,15 +117,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      /*
-       * JSONObject obj = results.getJSONObject(0);
-       * CoachellerApplication.debug(this, obj.toString());
-       * CoachellerApplication.debug(this, obj.names().toString());
-       * 
-       * JSONArraySortMap sortMapArtist = new JSONArraySortMap(results,
-       * "artist", JSONArraySortMap.VALUE_STRING); for (int i = 0; i <
-       * results.length(); i++) { CoachellerApplication.debug(this,
-       * sortMapArtist.getSortedJSONObj(i).toString()); }
-       * 
-       * JSONArraySortMap sortMapId = new JSONArraySortMap(results, "id",
-       * JSONArraySortMap.VALUE_INTEGER); for (int i = 0; i < results.length();
-       * i++) { CoachellerApplication.debug(this,
-       * sortMapId.getSortedJSONObj(i).toString()); }
-       */
@@ -184,5 +177 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      Toast youMustObey = Toast
-          .makeText(
-              this,
-              "You may not decline...  Coacheller will not be denied!  ALL YOUR EMAILS ARE BELONG TO US!",
-              25);
+      Toast youMustObey = Toast.makeText(this,"You may not decline...  Coacheller will not be denied!  ALL YOUR EMAILS ARE BELONG TO US!",25);
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java b/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
index 632dc50..f60c107 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
@@ -18 +18 @@ public class CoachellerStorageManager {
-  
+
@@ -21 +21 @@ public class CoachellerStorageManager {
-  
+
@@ -25,2 +25 @@ public class CoachellerStorageManager {
-  
- 
+
@@ -30 +29 @@ public class CoachellerStorageManager {
-  
+
@@ -32,2 +31,2 @@ public class CoachellerStorageManager {
-    File sdCard = Environment.getExternalStorageDirectory(); 
-    File saveFile = new File (sdCard.getAbsolutePath() + R.string.save_file_full_path);
+    File sdCard = Environment.getExternalStorageDirectory();
+    File saveFile = new File(sdCard.getAbsolutePath() + R.string.save_file_full_path);
@@ -35 +34 @@ public class CoachellerStorageManager {
-    
+
@@ -37 +36,2 @@ public class CoachellerStorageManager {
-      FileOutputStream fos = _context.openFileOutput(saveFile.getAbsolutePath(), Context.MODE_PRIVATE);
+      FileOutputStream fos = _context.openFileOutput(saveFile.getAbsolutePath(),
+          Context.MODE_PRIVATE);
@@ -49 +48,0 @@ public class CoachellerStorageManager {
-
@@ -51 +50 @@ public class CoachellerStorageManager {
-  
+
@@ -53,2 +52,2 @@ public class CoachellerStorageManager {
-    File sdCard = Environment.getExternalStorageDirectory(); 
-    File saveFile = new File (sdCard.getAbsolutePath() + R.string.save_file_full_path);
+    File sdCard = Environment.getExternalStorageDirectory();
+    File saveFile = new File(sdCard.getAbsolutePath() + R.string.save_file_full_path);
@@ -56,18 +55,22 @@ public class CoachellerStorageManager {
-    
-    try {
-      FileInputStream fis= _context.openFileInput(saveFile.getAbsolutePath());
-      ObjectInputStream is = new ObjectInputStream(fis);
-      _data = (HashMap<String, Object>) is.readObject();
-      is.close();
-    } catch (FileNotFoundException e) {
-      // TODO Auto-generated catch block
-      e.printStackTrace();
-    } catch (StreamCorruptedException e) {
-      // TODO Auto-generated catch block
-      e.printStackTrace();
-    } catch (IOException e) {
-      // TODO Auto-generated catch block
-      e.printStackTrace();
-    } catch (ClassNotFoundException e) {
-      // TODO Auto-generated catch block
-      e.printStackTrace();
+    if (saveFile.exists()) {
+      try {
+        FileInputStream fis = _context.openFileInput(saveFile.getAbsolutePath());
+        ObjectInputStream is = new ObjectInputStream(fis);
+        _data = (HashMap<String, Object>) is.readObject();
+        is.close();
+      } catch (FileNotFoundException e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
+      } catch (StreamCorruptedException e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
+      } catch (IOException e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
+      } catch (ClassNotFoundException e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
+      }
+    } else {
+        _data = new HashMap<String, Object>();
+      }
@@ -75,3 +78,2 @@ public class CoachellerStorageManager {
-    
-  }
-  
+
+
@@ -81 +83 @@ public class CoachellerStorageManager {
-  
+
@@ -83 +85 @@ public class CoachellerStorageManager {
-    return (String)_data.get(name);
+    return (String) _data.get(name);
diff --git a/Coacheller-Android/src/com/coacheller/ServiceUtils.java b/Coacheller-Android/src/com/coacheller/ServiceUtils.java
index 8b3f247..3f19b41 100644
--- a/Coacheller-Android/src/com/coacheller/ServiceUtils.java
+++ b/Coacheller-Android/src/com/coacheller/ServiceUtils.java
@@ -14,0 +15,2 @@ import org.json.JSONTokener;
+import com.coacheller.shared.HttpConstants;
+
731482d8dd8adc085968b995be87de26ac7a4738
diff --git a/Coacheller-Android/res/values/strings.xml b/Coacheller-Android/res/values/strings.xml
index 9b17e72..5fd02d4 100644
--- a/Coacheller-Android/res/values/strings.xml
+++ b/Coacheller-Android/res/values/strings.xml
@@ -32,0 +33 @@
+        <string name="save_file_full_path">/Coacheller/CoachellerData</string>
diff --git a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
index 91f771e..30e7c93 100644
--- a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
+++ b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
@@ -40 +39,0 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        // TODO: save selection in memory
@@ -51,4 +49,0 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-    // Detect which week we are in
-    // Hard coded, so I am probably going to hell,
-    // but the error is not fatal next year
-    // TODO un-hardcode day of month value
@@ -71 +65,0 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        // TODO Save selection in memory
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 7203db6..c4b57a5 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -113,15 +112,0 @@ implements View.OnClickListener, OnItemSelectedListener, OnItemClickListener {
-      /*
-      JSONObject obj = results.getJSONObject(0);
-      CoachellerApplication.debug(this, obj.toString());
-      CoachellerApplication.debug(this, obj.names().toString());
-
-      JSONArraySortMap sortMapArtist = new JSONArraySortMap(results, "artist", JSONArraySortMap.VALUE_STRING);
-      for (int i = 0; i < results.length(); i++) {  
-        CoachellerApplication.debug(this, sortMapArtist.getSortedJSONObj(i).toString());
-      }
-      
-      JSONArraySortMap sortMapId = new JSONArraySortMap(results, "id", JSONArraySortMap.VALUE_INTEGER);
-      for (int i = 0; i < results.length(); i++) {  
-        CoachellerApplication.debug(this, sortMapId.getSortedJSONObj(i).toString());
-      }
-     */
@@ -129 +114 @@ implements View.OnClickListener, OnItemSelectedListener, OnItemClickListener {
-      // TODO Auto-generated catch block
+      CoachellerApplication.debug(this, "JSONException preparing data");
@@ -133 +118 @@ implements View.OnClickListener, OnItemSelectedListener, OnItemClickListener {
-    CoachellerApplication.debug(this, "Sample Data is Ready");
+    
@@ -197 +181,0 @@ implements View.OnClickListener, OnItemSelectedListener, OnItemClickListener {
-    // TODO Auto-generated method stub
@@ -211 +195 @@ implements View.OnClickListener, OnItemSelectedListener, OnItemClickListener {
-      // TODO Auto-generated catch block
+      CoachellerApplication.debug(this, "JSONException re-sorting data");
@@ -320 +304 @@ implements View.OnClickListener, OnItemSelectedListener, OnItemClickListener {
-          // TODO Auto-generated catch block
+          CoachellerApplication.debug(this, "JSONException assigning Artist name to Rating dialog");
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java b/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
new file mode 100644
index 0000000..632dc50
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/CoachellerStorageManager.java
@@ -0,0 +1,86 @@
+package com.coacheller;
+
+import java.io.File;
+import java.io.FileInputStream;
+import java.io.FileNotFoundException;
+import java.io.FileOutputStream;
+import java.io.IOException;
+import java.io.ObjectInputStream;
+import java.io.ObjectOutputStream;
+import java.io.StreamCorruptedException;
+import java.util.HashMap;
+import java.util.Set;
+
+import android.content.Context;
+import android.os.Environment;
+
+public class CoachellerStorageManager {
+  
+  private HashMap<String, Object> _data;
+  private Context _context;
+  
+  public CoachellerStorageManager(Context context) {
+    _context = context;
+  }
+  
+ 
+  public Set<String> getProperties() {
+    return _data.keySet();
+  }
+  
+  public void save() {
+    File sdCard = Environment.getExternalStorageDirectory(); 
+    File saveFile = new File (sdCard.getAbsolutePath() + R.string.save_file_full_path);
+    saveFile.getParentFile().mkdirs();
+    
+    try {
+      FileOutputStream fos = _context.openFileOutput(saveFile.getAbsolutePath(), Context.MODE_PRIVATE);
+      ObjectOutputStream os = new ObjectOutputStream(fos);
+      os.writeObject(_data);
+      os.close();
+    } catch (FileNotFoundException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    } catch (IOException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+
+
+  }
+  
+  public void load() {
+    File sdCard = Environment.getExternalStorageDirectory(); 
+    File saveFile = new File (sdCard.getAbsolutePath() + R.string.save_file_full_path);
+
+    
+    try {
+      FileInputStream fis= _context.openFileInput(saveFile.getAbsolutePath());
+      ObjectInputStream is = new ObjectInputStream(fis);
+      _data = (HashMap<String, Object>) is.readObject();
+      is.close();
+    } catch (FileNotFoundException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    } catch (StreamCorruptedException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    } catch (IOException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    } catch (ClassNotFoundException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+    
+  }
+  
+  public void putString(String name, String value) {
+    _data.put(name, value);
+  }
+  
+  public String getString(String name) {
+    return (String)_data.get(name);
+  }
+
+}
cb78ec0c89c2a9ee818e115da9e453adff0c7c5f
diff --git a/Coacheller-Android/res/layout/get_email_address.xml b/Coacheller-Android/res/layout/get_email_address.xml
index 8568e1f..ff93553 100644
--- a/Coacheller-Android/res/layout/get_email_address.xml
+++ b/Coacheller-Android/res/layout/get_email_address.xml
@@ -5 +5 @@
-    android:orientation="vertical" >
+    android:orientation="vertical" android:padding="5px">
32bb452a0536564a123759f5d18e9ca3b0aa3ca6
diff --git a/Coacheller-Android/res/layout/get_email_address.xml b/Coacheller-Android/res/layout/get_email_address.xml
new file mode 100644
index 0000000..8568e1f
--- /dev/null
+++ b/Coacheller-Android/res/layout/get_email_address.xml
@@ -0,0 +1,51 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:orientation="vertical" >
+
+    <TextView
+        android:id="@+id/textView1"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="Entering your email address will allow you to view all your ratings, and later share them with your friends!"
+        android:textAppearance="?android:attr/textAppearanceMedium" />
+
+    <EditText
+        android:id="@+id/textField_enterEmail"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:ems="10"
+        android:inputType="textEmailAddress" >
+
+        <requestFocus />
+    </EditText>
+
+    <TextView
+        android:id="@+id/textView2"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="Coacheller has a reputation to worry about and will NEVER disappoint the fans by misusing your email address"
+        android:textAppearance="?android:attr/textAppearanceSmall" android:textColor="#FF5050"/>
+
+    <LinearLayout
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content" >
+
+        <Button
+            android:id="@+id/button_provideEmail"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_weight="4"
+            android:text="OK" />
+
+        <Button
+            android:id="@+id/button_declineEmail"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_weight="1.5"
+            android:text="No Thanks" />
+
+    </LinearLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 7121520..7203db6 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -19 +18,0 @@ import android.app.Dialog;
-import android.content.Context;
@@ -26,0 +26 @@ import android.widget.Button;
+import android.widget.EditText;
@@ -34 +34,2 @@ import android.widget.Toast;
-public class CoachellerActivity extends Activity implements View.OnClickListener, OnItemSelectedListener, OnItemClickListener {
+public class CoachellerActivity extends Activity 
+implements View.OnClickListener, OnItemSelectedListener, OnItemClickListener {
@@ -35,0 +37,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private static final int DIALOG_RATE = 1;
+  private static final int DIALOG_GETEMAIL = 2;
+  
@@ -39 +43,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  private Dialog _lastDialog;
+  private Dialog _lastRateDialog;
+  private Dialog _lastGetEmailDialog;
@@ -41,0 +47,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  private boolean _tried_to_get_email = false;
@@ -129,0 +137 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
@@ -140,0 +149,5 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      //Returning FAKE DATA
+      if (1 < 3) {
+        return FakeDataSource.getData();
+      }
+      
@@ -211,0 +225,23 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+    if (viewClicked.getId() == R.id.button_provideEmail) {
+      EditText emailField = (EditText)_lastGetEmailDialog.findViewById(R.id.textField_enterEmail);
+      String email = emailField.getText().toString();
+      
+      CoachellerApplication.debug(this, "User provided email address: "+ email);
+      
+      if (!android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
+        Toast invalidEmail = Toast.makeText(this, "Please enter your real email address.", 25);
+        invalidEmail.show();
+      } else {
+        _lastGetEmailDialog.dismiss();
+        showDialog(DIALOG_RATE);
+      }
+    }
+    
+    if (viewClicked.getId() == R.id.button_declineEmail) {
+      Toast youMustObey = Toast.makeText(this, "You may not decline...  Coacheller will not be denied!  ALL YOUR EMAILS ARE BELONG TO US!", 25);
+      youMustObey.show();
+      //_lastGetEmailDialog.dismiss();
+      //showDialog(DIALOG_RATE);
+    }
+    
@@ -222 +258 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      RadioGroup weekGroup = (RadioGroup) _lastDialog.findViewById(R.id.radio_pick_week);
+      RadioGroup weekGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_week);
@@ -225 +261 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      RadioGroup scoreGroup = (RadioGroup) _lastDialog.findViewById(R.id.radio_pick_score);
+      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
@@ -242 +278 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        _lastDialog.dismiss();
+        _lastRateDialog.dismiss();
@@ -248 +284 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      RadioGroup scoreGroup = (RadioGroup) _lastDialog.findViewById(R.id.radio_pick_score);
+      RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
@@ -250,2 +286 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      
-      _lastDialog.dismiss();
+      _lastRateDialog.dismiss();
@@ -262 +297,45 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    showDialog(333);
+    
+    if (!_tried_to_get_email) {
+      showDialog(DIALOG_GETEMAIL);
+      _tried_to_get_email = true;
+    } else {
+    
+      showDialog(DIALOG_RATE);
+    }
+  }
+  
+  @Override
+  protected void onPrepareDialog(int id, Dialog dialog) {
+      //Always call through to super implementation
+      super.onPrepareDialog(id, dialog);
+      
+      if (id == DIALOG_RATE) {
+
+        //_lastRateDialog.setTitle("Rate this Set!");
+        try {
+          TextView subtitleText = (TextView) _lastRateDialog.findViewById(R.id.text_rateBand_subtitle);
+          subtitleText.setText(_lastItemSelected.getString("artist"));
+
+        } catch (JSONException e) {
+          // TODO Auto-generated catch block
+          e.printStackTrace();
+        }
+
+        int week = CoachellerApplication.whichWeekIsToday();
+        RadioGroup weekGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_week);
+        if (week == 1) {
+          RadioButton buttonWeek1 = (RadioButton) _lastRateDialog.findViewById(R.id.radio_button_week1);
+          buttonWeek1.setChecked(true);
+        } else if (week == 2) {
+          RadioButton buttonWeek2 = (RadioButton) _lastRateDialog.findViewById(R.id.radio_button_week2);
+          buttonWeek2.setChecked(true);
+        } else {
+          //Don't suggest a week
+          weekGroup.clearCheck();
+        }
+
+        //TODO If the user already rated this set, default to their last rating
+        RadioGroup scoreGroup = (RadioGroup) _lastRateDialog.findViewById(R.id.radio_pick_score);
+        scoreGroup.clearCheck();
+      }
+
@@ -268,7 +347,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    if (id == 333) {
-      
-      Context context = this;
-      _lastDialog = new Dialog(context);
-      
-      _lastDialog.setContentView(R.layout.dialog_rate_set);
-      _lastDialog.setTitle("Rate this Set!");
+    if (id == DIALOG_GETEMAIL) {
+      _lastGetEmailDialog = new Dialog(this);
+      _lastGetEmailDialog.setContentView(R.layout.get_email_address);
+      _lastGetEmailDialog.setTitle("Keep Track of Everything");
@@ -276,7 +352,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      try {
-        TextView subtitleText = (TextView) _lastDialog.findViewById(R.id.text_rateBand_subtitle);
-        subtitleText.setText(_lastItemSelected.getString("artist"));
-      } catch (JSONException e) {
-        // TODO Auto-generated catch block
-        e.printStackTrace();
-      }
+      EditText emailField = (EditText) _lastGetEmailDialog.findViewById(R.id.textField_enterEmail);
+      emailField.setText("me@here.com");
+      emailField.selectAll();
@@ -284,19 +356 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      int week = CoachellerApplication.whichWeekIsToday();
-      RadioGroup weekGroup = (RadioGroup) _lastDialog.findViewById(R.id.radio_pick_week);
-      if (week == 1) {
-        RadioButton buttonWeek1 = (RadioButton) _lastDialog.findViewById(R.id.radio_button_week1);
-        buttonWeek1.setChecked(true);
-      } else if (week == 2) {
-        RadioButton buttonWeek2 = (RadioButton) _lastDialog.findViewById(R.id.radio_button_week2);
-        buttonWeek2.setChecked(true);
-      } else {
-        //Don't suggest a week
-        weekGroup.clearCheck();
-      }
-      
-      //TODO If the user already rated this set, default to their last rating
-      //This does not seem to work here, wtf
-      RadioGroup scoreGroup = (RadioGroup) _lastDialog.findViewById(R.id.radio_pick_score);
-      scoreGroup.clearCheck();
-      
-      Button buttonOK = (Button) _lastDialog.findViewById(R.id.button_rate_okgo);
+      Button buttonOK = (Button) _lastGetEmailDialog.findViewById(R.id.button_provideEmail);
@@ -305 +359 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      Button buttonCancel = (Button) _lastDialog.findViewById(R.id.button_rate_cancel);
+      Button buttonCancel = (Button) _lastGetEmailDialog.findViewById(R.id.button_declineEmail);
@@ -308,2 +362,15 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      
-      return _lastDialog;
+      return _lastGetEmailDialog;
+    }
+
+    if (id == DIALOG_RATE) {
+
+      _lastRateDialog = new Dialog(this);
+      _lastRateDialog.setContentView(R.layout.dialog_rate_set);
+      _lastRateDialog.setTitle("Rate this Set!");
+
+      Button buttonOK = (Button) _lastRateDialog.findViewById(R.id.button_rate_okgo);
+      buttonOK.setOnClickListener(this);
+
+      Button buttonCancel = (Button) _lastRateDialog.findViewById(R.id.button_rate_cancel);
+      buttonCancel.setOnClickListener(this);
+      return _lastRateDialog;
diff --git a/Coacheller-Android/src/com/coacheller/FakeDataSource.java b/Coacheller-Android/src/com/coacheller/FakeDataSource.java
new file mode 100644
index 0000000..f2a1b38
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/FakeDataSource.java
@@ -0,0 +1,14 @@
+package com.coacheller;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+
+public class FakeDataSource {
+  private static String _data = "[{\"id\":18076,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":130,\"year\":2012,\"day\":\"Friday\",\"artist\":\"A FAKE DATASET\",\"time_two\":130},{\"id\":18077,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":2350,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Datsik\",\"time_two\":2350},{\"id\":18078,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1710,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Feed Me\",\"time_two\":1710},{\"id\":18079,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1550,\"year\":2012,\"day\":\"Friday\",\"artist\":\"James\",\"time_two\":1550},{\"id\":18080,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1835,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Madeon\",\"time_two\":1835},{\"id\":18081,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1405,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Other Lives\",\"time_two\":1405},{\"id\":18082,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1400,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Dear Hunter\",\"time_two\":1400},{\"id\":18083,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1210,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Wallpaper.\",\"time_two\":1210},{\"id\":19064,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1120,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Mea\",\"time_two\":1120},{\"id\":19065,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1315,\"year\":2012,\"day\":\"Friday\",\"artist\":\"R3hab\",\"time_two\":1315},{\"id\":19066,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1550,\"year\":2012,\"day\":\"Friday\",\"artist\":\"SebastiAn\",\"time_two\":1550},{\"id\":19067,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1550,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Ximena Sarinana\",\"time_two\":1550},{\"id\":21069,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":2400,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Amon Tobin : ISAM Live\",\"time_two\":2400},{\"id\":21070,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1515,\"year\":2012,\"day\":\"Friday\",\"artist\":\"EMA\",\"time_two\":1515},{\"id\":21071,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2015,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Frank Ocean\",\"time_two\":2015},{\"id\":21072,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":2055,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Rapture\",\"time_two\":2055},{\"id\":21073,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1900,\"year\":2012,\"day\":\"Friday\",\"artist\":\"WU LYF\",\"time_two\":1900},{\"id\":22055,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1955,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Alesso\",\"time_two\":1955},{\"id\":22056,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2130,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Atari Teenage Riot\",\"time_two\":2130},{\"id\":22057,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1820,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Dawes\",\"time_two\":1820},{\"id\":22058,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1435,\"year\":2012,\"day\":\"Friday\",\"artist\":\"GIVERS\",\"time_two\":1435},{\"id\":22059,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1710,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Jimmy Cliff with Tim Armstrong and the Engine Band\",\"time_two\":1710},{\"id\":22060,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":2320,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Refused\",\"time_two\":2320},{\"id\":22061,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2400,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Horrors\",\"time_two\":2400},{\"id\":22062,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1300,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Wolf Gang\",\"time_two\":1300},{\"id\":23069,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1430,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Breakbot\",\"time_two\":1430},{\"id\":23070,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1705,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Grouplove\",\"time_two\":1705},{\"id\":23071,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1935,\"year\":2012,\"day\":\"Friday\",\"artist\":\"M. Ward\",\"time_two\":1935},{\"id\":23072,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1900,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Madness\",\"time_two\":1900},{\"id\":23073,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1625,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Neon Indian\",\"time_two\":1625},{\"id\":23074,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":2330,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Swedish House Mafia\",\"time_two\":2330},{\"id\":24070,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":2135,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Afrojack\",\"time_two\":2135},{\"id\":24071,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1745,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Death Grips\",\"time_two\":1745},{\"id\":24072,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":1320,\"year\":2012,\"day\":\"Friday\",\"artist\":\"honeyhoney\",\"time_two\":1320},{\"id\":24073,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":2050,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Mazzy Star\",\"time_two\":2050},{\"id\":24074,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1950,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Pulp\",\"time_two\":1950},{\"id\":24075,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":2250,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Black Angels\",\"time_two\":2250},{\"id\":24076,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1515,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Yuck\",\"time_two\":1515},{\"id\":25063,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1200,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Abe Vigoda\",\"time_two\":1200},{\"id\":25064,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":2205,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Explosions in the Sky\",\"time_two\":2205},{\"id\":25065,\"stage_two\":\"Gobi\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Gobi\",\"time_one\":1630,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Gary Clark Jr.\",\"time_two\":1630},{\"id\":25066,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1330,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Hello Seahorse!\",\"time_two\":1330},{\"id\":25067,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1440,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Kendrick Lamar\",\"time_two\":1440},{\"id\":32018,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":1300,\"year\":2012,\"day\":\"Friday\",\"artist\":\"Gabe Real\",\"time_two\":1300},{\"id\":32019,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1740,\"year\":2012,\"day\":\"Friday\",\"artist\":\"GIRLS\",\"time_two\":1740},{\"id\":32020,\"stage_two\":\"Sahara\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Sahara\",\"time_one\":1215,\"year\":2012,\"day\":\"Friday\",\"artist\":\"LA Riots\",\"time_two\":1215},{\"id\":32021,\"stage_two\":\"Mojave\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Mojave\",\"time_one\":2215,\"year\":2012,\"day\":\"Friday\",\"artist\":\"M83\",\"time_two\":2215},{\"id\":32022,\"stage_two\":\"Coachella\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Coachella\",\"time_one\":2145,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Black Keys\",\"time_two\":2145},{\"id\":32023,\"stage_two\":\"Outdoor\",\"avg_score_one\":0,\"avg_score_two\":0,\"stage_one\":\"Outdoor\",\"time_one\":1300,\"year\":2012,\"day\":\"Friday\",\"artist\":\"The Sheepdogs\",\"time_two\":1300}]";
+  
+  public static JSONArray getData() throws JSONException {
+    JSONArray returnArray = new JSONArray(_data);
+    return returnArray;
+    }
+
+}
421e920ca456055185bba0f94837da7435853fea
diff --git a/Coacheller-Android/res/layout/dialog_rate_set.xml b/Coacheller-Android/res/layout/dialog_rate_set.xml
index a81df1b..74ba5a5 100644
--- a/Coacheller-Android/res/layout/dialog_rate_set.xml
+++ b/Coacheller-Android/res/layout/dialog_rate_set.xml
@@ -12 +12 @@
-
+
@@ -14 +14 @@
-            android:id="@+id/textView1"
+            android:id="@+id/text_rateBand_subtitle"
@@ -18,0 +19 @@
+
@@ -41 +42 @@
-
+
@@ -47,2 +48,2 @@
-            android:text="week 1" />
-
+            android:text="@string/name_week1_short" />
+
@@ -54 +55 @@
-            android:text="Week 2" />
+            android:text="@string/name_week2_short" />
@@ -71 +72 @@
-
+
@@ -75,0 +77 @@
+        android:checkedButton="-1"
@@ -82,2 +84,8 @@
-            android:checked="true"
-            android:text="1" />
+            android:checked="false"
+            android:text="1" />
+
+        <LinearLayout
+            android:layout_width="10dp"
+            android:layout_height="fill_parent" >
+
+        </LinearLayout>
@@ -89 +97,6 @@
-            android:text="2" />
+            android:text="2" />
+
+        <LinearLayout
+            android:layout_width="10dp"
+            android:layout_height="fill_parent" >
+        </LinearLayout>
@@ -95 +108,6 @@
-            android:text="3" />
+            android:text="3" />
+
+        <LinearLayout
+            android:layout_width="10dp"
+            android:layout_height="fill_parent" >
+        </LinearLayout>
@@ -101 +119,6 @@
-            android:text="4" />
+            android:text="4" />
+
+        <LinearLayout
+            android:layout_width="10dp"
+            android:layout_height="fill_parent" >
+        </LinearLayout>
@@ -107 +130,27 @@
-            android:text="5" />
+            android:text="5" />
+
+        <LinearLayout
+            android:layout_width="10dp"
+            android:layout_height="fill_parent" >
+        </LinearLayout>
+
+    </RadioGroup>
+
+    <LinearLayout
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal" >
+
+        <Button
+            android:id="@+id/button_rate_okgo"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:layout_weight="1"
+            android:text="Rate It!!!" />
+
+        <Button
+            android:id="@+id/button_rate_cancel"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="right"
+            android:text="Go Back" />
@@ -109 +158 @@
-    </RadioGroup>
+    </LinearLayout>
diff --git a/Coacheller-Android/res/values/strings.xml b/Coacheller-Android/res/values/strings.xml
index fe8dd65..9b17e72 100644
--- a/Coacheller-Android/res/values/strings.xml
+++ b/Coacheller-Android/res/values/strings.xml
@@ -10,4 +9,0 @@
-    <string-array name="distanceArray">
-        <item>1 mile</item>
-        <item>3 mile</item>
-    </string-array>
@@ -34,0 +31,2 @@
+        <string name="name_week1_short">4/13-4/15</string>
+        <string name="name_week2_short">4/20-4/22</string>
diff --git a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
index 84aa8a6..91f771e 100644
--- a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
+++ b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
@@ -31 +31 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-    Calendar cal = Calendar.getInstance();
+    
@@ -55,2 +55 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-    if (cal.get(Calendar.DAY_OF_MONTH) < 19) {
-
+    if (CoachellerApplication.whichWeekIsToday() == 1) {
@@ -59,2 +58,2 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-
-    } else {
+      
+    } else if (CoachellerApplication.whichWeekIsToday() == 2) {
@@ -82,0 +82 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
+    Calendar cal = Calendar.getInstance();
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 7761b65..7121520 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -4,0 +5 @@ import java.io.InputStreamReader;
+import java.util.HashMap;
@@ -20 +20,0 @@ import android.content.Intent;
-import android.location.Location;
@@ -27,0 +28,2 @@ import android.widget.ListView;
+import android.widget.RadioButton;
+import android.widget.RadioGroup;
@@ -28,0 +31 @@ import android.widget.Spinner;
+import android.widget.TextView;
@@ -35,0 +39,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private Dialog _lastDialog;
+  private JSONObject _lastItemSelected;
+  private HashMap<Integer, Integer> _ratingSelectedIdToValue = new HashMap<Integer, Integer>();
+
@@ -45,0 +53,10 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    _ratingSelectedIdToValue.put(R.id.radio_button_week1, 1);
+    _ratingSelectedIdToValue.put(R.id.radio_button_week2, 2);
+    
+    _ratingSelectedIdToValue.put(R.id.radio_button_score1, 1);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score2, 2);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score3, 3);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score4, 4);
+    _ratingSelectedIdToValue.put(R.id.radio_button_score5, 5);
+    
+    
@@ -163,2 +179,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  @Override
-  public void onClick(View arg0) {
@@ -166,8 +180,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    if (arg0.getId() == R.id.buttonChangeToSearchSets) {
-      System.out.println("Button: Find Other Sets");
-      Intent intent = new Intent();
-      intent.setClass(this, ActivitySetsSearch.class);
-    //intent.putExtras(bun);
-    startActivity(intent);
-    }
-  }
@@ -204,8 +211 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
-   
-    JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
-    CoachellerApplication.debug(this, "You Clicked On: "+ obj);
-    
-    showDialog(333);
-    
-
+  public void onClick(View viewClicked) {
@@ -212,0 +213,7 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    if (viewClicked.getId() == R.id.buttonChangeToSearchSets) {
+      System.out.println("Button: Find Other Sets");
+      Intent intent = new Intent();
+      intent.setClass(this, ActivitySetsSearch.class);
+      //intent.putExtras(bun);
+      startActivity(intent);
+    }
@@ -213,0 +221,7 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    if (viewClicked.getId() == R.id.button_rate_okgo) {
+      RadioGroup weekGroup = (RadioGroup) _lastDialog.findViewById(R.id.radio_pick_week);
+      int weekSelectedId = weekGroup.getCheckedRadioButtonId();
+      
+      RadioGroup scoreGroup = (RadioGroup) _lastDialog.findViewById(R.id.radio_pick_score);
+      int scoreSelectedId = scoreGroup.getCheckedRadioButtonId();
+      
@@ -214,0 +229,16 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+       
+      if (weekSelectedId == -1 || scoreSelectedId == -1) {
+        Toast selectEverything = Toast.makeText(this, "Please select a rating and week of this Set", 25);
+        selectEverything.show();
+        
+      } else { 
+        int weekSelectedValue = _ratingSelectedIdToValue.get(weekSelectedId);
+        int scoreSelectedValue = _ratingSelectedIdToValue.get(scoreSelectedId);
+        
+        CoachellerApplication.debug(this, "Selected Week["+ weekSelectedValue +"] Score["+ scoreSelectedValue +"] WeekId["+ weekSelectedId +"] ScoreId["+ scoreSelectedId +"]");
+        
+        
+        scoreGroup.clearCheck();
+        _lastDialog.dismiss();
+      }
+    }
@@ -215,0 +246,17 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    if (viewClicked.getId() == R.id.button_rate_cancel) {
+      //Dialog dialog = (Dialog) viewClicked.getParent();
+      RadioGroup scoreGroup = (RadioGroup) _lastDialog.findViewById(R.id.radio_pick_score);
+      scoreGroup.clearCheck();
+      
+      _lastDialog.dismiss();
+    }
+
+  }
+  
+  
+  @Override
+  public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
+    JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
+    _lastItemSelected = obj;
+    CoachellerApplication.debug(this, "You Clicked On: "+ obj);
+    showDialog(333);
@@ -224 +271,36 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      Dialog dialog = new Dialog(context);
+      _lastDialog = new Dialog(context);
+      
+      _lastDialog.setContentView(R.layout.dialog_rate_set);
+      _lastDialog.setTitle("Rate this Set!");
+      
+      try {
+        TextView subtitleText = (TextView) _lastDialog.findViewById(R.id.text_rateBand_subtitle);
+        subtitleText.setText(_lastItemSelected.getString("artist"));
+      } catch (JSONException e) {
+        // TODO Auto-generated catch block
+        e.printStackTrace();
+      }
+      
+      int week = CoachellerApplication.whichWeekIsToday();
+      RadioGroup weekGroup = (RadioGroup) _lastDialog.findViewById(R.id.radio_pick_week);
+      if (week == 1) {
+        RadioButton buttonWeek1 = (RadioButton) _lastDialog.findViewById(R.id.radio_button_week1);
+        buttonWeek1.setChecked(true);
+      } else if (week == 2) {
+        RadioButton buttonWeek2 = (RadioButton) _lastDialog.findViewById(R.id.radio_button_week2);
+        buttonWeek2.setChecked(true);
+      } else {
+        //Don't suggest a week
+        weekGroup.clearCheck();
+      }
+      
+      //TODO If the user already rated this set, default to their last rating
+      //This does not seem to work here, wtf
+      RadioGroup scoreGroup = (RadioGroup) _lastDialog.findViewById(R.id.radio_pick_score);
+      scoreGroup.clearCheck();
+      
+      Button buttonOK = (Button) _lastDialog.findViewById(R.id.button_rate_okgo);
+      buttonOK.setOnClickListener(this);
+      
+      Button buttonCancel = (Button) _lastDialog.findViewById(R.id.button_rate_cancel);
+      buttonCancel.setOnClickListener(this);
@@ -226,2 +307,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      dialog.setContentView(R.layout.dialog_rate_set);
-      dialog.setTitle("Rate this Set!");
@@ -229 +309 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      return dialog;
+      return _lastDialog;
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerApplication.java b/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
index a4afb6e..d963ed8 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
@@ -2,0 +3,2 @@ package com.coacheller;
+import java.util.Calendar;
+
@@ -9,0 +12,2 @@ public class CoachellerApplication extends Application {
+  
+  private static Calendar _cal;
@@ -28,0 +33,15 @@ public class CoachellerApplication extends Application {
+  
+  public static void initCalendar() {
+    if (_cal == null) {
+      _cal = Calendar.getInstance();
+    }
+  }
+  
+  public static int whichWeekIsToday() {
+    initCalendar();
+    if (_cal.get(Calendar.DAY_OF_MONTH) < 19) {
+      return 1;
+    } else {
+      return 2;
+    }
+  }
8b58e5ba0e36ecf861150feb554fd8e23ba9670c
diff --git a/Coacheller-Android/res/layout/crimes.xml b/Coacheller-Android/res/layout/crimes.xml
deleted file mode 100644
index f042923..0000000
--- a/Coacheller-Android/res/layout/crimes.xml
+++ /dev/null
@@ -1,31 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
-    android:id="@+id/crimesListScrollView"
-    android:layout_width="fill_parent"
-    android:layout_height="wrap_content" >
-
-    <RelativeLayout
-        android:id="@+id/crimesLayoutMaps"
-        android:layout_width="fill_parent"
-        android:layout_height="fill_parent"
-        android:orientation="vertical" >
-
-        <TableLayout
-            xmlns:android="http://schemas.android.com/apk/res/android"
-            android:id="@+id/crimesLayout"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:orientation="vertical" >
-        </TableLayout>
-
-        <Button
-            android:id="@+id/viewMapButton"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_below="@id/crimesLayout"
-            android:layout_marginLeft="30px"
-            android:layout_marginTop="30px"
-            android:text="View Map" />
-    </RelativeLayout>
-
-</ScrollView>
\ No newline at end of file
diff --git a/Coacheller-Android/res/layout/dialog_rate_set.xml b/Coacheller-Android/res/layout/dialog_rate_set.xml
new file mode 100644
index 0000000..a81df1b
--- /dev/null
+++ b/Coacheller-Android/res/layout/dialog_rate_set.xml
@@ -0,0 +1,111 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/layout_dialog_rate_set"
+    android:layout_width="wrap_content"
+    android:layout_height="wrap_content"
+    android:orientation="vertical" >
+
+    <LinearLayout
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:gravity="center" >
+
+        <TextView
+            android:id="@+id/textView1"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="Rate (band)"
+            android:textAppearance="?android:attr/textAppearanceLarge" />
+    </LinearLayout>
+
+    <LinearLayout
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:gravity="center" >
+
+        <TextView
+            android:id="@+id/textView2"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="When?"
+            android:textAppearance="?android:attr/textAppearanceMedium" />
+
+    </LinearLayout>
+
+    <RadioGroup
+        android:id="@+id/radio_pick_week"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:layout_weight="0.54"
+        android:orientation="horizontal" >
+
+        <RadioButton
+            android:id="@+id/radio_button_week1"
+            android:layout_width="fill_parent"
+            android:layout_height="wrap_content"
+            android:layout_weight="1"
+            android:text="week 1" />
+
+        <RadioButton
+            android:id="@+id/radio_button_week2"
+            android:layout_width="fill_parent"
+            android:layout_height="wrap_content"
+            android:layout_weight="1"
+            android:text="Week 2" />
+
+    </RadioGroup>
+
+    <LinearLayout
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:gravity="center" >
+
+        <TextView
+            android:id="@+id/textView3"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="How Was It?"
+            android:textAppearance="?android:attr/textAppearanceMedium" />
+
+    </LinearLayout>
+
+    <RadioGroup
+        android:id="@+id/radio_pick_score"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal" >
+
+        <RadioButton
+            android:id="@+id/radio_button_score1"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:checked="true"
+            android:text="1" />
+
+        <RadioButton
+            android:id="@+id/radio_button_score2"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="2" />
+
+        <RadioButton
+            android:id="@+id/radio_button_score3"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="3" />
+
+        <RadioButton
+            android:id="@+id/radio_button_score4"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="4" />
+
+        <RadioButton
+            android:id="@+id/radio_button_score5"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="5" />
+
+    </RadioGroup>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/Coacheller-Android/res/layout/main.xml b/Coacheller-Android/res/layout/main.xml
deleted file mode 100644
index e820aed..0000000
--- a/Coacheller-Android/res/layout/main.xml
+++ /dev/null
@@ -1,53 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="fill_parent"
-    android:layout_height="fill_parent"
-    android:orientation="vertical" >
-
-    <TextView
-        android:id="@+id/currentLocationText"
-        android:layout_width="wrap_content"
-        android:layout_height="20dp"
-        android:text="@string/currLocation" />
-
-    <EditText
-        android:id="@+id/addressText"
-        android:layout_width="fill_parent"
-        android:layout_height="50dp"
-        android:layout_marginLeft="20px" >
-        <requestFocus />
-    </EditText>
-
-    <TextView
-        android:id="@+id/distanceText"
-        android:layout_width="wrap_content"
-        android:layout_height="20dp"
-        android:text="@string/distance" />
-
-    <Spinner
-        android:id="@+id/distanceList"
-        android:layout_width="400px"
-        android:layout_height="wrap_content" 
-        android:layout_marginLeft="20px"/>
-    
-     <TextView
-        android:id="@+id/dateBackToText"
-        android:layout_width="wrap_content"
-        android:layout_height="20dp"
-        android:text="@string/dateBackTo" />
-     
-     <Spinner
-        android:id="@+id/datesList"
-        android:layout_width="400px"
-        android:layout_height="wrap_content"
-        android:layout_marginLeft="20px" />
-
-    <Button
-        android:id="@+id/submitButton"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:layout_marginLeft="20px"
-        android:layout_marginTop="20px"
-        android:text="Submit" />
-    
-</LinearLayout>
\ No newline at end of file
diff --git a/Coacheller-Android/res/layout/map.xml b/Coacheller-Android/res/layout/map.xml
deleted file mode 100644
index 47a24cb..0000000
--- a/Coacheller-Android/res/layout/map.xml
+++ /dev/null
@@ -1,16 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="fill_parent"
-    android:layout_height="fill_parent"
-    android:id="@+id/mapViewLayout" >
-    
-    <com.google.android.maps.MapView 
-        android:id="@+id/mapView"
-        android:layout_width="fill_parent"
-        android:layout_height="fill_parent"
-        android:enabled="true"
-        android:clickable="true"
-        android:apiKey="0lLL5x5sFKlenv9fzIR-E16uQRSPyQ-OdFo5YOA"
-        />
-
-</RelativeLayout>
\ No newline at end of file
diff --git a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
index 361ffec..84aa8a6 100644
--- a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
+++ b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
@@ -118,2 +118,2 @@ public class ActivitySetsSearch extends Activity implements OnClickListener {
-        EditText addr = (EditText) this.findViewById(R.id.addressText);
-        String currentAddress = addr.getText().toString();
+        //EditText addr = (EditText) this.findViewById(R.id.addressText);
+        //String currentAddress = addr.getText().toString();
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index f2f2a9c..7761b65 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -16,0 +17,2 @@ import android.app.Activity;
+import android.app.Dialog;
+import android.content.Context;
@@ -21,0 +24 @@ import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemClickListener;
@@ -25,0 +29 @@ import android.widget.Spinner;
+import android.widget.Toast;
@@ -27 +31 @@ import android.widget.Spinner;
-public class CoachellerActivity extends Activity implements View.OnClickListener, OnItemSelectedListener {
+public class CoachellerActivity extends Activity implements View.OnClickListener, OnItemSelectedListener, OnItemClickListener {
@@ -51,0 +56,7 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  
+  public void onResume() {
+    super.onResume();
+    
+    Toast clickToRate = Toast.makeText(this, "Tap any set to rate it!", 25);
+    clickToRate.show();
+  }
@@ -58,0 +70 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    viewSetsList.setOnItemClickListener(this);
@@ -152,0 +165 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+
@@ -189,0 +203,32 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  @Override
+  public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
+   
+    JSONObject obj = (JSONObject) _setListAdapter.getItem(position);
+    CoachellerApplication.debug(this, "You Clicked On: "+ obj);
+    
+    showDialog(333);
+    
+
+
+    
+    
+    
+  }
+
+  @Override
+  protected Dialog onCreateDialog(int id) {
+    
+    if (id == 333) {
+      
+      Context context = this;
+      Dialog dialog = new Dialog(context);
+      
+      dialog.setContentView(R.layout.dialog_rate_set);
+      dialog.setTitle("Rate this Set!");
+      
+      return dialog;
+    }
+    
+    return super.onCreateDialog(id);
+  }
+
diff --git a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
index ea99183..0a092d1 100644
--- a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
+++ b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
@@ -10,0 +11 @@ import android.view.ViewGroup;
+
@@ -12,0 +14 @@ import android.widget.TextView;
+import android.widget.Toast;
@@ -21,0 +24,8 @@ public class CustomSetListAdapter implements ListAdapter {
+  static class ViewHolder {
+    public TextView textTime;
+    public TextView textArtist;
+    public TextView ratingWk1;
+    public TextView ratingWk2;
+    public TextView myRating;
+}
+  
@@ -46 +56,6 @@ public class CustomSetListAdapter implements ListAdapter {
-    // TODO Auto-generated method stub
+    try {
+      return _sortMap.getSortedJSONObj(position);
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
@@ -64,3 +79,14 @@ public class CustomSetListAdapter implements ListAdapter {
-    // TODO Auto-generated method stub
-    LayoutInflater inflater = (LayoutInflater) _context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
-    View rowView = inflater.inflate(R.layout.row_set_info, parent, false);
+    View rowView = convertView;
+    
+    
+    if (rowView == null) {
+      LayoutInflater inflater = (LayoutInflater) _context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+      rowView = inflater.inflate(R.layout.row_set_info, parent, false);
+      ViewHolder viewHolder = new ViewHolder();
+      viewHolder.textTime = (TextView)rowView.findViewById(R.id.text_set_time);
+      viewHolder.textArtist = (TextView)rowView.findViewById(R.id.text_artist_name);
+      viewHolder.ratingWk1 = (TextView)rowView.findViewById(R.id.text_wk1_rating);
+      viewHolder.ratingWk2 = (TextView)rowView.findViewById(R.id.text_wk2_rating);
+      viewHolder.myRating = (TextView)rowView.findViewById(R.id.text_my_rating);
+      rowView.setTag(viewHolder);
+    }
@@ -69 +95,3 @@ public class CustomSetListAdapter implements ListAdapter {
-      TextView textSetTime = (TextView)rowView.findViewById(R.id.text_set_time);
+
+      ViewHolder holder = (ViewHolder) rowView.getTag();
+
@@ -71,17 +99,5 @@ public class CustomSetListAdapter implements ListAdapter {
-      
-      textSetTime.setText(militaryToCivilianTime(milTime));
-      
-      
-      TextView textArtistName = (TextView)rowView.findViewById(R.id.text_artist_name);
-      textArtistName.setText(_sortMap.getSortedJSONObj(position).getString("artist"));
-      
-      TextView textWeek1Rating = (TextView)rowView.findViewById(R.id.text_wk1_rating);
-      textWeek1Rating.setText("Wk1 Avg: "+ _sortMap.getSortedJSONObj(position).getString("avg_score_one"));
-      
-      TextView textWeek2Rating = (TextView)rowView.findViewById(R.id.text_wk2_rating);
-      textWeek2Rating.setText("Wk2 Avg: "+ _sortMap.getSortedJSONObj(position).getString("avg_score_two"));
-      
-      //TextView textMyRating = (TextView)rowView.findViewById(R.id.text_my_rating);
-      
-      
-      
+      holder.textTime.setText(militaryToCivilianTime(milTime));
+      holder.textArtist.setText(_sortMap.getSortedJSONObj(position).getString("artist"));
+      holder.ratingWk1.setText("Wk1 Avg: "+ _sortMap.getSortedJSONObj(position).getString("avg_score_one"));
+      holder.ratingWk2.setText("Wk2 Avg: "+ _sortMap.getSortedJSONObj(position).getString("avg_score_two"));
+         
@@ -98 +114 @@ public class CustomSetListAdapter implements ListAdapter {
-    if (milTime < 1200) {
+    if (milTime < 1200 || milTime == 2400) {
@@ -111 +127 @@ public class CustomSetListAdapter implements ListAdapter {
-    
+     
@@ -154,3 +170,2 @@ public class CustomSetListAdapter implements ListAdapter {
-  public boolean isEnabled(int position) {
-    // TODO Auto-generated method stub
-    return false;
+  public boolean isEnabled(int position) {  //Everything is clickable
+    return true;
cd78081078fb95f1de8f2fb445aada80cb55f72d
diff --git a/Coacheller-Android/res/layout/sets_list.xml b/Coacheller-Android/res/layout/sets_list.xml
index a93cae1..f058173 100644
--- a/Coacheller-Android/res/layout/sets_list.xml
+++ b/Coacheller-Android/res/layout/sets_list.xml
@@ -48 +48 @@
-
+
@@ -50 +50 @@
-                android:id="@+id/spinner1"
+                android:id="@+id/spinner_sort_by"
@@ -52,0 +53 @@
+
diff --git a/Coacheller-Android/res/values/strings.xml b/Coacheller-Android/res/values/strings.xml
index 171439c..fe8dd65 100644
--- a/Coacheller-Android/res/values/strings.xml
+++ b/Coacheller-Android/res/values/strings.xml
@@ -30,0 +31,4 @@
+        <string-array name="search_types">
+            <item >Time</item>
+            <item >Artist</item>
+        </string-array>
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 547f673..f2f2a9c 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -20,0 +21,2 @@ import android.view.View;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemSelectedListener;
@@ -22,0 +25 @@ import android.widget.ListView;
+import android.widget.Spinner;
@@ -24 +27 @@ import android.widget.ListView;
-public class CoachellerActivity extends Activity implements View.OnClickListener {
+public class CoachellerActivity extends Activity implements View.OnClickListener, OnItemSelectedListener {
@@ -26,0 +30,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  private int _weekToQuery;
+  private String _timeFieldName;
@@ -33,0 +39,11 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+    _weekToQuery = 1;
+    
+    if (_weekToQuery == 1) {
+      _timeFieldName = "time_one";
+    } else if (_weekToQuery == 2) {
+      _timeFieldName = "time_two";
+    }
+    
+    
+    
@@ -40 +56 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    _setListAdapter = new CustomSetListAdapter(this);
+    _setListAdapter = new CustomSetListAdapter(this, _timeFieldName);
@@ -44,2 +60,6 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    Button submitButton = (Button) this.findViewById(R.id.buttonChangeToSearchSets);
-    submitButton.setOnClickListener(this);
+    Button buttonSearchSets = (Button) this.findViewById(R.id.buttonChangeToSearchSets);
+    buttonSearchSets.setOnClickListener(this);
+    
+    Spinner spinnerSortType =(Spinner)findViewById(R.id.spinner_sort_by);
+    CoachellerApplication.populateSpinnerWithArray(spinnerSortType, R.array.search_types);
+    spinnerSortType.setOnItemSelectedListener(this);
@@ -49,0 +70,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    _setListAdapter.setData(results);
+    
@@ -51,0 +74,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER); 
+      
+      
+      /*
@@ -55,6 +81 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      
-      _setListAdapter.setData(results);
-      _setListAdapter.sortByField("id", JSONArraySortMap.VALUE_INTEGER);
-      
-      
-      
+
@@ -70 +91 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      
+     */
@@ -74,0 +96,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+    CoachellerApplication.debug(this, "Sample Data is Ready");
@@ -138,0 +162,28 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  @Override
+  public void onItemSelected(AdapterView<?> parent, View arg1, int arg2, long arg3) {
+    // TODO Auto-generated method stub
+    CoachellerApplication.debug(this, "Search Type Spinner: Selected -> " + parent.getSelectedItem() +"("+ arg2 +")");
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+    
+    try {
+      if (parent.getSelectedItem().toString().toLowerCase().equals("time")) {
+        _setListAdapter.sortByField(_timeFieldName, JSONArraySortMap.VALUE_INTEGER);
+        
+      } else if (parent.getSelectedItem().toString().toLowerCase().equals("artist")) {
+        _setListAdapter.sortByField("artist", JSONArraySortMap.VALUE_STRING);
+      } 
+      
+      viewSetsList.invalidateViews();
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+  }
+
+  @Override
+  public void onNothingSelected(AdapterView<?> arg0) {
+    CoachellerApplication.debug(this, "Search Type Spinner: Nothing Selected");
+    Spinner spinnerSortType =(Spinner)findViewById(R.id.spinner_sort_by);
+    spinnerSortType.setSelection(0);
+  }
+
diff --git a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
index 6cea5e2..ea99183 100644
--- a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
+++ b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
@@ -19,0 +20 @@ public class CustomSetListAdapter implements ListAdapter {
+  private String _timeFieldName;
@@ -21 +22 @@ public class CustomSetListAdapter implements ListAdapter {
-  public CustomSetListAdapter(Context context) {
+  public CustomSetListAdapter(Context context, String timeFieldName) {
@@ -22,0 +24 @@ public class CustomSetListAdapter implements ListAdapter {
+    _timeFieldName = timeFieldName;
@@ -68,4 +70,3 @@ public class CustomSetListAdapter implements ListAdapter {
-      String timeStr = _sortMap.getSortedJSONObj(position).getString("time");
-      int timeStrLen = timeStr.length();
-      timeStr = timeStr.substring(0, timeStrLen-2) +":"+ timeStr.substring(timeStrLen-2, timeStrLen);
-      textSetTime.setText(timeStr);
+      int milTime = _sortMap.getSortedJSONObj(position).getInt(_timeFieldName);
+      
+      textSetTime.setText(militaryToCivilianTime(milTime));
@@ -93,0 +95,23 @@ public class CustomSetListAdapter implements ListAdapter {
+  
+  public String militaryToCivilianTime(int milTime) {
+    String ampm;
+    if (milTime < 1200) {
+      ampm = "a";
+    } else {
+      ampm = "p";
+    }
+    
+    if (milTime < 100) {
+      milTime += 1200;
+    }
+    
+    if (milTime >= 1300) {
+      milTime -= 1200;
+    }
+    
+    String timeStr = milTime +"";
+    
+    int timeStrLen = timeStr.length();
+    timeStr = timeStr.substring(0, timeStrLen-2) +":"+ timeStr.substring(timeStrLen-2, timeStrLen) + ampm;
+    return timeStr;
+  }
13489466a5d561ec57acb046c423c60f33b60327
diff --git a/Coacheller-Android/res/layout/row_set_info.xml b/Coacheller-Android/res/layout/row_set_info.xml
new file mode 100644
index 0000000..0eac606
--- /dev/null
+++ b/Coacheller-Android/res/layout/row_set_info.xml
@@ -0,0 +1,72 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/set_layout_vertical"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:orientation="vertical" >
+
+    <LinearLayout
+        android:id="@+id/set_layout_time_artist"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal" >
+
+        <TextView
+            android:id="@+id/text_set_time"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:layout_weight="25"
+            android:text="Time"
+            android:textAppearance="?android:attr/textAppearanceLarge" />
+
+        <TextView
+            android:id="@+id/text_artist_name"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:layout_weight="75"
+            android:text="Artist&apos;s Name"
+            android:textAppearance="?android:attr/textAppearanceLarge" />
+
+    </LinearLayout>
+
+    <LinearLayout
+        android:id="@+id/set_layout_ratings"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:baselineAligned="true" >
+
+        <TextView
+            android:id="@+id/text_wk1_rating"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:layout_weight="1"
+            android:text="Wk1 Rtg"
+            android:textAppearance="?android:attr/textAppearanceMedium" />
+
+        <TextView
+            android:id="@+id/text_wk2_rating"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:layout_weight="1"
+            android:text="Wk2 Rtg"
+            android:textAppearance="?android:attr/textAppearanceMedium" />
+
+        <TextView
+            android:id="@+id/text_my_rating"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:layout_gravity="right"
+            android:layout_weight="1"
+            android:text="My Rtg"
+            android:textAppearance="?android:attr/textAppearanceMedium" />
+
+    </LinearLayout>
+
+    <LinearLayout
+        android:id="@+id/set_layout_spacer"
+        android:layout_width="fill_parent"
+        android:layout_height="4dp" >
+
+    </LinearLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/Coacheller-Android/res/layout/set_bottom.xml b/Coacheller-Android/res/layout/set_bottom.xml
deleted file mode 100644
index 3ec4852..0000000
--- a/Coacheller-Android/res/layout/set_bottom.xml
+++ /dev/null
@@ -1,18 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="fill_parent"
-    android:layout_height="fill_parent"
-    android:orientation="horizontal" >
-
-    <RatingBar
-        android:id="@+id/rating_set_groupRating"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content" />
-
-    <Button
-        android:id="@+id/button_set_rate"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="@string/set_rate" />
-
-</LinearLayout>
\ No newline at end of file
diff --git a/Coacheller-Android/res/layout/set_top.xml b/Coacheller-Android/res/layout/set_top.xml
deleted file mode 100644
index 3d95d34..0000000
--- a/Coacheller-Android/res/layout/set_top.xml
+++ /dev/null
@@ -1,21 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="fill_parent"
-    android:layout_height="fill_parent"
-    android:orientation="horizontal" >
-
-    <TextView
-        android:id="@+id/set_artist_name"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="Large Text"
-        android:textAppearance="?android:attr/textAppearanceLarge" />
-
-    <TextView
-        android:id="@+id/set_time"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="Large Text"
-        android:textAppearance="?android:attr/textAppearanceLarge" />
-
-</LinearLayout>
\ No newline at end of file
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 71216ed..547f673 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -40 +40 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    _setListAdapter = new CustomSetListAdapter();
+    _setListAdapter = new CustomSetListAdapter(this);
@@ -42 +42 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    viewSetsList.setAdapter(adapter);
+    viewSetsList.setAdapter(_setListAdapter);
@@ -55,0 +56,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      _setListAdapter.setData(results);
+      _setListAdapter.sortByField("id", JSONArraySortMap.VALUE_INTEGER);
+      
+      
diff --git a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
index 98b2247..6cea5e2 100644
--- a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
+++ b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
@@ -5,0 +6 @@ import org.json.JSONException;
+import android.content.Context;
@@ -6,0 +8 @@ import android.database.DataSetObserver;
+import android.view.LayoutInflater;
@@ -9 +10,0 @@ import android.view.ViewGroup;
-import android.widget.Adapter;
@@ -10,0 +12 @@ import android.widget.ListAdapter;
+import android.widget.TextView;
@@ -16,0 +19 @@ public class CustomSetListAdapter implements ListAdapter {
+  private Context _context;
@@ -18 +21,2 @@ public class CustomSetListAdapter implements ListAdapter {
-  public CustomSetListAdapter() {
+  public CustomSetListAdapter(Context context) {
+    _context = context;
@@ -28,6 +31,0 @@ public class CustomSetListAdapter implements ListAdapter {
-  
-  private void assertInitialized() {
-    if (_data == null) {
-      throw new RuntimeException("Was never initialized");
-    }
-  }
@@ -37,2 +35,5 @@ public class CustomSetListAdapter implements ListAdapter {
-    // TODO Auto-generated method stub
-    return 0;
+    if (_data == null) {
+      return 0;
+    } else {
+      return _data.length();
+    }
@@ -62 +63,30 @@ public class CustomSetListAdapter implements ListAdapter {
-    return null;
+    LayoutInflater inflater = (LayoutInflater) _context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+    View rowView = inflater.inflate(R.layout.row_set_info, parent, false);
+    
+    try {
+      TextView textSetTime = (TextView)rowView.findViewById(R.id.text_set_time);
+      String timeStr = _sortMap.getSortedJSONObj(position).getString("time");
+      int timeStrLen = timeStr.length();
+      timeStr = timeStr.substring(0, timeStrLen-2) +":"+ timeStr.substring(timeStrLen-2, timeStrLen);
+      textSetTime.setText(timeStr);
+      
+      
+      TextView textArtistName = (TextView)rowView.findViewById(R.id.text_artist_name);
+      textArtistName.setText(_sortMap.getSortedJSONObj(position).getString("artist"));
+      
+      TextView textWeek1Rating = (TextView)rowView.findViewById(R.id.text_wk1_rating);
+      textWeek1Rating.setText("Wk1 Avg: "+ _sortMap.getSortedJSONObj(position).getString("avg_score_one"));
+      
+      TextView textWeek2Rating = (TextView)rowView.findViewById(R.id.text_wk2_rating);
+      textWeek2Rating.setText("Wk2 Avg: "+ _sortMap.getSortedJSONObj(position).getString("avg_score_two"));
+      
+      //TextView textMyRating = (TextView)rowView.findViewById(R.id.text_my_rating);
+      
+      
+      
+    } catch (JSONException e) {
+       //TODO Auto-generated catch block
+      e.printStackTrace();
+    }
+   
+    return rowView;
@@ -67,2 +97 @@ public class CustomSetListAdapter implements ListAdapter {
-    // TODO Auto-generated method stub
-    return 0;
+    return 1;
@@ -97,2 +126 @@ public class CustomSetListAdapter implements ListAdapter {
-    // TODO Auto-generated method stub
-    return false;
+    return true;
38ddaa9aa6e1465b8332a256cad7eab677b7a831
diff --git a/Coacheller-Android/res/layout/sets_list.xml b/Coacheller-Android/res/layout/sets_list.xml
index 0f15c93..a93cae1 100644
--- a/Coacheller-Android/res/layout/sets_list.xml
+++ b/Coacheller-Android/res/layout/sets_list.xml
@@ -55 +55 @@
-
+
@@ -57 +57 @@
-        android:id="@+id/listView1"
+        android:id="@+id/viewSetsList"
@@ -59,0 +60 @@
+
diff --git a/Coacheller-Android/res/layout/summary.xml b/Coacheller-Android/res/layout/summary.xml
deleted file mode 100644
index 62d3839..0000000
--- a/Coacheller-Android/res/layout/summary.xml
+++ /dev/null
@@ -1,73 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
-    android:id="@+id/crimesSummaryScrollView"
-    android:layout_width="fill_parent"
-    android:layout_height="wrap_content" >
-
-    <RelativeLayout
-        android:id="@+id/crimesSummaryLayout"
-        android:layout_width="fill_parent"
-        android:layout_height="fill_parent"
-        android:orientation="vertical" >
-
-        <RelativeLayout
-            android:id="@+id/goodSummaryLayout"
-            android:layout_width="fill_parent"
-            android:layout_height="fill_parent"
-            android:orientation="horizontal" >
-
-            <ImageView
-                android:id="@+id/goodResultsImage"
-                android:layout_width="150px"
-                android:layout_height="300px"
-                android:src="@drawable/good" />
-
-            <LinearLayout
-                android:id="@+id/goodResultsList"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_toRightOf="@id/goodResultsImage"
-                android:orientation="vertical" >
-            </LinearLayout>
-        </RelativeLayout>
-
-        <View
-            android:layout_width="fill_parent"
-            android:layout_height="4dip"
-            android:layout_below="@id/goodSummaryLayout"
-            android:layout_centerVertical="true"
-            android:background="#ffffff" />
-
-        <RelativeLayout
-            android:id="@+id/badSummaryLayout"
-            android:layout_width="fill_parent"
-            android:layout_height="fill_parent"
-            android:layout_below="@id/goodSummaryLayout"
-            android:layout_marginTop="30px"
-            android:orientation="horizontal" >
-
-            <ImageView
-                android:id="@+id/badResultsImage"
-                android:layout_width="150px"
-                android:layout_height="300px"
-                android:src="@drawable/bad" />
-
-            <LinearLayout
-                android:id="@+id/badResultsList"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_toRightOf="@id/badResultsImage"
-                android:orientation="vertical" >
-            </LinearLayout>
-        </RelativeLayout>
-
-        <Button
-            android:id="@+id/viewCrimesListButton"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_below="@id/badSummaryLayout"
-            android:layout_marginTop="30px"
-            android:text="See Details" />
-    </RelativeLayout>
-
-</ScrollView>
\ No newline at end of file
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 3522c84..71216ed 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -21,0 +22 @@ import android.widget.Button;
+import android.widget.ListView;
@@ -25,3 +26 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  public static Location _currLocation;
-  public static String _selectedRadius;
-  public static String _selectedDate;
+  private CustomSetListAdapter _setListAdapter;
@@ -40,0 +40,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    _setListAdapter = new CustomSetListAdapter();
+    ListView viewSetsList = (ListView) findViewById(R.id.viewSetsList);
+    viewSetsList.setAdapter(adapter);
@@ -46 +47,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    
@@ -49 +49,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    
@@ -111,25 +110,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        /*
-        File responseFile = File.createTempFile("results", "json", this.getFilesDir());
-        // Buffers
-        BufferedReader bufReader = new BufferedReader(new InputStreamReader(response.getEntity()
-            .getContent()));  
-        BufferedWriter bufWriter = new BufferedWriter(new FileWriter(responseFile));
-        int nbCharRead = 0;
-        int i = 0;
-        int totalRead = 0;
-        char[] buffer = new char[10000];
-        
-
-        while ((nbCharRead = bufReader.read(buffer, 0, 10000)) != -1) {
-          totalRead += nbCharRead;
-          // System.out.println("buffer = " + String.valueOf(buffer));
-          bufWriter.write(buffer, 0, nbCharRead);
-        }
-
-        if (bufWriter != null) {
-          bufWriter.flush();
-          bufWriter.close();
-        }
-
-        return responseFile.getPath();
-        */
@@ -156 +130,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
@@ -159,2 +132,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
-
diff --git a/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
new file mode 100644
index 0000000..98b2247
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/CustomSetListAdapter.java
@@ -0,0 +1,109 @@
+package com.coacheller;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+
+import android.database.DataSetObserver;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.Adapter;
+import android.widget.ListAdapter;
+
+
+public class CustomSetListAdapter implements ListAdapter {
+
+  private JSONArray _data;
+  private JSONArraySortMap _sortMap;
+  
+  public CustomSetListAdapter() {
+  }
+  
+  public void setData(JSONArray data) {
+    _data = data;
+  }
+  
+  public void sortByField(String fieldName, int dataType) throws JSONException {
+    _sortMap = new JSONArraySortMap(_data, fieldName, dataType);
+  }
+  
+  private void assertInitialized() {
+    if (_data == null) {
+      throw new RuntimeException("Was never initialized");
+    }
+  }
+
+  @Override
+  public int getCount() {
+    // TODO Auto-generated method stub
+    return 0;
+  }
+
+  @Override
+  public Object getItem(int position) {
+    // TODO Auto-generated method stub
+    return null;
+  }
+
+  @Override
+  public long getItemId(int position) {
+    // TODO Auto-generated method stub
+    return 0;
+  }
+
+  @Override
+  public int getItemViewType(int position) {
+    // TODO Auto-generated method stub
+    return 0;
+  }
+
+  @Override
+  public View getView(int position, View convertView, ViewGroup parent) {
+    // TODO Auto-generated method stub
+    return null;
+  }
+
+  @Override
+  public int getViewTypeCount() {
+    // TODO Auto-generated method stub
+    return 0;
+  }
+
+  @Override
+  public boolean hasStableIds() {
+    // TODO Auto-generated method stub
+    return false;
+  }
+
+  @Override
+  public boolean isEmpty() {
+    // TODO Auto-generated method stub
+    return false;
+  }
+
+  @Override
+  public void registerDataSetObserver(DataSetObserver observer) {
+    // TODO Auto-generated method stub
+    
+  }
+
+  @Override
+  public void unregisterDataSetObserver(DataSetObserver observer) {
+    // TODO Auto-generated method stub
+    
+  }
+
+  @Override
+  public boolean areAllItemsEnabled() {
+    // TODO Auto-generated method stub
+    return false;
+  }
+
+  @Override
+  public boolean isEnabled(int position) {
+    // TODO Auto-generated method stub
+    return false;
+  }
+  
+  
+
+}
5ccd9399e36ad7e0dcf8aaeb23f91f1dc0a8bc9f
diff --git a/Coacheller-Android/res/layout/sets_list.xml b/Coacheller-Android/res/layout/sets_list.xml
index 5f6ed7f..0f15c93 100644
--- a/Coacheller-Android/res/layout/sets_list.xml
+++ b/Coacheller-Android/res/layout/sets_list.xml
@@ -19 +19 @@
-
+
@@ -21 +21 @@
-            android:id="@+id/button1"
+            android:id="@+id/buttonChangeToSearchSets"
@@ -25 +25 @@
-            android:text="findothersetstext" />
+            android:text="Find Other Sets" />
@@ -40 +40 @@
-
+
@@ -46 +46 @@
-                android:text="sortbytext"
+                android:text="Sort By:"
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 8438f58..3522c84 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -4,3 +3,0 @@ import java.io.BufferedReader;
-import java.io.BufferedWriter;
-import java.io.File;
-import java.io.FileWriter;
@@ -19,0 +17 @@ import android.app.Activity;
+import android.content.Intent;
@@ -23,2 +21 @@ import android.view.View;
-import android.widget.EditText;
-import android.widget.Spinner;
+import android.widget.Button;
@@ -44,0 +42,5 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    Button submitButton = (Button) this.findViewById(R.id.buttonChangeToSearchSets);
+    submitButton.setOnClickListener(this);
+    
+    //JSON Request Crap is ideally done in another thread
+    
@@ -57 +59 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        CoachellerApplication.debug(this, sortMapArtist.getSortedStringValue(i).toString());
+        CoachellerApplication.debug(this, sortMapArtist.getSortedJSONObj(i).toString());
@@ -62 +64 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        CoachellerApplication.debug(this, sortMapId.getSortedIntValue(i).toString());
+        CoachellerApplication.debug(this, sortMapId.getSortedJSONObj(i).toString());
@@ -149 +151,9 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    // TODO Auto-generated method stub
+    if (arg0.getId() == R.id.buttonChangeToSearchSets) {
+      System.out.println("Button: Find Other Sets");
+      Intent intent = new Intent();
+      intent.setClass(this, ActivitySetsSearch.class);
+    //intent.putExtras(bun);
+
+    startActivity(intent);
+    }
+
diff --git a/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java b/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java
index 90a5e70..3ca3649 100644
--- a/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java
+++ b/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java
@@ -49 +49 @@ public class JSONArraySortMap {
-      System.out.println(i + " || " + value.toString());
+      //System.out.println(i + " || " + value.toString());
@@ -75,4 +75,4 @@ public class JSONArraySortMap {
-  public JSONObject getSortedIntValue(int index) throws JSONException {
-    if (_valueType != VALUE_INTEGER) {
-      throw new RuntimeException();
-    }
+  public JSONObject getSortedJSONObj(int index) throws JSONException {
+    //if (_valueType != VALUE_INTEGER) {
+      //throw new RuntimeException();
+    //}
@@ -83,0 +84,2 @@ public class JSONArraySortMap {
+  //Redundant, did not need
+  /*
@@ -91,0 +94 @@ public class JSONArraySortMap {
+  */
fa9d91f5a992c8c1eef7439a5e85a493d19b2fe2
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 13aada8..8438f58 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -53,3 +53,11 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
-
-      JSONArraySortMap sortMap = new JSONArraySortMap(results, "artist", JSONArraySortMap.VALUE_STRING);
+      
+      
+      JSONArraySortMap sortMapArtist = new JSONArraySortMap(results, "artist", JSONArraySortMap.VALUE_STRING);
+      for (int i = 0; i < results.length(); i++) {  
+        CoachellerApplication.debug(this, sortMapArtist.getSortedStringValue(i).toString());
+      }
+      
+      JSONArraySortMap sortMapId = new JSONArraySortMap(results, "id", JSONArraySortMap.VALUE_INTEGER);
+      for (int i = 0; i < results.length(); i++) {  
+        CoachellerApplication.debug(this, sortMapId.getSortedIntValue(i).toString());
+      }
diff --git a/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java b/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java
index c54d2c2..90a5e70 100644
--- a/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java
+++ b/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java
@@ -48,0 +49 @@ public class JSONArraySortMap {
+      System.out.println(i + " || " + value.toString());
@@ -62,3 +63,3 @@ public class JSONArraySortMap {
-              String aValue = (String)pairA.second;
-              String bValue = (String)pairB.second;
-              return aValue.compareTo(bValue);
+              String aValue = (String)(pairA.second);
+              String bValue = (String)(pairB.second);
+              return aValue.toLowerCase().compareTo(bValue.toLowerCase());
@@ -74 +75 @@ public class JSONArraySortMap {
-  public int getSortedIntValue(int index) throws JSONException {
+  public JSONObject getSortedIntValue(int index) throws JSONException {
@@ -79,2 +80,2 @@ public class JSONArraySortMap {
-    Integer indexToReturn = (Integer) _pairs.get(index).second;
-    return _arrayToSort.getInt(indexToReturn);
+    Integer indexToReturn = (Integer) _pairs.get(index).first;
+    return _arrayToSort.getJSONObject(indexToReturn);
@@ -83 +84 @@ public class JSONArraySortMap {
-  public String getSortedStringValue(int index) throws JSONException {
+  public JSONObject getSortedStringValue(int index) throws JSONException {
@@ -88,2 +89,2 @@ public class JSONArraySortMap {
-    Integer indexToReturn = (Integer) _pairs.get(index).second;
-    return _arrayToSort.getString(indexToReturn);
+    Integer indexToReturn = (Integer) _pairs.get(index).first;
+    return _arrayToSort.getJSONObject(indexToReturn);
diff --git a/android.jar b/android.jar
new file mode 100644
index 0000000..24ae563
Binary files /dev/null and b/android.jar differ
diff --git a/gson-2.1.jar b/gson-2.1.jar
new file mode 100644
index 0000000..b85f091
Binary files /dev/null and b/gson-2.1.jar differ
34f890312ad0dd831d2c6c1fcbb71ca112c49773
diff --git a/Coacheller-Android/lib/gson-2.1.jar b/Coacheller-Android/lib/gson-2.1.jar
deleted file mode 100644
index b85f091..0000000
Binary files a/Coacheller-Android/lib/gson-2.1.jar and /dev/null differ
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index ec00ff4..13aada8 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -8 +7,0 @@ import java.io.InputStreamReader;
-import java.util.Calendar;
@@ -15,0 +15,3 @@ import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+import org.json.JSONTokener;
@@ -18,2 +19,0 @@ import android.app.Activity;
-import android.content.Context;
-import android.content.Intent;
@@ -21,2 +20,0 @@ import android.location.Location;
-import android.location.LocationListener;
-import android.location.LocationManager;
@@ -25,3 +22,0 @@ import android.view.View;
-import android.widget.AdapterView;
-import android.widget.ArrayAdapter;
-import android.widget.Button;
@@ -30 +24,0 @@ import android.widget.Spinner;
-import android.widget.Toast;
@@ -42 +36 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    
+
@@ -47,6 +40,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  
-
-  
-
-
-
@@ -55,3 +42,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  }
-
-
@@ -58,0 +44,9 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    
+    JSONArray results = sendHttpRequestToServer();
+    
+    
+    try {
+      
+      JSONObject obj = results.getJSONObject(0);
+      CoachellerApplication.debug(this, obj.toString());
+      CoachellerApplication.debug(this, obj.names().toString());
@@ -60,0 +55,6 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      JSONArraySortMap sortMap = new JSONArraySortMap(results, "artist", JSONArraySortMap.VALUE_STRING);
+      
+    } catch (JSONException e) {
+      // TODO Auto-generated catch block
+      e.printStackTrace();
+    }
@@ -61,0 +62 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  }
@@ -69 +70 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  private String sendHttpRequestToServer(View v) {
+  private JSONArray sendHttpRequestToServer() {
@@ -72,6 +72,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    JSONArray jsonObjs = new JSONArray();
-
-    EditText addr = (EditText) this.findViewById(R.id.addressText);
-    Spinner dist = (Spinner) this.findViewById(R.id.distanceList);
-    String currentAddress = addr.getText().toString();
-
@@ -87 +82 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      String requestString = "HTTPGet = http://ratethisfest.appspot.com/coachellerServlet?year="
+      String requestString = "http://ratethisfest.appspot.com/coachellerServlet?year="
@@ -89 +84 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      CoachellerApplication.debug(this, requestString);
+      CoachellerApplication.debug(this, "HTTPGet = " +requestString);
@@ -92 +87 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-
+      
@@ -94,0 +90,12 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        CoachellerApplication.debug(this, "Received HTTP Response");
+        
+        BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity().getContent(), "UTF-8"));
+        StringBuilder builder = new StringBuilder();
+        for (String line = null; (line = reader.readLine()) != null;) {
+            builder.append(line).append("\n");
+        }
+        JSONTokener tokener = new JSONTokener(builder.toString());
+        JSONArray finalResult = new JSONArray(tokener);     
+        return finalResult;
+  
+        /*
@@ -98 +105 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-            .getContent()));
+            .getContent()));  
@@ -103,0 +111 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        
@@ -116,0 +125 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+        */
@@ -133 +142 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    
+
diff --git a/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java b/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java
new file mode 100644
index 0000000..c54d2c2
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/JSONArraySortMap.java
@@ -0,0 +1,91 @@
+package com.coacheller;
+
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.Comparator;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import android.util.Pair;
+
+
+
+public class JSONArraySortMap {
+  
+  final public static int VALUE_INTEGER = 0;
+  final public static int VALUE_STRING = 1;
+ 
+  private ArrayList<Pair<Integer, Object>> _pairs = new ArrayList<Pair<Integer, Object>>();
+  JSONArray _arrayToSort;
+  private String _parameterToSort;
+  private int _valueType;
+  
+  
+  public JSONArraySortMap(JSONArray arraySort, String parameterSort, int valType) throws JSONException {
+    //init
+    _arrayToSort = arraySort;
+    _valueType = valType;
+    _parameterToSort = parameterSort;
+    
+    if (_valueType < 0 || 1 < _valueType ) {
+      throw new RuntimeException();
+    }
+    
+    
+    //read values in
+    for (int i = 0; i < _arrayToSort.length(); i++) {
+      JSONObject currentObj = _arrayToSort.getJSONObject(i);
+      Object value = null;
+      
+      if (_valueType == VALUE_INTEGER) {
+        value = currentObj.getInt(_parameterToSort);
+      } else if (_valueType == VALUE_STRING) {
+        value = currentObj.getString(_parameterToSort);
+      }
+      
+      Pair<Integer, Object> nextPair = new Pair<Integer, Object>(i, value);
+      _pairs.add(nextPair);
+      
+    }
+    
+    Comparator<Pair<Integer, Object>> comparator = new Comparator<Pair<Integer, Object>>() {
+
+        public int compare(Pair<Integer, Object> pairA, Pair<Integer, Object> pairB)
+        {
+            if (_valueType == VALUE_INTEGER) {
+              Integer aValue = (Integer)pairA.second;
+              Integer bValue = (Integer)pairB.second;
+              return aValue.compareTo(bValue);
+            } else if (_valueType == VALUE_STRING) {
+              String aValue = (String)pairA.second;
+              String bValue = (String)pairB.second;
+              return aValue.compareTo(bValue);
+            } else {
+              throw new RuntimeException();
+            }
+        }
+    };
+
+    Collections.sort(_pairs, comparator);
+  }
+
+  public int getSortedIntValue(int index) throws JSONException {
+    if (_valueType != VALUE_INTEGER) {
+      throw new RuntimeException();
+    }
+    
+    Integer indexToReturn = (Integer) _pairs.get(index).second;
+    return _arrayToSort.getInt(indexToReturn);
+  }
+  
+  public String getSortedStringValue(int index) throws JSONException {
+    if (_valueType != VALUE_STRING) {
+      throw new RuntimeException();
+    }
+    
+    Integer indexToReturn = (Integer) _pairs.get(index).second;
+    return _arrayToSort.getString(indexToReturn);
+  }
+}
diff --git a/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/Coacheller.css b/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/Coacheller.css
new file mode 100644
index 0000000..384f58b
--- /dev/null
+++ b/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/Coacheller.css
@@ -0,0 +1,38 @@
+@CHARSET "UTF-8";
+.header {
+	font-weight: bold;
+	font-size: 18px;
+	color: black;
+	margin-bottom: 14px;
+}
+
+.header_mobile {
+	font-weight: bold;
+	font-size: 16px;
+	color: black;
+	margin-bottom: 12px;
+}
+
+.label {
+	font-weight: bold;
+	font-size: 14px;
+	margin-bottom: 6px;
+}
+
+.text {
+	font-size: 14px;
+	margin-bottom: 6px;
+}
+
+.button {
+	font-size: 14px;
+	margin-top: 10px;
+	margin-right: 4px;
+	margin-bottom: 4px;
+}
+
+.info {
+	font-style: italic;
+	margin-top: 10px;
+	margin-bottom: 10px;
+}
\ No newline at end of file
diff --git a/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/CoachellerEmailComposite.ui.xml b/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/CoachellerEmailComposite.ui.xml
new file mode 100644
index 0000000..fe767d2
--- /dev/null
+++ b/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/CoachellerEmailComposite.ui.xml
@@ -0,0 +1,32 @@
+<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
+	xmlns:c='urn:import:com.google.gwt.cell.client' xmlns:g='urn:import:com.google.gwt.user.client.ui'
+	xmlns:t='urn:import:com.coacheller.client' xmlns:d='urn:import:com.google.gwt.user.datepicker.client'>
+
+	<ui:style src="Coacheller.css" />
+		
+	<g:HTMLPanel>
+		<div id="container" align="center">
+			<div id="android"></div>
+			<div class="appname">
+				<g:Label ui:field="title" addStyleNames="{style.header_mobile}" />
+			</div>
+			<div class="roundrect">
+				<div class="inputcell">
+					<g:Label ui:field="emailLabel" addStyleNames="{style.label}" />
+					<g:TextBox ui:field="userEmailAddressInput"
+						addStyleNames="{style.text}" />
+				</div>
+				<div class="buttoncell">
+					<g:Button ui:field="submitButton" text="Let's Rate!"
+						addStyleNames="{style.button}" />
+					<g:Button ui:field="backButton" text="Cancel"
+						addStyleNames="{style.button}" />
+				</div>
+				<div class="infocell">
+					<g:Label ui:field="infoBox" addStyleNames="{style.info}" />
+				</div>
+			</div>
+		</div>
+	</g:HTMLPanel>
+
+</ui:UiBinder>
diff --git a/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/CoachellerRateComposite.ui.xml b/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/CoachellerRateComposite.ui.xml
new file mode 100644
index 0000000..27ebc37
--- /dev/null
+++ b/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/CoachellerRateComposite.ui.xml
@@ -0,0 +1,40 @@
+<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
+	xmlns:c='urn:import:com.google.gwt.cell.client' xmlns:g='urn:import:com.google.gwt.user.client.ui'
+	xmlns:t='urn:import:com.coacheller.client' xmlns:d='urn:import:com.google.gwt.user.datepicker.client'>
+
+	<ui:style src="Coacheller.css" />
+	<g:HTMLPanel>
+		<div id="container" align="center">
+			<div id="android"></div>
+			<div class="appname">
+				<g:Label ui:field="title" addStyleNames="{style.header_mobile}" />
+			</div>
+			<div class="roundrect">
+				<div class="inputcell">
+					<g:Label ui:field="emailLabel" addStyleNames="{style.info}" />
+				</div>
+				<div class="inputcell">
+					<g:ListBox ui:field="artistInput" addStyleNames="{style.text}" />
+				</div>
+				<div class="inputcell">
+					<g:Label ui:field="weekendLabel" addStyleNames="{style.label}" />
+					<g:ListBox ui:field="weekendInput" addStyleNames="{style.text}" />
+				</div>
+				<div class="inputcell">
+					<g:Label ui:field="scoreLabel" addStyleNames="{style.label}" />
+					<g:ListBox ui:field="scoreInput" addStyleNames="{style.text}" />
+				</div>
+				<div class="buttoncell">
+					<g:Button ui:field="addRatingButton" text="Add Rating" addStyleNames="{style.button}" />
+					<!--g:Button ui:field="clearRatingButton" text="Clear Ratings" /-->
+					<!--g:Button ui:field="clearUserButton" text="Clear Users" /-->
+					<g:Button ui:field="backButton" text="Back" addStyleNames="{style.button}" />
+				</div>
+				<div class="infocell">
+					<g:Label ui:field="infoBox" addStyleNames="{style.info}" />
+				</div>
+			</div>
+		</div>
+	</g:HTMLPanel>
+
+</ui:UiBinder>
diff --git a/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/CoachellerViewComposite.ui.xml b/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/CoachellerViewComposite.ui.xml
new file mode 100644
index 0000000..df39966
--- /dev/null
+++ b/Coacheller-AppEngine/war/WEB-INF/classes/com/coacheller/client/CoachellerViewComposite.ui.xml
@@ -0,0 +1,44 @@
+<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
+	xmlns:c='urn:import:com.google.gwt.cell.client' xmlns:g='urn:import:com.google.gwt.user.client.ui'
+	xmlns:t='urn:import:com.coacheller.client' xmlns:d='urn:import:com.google.gwt.user.datepicker.client'
+	xmlns:v='urn:import:com.google.gwt.visualization.client.visualizations.corechart'>
+
+	<ui:style src="Coacheller.css" />
+		
+	<g:HTMLPanel>
+		<div id="container" align="center">
+			<div id="android"></div>
+			<div class="appname">
+				<g:Label ui:field="title" addStyleNames="{style.header}" />
+			</div>
+			<div class="roundrect">
+				<div class="inputcell">
+					<g:ListBox ui:field="dayInput" addStyleNames="{style.text}" />
+					<g:Button ui:field="queryButton" text="Retrieve Sets"
+						addStyleNames="{style.button}" />
+				</div>
+				<div class="buttoncell">
+					<!--g:Button ui:field="recalculateButton" text="Recalculate Scores" 
+						/ -->
+					<g:Button ui:field="rateButton" text="Rate a Set"
+						addStyleNames="{style.button}" />
+				</div>
+				<div class="infocell">
+					<g:Label ui:field="infoBox" addStyleNames="{style.info}" />
+				</div>
+				<div class="inputcell">
+					Sort By
+					<g:ListBox ui:field="chartTypeInput" />
+				</div>
+				<div class="chartcell">
+					<g:SimplePanel ui:field="setsChartPanel" />
+				</div>
+				<div class="tablecell">
+					<t:CoachellerViewComposite.SetsTable
+						ui:field="setsTable" />
+				</div>
+			</div>
+		</div>
+	</g:HTMLPanel>
+
+</ui:UiBinder>
1a7a1890ffe9628d41b30a4283a3ce4083994345
diff --git a/Coacheller-Android/AndroidManifest.xml b/Coacheller-Android/AndroidManifest.xml
index 41c3a96..68b3e3e 100644
--- a/Coacheller-Android/AndroidManifest.xml
+++ b/Coacheller-Android/AndroidManifest.xml
@@ -27 +27 @@
-        <activity android:name="ActivitySets"></activity>
+        <activity android:name=".ActivitySetsSearch"></activity>
diff --git a/Coacheller-Android/res/layout/sets_list.xml b/Coacheller-Android/res/layout/sets_list.xml
index 5510fee..5f6ed7f 100644
--- a/Coacheller-Android/res/layout/sets_list.xml
+++ b/Coacheller-Android/res/layout/sets_list.xml
@@ -6,15 +5,0 @@
-
-    <LinearLayout
-        android:id="@+id/LinearLayout1"
-        android:layout_width="fill_parent"
-        android:layout_height="wrap_content"
-        android:layout_gravity="right"
-        android:baselineAligned="false"
-        android:gravity="center" >
-
-        <TextView
-            android:id="@+id/textView1"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="Date and Day of Performances"
-            android:textAppearance="?android:attr/textAppearanceLarge" />
@@ -22,3 +7,8 @@
-    </LinearLayout>
-
-    <LinearLayout
+    <TextView
+        android:id="@+id/textView1"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="Date and Day of Performances"
+        android:textAppearance="?android:attr/textAppearanceLarge" />
+
+    <TableRow
@@ -29 +19 @@
-
+
@@ -35 +25 @@
-            android:text="findothersetstext" />
+            android:text="findothersetstext" />
@@ -38 +28 @@
-            android:id="@+id/layout_sets_sort"
+            android:id="@+id/layout_sets_sort_spacer"
@@ -40,0 +31,8 @@
+            android:layout_weight="1"
+            android:orientation="vertical" >
+        </LinearLayout>
+
+        <LinearLayout
+            android:id="@+id/layout_sets_sort_box"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
@@ -47 +45 @@
-                android:layout_gravity="right"
+                android:gravity="right"
@@ -54,2 +52 @@
-                android:layout_height="wrap_content"
-                android:layout_gravity="right" />
+                android:layout_height="wrap_content" />
@@ -56,0 +54 @@
+    </TableRow>
@@ -58,7 +56,5 @@
-    </LinearLayout>
-
-    <LinearLayout
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:orientation="vertical" >
-    </LinearLayout>
+    <ListView
+        android:id="@+id/listView1"
+        android:layout_width="fill_parent"
+        android:layout_height="fill_parent" >
+    </ListView>
diff --git a/Coacheller-Android/src/com/coacheller/ActivitySets.java b/Coacheller-Android/src/com/coacheller/ActivitySets.java
deleted file mode 100644
index 0578fe0..0000000
--- a/Coacheller-Android/src/com/coacheller/ActivitySets.java
+++ /dev/null
@@ -1,16 +0,0 @@
-package com.coacheller;
-
-import android.app.Activity;
-import android.os.Bundle;
-
-public class ActivitySets extends Activity {
-
-  /** Called when the activity is first created. */
-  @Override
-  public void onCreate(Bundle savedInstanceState) {
-      super.onCreate(savedInstanceState);
-  
-      // TODO Auto-generated method stub
-  }
-
-}
diff --git a/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
new file mode 100644
index 0000000..361ffec
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/ActivitySetsSearch.java
@@ -0,0 +1,148 @@
+package com.coacheller;
+
+import java.util.Calendar;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.widget.AdapterView;
+import android.widget.ArrayAdapter;
+import android.widget.Button;
+import android.widget.EditText;
+import android.widget.Spinner;
+import android.widget.Toast;
+
+public class ActivitySetsSearch extends Activity implements OnClickListener {
+
+  /** Called when the activity is first created. */
+  @Override
+  public void onCreate(Bundle savedInstanceState) {
+      super.onCreate(savedInstanceState);
+  
+      CoachellerApplication.debug(this, "Search Sets Activity Launched");
+      this.initializeApp();
+  }
+  
+  
+  public void initializeApp() {
+    setContentView(R.layout.sets_search);
+    Calendar cal = Calendar.getInstance();
+
+    // Setup Week Spinner
+    Spinner weekendSpinner = (Spinner) this.findViewById(R.id.search_spinner_week);
+    CoachellerApplication.populateSpinnerWithArray(weekendSpinner, R.array.names_week);
+    weekendSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+
+      @Override
+      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
+        // TODO: save selection in memory
+        CoachellerApplication.debug(parent.getContext(),
+            "Week Selected: " + parent.getSelectedItem());
+      }
+
+      @Override
+      public void onNothingSelected(AdapterView<?> parent) {
+        CoachellerApplication.debug(parent.getContext(), "No Week Selected - Unexpected condition");
+      }
+    });
+
+    // Detect which week we are in
+    // Hard coded, so I am probably going to hell,
+    // but the error is not fatal next year
+    // TODO un-hardcode day of month value
+    if (cal.get(Calendar.DAY_OF_MONTH) < 19) {
+
+      CoachellerApplication.debug(this, "Date suggests week 1");
+      weekendSpinner.setSelection(0);
+
+    } else {
+      CoachellerApplication.debug(this, "Date suggests week 2");
+      weekendSpinner.setSelection(1);
+    }
+
+    // Setup day spinner
+    Spinner daySpinner = (Spinner) this.findViewById(R.id.search_spinner_day);
+    CoachellerApplication.populateSpinnerWithArray(daySpinner, R.array.names_day);
+    daySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+
+      @Override
+      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
+        // TODO Save selection in memory
+        CoachellerApplication.debug(parent.getContext(),
+            "Day Selected: " + parent.getSelectedItem());
+      }
+
+      @Override
+      public void onNothingSelected(AdapterView<?> parent) {
+        CoachellerApplication.debug(parent.getContext(), "No Day Selected - Unexpected condition");
+      }
+    });
+
+    int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);
+    if (dayOfWeek == Calendar.FRIDAY) {
+      daySpinner.setSelection(0);
+    } else if (dayOfWeek == Calendar.SATURDAY) {
+      daySpinner.setSelection(1);
+    } else if (dayOfWeek == Calendar.SUNDAY) {
+      daySpinner.setSelection(2);
+    } else {
+      // Select Friday
+      daySpinner.setSelection(0);
+    }
+
+    // Register "this" as the onClick listener for search button
+    Button searchButton = (Button) this.findViewById(R.id.sets_search_button_search);
+    searchButton.setOnClickListener(this);
+  }
+  
+  /**
+   * Fires when the Search ("Go!") button is pressed, this object is the OnClick
+   * listener.
+   * 
+   * @param v
+   */
+
+  public void onClick(View v) {
+    if (v.getId() == R.id.sets_search_button_search) {
+      CoachellerApplication.debug(this, "Search button pressed");
+
+      try {
+        String results = "";
+        Intent intent = new Intent();
+        Bundle bun = new Bundle();
+
+        bun.putString("results", results); // add two parameters: a
+                                           // string and a boolean
+        EditText addr = (EditText) this.findViewById(R.id.addressText);
+        String currentAddress = addr.getText().toString();
+
+        //bun.putString("year", _selectedDate);
+       //bun.putString("radius", _selectedRadius);
+
+        /*
+         * Check if the current address entered is actually in San Diego
+         */
+        /*
+         * if (latlong[0] >= 33.427045 || latlong[1] <= -117.612003 ||
+         * latlong[0] <= 32 || latlong[1] >= -116.0775811) { Toast notInSD =
+         * Toast.makeText(this, "Currently only supporting San Diego locations",
+         * 5); notInSD.show(); } else {
+         */
+        // intent.setClass(this, SDCrimeSummaryActivity.class);
+        intent.putExtras(bun);
+        startActivity(intent);
+        // }
+      } catch (Exception e) {
+        e.printStackTrace();
+        Toast addrNotFound = Toast.makeText(this, "Address Not Found", 5);
+        addrNotFound.show();
+      }
+    } else {
+      CoachellerApplication.debug(this, "An unknown button was pressed - Unexpected");
+    }
+
+  }
+
+}
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 4fc1960..ec00ff4 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -42,5 +42,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    CoachellerApplication.debug(this, "App Launched");
-
-    this.createLocationManager(); // TODO: get rid of this?
-    this.initializeApp();
-
+    
+    CoachellerApplication.debug(this, "CoachellerActivity Launched");
+    initializeApp();
@@ -49,21 +47 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  public void initializeApp() {
-    setContentView(R.layout.sets_search);
-    Calendar cal = Calendar.getInstance();
-
-    // Setup Week Spinner
-    Spinner weekendSpinner = (Spinner) this.findViewById(R.id.search_spinner_week);
-    populateSpinnerWithArray(weekendSpinner, R.array.names_week);
-    weekendSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
-
-      @Override
-      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
-        // TODO: save selection in memory
-        CoachellerApplication.debug(parent.getContext(),
-            "Week Selected: " + parent.getSelectedItem());
-      }
-
-      @Override
-      public void onNothingSelected(AdapterView<?> parent) {
-        CoachellerApplication.debug(parent.getContext(), "No Week Selected - Unexpected condition");
-      }
-    });
+  
@@ -71,5 +49 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    // Detect which week we are in
-    // Hard coded, so I am probably going to hell,
-    // but the error is not fatal next year
-    // TODO un-hardcode day of month value
-    if (cal.get(Calendar.DAY_OF_MONTH) < 19) {
+  
@@ -77,2 +50,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      CoachellerApplication.debug(this, "Date suggests week 1");
-      weekendSpinner.setSelection(0);
@@ -80,4 +51,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    } else {
-      CoachellerApplication.debug(this, "Date suggests week 2");
-      weekendSpinner.setSelection(1);
-    }
@@ -85,4 +53,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    // Setup day spinner
-    Spinner daySpinner = (Spinner) this.findViewById(R.id.search_spinner_day);
-    populateSpinnerWithArray(daySpinner, R.array.names_day);
-    daySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+  private void initializeApp() {
+    setContentView(R.layout.sets_list);
+  }
@@ -90,6 +56,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      @Override
-      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
-        // TODO Save selection in memory
-        CoachellerApplication.debug(parent.getContext(),
-            "Day Selected: " + parent.getSelectedItem());
-      }
@@ -97,17 +57,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      @Override
-      public void onNothingSelected(AdapterView<?> parent) {
-        CoachellerApplication.debug(parent.getContext(), "No Day Selected - Unexpected condition");
-      }
-    });
-
-    int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);
-    if (dayOfWeek == Calendar.FRIDAY) {
-      daySpinner.setSelection(0);
-    } else if (dayOfWeek == Calendar.SATURDAY) {
-      daySpinner.setSelection(1);
-    } else if (dayOfWeek == Calendar.SUNDAY) {
-      daySpinner.setSelection(2);
-    } else {
-      // Select Friday
-      daySpinner.setSelection(0);
-    }
@@ -115,4 +58,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    // Register "this" as the onClick listener for search button
-    Button searchButton = (Button) this.findViewById(R.id.sets_search_button_search);
-    searchButton.setOnClickListener(this);
-  }
@@ -120,14 +59,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  /**
-   * populateSpinnerWithArray Populates dropdown boxes with options, based on
-   * string arrays.
-   * 
-   * @param spinner
-   * @param stringArrayResId
-   */
-  public static void populateSpinnerWithArray(Spinner spinner, int stringArrayResId) {
-    ArrayAdapter<String> adapter = new ArrayAdapter<String>(spinner.getContext(),
-        android.R.layout.simple_spinner_item, spinner.getContext().getResources()
-            .getStringArray(stringArrayResId));
-    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-    spinner.setAdapter(adapter);
-  }
@@ -135,45 +60,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  /**
-   * Fires when the Search ("Go!") button is pressed, this object is the OnClick
-   * listener.
-   * 
-   * @param v
-   */
-
-  public void onClick(View v) {
-    if (v.getId() == R.id.sets_search_button_search) {
-      CoachellerApplication.debug(this, "Search button pressed");
-
-      try {
-        String results = this.sendHttpRequestToServer(v);
-        Intent intent = new Intent();
-        Bundle bun = new Bundle();
-
-        bun.putString("results", results); // add two parameters: a
-                                           // string and a boolean
-        EditText addr = (EditText) this.findViewById(R.id.addressText);
-        String currentAddress = addr.getText().toString();
-
-        bun.putString("year", _selectedDate);
-        bun.putString("radius", _selectedRadius);
-
-        /*
-         * Check if the current address entered is actually in San Diego
-         */
-        /*
-         * if (latlong[0] >= 33.427045 || latlong[1] <= -117.612003 ||
-         * latlong[0] <= 32 || latlong[1] >= -116.0775811) { Toast notInSD =
-         * Toast.makeText(this, "Currently only supporting San Diego locations",
-         * 5); notInSD.show(); } else {
-         */
-        // intent.setClass(this, SDCrimeSummaryActivity.class);
-        intent.putExtras(bun);
-        startActivity(intent);
-        // }
-      } catch (Exception e) {
-        e.printStackTrace();
-        Toast addrNotFound = Toast.makeText(this, "Address Not Found", 5);
-        addrNotFound.show();
-      }
-    } else {
-      CoachellerApplication.debug(this, "An unknown button was pressed - Unexpected");
-    }
@@ -181 +61,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  }
@@ -250,122 +130,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  // ///////Not needed for Coacheller for Android, Saved for Example
-  // /TODO: Delete from source
-
-  public void onClickOld(View v) {
-    if (v.getId() == R.id.submitButton) {
-      try {
-        String results = this.sendHttpRequestToServer(v);
-        Intent intent = new Intent();
-        Bundle bun = new Bundle();
-
-        bun.putString("results", results); // add two parameters: a
-                                           // string and a boolean
-        EditText addr = (EditText) this.findViewById(R.id.addressText);
-        String currentAddress = addr.getText().toString();
-
-        bun.putString("year", _selectedDate);
-        bun.putString("radius", _selectedRadius);
-
-        /*
-         * Check if the current address entered is actually in San Diego
-         */
-        /*
-         * if (latlong[0] >= 33.427045 || latlong[1] <= -117.612003 ||
-         * latlong[0] <= 32 || latlong[1] >= -116.0775811) { Toast notInSD =
-         * Toast.makeText(this, "Currently only supporting San Diego locations",
-         * 5); notInSD.show(); } else {
-         */
-        // intent.setClass(this, SDCrimeSummaryActivity.class);
-        intent.putExtras(bun);
-        startActivity(intent);
-        // }
-      } catch (Exception e) {
-        e.printStackTrace();
-        Toast addrNotFound = Toast.makeText(this, "Address Not Found", 5);
-        addrNotFound.show();
-      }
-    }
-
-  }
-
-  // Register app for location updates, not needed for Coacheller
-  public void createLocationManager() {
-    // Acquire a reference to the system Location Manager
-    LocationManager locationManager = (LocationManager) this
-        .getSystemService(Context.LOCATION_SERVICE);
-
-    // Define a listener that responds to location updates
-    LocationListener locationListener = new LocationListener() {
-      public void onLocationChanged(Location location) {
-        // Called when a new location is found by the network location provider.
-        updateAddressWithCurrentLocation(location);
-      }
-
-      public void onStatusChanged(String provider, int status, Bundle extras) {
-      }
-
-      public void onProviderEnabled(String provider) {
-      }
-
-      public void onProviderDisabled(String provider) {
-      }
-    };
-
-    // Register the listener with the Location Manager to receive location
-    // updates
-    locationManager
-        .requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);
-  }
-
-  /**
-   * Take user to landing page for SD Crime Zone. Populate the dropdown boxes
-   * (Distance and Date)
-   */
-  public void initializeAppOld() {
-
-    setContentView(R.layout.main);
-
-    // get current GPS coordinates and set as default for app
-    EditText currLocationText = (EditText) this.findViewById(R.id.addressText);
-    currLocationText.setText(getString(R.string.defaultLocation));
-
-    // the distance dropdown list
-    Spinner distanceList = (Spinner) this.findViewById(R.id.distanceList);
-    populateSpinnerWithArray(distanceList, R.array.distanceArray);
-    distanceList.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
-      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
-        _selectedRadius = parent.getSelectedItem().toString();
-        _selectedRadius = _selectedRadius.replaceFirst("\\smile", "");
-      }
-
-      public void onNothingSelected(AdapterView<?> parent) {
-        parent.setSelection(0);
-        _selectedRadius = parent.getSelectedItem().toString();
-        _selectedRadius = _selectedRadius.replaceFirst("\\smile", "");
-      }
-    });
-
-    // the year dropdown list
-    Spinner dateList = (Spinner) this.findViewById(R.id.datesList);
-    populateSpinnerWithArray(dateList, R.array.dateArray);
-    dateList.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
-      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
-        _selectedDate = parent.getSelectedItem().toString();
-      }
-
-      public void onNothingSelected(AdapterView<?> parent) {
-        // parent.setSelection(0);
-        _selectedDate = parent.getSelectedItem().toString();
-      }
-    });
-    Button submitButton = (Button) this.findViewById(R.id.submitButton);
-    submitButton.setOnClickListener(this);
-  }
-
-  public void updateAddressWithCurrentLocation(Location location) {
-    EditText addrText = (EditText) this.findViewById(R.id.addressText);
-    if (addrText != null
-        && addrText.getText().toString().equals(getString(R.string.defaultLocation))) {
-      _currLocation = location;
-    }
-    // this.debug("Location= " + String.valueOf(location.getLatitude())
-    // + ", " + String.valueOf(location.getLongitude()));
+  @Override
+  public void onClick(View arg0) {
+    // TODO Auto-generated method stub
+    
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerApplication.java b/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
index 94e3fe0..a4afb6e 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
@@ -5,0 +6,2 @@ import android.util.Log;
+import android.widget.ArrayAdapter;
+import android.widget.Spinner;
@@ -11,0 +14,15 @@ public class CoachellerApplication extends Application {
+  
+  /**
+   * populateSpinnerWithArray Populates dropdown boxes with options, based on
+   * string arrays.
+   * 
+   * @param spinner
+   * @param stringArrayResId
+   */
+  public static void populateSpinnerWithArray(Spinner spinner, int stringArrayResId) {
+    ArrayAdapter<String> adapter = new ArrayAdapter<String>(spinner.getContext(),
+        android.R.layout.simple_spinner_item, spinner.getContext().getResources()
+            .getStringArray(stringArrayResId));
+    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+    spinner.setAdapter(adapter);
+  }
diff --git a/Coacheller-AppEngine/gwt-unitCache/gwt-unitCache-00000136946767AA b/Coacheller-AppEngine/gwt-unitCache/gwt-unitCache-00000136946767AA
new file mode 100644
index 0000000..e69de29
diff --git a/Coacheller-AppEngine/gwt-unitCache/gwt-unitCache-000001369468620D b/Coacheller-AppEngine/gwt-unitCache/gwt-unitCache-000001369468620D
new file mode 100644
index 0000000..e69de29
diff --git a/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifest.txt b/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifest.txt
index 797c85f..637c9a9 100644
--- a/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifest.txt
+++ b/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifest.txt
@@ -3,4 +2,0 @@
-<<<<<<< HEAD
-=======
-com.coacheller.client.CoachellerService, 509B472B666E2F402D9EFD97760540AD.gwt.rpc
->>>>>>> 06b6c2989ae9d3e40f36ea7c126c568d8e2912bc
ec51b743780c6e0b350d1751ebf528cdf7a03a79
diff --git a/Coacheller-Android/AndroidManifest.xml b/Coacheller-Android/AndroidManifest.xml
index 222adda..41c3a96 100644
--- a/Coacheller-Android/AndroidManifest.xml
+++ b/Coacheller-Android/AndroidManifest.xml
@@ -19 +19 @@
-            android:name=".CoachellerActivity"
+            android:name="CoachellerActivity"
@@ -26,0 +27 @@
+        <activity android:name="ActivitySets"></activity>
diff --git a/Coacheller-Android/res/layout/sets_list.xml b/Coacheller-Android/res/layout/sets_list.xml
new file mode 100644
index 0000000..9dbb0c8
--- /dev/null
+++ b/Coacheller-Android/res/layout/sets_list.xml
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent" >
+
+    <TableRow
+        android:id="@+id/tableRow1"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content" >
+    </TableRow>
+
+</TableLayout>
\ No newline at end of file
diff --git a/Coacheller-Android/res/layout/sets_search.xml b/Coacheller-Android/res/layout/sets_search.xml
new file mode 100644
index 0000000..9c9ea3f
--- /dev/null
+++ b/Coacheller-Android/res/layout/sets_search.xml
@@ -0,0 +1,77 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/layout_sets_search"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:orientation="vertical" >
+
+    <TableLayout
+        android:id="@+id/tablelayout_Sets_search"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content" >
+
+        <TextView
+            android:id="@+id/textView1"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_weight="0.00"
+            android:text="@string/title_sets_search"
+            android:textAppearance="?android:attr/textAppearanceLarge" />
+
+        <TableRow
+            android:id="@+id/row_week"
+            android:layout_width="fill_parent"
+            android:layout_height="wrap_content" >
+
+            <TextView
+                android:id="@+id/textView2"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_weight="0.01"
+                android:text="@string/week_search_sets"
+                android:textAppearance="?android:attr/textAppearanceLarge" />
+
+            <Spinner
+                android:id="@+id/search_spinner_week"
+                android:layout_width="fill_parent"
+                android:layout_height="wrap_content"
+                android:layout_weight="0.00" />
+
+        </TableRow>
+
+        <TableRow
+            android:id="@+id/row_day"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content" >
+
+            <TextView
+                android:id="@+id/textView3"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="@string/day_search_sets"
+                android:textAppearance="?android:attr/textAppearanceLarge" />
+
+            <Spinner
+                android:id="@+id/search_spinner_day"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content" />
+
+        </TableRow>
+
+        <TableRow
+            android:id="@+id/row_search"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:gravity="center" >
+
+            <Button
+                android:id="@+id/sets_search_button_search"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="@string/buttonlabel_search_sets" />
+
+        </TableRow>
+
+    </TableLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/Coacheller-Android/res/values/strings.xml b/Coacheller-Android/res/values/strings.xml
index 54911b2..cb528ab 100644
--- a/Coacheller-Android/res/values/strings.xml
+++ b/Coacheller-Android/res/values/strings.xml
@@ -4 +4 @@
-    <string name="app_name">SDCrimeZone</string>
+    <string name="app_name">Coacheller for Android</string>
@@ -16,0 +17,13 @@
+        <string name="title_sets_search">Find Sets</string>
+        <string name="week_search_sets">Week#</string>
+        <string name="day_search_sets">Day</string>
+        <string name="buttonlabel_search_sets">Go!</string>
+        <string-array name="names_week">
+            <item >1 - April 13th-15th</item>
+            <item >2 - April 20th-22nd</item>
+        </string-array>
+        <string-array name="names_day">
+            <item >Friday</item>
+            <item >Saturday</item>
+            <item >Sunday</item>
+        </string-array>
diff --git a/Coacheller-Android/src/com/coacheller/ActivitySets.java b/Coacheller-Android/src/com/coacheller/ActivitySets.java
new file mode 100644
index 0000000..0578fe0
--- /dev/null
+++ b/Coacheller-Android/src/com/coacheller/ActivitySets.java
@@ -0,0 +1,16 @@
+package com.coacheller;
+
+import android.app.Activity;
+import android.os.Bundle;
+
+public class ActivitySets extends Activity {
+
+  /** Called when the activity is first created. */
+  @Override
+  public void onCreate(Bundle savedInstanceState) {
+      super.onCreate(savedInstanceState);
+  
+      // TODO Auto-generated method stub
+  }
+
+}
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
index 78f358a..4fc1960 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerActivity.java
@@ -7,0 +8 @@ import java.io.InputStreamReader;
+import java.util.Calendar;
@@ -33,3 +34,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  public static Location currLocation;
-  public static String selectedRadius;
-  public static String selectedDate;
+  public static Location _currLocation;
+  public static String _selectedRadius;
+  public static String _selectedDate;
@@ -37 +38 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  /** Called when the activity is first created. */
+  /** Called by Android Framework when the activity is first created. */
@@ -41 +42,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    this.createLocationManager();
+    CoachellerApplication.debug(this, "App Launched");
+
+    this.createLocationManager(); // TODO: get rid of this?
@@ -42,0 +46 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+
@@ -45,4 +48,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  /**
-   * Take user to landing page for SD Crime Zone. Populate the dropdown boxes
-   * (Distance and Date)
-   */
@@ -50,12 +50,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    setContentView(R.layout.main);
-    // get current GPS coordinates and set as default for app
-    EditText currLocationText = (EditText) this.findViewById(R.id.addressText);
-    currLocationText.setText(getString(R.string.defaultLocation));
-    // the distance dropdown list
-    Spinner distanceList = (Spinner) this.findViewById(R.id.distanceList);
-    populateSpinnerWithArray(distanceList, R.array.distanceArray);
-    distanceList.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
-      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
-        selectedRadius = parent.getSelectedItem().toString();
-        selectedRadius = selectedRadius.replaceFirst("\\smile", "");
-      }
+    setContentView(R.layout.sets_search);
+    Calendar cal = Calendar.getInstance();
@@ -63,6 +53,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      public void onNothingSelected(AdapterView<?> parent) {
-        parent.setSelection(0);
-        selectedRadius = parent.getSelectedItem().toString();
-        selectedRadius = selectedRadius.replaceFirst("\\smile", "");
-      }
-    });
+    // Setup Week Spinner
+    Spinner weekendSpinner = (Spinner) this.findViewById(R.id.search_spinner_week);
+    populateSpinnerWithArray(weekendSpinner, R.array.names_week);
+    weekendSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
@@ -70,4 +58 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    // the distance dropdown list
-    Spinner dateList = (Spinner) this.findViewById(R.id.datesList);
-    populateSpinnerWithArray(dateList, R.array.dateArray);
-    dateList.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+      @Override
@@ -75 +60,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        selectedDate = parent.getSelectedItem().toString();
+        // TODO: save selection in memory
+        CoachellerApplication.debug(parent.getContext(),
+            "Week Selected: " + parent.getSelectedItem());
@@ -77,0 +65 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      @Override
@@ -79,2 +67 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        parent.setSelection(0);
-        selectedDate = parent.getSelectedItem().toString();
+        CoachellerApplication.debug(parent.getContext(), "No Week Selected - Unexpected condition");
@@ -83,3 +69,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    Button submitButton = (Button) this.findViewById(R.id.submitButton);
-    submitButton.setOnClickListener(this);
-  }
@@ -87,4 +71,5 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  public void createLocationManager() {
-    // Acquire a reference to the system Location Manager
-    LocationManager locationManager = (LocationManager) this
-        .getSystemService(Context.LOCATION_SERVICE);
+    // Detect which week we are in
+    // Hard coded, so I am probably going to hell,
+    // but the error is not fatal next year
+    // TODO un-hardcode day of month value
+    if (cal.get(Calendar.DAY_OF_MONTH) < 19) {
@@ -92,6 +77,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    // Define a listener that responds to location updates
-    LocationListener locationListener = new LocationListener() {
-      public void onLocationChanged(Location location) {
-        // Called when a new location is found by the network location provider.
-        updateAddressWithCurrentLocation(location);
-      }
+      CoachellerApplication.debug(this, "Date suggests week 1");
+      weekendSpinner.setSelection(0);
@@ -99,2 +80,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      public void onStatusChanged(String provider, int status, Bundle extras) {
-      }
+    } else {
+      CoachellerApplication.debug(this, "Date suggests week 2");
+      weekendSpinner.setSelection(1);
+    }
@@ -102,2 +85,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      public void onProviderEnabled(String provider) {
-      }
+    // Setup day spinner
+    Spinner daySpinner = (Spinner) this.findViewById(R.id.search_spinner_day);
+    populateSpinnerWithArray(daySpinner, R.array.names_day);
+    daySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
@@ -105 +90,5 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      public void onProviderDisabled(String provider) {
+      @Override
+      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
+        // TODO Save selection in memory
+        CoachellerApplication.debug(parent.getContext(),
+            "Day Selected: " + parent.getSelectedItem());
@@ -107 +95,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    };
@@ -109,5 +97,5 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    // Register the listener with the Location Manager to receive location
-    // updates
-    locationManager
-        .requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);
-  }
+      @Override
+      public void onNothingSelected(AdapterView<?> parent) {
+        CoachellerApplication.debug(parent.getContext(), "No Day Selected - Unexpected condition");
+      }
+    });
@@ -115,5 +103,10 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-  public void updateAddressWithCurrentLocation(Location location) {
-    EditText addrText = (EditText) this.findViewById(R.id.addressText);
-    if (addrText != null
-        && addrText.getText().toString().equals(getString(R.string.defaultLocation))) {
-      currLocation = location;
+    int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);
+    if (dayOfWeek == Calendar.FRIDAY) {
+      daySpinner.setSelection(0);
+    } else if (dayOfWeek == Calendar.SATURDAY) {
+      daySpinner.setSelection(1);
+    } else if (dayOfWeek == Calendar.SUNDAY) {
+      daySpinner.setSelection(2);
+    } else {
+      // Select Friday
+      daySpinner.setSelection(0);
@@ -121,2 +114,4 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    // this.debug("Location= " + String.valueOf(location.getLatitude())
-    // + ", " + String.valueOf(location.getLongitude()));
+
+    // Register "this" as the onClick listener for search button
+    Button searchButton = (Button) this.findViewById(R.id.sets_search_button_search);
+    searchButton.setOnClickListener(this);
@@ -141 +136,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-   * Handles all the apps onclick functions
+   * Fires when the Search ("Go!") button is pressed, this object is the OnClick
+   * listener.
@@ -144,0 +141 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+
@@ -146 +143,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-    if (v.getId() == R.id.submitButton) {
+    if (v.getId() == R.id.sets_search_button_search) {
+      CoachellerApplication.debug(this, "Search button pressed");
+
@@ -157,2 +156,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-        bun.putString("year", selectedDate);
-        bun.putString("radius", selectedRadius);
+        bun.putString("year", _selectedDate);
+        bun.putString("radius", _selectedRadius);
@@ -177,0 +177,2 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+    } else {
+      CoachellerApplication.debug(this, "An unknown button was pressed - Unexpected");
@@ -195,0 +197 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+
@@ -202,5 +203,0 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      CoachellerApplication.debug(this,
-          "HTTPGet = http://ratethisfest.appspot.com/coachellerServlet?year=" + "2012" + "&day="
-              + "Friday" + "&weekend=" + "1" + "&email=" + "sample@email.com");
-      HttpGet get = new HttpGet("http://ratethisfest.appspot.com/coachellerServlet?year=" + "2012"
-          + "&day=" + "Friday" + "&weekend=" + "1" + "&email=" + "sample@email.com");
@@ -207,0 +205,6 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      // Sample URL
+      // http://ratethisfest.appspot.com/coachellerServlet?year=2012&day=Friday&weekend=1&email=sample@email.com
+      String requestString = "HTTPGet = http://ratethisfest.appspot.com/coachellerServlet?year="
+          + "2012" + "&day=" + "Friday" + "&weekend=" + "1" + "&email=" + "sample@email.com";
+      CoachellerApplication.debug(this, requestString);
+      HttpGet get = new HttpGet(requestString);
@@ -210,2 +213 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
-      // get the response from the Google Apps Engine server, should be in JSON
-      // format
+      // get the response from GAE server, should be in JSON format
@@ -234,0 +237,3 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+      } else {
+        CoachellerApplication.debug(this, "HTTP Response was not OK: "
+            + response.getStatusLine().getStatusCode());
@@ -235,0 +241 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+
@@ -238,0 +245 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+
@@ -242,0 +250,124 @@ public class CoachellerActivity extends Activity implements View.OnClickListener
+  // ///////Not needed for Coacheller for Android, Saved for Example
+  // /TODO: Delete from source
+
+  public void onClickOld(View v) {
+    if (v.getId() == R.id.submitButton) {
+      try {
+        String results = this.sendHttpRequestToServer(v);
+        Intent intent = new Intent();
+        Bundle bun = new Bundle();
+
+        bun.putString("results", results); // add two parameters: a
+                                           // string and a boolean
+        EditText addr = (EditText) this.findViewById(R.id.addressText);
+        String currentAddress = addr.getText().toString();
+
+        bun.putString("year", _selectedDate);
+        bun.putString("radius", _selectedRadius);
+
+        /*
+         * Check if the current address entered is actually in San Diego
+         */
+        /*
+         * if (latlong[0] >= 33.427045 || latlong[1] <= -117.612003 ||
+         * latlong[0] <= 32 || latlong[1] >= -116.0775811) { Toast notInSD =
+         * Toast.makeText(this, "Currently only supporting San Diego locations",
+         * 5); notInSD.show(); } else {
+         */
+        // intent.setClass(this, SDCrimeSummaryActivity.class);
+        intent.putExtras(bun);
+        startActivity(intent);
+        // }
+      } catch (Exception e) {
+        e.printStackTrace();
+        Toast addrNotFound = Toast.makeText(this, "Address Not Found", 5);
+        addrNotFound.show();
+      }
+    }
+
+  }
+
+  // Register app for location updates, not needed for Coacheller
+  public void createLocationManager() {
+    // Acquire a reference to the system Location Manager
+    LocationManager locationManager = (LocationManager) this
+        .getSystemService(Context.LOCATION_SERVICE);
+
+    // Define a listener that responds to location updates
+    LocationListener locationListener = new LocationListener() {
+      public void onLocationChanged(Location location) {
+        // Called when a new location is found by the network location provider.
+        updateAddressWithCurrentLocation(location);
+      }
+
+      public void onStatusChanged(String provider, int status, Bundle extras) {
+      }
+
+      public void onProviderEnabled(String provider) {
+      }
+
+      public void onProviderDisabled(String provider) {
+      }
+    };
+
+    // Register the listener with the Location Manager to receive location
+    // updates
+    locationManager
+        .requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);
+  }
+
+  /**
+   * Take user to landing page for SD Crime Zone. Populate the dropdown boxes
+   * (Distance and Date)
+   */
+  public void initializeAppOld() {
+
+    setContentView(R.layout.main);
+
+    // get current GPS coordinates and set as default for app
+    EditText currLocationText = (EditText) this.findViewById(R.id.addressText);
+    currLocationText.setText(getString(R.string.defaultLocation));
+
+    // the distance dropdown list
+    Spinner distanceList = (Spinner) this.findViewById(R.id.distanceList);
+    populateSpinnerWithArray(distanceList, R.array.distanceArray);
+    distanceList.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
+        _selectedRadius = parent.getSelectedItem().toString();
+        _selectedRadius = _selectedRadius.replaceFirst("\\smile", "");
+      }
+
+      public void onNothingSelected(AdapterView<?> parent) {
+        parent.setSelection(0);
+        _selectedRadius = parent.getSelectedItem().toString();
+        _selectedRadius = _selectedRadius.replaceFirst("\\smile", "");
+      }
+    });
+
+    // the year dropdown list
+    Spinner dateList = (Spinner) this.findViewById(R.id.datesList);
+    populateSpinnerWithArray(dateList, R.array.dateArray);
+    dateList.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+      public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
+        _selectedDate = parent.getSelectedItem().toString();
+      }
+
+      public void onNothingSelected(AdapterView<?> parent) {
+        // parent.setSelection(0);
+        _selectedDate = parent.getSelectedItem().toString();
+      }
+    });
+    Button submitButton = (Button) this.findViewById(R.id.submitButton);
+    submitButton.setOnClickListener(this);
+  }
+
+  public void updateAddressWithCurrentLocation(Location location) {
+    EditText addrText = (EditText) this.findViewById(R.id.addressText);
+    if (addrText != null
+        && addrText.getText().toString().equals(getString(R.string.defaultLocation))) {
+      _currLocation = location;
+    }
+    // this.debug("Location= " + String.valueOf(location.getLatitude())
+    // + ", " + String.valueOf(location.getLongitude()));
+  }
+
diff --git a/Coacheller-Android/src/com/coacheller/CoachellerApplication.java b/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
index 12334c5..94e3fe0 100644
--- a/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
+++ b/Coacheller-Android/src/com/coacheller/CoachellerApplication.java
@@ -10 +10 @@ public class CoachellerApplication extends Application {
-    Log.v(context.getString(R.string.app_name), out);
+    Log.d(context.getString(R.string.app_name), out);
c223baea7f735de25f9646d2ff6bc51ed41a6b71
diff --git a/.gitignore b/.gitignore
index be0e544..5b4bd8b 100644
--- a/.gitignore
+++ b/.gitignore
@@ -64,2 +63,0 @@ local.properties
-project.properties
-
diff --git a/Coacheller-Android/proguard-project.txt b/Coacheller-Android/proguard-project.txt
new file mode 100644
index 0000000..f2fe155
--- /dev/null
+++ b/Coacheller-Android/proguard-project.txt
@@ -0,0 +1,20 @@
+# To enable ProGuard in your project, edit project.properties
+# to define the proguard.config property as described in that file.
+#
+# Add project specific ProGuard rules here.
+# By default, the flags in this file are appended to flags specified
+# in ${sdk.dir}/tools/proguard/proguard-android.txt
+# You can edit the include path and order by changing the ProGuard
+# include property in project.properties.
+#
+# For more details, see
+#   http://developer.android.com/guide/developing/tools/proguard.html
+
+# Add any project specific keep options here:
+
+# If your project uses WebView with JS, uncomment the following
+# and specify the fully qualified class name to the JavaScript interface
+# class:
+#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
+#   public *;
+#}
diff --git a/Coacheller-Android/project.properties b/Coacheller-Android/project.properties
index b120021..c957743 100644
--- a/Coacheller-Android/project.properties
+++ b/Coacheller-Android/project.properties
@@ -11 +11 @@
-target=Google Inc.:Google APIs:4
+target=android-4
diff --git a/Coacheller-Android/res/drawable-xhdpi/ic_launcher.png b/Coacheller-Android/res/drawable-xhdpi/ic_launcher.png
new file mode 100644
index 0000000..71c6d76
Binary files /dev/null and b/Coacheller-Android/res/drawable-xhdpi/ic_launcher.png differ
diff --git a/Coacheller-AppEngine/gwt-unitCache/gwt-unitCache-0000013680978047 b/Coacheller-AppEngine/gwt-unitCache/gwt-unitCache-0000013680978047
new file mode 100644
index 0000000..df37661
Binary files /dev/null and b/Coacheller-AppEngine/gwt-unitCache/gwt-unitCache-0000013680978047 differ
diff --git a/Coacheller-AppEngine/src/com/coacheller/server/service/CoachellerServlet.java b/Coacheller-AppEngine/src/com/coacheller/server/service/CoachellerServlet.java
index 7264813..05b8c1c 100644
--- a/Coacheller-AppEngine/src/com/coacheller/server/service/CoachellerServlet.java
+++ b/Coacheller-AppEngine/src/com/coacheller/server/service/CoachellerServlet.java
@@ -3 +2,0 @@ package com.coacheller.server.service;
-import java.io.BufferedReader;
@@ -5,3 +3,0 @@ import java.io.IOException;
-import java.io.InputStreamReader;
-import java.net.URL;
-import java.net.URLConnection;
@@ -16 +11,0 @@ import org.json.JSONArray;
-import com.coacheller.server.domain.DayEnum;
@@ -20 +15 @@ import com.coacheller.server.logic.RatingManager;
-import com.coacheller.server.logic.SetDataLoader;
+import com.coacheller.shared.DayEnum;
@@ -23 +17,0 @@ import com.coacheller.shared.FieldVerifier;
-
@@ -26 +20 @@ import com.coacheller.shared.FieldVerifier;
- *
+ * 
@@ -28 +22 @@ import com.coacheller.shared.FieldVerifier;
- *
+ * 
@@ -30 +23,0 @@ import com.coacheller.shared.FieldVerifier;
-
@@ -77,16 +69,0 @@ public class CoachellerServlet extends HttpServlet {
-  /**
-   *
-   * @param url
-   */
-  private void loadFile(String url) {
-    try {
-      URL inputData = new URL(url);
-      URLConnection urlConn = inputData.openConnection();
-      InputStreamReader is = new InputStreamReader(urlConn.getInputStream(), "UTF8");
-      BufferedReader in = new BufferedReader(is);
-      SetDataLoader dataLoader = SetDataLoader.getInstance();
-      RatingManager ratingMgr = RatingManager.getInstance();
-      ratingMgr.deleteAllSets();
-      dataLoader.insertSets(in);
-    } catch (Exception e) {
-    } finally {
diff --git a/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifest.txt b/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifest.txt
index 3f39225..637c9a9 100644
--- a/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifest.txt
+++ b/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifest.txt
@@ -3 +2,0 @@
-com.coacheller.client.CoachellerService, 19F1D4C018ED776A0F0B60ECB963D3F8.gwt.rpc
diff --git a/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifests/456869DC582120E4011C4C340E31D5E1.txt b/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifests/456869DC582120E4011C4C340E31D5E1.txt
new file mode 100644
index 0000000..132e2c0
--- /dev/null
+++ b/Coacheller-AppEngine/war/WEB-INF/deploy/coacheller_appengine/rpcPolicyManifest/manifests/456869DC582120E4011C4C340E31D5E1.txt
@@ -0,0 +1,2 @@
+serviceClass: com.coacheller.client.CoachellerService
+path: 19F1D4C018ED776A0F0B60ECB963D3F8.gwt.rpc
diff --git a/Coacheller-AppEngine/war/coacheller_appengine/19F1D4C018ED776A0F0B60ECB963D3F8.gwt.rpc b/Coacheller-AppEngine/war/coacheller_appengine/19F1D4C018ED776A0F0B60ECB963D3F8.gwt.rpc
new file mode 100644
index 0000000..3d84255
--- /dev/null
+++ b/Coacheller-AppEngine/war/coacheller_appengine/19F1D4C018ED776A0F0B60ECB963D3F8.gwt.rpc
@@ -0,0 +1,10 @@
+com.coacheller.client.CoachellerService, false, false, false, false, _, 3420290286
+com.google.gwt.user.client.rpc.IncompatibleRemoteServiceException, true, true, true, true, com.google.gwt.user.client.rpc.IncompatibleRemoteServiceException/3936916533, 3936916533
+com.google.gwt.user.client.rpc.RpcTokenException, true, true, false, false, com.google.gwt.user.client.rpc.RpcTokenException/2345075298, 2345075298
+com.google.gwt.user.client.rpc.XsrfToken, false, false, true, true, com.google.gwt.user.client.rpc.XsrfToken/4254043109, 4254043109
+java.lang.Exception, true, false, true, false, java.lang.Exception/1920171873, 1920171873
+java.lang.IllegalArgumentException, true, true, false, false, java.lang.IllegalArgumentException/1755012560, 1755012560
+java.lang.NumberFormatException, true, true, false, false, java.lang.NumberFormatException/3305228476, 3305228476
+java.lang.RuntimeException, true, false, true, false, java.lang.RuntimeException/515124647, 515124647
+java.lang.String, true, true, true, true, java.lang.String/2004016611, 2004016611
+java.lang.Throwable, true, false, true, false, java.lang.Throwable/2953622131, 2953622131
555d0d076ce405b09738cb5be6be804175205513
diff --git a/Coacheller-AppEngine/src/com/coacheller/server/service/CoachellerServlet.java b/Coacheller-AppEngine/src/com/coacheller/server/service/CoachellerServlet.java
index bfbf616..9358f38 100644
--- a/Coacheller-AppEngine/src/com/coacheller/server/service/CoachellerServlet.java
+++ b/Coacheller-AppEngine/src/com/coacheller/server/service/CoachellerServlet.java
@@ -21,0 +22,6 @@ import com.coacheller.server.logic.SetDataLoader;
+/**
+ * This is for talking to Android
+ * 
+ * @author Zero Hour
+ * 
+ */
@@ -77,0 +84,4 @@ public class CoachellerServlet extends HttpServlet {
+  /**
+   * 
+   * @param url
+   */
85f0425fb3492ea8562adcff37416e84aaff4954
diff --git a/.gitignore b/.gitignore
index 5b4bd8b..be0e544 100644
--- a/.gitignore
+++ b/.gitignore
@@ -63,0 +64,2 @@ local.properties
+project.properties
+
